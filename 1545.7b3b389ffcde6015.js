(self.webpackChunkPaperize=self.webpackChunkPaperize||[]).push([[1545],{1545:(rt,ge,z)=>{"use strict";z.r(ge),z.d(ge,{EncryptModule:()=>ti});var f=z(6895),c=z(5847),w=z(5861),m=z(1571),F=z(6837),B=z(3439),T=z(3259),A=z(1135),x=z(4004),I=z(8505),M=z(6451),J=z(6805),R=z(2961),W=z(7206),P=z(4585),E=z(592);const _=[{name:"RSA",service:class S{encryptString(ce,te){var me=this;return(0,w.Z)(function*(){const{publicKey:Be}=yield me._generateKeys(ce);console.log("[INFO] encrypting data...");const Ve=Be.encrypt(te);console.log("[INFO] encoding encrypted data...");const Tt=E.util.encode64(Ve);return console.log("[INFO] Generate SHA256 hash of encrypted data..."),`${Tt}`})()}decryptString(ce,te){var me=this;return(0,w.Z)(function*(){const{privateKey:Be}=yield me._generateKeys(ce);console.log("[INFO] decoding data...");const Ve=E.util.decode64(te);console.log("[INFO] decrypting data...");const Tt=Be.decrypt(Ve);return console.log("[INFO] data decrypted."),Tt})()}_generateKeys(ce){return(0,w.Z)(function*(){console.log("[INFO] generating prng with passphrase...");const te=E.random.createInstance();te.seedFileSync=()=>ce,console.log("[INFO] generating RSA-4096 Keypair...");const{privateKey:me,publicKey:Be}=E.pki.rsa.generateKeyPair({bits:4096,prng:te,workers:-1});return console.log("[INFO] Keypair generated."),{privateKey:me,publicKey:Be}})()}}},{name:"OpenPGP",service:class K{encryptString(ce,te){return(0,w.Z)(function*(){const me=yield(0,P.tn)({binary:(new TextEncoder).encode(te),format:"utf8"}),Be=yield(0,P.HI)({message:me,passwords:[ce],format:"binary"});return btoa(Be.toString())})()}decryptString(ce,te){return(0,w.Z)(function*(){const me=atob(te),Be=new Uint8Array(me.split(",").map(Bt=>parseInt(Bt))),Ve=yield(0,P.Rk)({binaryMessage:Be}),Tt=yield(0,P.pe)({message:Ve,passwords:[ce],format:"binary"});return(new TextDecoder).decode(Tt.data)})()}_generateKeys(ce){return(0,w.Z)(function*(){const{privateKey:te,publicKey:me}=yield(0,P.k$)({passphrase:ce,curve:"p521",userIDs:[{name:"Jon Smith",email:"jon@example.com"}],format:"armored"}),Be=yield(0,P.xh)({armoredKey:me}),Ve=yield(0,P.IM)({privateKey:yield(0,P.Lo)({armoredKey:te}),passphrase:ce});return console.log("[INFO] public key:",Be.armor()),{publicKey:Be,privateKey:Ve}})()}}}];let Q=(()=>{class fe{constructor(){this.state$=new A.X(null),this._appToken="paperize-qrcode",this._algs=_}encryptString(te,me,Be="OpenPGP"){var Ve=this;return(0,w.Z)(function*(){const Tt=yield Ve._getAlgoService(Be);Ve.state$.next("[INFO] Encrypting data..."),yield Ve._sleep(1618);const Bt=yield Tt.encryptString(te,me).then(Dr=>`${Ve._appToken}:${Dr}`);yield Ve._sleep(1618),Ve.state$.next("[INFO] Generate SHA256 hash...");const Dt=(0,W.SHA256)(Bt).toString(),Et=Dt.substring(0,9);return yield Ve._sleep(1618),Ve.state$.next("[INFO] Data encrypted successfully"),{encrypted:Bt,hash:Dt,shortHash:Et}})()}decryptString(te,me,Be="OpenPGP"){var Ve=this;return(0,w.Z)(function*(){const Tt=yield Ve._getAlgoService(Be);Ve.state$.next("[INFO] decrypting data..."),Ve._sleep(1618);const Bt=yield Tt.decryptString(te,me.replace(`${Ve._appToken}:`,""));return Ve.state$.next("[INFO] data decrypted."),Bt})()}_getAlgoService(te){const me=this._algs.find(Ve=>Ve.name===te);if(!me)throw new Error(`Algorithm ${me} not supported.`);const{service:Be=null}=me;return new Be}_sleep(te=1e3){return(0,w.Z)(function*(){yield new Promise(me=>{const Be=setTimeout(()=>{me(!0),clearTimeout(Be)},te)})})()}}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();var j=z(4327);let ie=(()=>{class fe{constructor(){this.state$=new A.X(null),this._actions=[]}setCanvas(te,me){const Be=te.getContext("2d");if(!Be)throw new Error("[ERROR] Canvas context is not set.");return this.state$.next("[INFO] set Canvas element to build QR code..."),this._canvas=te,this._context=Be,this._setSize(me?.size),this._context.clearRect(0,0,te.width,te.height),this._context.font="50px Arial",this}_setSize(te){if(!this._canvas)throw new Error("[ERROR] Canvas element is not set.");return this._canvas.width=te?.width||window.innerWidth,this._canvas.height=te?.height||window.innerWidth,this}setbackground(te){var me=this;return this._actions.push((0,w.Z)(function*(){return yield me._setbackground(te)})),this}_setbackground(te){var me=this;return(0,w.Z)(function*(){return me._context.beginPath(),me._context.rect(0,0,me._canvas.width,me._canvas.height),me._context.fillStyle=te,me._context.fill(),me})()}drawImage(te){var me=this;return this._actions.push((0,w.Z)(function*(){return yield me._drawImage(te)})),this}_drawImage(te){var me=this;return(0,w.Z)(function*(){if(!me._context)throw new Error("[ERROR] Canvas context is not set.");const Be=new Image;return Be.src=te,yield new Promise(Ve=>{Be.onload=()=>{Ve(!0)}}),me._context.drawImage(Be,10,0,me._canvas.width-20,me._canvas.height-30),me})()}drawText(te){var me=this;return this._actions.push((0,w.Z)(function*(){return yield me._drawText(te)})),this}_drawText(te){var me=this;return(0,w.Z)(function*(){if(!me._context)throw new Error("[ERROR] Canvas context is not set.");const Be=me._context.measureText(te).width;return me._context.textAlign="left",me._context.fillStyle="#000",me._context.fillText(te,me._canvas.width/2-Be/2,me._canvas.height-20),me})()}download(te){var me=this;return(0,w.Z)(function*(){if(!me._canvas)throw new Error("[ERROR] Canvas element is not set.");const Be=yield new Promise((Ve,Tt)=>{me._canvas.toBlob(Bt=>{Bt?(me.state$.next("[INFO] Saving QR code..."),Ve(Bt)):Tt("[ERROR] Canvas toBlob method failed.")})});return yield me._sleep(1618),(0,j.saveAs)(Be,`${te}.png`),me.state$.next("[INFO] QR code downloaded"),me})()}build(){var te=this;return(0,w.Z)(function*(){te.state$.next("[INFO] Building QR code with aditional metadata..."),te._canvas.style.opacity="0";for(const me of te._actions)yield me(),yield te._sleep();return te.state$.next("[INFO] QR code builded successfully"),yield te._sleep(1618),te._canvas.style.opacity="1",te._actions=[],te.state$.next("[INFO] QR code ready to display"),te})()}_sleep(te=1e3){return(0,w.Z)(function*(){yield new Promise(me=>{const Be=setTimeout(()=>{me(!0),clearTimeout(Be)},te)})})()}}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();var O=z(8639),N=(()=>{return(fe=N||(N={}))[fe.QR_CODE=0]="QR_CODE",fe[fe.AZTEC=1]="AZTEC",fe[fe.CODABAR=2]="CODABAR",fe[fe.CODE_39=3]="CODE_39",fe[fe.CODE_93=4]="CODE_93",fe[fe.CODE_128=5]="CODE_128",fe[fe.DATA_MATRIX=6]="DATA_MATRIX",fe[fe.MAXICODE=7]="MAXICODE",fe[fe.ITF=8]="ITF",fe[fe.EAN_13=9]="EAN_13",fe[fe.EAN_8=10]="EAN_8",fe[fe.PDF_417=11]="PDF_417",fe[fe.RSS_14=12]="RSS_14",fe[fe.RSS_EXPANDED=13]="RSS_EXPANDED",fe[fe.UPC_A=14]="UPC_A",fe[fe.UPC_E=15]="UPC_E",fe[fe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",N;var fe})(),G=new Map([[N.QR_CODE,"QR_CODE"],[N.AZTEC,"AZTEC"],[N.CODABAR,"CODABAR"],[N.CODE_39,"CODE_39"],[N.CODE_93,"CODE_93"],[N.CODE_128,"CODE_128"],[N.DATA_MATRIX,"DATA_MATRIX"],[N.MAXICODE,"MAXICODE"],[N.ITF,"ITF"],[N.EAN_13,"EAN_13"],[N.EAN_8,"EAN_8"],[N.PDF_417,"PDF_417"],[N.RSS_14,"RSS_14"],[N.RSS_EXPANDED,"RSS_EXPANDED"],[N.UPC_A,"UPC_A"],[N.UPC_E,"UPC_E"],[N.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function V(fe){return Object.values(N).includes(fe)}var se=(()=>{return(fe=se||(se={}))[fe.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",fe[fe.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",se;var fe})(),ne=function(){function fe(){}return fe.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",fe.SCAN_DEFAULT_FPS=2,fe.DEFAULT_DISABLE_FLIP=!1,fe.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,fe.DEFAULT_SUPPORTED_SCAN_TYPE=[se.SCAN_TYPE_CAMERA,se.SCAN_TYPE_FILE],fe}(),xe=function(){function fe(ce,te){this.format=ce,this.formatName=te}return fe.prototype.toString=function(){return this.formatName},fe.create=function(ce){if(!G.has(ce))throw ce+" not in html5QrcodeSupportedFormatsTextMap";return new fe(ce,G.get(ce))},fe}(),_e=function(){function fe(){}return fe.createFromText=function(ce){return{decodedText:ce,result:{text:ce}}},fe.createFromQrcodeResult=function(ce){return{decodedText:ce.text,result:ce}},fe}(),Ke=(()=>{return(fe=Ke||(Ke={}))[fe.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",fe[fe.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",fe[fe.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",Ke;var fe})(),it=function(){function fe(){}return fe.createFrom=function(ce){return{errorMessage:ce,type:Ke.UNKWOWN_ERROR}},fe}(),at=function(){function fe(ce){this.verbose=ce}return fe.prototype.log=function(ce){this.verbose&&console.log(ce)},fe.prototype.warn=function(ce){this.verbose&&console.warn(ce)},fe.prototype.logError=function(ce,te){(this.verbose||!0===te)&&console.error(ce)},fe.prototype.logErrors=function(ce){if(0===ce.length)throw"Logger#logError called without arguments";this.verbose&&console.error(ce)},fe}();function Le(fe){return typeof fe>"u"||null===fe}var fe,qe=function(){function fe(){}return fe.codeParseError=function(ce){return"QR code parse error, error = "+ce},fe.errorGettingUserMedia=function(ce){return"Error getting userMedia, error = "+ce},fe.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},fe.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},fe.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},fe.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},fe}(),ft=function(){function fe(){}return fe.scanningStatus=function(){return"Scanning"},fe.idleStatus=function(){return"Idle"},fe.errorStatus=function(){return"Error"},fe.permissionStatus=function(){return"Permission"},fe.noCameraFoundErrorStatus=function(){return"No Cameras"},fe.lastMatch=function(ce){return"Last Match: "+ce},fe.codeScannerTitle=function(){return"Code Scanner"},fe.cameraPermissionTitle=function(){return"Request Camera Permissions"},fe.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},fe.noCameraFound=function(){return"No camera found"},fe.scanButtonStopScanningText=function(){return"Stop Scanning"},fe.scanButtonStartScanningText=function(){return"Start Scanning"},fe.scanButtonScanningStarting=function(){return"Launching Camera..."},fe.textIfCameraScanSelected=function(){return"Scan an Image File"},fe.textIfFileScanSelected=function(){return"Scan using camera directly"},fe.selectCamera=function(){return"Select Camera"},fe}(),Je=function(){function fe(){}return fe.builtUsing=function(){return"Built using "},fe.reportIssues=function(){return"Report issues"},fe}(),Yt=function(){function fe(){}return fe.isMediaStreamConstraintsValid=function(ce,te){if("object"!=typeof ce)return te.logError("videoConstraints should be of type object, the object passed is of type "+typeof ce+".",!0),!1;for(var Ve=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),Bt=0,Dt=Object.keys(ce);Bt<Dt.length;Bt++){var Et=Dt[Bt];if(Ve.has(Et))return te.logError(Et+" is not supported videoConstaints.",!0),!1}return!0},fe}(),ht=z(9140),dr=function(){function fe(ce,te,me){if(this.formatMap=new Map([[N.QR_CODE,ht.BarcodeFormat.QR_CODE],[N.AZTEC,ht.BarcodeFormat.AZTEC],[N.CODABAR,ht.BarcodeFormat.CODABAR],[N.CODE_39,ht.BarcodeFormat.CODE_39],[N.CODE_93,ht.BarcodeFormat.CODE_93],[N.CODE_128,ht.BarcodeFormat.CODE_128],[N.DATA_MATRIX,ht.BarcodeFormat.DATA_MATRIX],[N.MAXICODE,ht.BarcodeFormat.MAXICODE],[N.ITF,ht.BarcodeFormat.ITF],[N.EAN_13,ht.BarcodeFormat.EAN_13],[N.EAN_8,ht.BarcodeFormat.EAN_8],[N.PDF_417,ht.BarcodeFormat.PDF_417],[N.RSS_14,ht.BarcodeFormat.RSS_14],[N.RSS_EXPANDED,ht.BarcodeFormat.RSS_EXPANDED],[N.UPC_A,ht.BarcodeFormat.UPC_A],[N.UPC_E,ht.BarcodeFormat.UPC_E],[N.UPC_EAN_EXTENSION,ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ht)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=te,this.logger=me;var Be=this.createZXingFormats(ce),Ve=new Map;Ve.set(ht.DecodeHintType.POSSIBLE_FORMATS,Be),this.hints=Ve}return fe.prototype.decodeAsync=function(ce){var te=this;return new Promise(function(me,Be){try{me(te.decode(ce))}catch(Ve){Be(Ve)}})},fe.prototype.decode=function(ce){var te=new ht.MultiFormatReader(this.verbose,this.hints),me=new ht.HTMLCanvasElementLuminanceSource(ce),Be=new ht.BinaryBitmap(new ht.HybridBinarizer(me)),Ve=te.decode(Be);return{text:Ve.text,format:xe.create(this.toHtml5QrcodeSupportedFormats(Ve.format))}},fe.prototype.createReverseFormatMap=function(){var ce=new Map;return this.formatMap.forEach(function(te,me,Be){ce.set(te,me)}),ce},fe.prototype.toHtml5QrcodeSupportedFormats=function(ce){if(!this.reverseFormatMap.has(ce))throw"reverseFormatMap doesn't have "+ce;return this.reverseFormatMap.get(ce)},fe.prototype.createZXingFormats=function(ce){for(var te=[],me=0,Be=ce;me<Be.length;me++){var Ve=Be[me];this.formatMap.has(Ve)?te.push(this.formatMap.get(Ve)):this.logger.logError(Ve+" is not supported byZXingHtml5QrcodeShim")}return te},fe}(),or=function(){function fe(ce,te,me){if(this.formatMap=new Map([[N.QR_CODE,"qr_code"],[N.AZTEC,"aztec"],[N.CODABAR,"codabar"],[N.CODE_39,"code_39"],[N.CODE_93,"code_93"],[N.CODE_128,"code_128"],[N.DATA_MATRIX,"data_matrix"],[N.ITF,"itf"],[N.EAN_13,"ean_13"],[N.EAN_8,"ean_8"],[N.PDF_417,"pdf417"],[N.UPC_A,"upc_a"],[N.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!fe.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=te,this.logger=me;var Be=this.createBarcodeDetectorFormats(ce);if(this.detector=new BarcodeDetector(Be),!this.detector)throw"BarcodeDetector detector not supported"}return fe.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},fe.prototype.decodeAsync=function(ce){return function(fe,ce,te,me){return new(te||(te=Promise))(function(Ve,Tt){function Bt(Dr){try{Et(me.next(Dr))}catch(Xr){Tt(Xr)}}function Dt(Dr){try{Et(me.throw(Dr))}catch(Xr){Tt(Xr)}}function Et(Dr){Dr.done?Ve(Dr.value):function Be(Ve){return Ve instanceof te?Ve:new te(function(Tt){Tt(Ve)})}(Dr.value).then(Bt,Dt)}Et((me=me.apply(fe,ce||[])).next())})}(this,void 0,void 0,function(){var te,me;return function(fe,ce){var me,Be,Ve,Tt,te={label:0,sent:function(){if(1&Ve[0])throw Ve[1];return Ve[1]},trys:[],ops:[]};return Tt={next:Bt(0),throw:Bt(1),return:Bt(2)},"function"==typeof Symbol&&(Tt[Symbol.iterator]=function(){return this}),Tt;function Bt(Et){return function(Dr){return function Dt(Et){if(me)throw new TypeError("Generator is already executing.");for(;te;)try{if(me=1,Be&&(Ve=2&Et[0]?Be.return:Et[0]?Be.throw||((Ve=Be.return)&&Ve.call(Be),0):Be.next)&&!(Ve=Ve.call(Be,Et[1])).done)return Ve;switch(Be=0,Ve&&(Et=[2&Et[0],Ve.value]),Et[0]){case 0:case 1:Ve=Et;break;case 4:return te.label++,{value:Et[1],done:!1};case 5:te.label++,Be=Et[1],Et=[0];continue;case 7:Et=te.ops.pop(),te.trys.pop();continue;default:if(!(Ve=(Ve=te.trys).length>0&&Ve[Ve.length-1])&&(6===Et[0]||2===Et[0])){te=0;continue}if(3===Et[0]&&(!Ve||Et[1]>Ve[0]&&Et[1]<Ve[3])){te.label=Et[1];break}if(6===Et[0]&&te.label<Ve[1]){te.label=Ve[1],Ve=Et;break}if(Ve&&te.label<Ve[2]){te.label=Ve[2],te.ops.push(Et);break}Ve[2]&&te.ops.pop(),te.trys.pop();continue}Et=ce.call(fe,te)}catch(Dr){Et=[6,Dr],Be=0}finally{me=Ve=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,Dr])}}}(this,function(Be){switch(Be.label){case 0:return[4,this.detector.detect(ce)];case 1:if(!(te=Be.sent())||0===te.length)throw"No barcode or QR code detected.";return[2,{text:(me=this.selectLargestBarcode(te)).rawValue,format:xe.create(this.toHtml5QrcodeSupportedFormats(me.format))}]}})})},fe.prototype.selectLargestBarcode=function(ce){for(var te=null,me=0,Be=0,Ve=ce;Be<Ve.length;Be++){var Tt=Ve[Be],Bt=Tt.boundingBox.width*Tt.boundingBox.height;Bt>me&&(me=Bt,te=Tt)}if(!te)throw"No largest barcode found";return te},fe.prototype.createBarcodeDetectorFormats=function(ce){for(var te=[],me=0,Be=ce;me<Be.length;me++){var Ve=Be[me];this.formatMap.has(Ve)?te.push(this.formatMap.get(Ve)):this.logger.warn(Ve+" is not supported byBarcodeDetectorDelegate")}return{formats:te}},fe.prototype.toHtml5QrcodeSupportedFormats=function(ce){if(!this.reverseFormatMap.has(ce))throw"reverseFormatMap doesn't have "+ce;return this.reverseFormatMap.get(ce)},fe.prototype.createReverseFormatMap=function(){var ce=new Map;return this.formatMap.forEach(function(te,me,Be){ce.set(te,me)}),ce},fe}(),et=function(){function fe(ce,te,me,Be){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=te,this.decoder=!0===Be.useBarCodeDetectorIfSupported&&or.isSupported()?new or(ce,te,me):new dr(ce,te,me)}return fe.prototype.decodeAsync=function(ce){var te=this,me=performance.now();return this.decoder.decodeAsync(ce).finally(function(){if(te.verbose){var Be=performance.now()-me;te.executionResults.push(Be),te.executions++,te.possiblyFlushPerformanceReport()}})},fe.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var ce=0,te=0,me=this.executionResults;te<me.length;te++)ce+=me[te];console.log(ce/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},fe}(),gt=function(){function fe(){}return fe.createExperimentalFeaturesConfig=function(ce){return ce?(!0!==ce.useBarCodeDetectorIfSupported&&(ce.useBarCodeDetectorIfSupported=!1),ce):{useBarCodeDetectorIfSupported:!1}},fe}(),X=(()=>{return(fe=X||(X={}))[fe.UNKNOWN=0]="UNKNOWN",fe[fe.NOT_STARTED=1]="NOT_STARTED",fe[fe.SCANNING=2]="SCANNING",fe[fe.PAUSED=3]="PAUSED",X;var fe})(),Z=function(){function fe(){this.state=X.NOT_STARTED,this.onGoingTransactionNewState=X.UNKNOWN}return fe.prototype.directTransition=function(ce){this.failIfTransitionOngoing(),this.validateTransition(ce),this.state=ce},fe.prototype.startTransition=function(ce){return this.failIfTransitionOngoing(),this.validateTransition(ce),this.onGoingTransactionNewState=ce,this},fe.prototype.execute=function(){if(this.onGoingTransactionNewState===X.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var ce=this.onGoingTransactionNewState;this.onGoingTransactionNewState=X.UNKNOWN,this.directTransition(ce)},fe.prototype.cancel=function(){if(this.onGoingTransactionNewState===X.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=X.UNKNOWN},fe.prototype.getState=function(){return this.state},fe.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==X.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},fe.prototype.validateTransition=function(ce){switch(this.state){case X.UNKNOWN:throw"Transition from unknown is not allowed";case X.NOT_STARTED:this.failIfNewStateIs(ce,[X.PAUSED])}},fe.prototype.failIfNewStateIs=function(ce,te){for(var me=0,Be=te;me<Be.length;me++)if(ce===Be[me])throw"Cannot transition from "+this.state+" to "+ce},fe}(),ue=function(){function fe(ce){this.stateManager=ce}return fe.prototype.startTransition=function(ce){return this.stateManager.startTransition(ce)},fe.prototype.directTransition=function(ce){this.stateManager.directTransition(ce)},fe.prototype.getState=function(){return this.stateManager.getState()},fe.prototype.canScanFile=function(){return this.stateManager.getState()===X.NOT_STARTED},fe.prototype.isScanning=function(){return this.stateManager.getState()!==X.NOT_STARTED},fe.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===X.SCANNING},fe.prototype.isPaused=function(){return this.stateManager.getState()===X.PAUSED},fe}(),Oe=function(){function fe(){}return fe.create=function(){return new ue(new Z)},fe}(),Xe=(fe=function(ce,te){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Be){me.__proto__=Be}||function(me,Be){for(var Ve in Be)Object.prototype.hasOwnProperty.call(Be,Ve)&&(me[Ve]=Be[Ve])})(ce,te)},function(ce,te){if("function"!=typeof te&&null!==te)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function me(){this.constructor=ce}fe(ce,te),ce.prototype=null===te?Object.create(te):(me.prototype=te.prototype,new me)}),ee=function(fe){function ce(){return null!==fe&&fe.apply(this,arguments)||this}return Xe(ce,fe),ce.DEFAULT_WIDTH=300,ce.DEFAULT_WIDTH_OFFSET=2,ce.FILE_SCAN_MIN_HEIGHT=300,ce.MIN_QR_BOX_SIZE=50,ce.SHADED_LEFT=1,ce.SHADED_RIGHT=2,ce.SHADED_TOP=3,ce.SHADED_BOTTOM=4,ce.SHADED_REGION_ELEMENT_ID="qr-shaded-region",ce.VERBOSE=!1,ce.BORDER_SHADER_DEFAULT_COLOR="#ffffff",ce.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",ce}(ne),Pe=function(){function fe(ce,te){this.logger=te,this.fps=ee.SCAN_DEFAULT_FPS,ce?(ce.fps&&(this.fps=ce.fps),this.disableFlip=!0===ce.disableFlip,this.qrbox=ce.qrbox,this.aspectRatio=ce.aspectRatio,this.videoConstraints=ce.videoConstraints):this.disableFlip=ee.DEFAULT_DISABLE_FLIP}return fe.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Yt.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},fe.prototype.isShadedBoxEnabled=function(){return!Le(this.qrbox)},fe.create=function(ce,te){return new fe(ce,te)},fe}(),Ft=function(){function fe(ce,te){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(ce))throw"HTML Element with id="+ce+" not found";var me;this.elementId=ce,this.verbose=!1,"boolean"==typeof te?this.verbose=!0===te:te&&(this.verbose=!0===te.verbose,me=te.experimentalFeatures),this.logger=new at(this.verbose),this.qrcode=new et(this.getSupportedFormats(te),this.verbose,this.logger,gt.createExperimentalFeaturesConfig(me)),this.shouldScan=!0,this.stateManagerProxy=Oe.create()}return fe.prototype.start=function(ce,te,me,Be){if(!ce)throw"cameraIdOrConfig is required";if(!me||"function"!=typeof me)throw"qrCodeSuccessCallback is required and should be a function.";Be||(Be=this.verbose?this.logger.log:function(){});var Ve=Pe.create(te,this.logger);this.clearElement();var Tt=!1;Ve.videoConstraints&&(Ve.isMediaStreamConstraintsValid()?Tt=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var Bt=Tt,Et=(Ve.isShadedBoxEnabled(),document.getElementById(this.elementId)),Dr=Et.clientWidth?Et.clientWidth:ee.DEFAULT_WIDTH;Et.style.position="relative",this.shouldScan=!0,this.element=Et;var Xr=this,qr=this.stateManagerProxy.startTransition(X.SCANNING);return new Promise(function(Vr,he){var ve=Bt?Ve.videoConstraints:Xr.createVideoConstraints(ce);if(!ve)return qr.cancel(),void he("videoConstraints should be defined");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:ve}).then(function(Ce){Xr.onMediaStreamReceived(Ce,Ve,Bt,Dr,me,Be).then(function(tt){qr.execute(),Xr.isScanning=!0,Vr(null)}).catch(function(tt){qr.cancel(),he(tt)})}).catch(function(Ce){qr.cancel(),he(qe.errorGettingUserMedia(Ce))}):(qr.cancel(),he(qe.cameraStreamingNotSupported()))})},fe.prototype.pause=function(ce){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(X.PAUSED),this.showPausedState(),(Le(ce)||!0!==ce)&&(ce=!1),ce&&this.videoElement&&this.videoElement.pause()},fe.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var ce=this,te=function(){ce.stateManagerProxy.directTransition(X.SCANNING),ce.hidePausedState()};if(this.videoElement.paused){var Be=function(){var Ve;setTimeout(te,200),null===(Ve=ce.videoElement)||void 0===Ve||Ve.removeEventListener("playing",Be)};this.videoElement.addEventListener("playing",Be),this.videoElement.play()}else te()},fe.prototype.getState=function(){return this.stateManagerProxy.getState()},fe.prototype.stop=function(){var ce=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var te=this.stateManagerProxy.startTransition(X.NOT_STARTED);return this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout),new Promise(function(Be,Ve){var Tt=function(){ce.localMediaStream=null,ce.element&&(ce.element.removeChild(ce.videoElement),ce.element.removeChild(ce.canvasElement)),function(){if(ce.element){var Be=document.getElementById(ee.SHADED_REGION_ELEMENT_ID);Be&&ce.element.removeChild(Be)}}(),ce.qrRegion&&(ce.qrRegion=null),ce.context&&(ce.context=null),te.execute(),ce.hidePausedState(),ce.isScanning=!1,Be()};ce.localMediaStream||Tt();var Bt=ce.localMediaStream.getVideoTracks().length,Dt=0;ce.localMediaStream.getVideoTracks().forEach(function(Et){ce.localMediaStream.removeTrack(Et),Et.stop(),++Dt>=Bt&&Tt()})})},fe.prototype.scanFile=function(ce,te){return this.scanFileV2(ce,te).then(function(me){return me.decodedText})},fe.prototype.scanFileV2=function(ce,te){var me=this;if(!(ce&&ce instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Le(te)&&(te=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(Be,Ve){me.possiblyCloseLastScanImageFile(),me.clearElement(),me.lastScanImageFile=URL.createObjectURL(ce);var Tt=new Image;Tt.onload=function(){var Bt=Tt.width,Dt=Tt.height,Et=document.getElementById(me.elementId),Dr=Et.clientWidth?Et.clientWidth:ee.DEFAULT_WIDTH,Xr=Math.max(Et.clientHeight?Et.clientHeight:Dt,ee.FILE_SCAN_MIN_HEIGHT),qr=me.computeCanvasDrawConfig(Bt,Dt,Dr,Xr);if(te){var Vr=me.createCanvasElement(Dr,Xr,"qr-canvas-visible");Vr.style.display="inline-block",Et.appendChild(Vr);var he=Vr.getContext("2d");if(!he)throw"Unable to get 2d context from canvas";he.canvas.width=Dr,he.canvas.height=Xr,he.drawImage(Tt,0,0,Bt,Dt,qr.x,qr.y,qr.width,qr.height)}var ve=me.createCanvasElement(qr.width,qr.height);Et.appendChild(ve);var Ce=ve.getContext("2d");if(!Ce)throw"Unable to get 2d context from canvas";Ce.canvas.width=qr.width,Ce.canvas.height=qr.height,Ce.drawImage(Tt,0,0,Bt,Dt,0,0,qr.width,qr.height);try{me.qrcode.decodeAsync(ve).then(function(tt){Be(_e.createFromQrcodeResult(tt))}).catch(Ve)}catch(tt){Ve("QR code parse error, error = "+tt)}},Tt.onerror=Ve,Tt.onabort=Ve,Tt.onstalled=Ve,Tt.onsuspend=Ve,Tt.src=URL.createObjectURL(ce)})},fe.prototype.clear=function(){this.clearElement()},fe.getCameras=function(){if(navigator.mediaDevices)return fe.getCamerasFromMediaDevices();var ce=MediaStreamTrack;if(MediaStreamTrack&&ce.getSources)return fe.getCamerasFromMediaStreamTrack();var me=qe.unableToQuerySupportedDevices();return function(){if("https:"===location.protocol)return!0;var Be=location.host.split(":")[0];return"127.0.0.1"===Be||"localhost"===Be}()||(me=qe.insecureContextCameraQueryError()),Promise.reject(me)},fe.prototype.getRunningTrackCapabilities=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getCapabilities()},fe.prototype.applyVideoConstraints=function(ce){var te=this;if(!ce)throw"videoConstaints is required argument.";if(!Yt.isMediaStreamConstraintsValid(ce,this.logger))throw"invalid videoConstaints passed, check logs for more details";if(null===this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(me,Be){"aspectRatio"in ce?Be("Chaning 'aspectRatio' in run-time is not yet supported."):te.localMediaStream.getVideoTracks()[0].applyConstraints(ce).then(function(Tt){me(Tt)}).catch(function(Tt){Be(Tt)})})},fe.getCamerasFromMediaDevices=function(){return new Promise(function(ce,te){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(me){navigator.mediaDevices.enumerateDevices().then(function(Ve){for(var Tt=[],Bt=0,Dt=Ve;Bt<Dt.length;Bt++){var Et=Dt[Bt];"videoinput"===Et.kind&&Tt.push({id:Et.deviceId,label:Et.label})}(function(Ve){for(var Bt=0,Dt=Ve.getVideoTracks();Bt<Dt.length;Bt++){var Et=Dt[Bt];Et.enabled=!1,Et.stop(),Ve.removeTrack(Et)}})(me),ce(Tt)}).catch(function(Ve){te(Ve.name+" : "+Ve.message)})}).catch(function(me){te(me.name+" : "+me.message)})})},fe.getCamerasFromMediaStreamTrack=function(){return new Promise(function(ce,te){MediaStreamTrack.getSources(function(Ve){for(var Tt=[],Bt=0,Dt=Ve;Bt<Dt.length;Bt++){var Et=Dt[Bt];"video"===Et.kind&&Tt.push({id:Et.id,label:Et.label})}ce(Tt)})})},fe.prototype.getSupportedFormats=function(ce){if(!ce||"boolean"==typeof ce||!ce.formatsToSupport)return[N.QR_CODE,N.AZTEC,N.CODABAR,N.CODE_39,N.CODE_93,N.CODE_128,N.DATA_MATRIX,N.MAXICODE,N.ITF,N.EAN_13,N.EAN_8,N.PDF_417,N.RSS_14,N.RSS_EXPANDED,N.UPC_A,N.UPC_E,N.UPC_EAN_EXTENSION];if(!Array.isArray(ce.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===ce.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var me=[],Be=0,Ve=ce.formatsToSupport;Be<Ve.length;Be++){var Tt=Ve[Be];V(Tt)?me.push(Tt):this.logger.warn("Invalid format: "+Tt+" passed in config, ignoring.")}if(0===me.length)throw"None of formatsToSupport match supported values.";return me},fe.prototype.validateQrboxSize=function(ce,te,me){var Ve=me.qrbox;this.validateQrboxConfig(Ve);var Et,Tt=this.toQrdimensions(ce,te,Ve),Bt=function(Et){if(Et<ee.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+ee.MIN_QR_BOX_SIZE+"px."};Bt(Tt.width),Bt(Tt.height),Tt.width=((Et=Tt.width)>ce&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),Et=ce),Et)},fe.prototype.validateQrboxConfig=function(ce){if("number"!=typeof ce&&"function"!=typeof ce&&(void 0===ce.width||void 0===ce.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},fe.prototype.toQrdimensions=function(ce,te,me){if("number"==typeof me)return{width:me,height:me};if("function"==typeof me)try{return me(ce,te)}catch(Be){throw new Error("qrbox config was passed as a function but it failed with unknown error"+Be)}return me},fe.prototype.setupUi=function(ce,te,me){me.isShadedBoxEnabled()&&this.validateQrboxSize(ce,te,me);var Be=Le(me.qrbox)?{width:ce,height:te}:me.qrbox;this.validateQrboxConfig(Be);var Ve=this.toQrdimensions(ce,te,Be);Ve.height>te&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var Tt=me.isShadedBoxEnabled()&&Ve.height<=te,Bt={x:0,y:0,width:ce,height:te},Dt=Tt?this.getShadedRegionBounds(ce,te,Ve):Bt,Et=this.createCanvasElement(Dt.width,Dt.height),Dr=Et.getContext("2d");Dr.canvas.width=Dt.width,Dr.canvas.height=Dt.height,this.element.append(Et),Tt&&this.possiblyInsertShadingElement(this.element,ce,te,Ve),this.createScannerPausedUiElement(this.element),this.qrRegion=Dt,this.context=Dr,this.canvasElement=Et},fe.prototype.createScannerPausedUiElement=function(ce){var te=document.createElement("div");te.innerText="Scanner paused",te.style.display="none",te.style.position="absolute",te.style.top="0px",te.style.zIndex="1",te.style.background="yellow",te.style.textAlign="center",te.style.width="100%",ce.appendChild(te),this.scannerPausedUiElement=te},fe.prototype.scanContext=function(ce,te){var me=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(Be){return ce(Be.text,_e.createFromQrcodeResult(Be)),me.possiblyUpdateShaders(!0),!0}).catch(function(Be){me.possiblyUpdateShaders(!1);var Ve=qe.codeParseError(Be);return te(Ve,it.createFrom(Ve)),!1})},fe.prototype.foreverScan=function(ce,te,me){var Be=this;if(this.shouldScan&&this.localMediaStream){var Ve=this.videoElement,Tt=Ve.videoWidth/Ve.clientWidth,Bt=Ve.videoHeight/Ve.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(Ve,this.qrRegion.x*Tt,this.qrRegion.y*Bt,this.qrRegion.width*Tt,this.qrRegion.height*Bt,0,0,this.qrRegion.width,this.qrRegion.height);var qr=function(){Be.foreverScanTimeout=setTimeout(function(){Be.foreverScan(ce,te,me)},Be.getTimeoutFps(ce.fps))};this.scanContext(te,me).then(function(Vr){Vr||!0===ce.disableFlip?qr():(Be.context.translate(Be.context.canvas.width,0),Be.context.scale(-1,1),Be.scanContext(te,me).finally(function(){qr()}))}).catch(function(Vr){Be.logger.logError("Error happend while scanning context",Vr),qr()})}},fe.prototype.onMediaStreamReceived=function(ce,te,me,Be,Ve,Tt){var Bt=this,Dt=this;return new Promise(function(Et,Dr){var Xr=function(){var he=Bt.createVideoElement(Be);Dt.element.append(he),he.onabort=Dr,he.onerror=Dr;var ve=function(){Dt.setupUi(he.clientWidth,he.clientHeight,te),Dt.foreverScan(te,Ve,Tt),he.removeEventListener("playing",ve),Et(null)};he.addEventListener("playing",ve),he.srcObject=ce,he.play(),Dt.videoElement=he};if(Dt.localMediaStream=ce,me||!te.aspectRatio)Xr();else{var qr={aspectRatio:te.aspectRatio};ce.getVideoTracks()[0].applyConstraints(qr).then(function(he){return Xr()}).catch(function(he){Dt.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",he]),Xr()})}})},fe.prototype.createVideoConstraints=function(ce){if("string"==typeof ce)return{deviceId:{exact:ce}};if("object"==typeof ce){var te="facingMode",me="deviceId",Be={user:!0,environment:!0},Tt=function(he){if(he in Be)return!0;throw"config has invalid 'facingMode' value = '"+he+"'"},Bt=Object.keys(ce);if(1!==Bt.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+Bt.length+" keys";var Dt=Object.keys(ce)[0];if(Dt!==te&&Dt!==me)throw"Only '"+te+"' and '"+me+"'  are supported for 'cameraIdOrConfig'";if(Dt!==te){var Xr=ce.deviceId;if("string"==typeof Xr)return{deviceId:Xr};if("object"==typeof Xr){if("exact"in Xr)return{deviceId:{exact:Xr.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof Xr}var Et=ce.facingMode;if("string"==typeof Et){if(Tt(Et))return{facingMode:Et}}else{if("object"!=typeof Et)throw"Invalid type of 'facingMode' = "+typeof Et;if(!("exact"in Et))throw"'facingMode' should be string or object with exact as key.";if(Tt(Et.exact))return{facingMode:{exact:Et.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof ce},fe.prototype.computeCanvasDrawConfig=function(ce,te,me,Be){if(ce<=me&&te<=Be)return{x:(me-ce)/2,y:(Be-te)/2,width:ce,height:te};var Bt=ce,Dt=te;return ce>me&&(te*=me/ce,ce=me),te>Be&&(ce*=Be/te,te=Be),this.logger.log("Image downsampled from "+Bt+"X"+Dt+" to "+ce+"X"+te+"."),this.computeCanvasDrawConfig(ce,te,me,Be)},fe.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var ce=document.getElementById(this.elementId);ce&&(ce.innerHTML="")},fe.prototype.createVideoElement=function(ce){var te=document.createElement("video");return te.style.width=ce+"px",te.muted=!0,te.setAttribute("muted","true"),te.playsInline=!0,te},fe.prototype.possiblyUpdateShaders=function(ce){this.qrMatch!==ce&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(te){te.style.backgroundColor=ce?ee.BORDER_SHADER_MATCH_COLOR:ee.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=ce)},fe.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},fe.prototype.createCanvasElement=function(ce,te,me){var Be=ce,Ve=te,Tt=document.createElement("canvas");return Tt.style.width=Be+"px",Tt.style.height=Ve+"px",Tt.style.display="none",Tt.id=Le(me)?"qr-canvas":me,Tt},fe.prototype.getShadedRegionBounds=function(ce,te,me){if(me.width>ce||me.height>te)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(ce-me.width)/2,y:(te-me.height)/2,width:me.width,height:me.height}},fe.prototype.possiblyInsertShadingElement=function(ce,te,me,Be){if(!(te-Be.width<1||me-Be.height<1)){var Ve=document.createElement("div");Ve.style.position="absolute";var Tt=(te-Be.width)/2,Bt=(me-Be.height)/2;Ve.style.borderLeft=Tt+"px solid #0000007a",Ve.style.borderRight=Tt+"px solid #0000007a",Ve.style.borderTop=Bt+"px solid #0000007a",Ve.style.borderBottom=Bt+"px solid #0000007a",Ve.style.boxSizing="border-box",Ve.style.top="0px",Ve.style.bottom="0px",Ve.style.left="0px",Ve.style.right="0px",Ve.id=""+ee.SHADED_REGION_ELEMENT_ID,te-Be.width<11||me-Be.height<11?this.hasBorderShaders=!1:(this.insertShaderBorders(Ve,40,5,-5,0,!0),this.insertShaderBorders(Ve,40,5,-5,0,!1),this.insertShaderBorders(Ve,40,5,Be.height+5,0,!0),this.insertShaderBorders(Ve,40,5,Be.height+5,0,!1),this.insertShaderBorders(Ve,5,45,-5,-5,!0),this.insertShaderBorders(Ve,5,45,Be.height+5-40,-5,!0),this.insertShaderBorders(Ve,5,45,-5,-5,!1),this.insertShaderBorders(Ve,5,45,Be.height+5-40,-5,!1),this.hasBorderShaders=!0),ce.append(Ve)}},fe.prototype.insertShaderBorders=function(ce,te,me,Be,Ve,Tt){var Bt=document.createElement("div");Bt.style.position="absolute",Bt.style.backgroundColor=ee.BORDER_SHADER_DEFAULT_COLOR,Bt.style.width=te+"px",Bt.style.height=me+"px",Bt.style.top=Be+"px",Tt?Bt.style.left=Ve+"px":Bt.style.right=Ve+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(Bt),ce.appendChild(Bt)},fe.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},fe.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},fe.prototype.getTimeoutFps=function(ce){return 1e3/ce},fe}(),jt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ar=function(){function fe(){}return fe.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},fe}(),re=function(){function fe(){this.data=Ar.createDefault();var ce=localStorage.getItem(fe.LOCAL_STORAGE_KEY);ce?this.data=JSON.parse(ce):this.reset()}return fe.prototype.hasCameraPermissions=function(){return this.data.hasPermission},fe.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},fe.prototype.setHasPermission=function(ce){this.data.hasPermission=ce,this.flush()},fe.prototype.setLastUsedCameraId=function(ce){this.data.lastUsedCameraId=ce,this.flush()},fe.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},fe.prototype.reset=function(){this.data=Ar.createDefault(),this.flush()},fe.prototype.flush=function(){localStorage.setItem(fe.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},fe.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",fe}(),Lt=function(){function fe(){this.infoDiv=document.createElement("div")}return fe.prototype.renderInto=function(ce){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=Je.builtUsing();var te=document.createElement("a");te.innerText="html5-qrcode",te.href="https://github.com/mebjas/html5-qrcode",te.target="new",this.infoDiv.appendChild(te);var me=document.createElement("br"),Be=document.createElement("br");this.infoDiv.appendChild(me),this.infoDiv.appendChild(Be);var Ve=document.createElement("a");Ve.innerText=Je.reportIssues(),Ve.href="https://github.com/mebjas/html5-qrcode/issues",Ve.target="new",this.infoDiv.appendChild(Ve),ce.appendChild(this.infoDiv)},fe.prototype.show=function(){this.infoDiv.style.display="block"},fe.prototype.hide=function(){this.infoDiv.style.display="none"},fe}(),sn=function(){function fe(ce,te){this.isShowingInfoIcon=!0,this.onTapIn=ce,this.onTapOut=te,this.infoIcon=document.createElement("img")}return fe.prototype.renderInto=function(ce){var te=this;this.infoIcon.alt="Info icon",this.infoIcon.src=jt,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(me){return te.onHoverIn()},this.infoIcon.onmouseout=function(me){return te.onHoverOut()},this.infoIcon.onclick=function(me){return te.onClick()},ce.appendChild(this.infoIcon)},fe.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},fe.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},fe.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=jt,this.infoIcon.style.opacity="0.6")},fe}(),Yr=function(){function fe(){var ce=this;this.infoDiv=new Lt,this.infoIcon=new sn(function(){ce.infoDiv.show()},function(){ce.infoDiv.hide()})}return fe.prototype.renderInto=function(ce){this.infoDiv.renderInto(ce),this.infoIcon.renderInto(ce)},fe}(),wr=function(){function fe(){}return fe.hasCameraPermissions=function(){return new Promise(function(ce,te){navigator.mediaDevices.enumerateDevices().then(function(me){me.forEach(function(Be){"videoinput"===Be.kind&&Be.label&&ce(!0)}),ce(!1)})})},fe}(),Nt=function(){function fe(ce){this.supportedScanTypes=this.validateAndReturnScanTypes(ce)}return fe.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},fe.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},fe.prototype.isCameraScanRequired=function(){for(var ce=0,te=this.supportedScanTypes;ce<te.length;ce++)if(fe.isCameraScanType(te[ce]))return!0;return!1},fe.isCameraScanType=function(ce){return ce===se.SCAN_TYPE_CAMERA},fe.isFileScanType=function(ce){return ce===se.SCAN_TYPE_FILE},fe.prototype.validateAndReturnScanTypes=function(ce){if(!ce||0===ce.length)return ne.DEFAULT_SUPPORTED_SCAN_TYPE;var te=ne.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(ce.length>te)throw"Max "+te+" values expected for supportedScanTypes";for(var me=0,Be=ce;me<Be.length;me++){var Ve=Be[me];if(!ne.DEFAULT_SUPPORTED_SCAN_TYPE.includes(Ve))throw"Unsupported scan type "+Ve}return ce},fe}(),jr=(()=>(function(fe){fe[fe.STATUS_DEFAULT=0]="STATUS_DEFAULT",fe[fe.STATUS_SUCCESS=1]="STATUS_SUCCESS",fe[fe.STATUS_WARNING=2]="STATUS_WARNING",fe[fe.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(jr||(jr={})),jr))();!function(){function fe(ce,te,me){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=ce,this.config=this.createConfig(te),this.verbose=!0===me,!document.getElementById(ce))throw"HTML Element with id="+ce+" not found";this.scanTypeSelector=new Nt(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new at(this.verbose),this.persistedDataManager=new re,!0!==te.rememberLastUsedCamera&&this.persistedDataManager.reset()}fe.prototype.render=function(ce,te){var me=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(Ve,Tt){if(ce)ce(Ve,Tt);else{if(me.lastMatchFound===Ve)return;me.lastMatchFound=Ve,me.setHeaderMessage(ft.lastMatch(Ve),jr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(Ve,Tt){te&&te(Ve,Tt)};var Be=document.getElementById(this.elementId);if(!Be)throw"HTML Element with id="+this.elementId+" not found";Be.innerHTML="",this.createBasicLayout(Be),this.html5Qrcode=new Ft(this.getScanRegionId(),function Rr(fe,ce){return{formatsToSupport:fe.formatsToSupport,experimentalFeatures:fe.experimentalFeatures,verbose:ce}}(this.config,this.verbose))},fe.prototype.pause=function(ce){if(!this.html5Qrcode)throw"Code scanner not initialized.";(Le(ce)||!0!==ce)&&(ce=!1),this.html5Qrcode.pause(ce)},fe.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},fe.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},fe.prototype.clear=function(){var ce=this,te=function(){var me=document.getElementById(ce.elementId);me&&(me.innerHTML="",ce.resetBasicLayout(me))};return this.html5Qrcode?new Promise(function(me,Be){ce.html5Qrcode?ce.html5Qrcode.isScanning?ce.html5Qrcode.stop().then(function(Ve){ce.html5Qrcode?(ce.html5Qrcode.clear(),te(),me()):me()}).catch(function(Ve){ce.verbose&&ce.logger.logError("Unable to stop qrcode scanner",Ve),Be(Ve)}):(ce.html5Qrcode.clear(),te()):me()}):Promise.resolve()},fe.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},fe.prototype.applyVideoConstraints=function(ce){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(ce)},fe.prototype.createConfig=function(ce){return ce?(ce.fps||(ce.fps=ne.SCAN_DEFAULT_FPS),ce.rememberLastUsedCamera!==!ne.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(ce.rememberLastUsedCamera=ne.DEFAULT_REMEMBER_LAST_CAMERA_USED),ce):{fps:ne.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ne.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ne.DEFAULT_SUPPORTED_SCAN_TYPE}},fe.prototype.createBasicLayout=function(ce){ce.style.position="relative",ce.style.padding="0px",ce.style.border="1px solid silver",this.createHeader(ce);var te=document.createElement("div"),me=this.getScanRegionId();te.id=me,te.style.width="100%",te.style.minHeight="100px",te.style.textAlign="center",ce.appendChild(te),Nt.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var Be=document.createElement("div"),Ve=this.getDashboardId();Be.id=Ve,Be.style.width="100%",ce.appendChild(Be),this.setupInitialDashboard(Be)},fe.prototype.resetBasicLayout=function(ce){ce.style.border="none"},fe.prototype.setupInitialDashboard=function(ce){this.createSection(ce),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},fe.prototype.createHeader=function(ce){var te=document.createElement("div");te.style.textAlign="left",te.style.margin="0px",ce.appendChild(te),(new Yr).renderInto(te);var Be=document.createElement("div");Be.id=this.getHeaderMessageContainerId(),Be.style.display="none",Be.style.textAlign="center",Be.style.fontSize="14px",Be.style.padding="2px 10px",Be.style.margin="4px",Be.style.borderTop="1px solid #f6f6f6",te.appendChild(Be)},fe.prototype.createSection=function(ce){var te=document.createElement("div");te.id=this.getDashboardSectionId(),te.style.width="100%",te.style.padding="10px 0px 10px 0px",te.style.textAlign="left",ce.appendChild(te)},fe.prototype.createCameraListUi=function(ce,te,me){var Be=this;Be.setHeaderMessage(ft.cameraPermissionRequesting());var Ve=function(){me||Be.createPermissionButton(ce,te)};Ft.getCameras().then(function(Tt){Be.persistedDataManager.setHasPermission(!0),Be.resetHeaderMessage(),Tt&&Tt.length>0?(ce.removeChild(te),Be.renderCameraSelection(Tt)):(Be.setHeaderMessage(ft.noCameraFound(),jr.STATUS_WARNING),Ve())}).catch(function(Tt){Be.persistedDataManager.setHasPermission(!1),me?me.disabled=!1:Ve(),Be.setHeaderMessage(Tt,jr.STATUS_WARNING)})},fe.prototype.createPermissionButton=function(ce,te){var me=this,Be=document.createElement("button");Be.id=this.getCameraPermissionButtonId(),Be.innerText=ft.cameraPermissionTitle(),Be.addEventListener("click",function(){Be.disabled=!0,me.createCameraListUi(ce,te,Be)}),te.appendChild(Be)},fe.prototype.createPermissionsUi=function(ce,te){var me=this;Nt.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?wr.hasCameraPermissions().then(function(Be){Be?me.createCameraListUi(ce,te):(me.persistedDataManager.setHasPermission(!1),me.createPermissionButton(ce,te))}).catch(function(Be){me.persistedDataManager.setHasPermission(!1),me.createPermissionButton(ce,te)}):this.createPermissionButton(ce,te)},fe.prototype.createSectionControlPanel=function(){var te=document.getElementById(this.getDashboardSectionId()),me=document.createElement("div");te.appendChild(me);var Be=document.createElement("div");Be.id=this.getDashboardSectionCameraScanRegionId(),Be.style.display=Nt.isCameraScanType(this.currentScanType)?"block":"none",me.appendChild(Be);var Ve=document.createElement("div");Ve.style.textAlign="center",Be.appendChild(Ve),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(Be,Ve),this.renderFileScanUi(me)},fe.prototype.renderFileScanUi=function(ce){var te=this,me=document.createElement("div");me.id=this.getDashboardSectionFileScanRegionId(),me.style.textAlign="center",me.style.display=Nt.isCameraScanType(this.currentScanType)?"none":"block",ce.appendChild(me);var Be=document.createElement("input");Be.id=this.getFileScanInputId(),Be.accept="image/*",Be.type="file",Be.style.width="200px",Be.disabled=Nt.isCameraScanType(this.currentScanType);var Ve=document.createElement("span");Ve.innerText=" Select Image",me.appendChild(Be),me.appendChild(Ve),Be.addEventListener("change",function(Tt){if(!te.html5Qrcode)throw"html5Qrcode not defined";null!=Tt&&null!=Tt.target&&Nt.isFileScanType(te.currentScanType)&&0!==Tt.target.files.length&&te.html5Qrcode.scanFileV2(Tt.target.files[0],!0).then(function(Dt){te.resetHeaderMessage(),te.qrCodeSuccessCallback(Dt.decodedText,Dt)}).catch(function(Dt){te.setHeaderMessage(Dt,jr.STATUS_WARNING),te.qrCodeErrorCallback(Dt,it.createFrom(Dt))})})},fe.prototype.renderCameraSelection=function(ce){var te=this,me=this,Be=document.getElementById(this.getDashboardSectionCameraScanRegionId());Be.style.textAlign="center";var Ve=document.createElement("span");Ve.style.marginRight="10px";var Tt=ce.length,Bt=document.createElement("select");if(1===Tt)Bt.style.display="none";else{var Dt=ft.selectCamera();Ve.innerText=Dt+" ("+ce.length+")  "}Bt.id=this.getCameraSelectionId();for(var Et=[],Dr=0,Xr=ce;Dr<Xr.length;Dr++){var qr=Xr[Dr],Vr=qr.id,he=qr.label??Vr;(ve=document.createElement("option")).value=Vr,ve.innerText=he,Et.push(ve),Bt.appendChild(ve)}Ve.appendChild(Bt),Be.appendChild(Ve);var Ce=document.createElement("span"),tt=document.createElement("button");tt.innerText=ft.scanButtonStartScanningText(),Ce.appendChild(tt);var Ut=document.createElement("button");Ut.innerText=ft.scanButtonStopScanningText(),Ut.style.display="none",Ut.disabled=!0,Ce.appendChild(Ut),Be.appendChild(Ce);var Kt=function(sr){sr||(tt.style.display="none"),tt.innerText=ft.scanButtonStartScanningText(),tt.style.opacity="1",tt.disabled=!1,sr&&(tt.style.display="inline-block")};if(tt.addEventListener("click",function(sr){tt.innerText=ft.scanButtonScanningStarting(),Bt.disabled=!0,tt.disabled=!0,tt.style.opacity="0.5",te.scanTypeSelector.hasMoreThanOneScanType()&&me.showHideScanTypeSwapLink(!1),me.resetHeaderMessage();var kr=Bt.value;me.persistedDataManager.setLastUsedCameraId(kr),me.html5Qrcode.start(kr,function Ir(fe){return{fps:fe.fps,qrbox:fe.qrbox,aspectRatio:fe.aspectRatio,disableFlip:fe.disableFlip,videoConstraints:fe.videoConstraints}}(me.config),me.qrCodeSuccessCallback,me.qrCodeErrorCallback).then(function(kn){Ut.disabled=!1,Ut.style.display="inline-block",Kt(!1)}).catch(function(kn){me.showHideScanTypeSwapLink(!0),Bt.disabled=!1,Kt(!0),me.setHeaderMessage(kn,jr.STATUS_WARNING)})}),1===Tt&&tt.click(),Ut.addEventListener("click",function(sr){if(!me.html5Qrcode)throw"html5Qrcode not defined";Ut.disabled=!0,me.html5Qrcode.stop().then(function(kr){te.scanTypeSelector.hasMoreThanOneScanType()&&me.showHideScanTypeSwapLink(!0),Bt.disabled=!1,tt.disabled=!1,Ut.style.display="none",tt.style.display="inline-block",me.insertCameraScanImageToScanRegion()}).catch(function(kr){Ut.disabled=!1,me.setHeaderMessage(kr,jr.STATUS_WARNING)})}),me.persistedDataManager.getLastUsedCameraId()){for(var Vt=me.persistedDataManager.getLastUsedCameraId(),Wt=!1,ct=0,ke=Et;ct<ke.length;ct++){var ve;if((ve=ke[ct]).value===Vt){Wt=!0;break}}Wt?(Bt.value=Vt,tt.click()):me.persistedDataManager.resetLastUsedCameraId()}},fe.prototype.createSectionSwap=function(){var ce=this,te=ft.textIfCameraScanSelected(),me=ft.textIfFileScanSelected(),Be=document.getElementById(this.getDashboardSectionId()),Ve=document.createElement("div");Ve.style.textAlign="center";var Tt=document.createElement("a");Tt.style.textDecoration="underline",Tt.id=this.getDashboardSectionSwapLinkId(),Tt.innerText=Nt.isCameraScanType(this.currentScanType)?te:me,Tt.addEventListener("click",function(){ce.sectionSwapAllowed?(ce.resetHeaderMessage(),ce.getFileScanInput().value="",ce.sectionSwapAllowed=!1,Nt.isCameraScanType(ce.currentScanType)?(ce.clearScanRegion(),ce.getFileScanInput().disabled=!1,ce.getCameraScanRegion().style.display="none",ce.getFileScanRegion().style.display="block",Tt.innerText=me,ce.currentScanType=se.SCAN_TYPE_FILE,ce.insertFileScanImageToScanRegion()):(ce.clearScanRegion(),ce.getFileScanInput().disabled=!0,ce.getCameraScanRegion().style.display="block",ce.getFileScanRegion().style.display="none",Tt.innerText=te,ce.currentScanType=se.SCAN_TYPE_CAMERA,ce.insertCameraScanImageToScanRegion(),ce.startCameraScanIfPermissionExistsOnSwap()),ce.sectionSwapAllowed=!0):ce.verbose&&ce.logger.logError("Section swap called when not allowed")}),Ve.appendChild(Tt),Be.appendChild(Ve)},fe.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var ce=this,te=this;this.persistedDataManager.hasCameraPermissions()&&wr.hasCameraPermissions().then(function(me){if(me){var Be=document.getElementById(te.getCameraPermissionButtonId());if(!Be)throw ce.logger.logError("Permission button not found, fail;"),"Permission button not found";Be.click()}else te.persistedDataManager.setHasPermission(!1)}).catch(function(me){te.persistedDataManager.setHasPermission(!1)})},fe.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},fe.prototype.setHeaderMessage=function(ce,te){te||(te=jr.STATUS_DEFAULT);var me=this.getHeaderMessageDiv();switch(me.innerText=ce,me.style.display="block",te){case jr.STATUS_SUCCESS:me.style.background="#6aaf5042",me.style.color="#477735";break;case jr.STATUS_WARNING:me.style.background="#cb243124",me.style.color="#cb2431";break;default:me.style.background="#00000000",me.style.color="rgb(17, 17, 17)"}},fe.prototype.showHideScanTypeSwapLink=function(ce){!0!==ce&&(ce=!1),this.sectionSwapAllowed=ce,this.getDashboardSectionSwapLink().style.display=ce?"inline-block":"none"},fe.prototype.insertCameraScanImageToScanRegion=function(){var ce=this,te=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return te.innerHTML="<br>",void te.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(me){te.innerHTML="<br>",te.appendChild(ce.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg=="},fe.prototype.insertFileScanImageToScanRegion=function(){var ce=this,te=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return te.innerHTML="<br>",void te.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(me){te.innerHTML="<br>",te.appendChild(ce.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4="},fe.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},fe.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},fe.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},fe.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},fe.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},fe.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},fe.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},fe.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},fe.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},fe.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},fe.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},fe.prototype.getCameraPermissionButtonId=function(){return this.elementId+"__camera_permission_button"},fe.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},fe.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},fe.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},fe.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},fe.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let In=(()=>{class fe{constructor(){this.state$=new A.X(null)}scanWithCamera(te){var me=this;return(0,w.Z)(function*(){me.state$.next("[INFO] Initialize scanner...");const Be=new Ft(te,{verbose:!1});me._html5QrcodeScanner=Be,me.state$.next("[INFO] Get available camera..."),yield Ft.getCameras().then(Bt=>{if(Bt&&Bt.length){var Dt=Bt?.[0]?.id;return Dt}throw new Error("No camera found")}),me.state$.next("[INFO] Start scanning...");const Ve={fps:10,qrbox:{width:600,height:600}},Tt=yield new Promise((Bt,Dt)=>{if(!me._html5QrcodeScanner)throw Error("QrcodeScanner not initialized!");me._html5QrcodeScanner.start({facingMode:"user"},Ve,Et=>Bt(Et),Et=>Dt(Et))});return me.state$.next("[INFO] Scanning..."),{decodedText:Tt}})()}scanFile(te,me){var Be=this;return(0,w.Z)(function*(){const Ve=new Ft(te,{verbose:!1});return Be._html5QrcodeScanner=Ve,yield new Promise(Bt=>{setTimeout(()=>Bt(!0),250)}),{decodedText:yield Be._html5QrcodeScanner.scanFile(me,!1).catch(Bt=>{throw Bt.message})}})()}stop(){var te=this;return(0,w.Z)(function*(){if(!te._html5QrcodeScanner)throw new Error("Html5QrcodeScanner is not initialized");yield te._html5QrcodeScanner.clear(),te._html5QrcodeScanner=void 0})()}_onScanSuccess(te,me){return(0,w.Z)(function*(){console.log(`Code matched = ${te}`,me)})()}_onScanFailure(te){return(0,w.Z)(function*(){console.warn(`Code scan error = ${te}`)})()}}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();var fn=z(433);const qt=["canvas"];function Vn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"div",13)(1,"ion-label",14),m._uU(2," Your secert password "),m.TgZ(3,"small",15),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw();return m.KtG(Be.toggleIsMnemonicSeedPhrase())}),m._uU(4," ( "),m.TgZ(5,"ion-text",4),m._uU(6," use seed phrase "),m.qZA(),m._uU(7," ) "),m.qZA()(),m.TgZ(8,"div",16)(9,"ion-input",17),m.NdJ("ngModelChange",function(Be){m.CHM(te);const Ve=m.oxw();return m.KtG(Ve.secret[0]=Be)}),m.qZA(),m.TgZ(10,"ion-note",18),m._uU(11," minimum length 6 caracters "),m.qZA()()()}if(2&fe){const te=m.oxw();m.xp6(9),m.Q6J("ngModel",te.secret[0])("autofocus",!0),m.xp6(1),m.Q6J("hidden",(te.secret[0].length||0)<1||!((te.secret[0].length||0)<=5))}}function Yn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"ion-chip",21),m.NdJ("click",function(){const Ve=m.CHM(te).index,Tt=m.oxw(2);return m.KtG(Tt.removeAndGenerateWord(Ve,!Tt.isImportSeedWords))}),m.ALo(1,"async"),m.TgZ(2,"ion-label"),m._uU(3),m.qZA(),m._UZ(4,"ion-icon",22),m.qZA()}if(2&fe){const te=ce.$implicit,me=m.oxw(2);m.Q6J("disabled",m.lcZ(1,2,me.isWoring$)),m.xp6(3),m.Oqu(te)}}function Hn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"ion-item",15),m.NdJ("click",function(){const Ve=m.CHM(te).$implicit;m.oxw(2);const Tt=m.MAs(2);return m.oxw(2).selectWord(Ve),Tt.value="",m.KtG(Tt.setFocus())}),m.TgZ(1,"ion-label",28),m._uU(2),m.qZA(),m.TgZ(3,"ion-button",29),m._UZ(4,"ion-icon",30),m.qZA()()}if(2&fe){const te=ce.$implicit;m.xp6(2),m.hij(" ",te," ")}}function hn(fe,ce){if(1&fe&&(m.TgZ(0,"ion-list",0),m.YNc(1,Hn,5,1,"ion-item",27),m.qZA()),2&fe){const te=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",te.seedWordList)}}const ei=function(fe){return{active:fe}};function Bn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"div",23)(1,"ion-input",24,25),m.NdJ("ionChange",function(Be){m.CHM(te);const Ve=m.oxw(2);return m.KtG(Ve.autocomplet(Be))}),m.qZA(),m.TgZ(3,"ion-note",18),m._uU(4," maximum number of 12 words reached "),m.qZA(),m.YNc(5,hn,2,1,"ion-list",26),m.qZA()}if(2&fe){const te=m.oxw(2);m.xp6(1),m.Q6J("autofocus",!0)("hidden",te.secret.length>=12)("placeholder",te.secret.length<12?"type word...":"maximum number of 12 words reached")("disabled",te.secret.length>=12)("ngClass",m.VKq(7,ei,te.seedWordList.length>0)),m.xp6(2),m.Q6J("hidden",te.secret.length<12),m.xp6(2),m.Q6J("ngIf",te.seedWordList.length>0)}}function Xn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"div",13)(1,"ion-label",14),m._uU(2," Your secert seed 12 words pharse "),m.TgZ(3,"small"),m._uU(4," ( "),m.TgZ(5,"ion-text",4)(6,"span",15),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw();return m.KtG(Be.toggleImportSeedWords())}),m._uU(7),m.qZA()(),m._uU(8," or "),m.TgZ(9,"ion-text",4)(10,"span",15),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw();return m.KtG(Be.toggleIsMnemonicSeedPhrase())}),m._uU(11,"use simple password"),m.qZA()(),m._uU(12," ) "),m.qZA()(),m.YNc(13,Yn,5,4,"ion-chip",19),m.YNc(14,Bn,6,9,"div",20),m.qZA()}if(2&fe){const te=m.oxw();m.xp6(7),m.hij(" ",te.isImportSeedWords?"generate":"import"," seed phrase "),m.xp6(6),m.Q6J("ngForOf",te.secret),m.xp6(1),m.Q6J("ngIf",!0===te.isImportSeedWords)}}function An(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"ion-item",31),m.ALo(1,"async"),m.TgZ(2,"ion-label",14),m._uU(3,"Datas to encrypt"),m.qZA(),m.TgZ(4,"ion-textarea",32,33),m.NdJ("ngModelChange",function(Be){m.CHM(te);const Ve=m.oxw();return m.KtG(Ve.text=Be)}),m.ALo(6,"async"),m.qZA()()}if(2&fe){const te=m.oxw();m.Q6J("disabled",m.lcZ(1,3,te.isWoring$)),m.xp6(4),m.Q6J("disabled",m.lcZ(6,5,te.isWoring$)||!1)("ngModel",te.text)}}function en(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"ion-button",34),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw();return m.KtG(Be.encrypt())}),m.ALo(1,"async"),m._uU(2),m.qZA()}if(2&fe){const te=m.oxw();m.Q6J("disabled",m.lcZ(1,2,te.isWoring$)||(te.isMnemonicSeedPhrase?te.secret.length<12:te.secret[0].length<6)||0===te.text.length),m.xp6(2),m.hij(" ",te.actions," ")}}function xn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"div")(1,"ion-button",35),m.NdJ("click",function(){m.CHM(te);const Be=m.MAs(6);return m.KtG(Be.click())}),m._uU(2," file scan "),m.qZA(),m.TgZ(3,"ion-button",35),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw();return m.KtG(Be.scanWithCamera())}),m._uU(4," camera scan "),m.qZA(),m.TgZ(5,"input",36,37),m.NdJ("change",function(Be){m.CHM(te);const Ve=m.oxw();return m.KtG(Ve.scanFile(Be))}),m.qZA()()}2&fe&&(m.xp6(5),m.Q6J("hidden",!0))}const nn=function(){return{action:"decrypt"}};function mn(fe,ce){1&fe&&(m.TgZ(0,"p"),m._uU(1," You already have a backup QrCode? "),m._UZ(2,"br"),m._uU(3," Go to "),m.TgZ(4,"a",38),m._uU(5,"decrypt"),m.qZA(),m._uU(6,". "),m.qZA()),2&fe&&(m.xp6(4),m.Q6J("routerLink","./")("queryParams",m.DdM(2,nn)))}const _r=function(){return{action:"encrypt"}};function Lr(fe,ce){1&fe&&(m.TgZ(0,"p"),m._uU(1," You want backup secret data as QR Code? "),m._UZ(2,"br"),m._uU(3," Go to "),m.TgZ(4,"a",38),m._uU(5,"encrypt"),m.qZA(),m._uU(6,". "),m.qZA()),2&fe&&(m.xp6(4),m.Q6J("routerLink","./")("queryParams",m.DdM(2,_r)))}function tn(fe,ce){if(1&fe&&(m.TgZ(0,"small"),m._uU(1),m.qZA()),2&fe){const te=ce.ngIf;m.xp6(1),m.hij(" ",te," ")}}function Qt(fe,ce){if(1&fe&&(m.TgZ(0,"div",43),m._UZ(1,"ion-spinner",44),m.TgZ(2,"ion-text",45),m.YNc(3,tn,2,1,"small",10),m.ALo(4,"async"),m.qZA()()),2&fe){const te=m.oxw(2);m.xp6(3),m.Q6J("ngIf",m.lcZ(4,1,te.serviceState$))}}function un(fe,ce){1&fe&&(m.TgZ(0,"ion-text",45)(1,"small"),m._uU(2," Waiting to encrypt your secret data "),m.qZA()())}function rn(fe,ce){if(1&fe&&(m.TgZ(0,"div",43),m.YNc(1,un,3,0,"ion-text",46),m.ALo(2,"async"),m.qZA()),2&fe){const te=m.oxw(2);let me;m.xp6(1),m.Q6J("ngIf",!(null!=(me=m.lcZ(2,1,te.result$))&&me.encryptedText))}}function Ur(fe,ce){1&fe&&m._UZ(0,"canvas",null,47)}function dn(fe,ce){if(1&fe){const te=m.EpF();m.TgZ(0,"ion-button",48),m.NdJ("click",function(){m.CHM(te);const Be=m.oxw(2);return m.KtG(Be.download())}),m.TgZ(1,"ion-text",4),m._uU(2,"download"),m.qZA()()}}const gn=function(fe){return{isHiddenForMobile:fe}};function hr(fe,ce){if(1&fe&&(m.TgZ(0,"ion-col",39),m.ALo(1,"async"),m.ALo(2,"async"),m.YNc(3,Qt,5,3,"div",40),m.ALo(4,"async"),m.YNc(5,rn,3,3,"ng-template",null,41,m.W1O),m.YNc(7,Ur,2,0,"canvas",10),m.ALo(8,"async"),m.YNc(9,dn,3,0,"ion-button",42),m.ALo(10,"async"),m.ALo(11,"async"),m.qZA()),2&fe){const te=m.MAs(6),me=m.oxw();let Be,Ve,Tt;m.Q6J("ngClass",m.VKq(17,gn,!(m.lcZ(1,5,me.isWoring$)||null!=(Be=m.lcZ(2,7,me.result$))&&Be.encryptedText))),m.xp6(3),m.Q6J("ngIf",m.lcZ(4,9,me.isWoring$))("ngIfElse",te),m.xp6(4),m.Q6J("ngIf",null==(Ve=m.lcZ(8,11,me.result$))?null:Ve.encryptedText),m.xp6(2),m.Q6J("ngIf",!1===m.lcZ(10,13,me.isWoring$)&&(null==(Tt=m.lcZ(11,15,me.result$))?null:Tt.shortHash))}}function Cn(fe,ce){if(1&fe&&(m.TgZ(0,"div",53),m._uU(1),m.qZA()),2&fe){const te=ce.ngIf;m.xp6(1),m.hij(" ",te," ")}}function oi(fe,ce){1&fe&&(m.TgZ(0,"ion-text",45)(1,"small"),m._uU(2," Scan QR Code to decrypt secret data "),m.qZA()())}function ki(fe,ce){if(1&fe&&(m.TgZ(0,"ion-col",49),m.ALo(1,"async"),m.ALo(2,"async"),m.YNc(3,Cn,2,1,"div",50),m.ALo(4,"async"),m.YNc(5,oi,3,0,"ng-template",null,51,m.W1O),m._UZ(7,"div",52),m.qZA()),2&fe){const te=m.MAs(6),me=m.oxw();let Be,Ve;m.Q6J("ngClass",m.VKq(9,gn,!(m.lcZ(1,3,me.isWoring$)||null!=(Be=m.lcZ(2,5,me.result$))&&Be.decryptedText))),m.xp6(3),m.Q6J("ngIf",null==(Ve=m.lcZ(4,7,me.result$))?null:Ve.decryptedText)("ngIfElse",te)}}const Ea=[{path:"",component:(()=>{class fe{constructor(te,me,Be,Ve,Tt){this._route=te,this._service=me,this._canvasService=Be,this._alertCtrl=Ve,this._scanService=Tt,this.result$=new A.X(null),this.action$=this._route.queryParams.pipe((0,x.U)(Bt=>Bt?.action||"encrypt"),(0,I.b)(()=>this.result$.next(null)),(0,I.b)(()=>this._componentState$.next(null))),this.isWoring$=new A.X(!1),this._componentState$=new A.X(null),this.serviceState$=(0,M.T)(this._componentState$,this._service.state$,this._canvasService.state$).pipe((0,x.U)(Bt=>Bt?.replace("[INFO] "," ")?.replace("[ERROR] "," ")?.replace("..."," "))),this.actions="encrypt",this.isImportSeedWords=!1,this.isMnemonicSeedPhrase=!1,this.secret=[""],this.text="",this.seedWordList=[]}encrypt(){var te=this;return(0,w.Z)(function*(){const me=yield te._alertCtrl.create({header:"Warning",message:`\n        <p>\n          Please make sure that you have backup of your seed words. <br/>\n          If you lose your seed words, you will definitly lose access to your encryppted data.\n        </p>\n        <ion-text color="primary">\n          <p>Current seed phrase words:</p>\n          <pre class="ion-text-wrap">\n            ${te.secret.join(" ")}\n          </pre>\n        </ion-text>\n        `,buttons:[{text:"Cancel",role:"cancel"},{text:"Continue",role:"confirm"}]});yield me.present();const{role:Be}=yield me.onDidDismiss();if("confirm"!==Be)return;te.isWoring$.next(!0);const Ve=te.text;yield new Promise(Dr=>setTimeout(Dr,25));const{encrypted:Tt,shortHash:Bt}=yield te._service.encryptString(te.secret.join(" "),Ve),Dt=yield te.generateQR(Tt);te.result$.next({encryptedText:Tt,shortHash:Bt}),yield new Promise(Dr=>setTimeout(Dr,1025));const Et=te.canvasElement?.nativeElement;yield te._canvasService.setCanvas(Et,{size:{width:window.innerWidth,height:window.innerWidth}}).setbackground("#fff").drawImage(Dt).drawText(Bt).build(),te.isWoring$.next(!1),te.text="",te.isImportSeedWords=!1})()}download(){var te=this;return(0,w.Z)(function*(){const{shortHash:me=Date.now().toString()}=yield function L(fe,ce){const te="object"==typeof ce;return new Promise((me,Be)=>{const Ve=new R.Hp({next:Tt=>{me(Tt),Ve.unsubscribe()},error:Be,complete:()=>{te?me(ce.defaultValue):Be(new J.K)}});fe.subscribe(Ve)})}(te.result$);yield te._canvasService.download(me),te.result$.next(null)})()}scanFile(te){var me=this;return(0,w.Z)(function*(){const Be=te.target.files[0],{decodedText:Ve="",result:Tt}=yield me._scanService.scanFile("qrcode-reader",Be);console.log(`Code matched = ${Ve}`,Tt);const Bt=yield me._service.decryptString(me.secret.join(" "),Ve);console.log("[INFO] decrypted text:",Bt),me.result$.next({decryptedText:Bt})})()}scanWithCamera(){var te=this;return(0,w.Z)(function*(){const{decodedText:me}=yield te._scanService.scanWithCamera("qrcode-reader");console.log(`Code matched = ${me}`)})()}generateQR(te){return(0,w.Z)(function*(){console.log("[INFO] generating QR code...");try{const me=yield(0,T.hz)(te,{type:"image/png",width:600,rendererOpts:{quality:1}});return console.log("[INFO] QR code generated."),me}catch(me){throw me}})()}removeAndGenerateWord(te,me=!0){var Be=this;return(0,w.Z)(function*(){if(me){const Ve=(0,F.OF)(B.U).split(" ")[te];Be.secret[te]=Ve}else Be.secret.splice(te,1)})()}autocomplet(te){var me=this;return(0,w.Z)(function*(){const Ve=te.target.value?.toLowerCase();if(!Ve||Ve.length<=1)return void(me.seedWordList=[]);const Tt=B.U.filter(Bt=>Bt.startsWith(Ve));me.seedWordList=Tt?.length<=0?[]:Tt.filter(Bt=>!me.secret.includes(Bt)).slice(0,3)})()}selectWord(te){var me=this;return(0,w.Z)(function*(){if(me.seedWordList=[],me.secret.length>=12)throw new Error("[ERROR] Maximum seed words count is 12");if(me.secret.includes(te))throw new Error("[ERROR] Word already exists");if(B.U.findIndex(Be=>Be===te)<0)throw new Error("[ERROR] Word is not valid. Please select word from autocomplet list");me.secret.push(te)})()}toggleImportSeedWords(){var te=this;return(0,w.Z)(function*(){te.isImportSeedWords=!te.isImportSeedWords,te.isImportSeedWords?te.secret=[]:(te.isMnemonicSeedPhrase=!0,te.secret=(0,F.OF)(B.U).split(" "))})()}toggleIsMnemonicSeedPhrase(){var te=this;return(0,w.Z)(function*(){te.isMnemonicSeedPhrase=!te.isMnemonicSeedPhrase,te.secret=te.isMnemonicSeedPhrase?(0,F.OF)(B.U).split(" "):[""]})()}}return fe.\u0275fac=function(te){return new(te||fe)(m.Y36(c.gz),m.Y36(Q),m.Y36(ie),m.Y36(O.Br),m.Y36(In))},fe.\u0275cmp=m.Xpm({type:fe,selectors:[["app-qrgenerator-page"]],viewQuery:function(te,me){if(1&te&&m.Gf(qt,5,m.SBq),2&te){let Be;m.iGM(Be=m.CRH())&&(me.canvasElement=Be.first)}},decls:34,vars:26,consts:[[1,"ion-no-padding"],[1,"ion-no-padding","ion-justify-content-start","ion-align-items-center"],["size","12","size-md","6",1,"ion-padding"],[1,"form-container"],["color","primary"],["name","qr-code-outline"],["color","medium"],["class","chips-container",4,"ngIf"],["lines","none",3,"disabled",4,"ngIf"],["class","ion-margin-vertical",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["size","12","size-md","6","class","canvas-conntainer ion-no-padding ion-text-center",3,"ngClass",4,"ngIf"],["size","12","size-md","6","class","preview-conntainer ion-no-padding ion-text-center",3,"ngClass",4,"ngIf"],[1,"chips-container"],["color","medium","position","stacked"],[3,"click"],[1,"autocomplet-container"],["type","text","placeholder","type password...",3,"ngModel","autofocus","ngModelChange"],[3,"hidden"],["color","primary",3,"disabled","click",4,"ngFor","ngForOf"],["class","autocomplet-container ion-padding-top",4,"ngIf"],["color","primary",3,"disabled","click"],["name","close-circle"],[1,"autocomplet-container","ion-padding-top"],["type","text",3,"autofocus","hidden","placeholder","disabled","ngClass","ionChange"],["inputWordElement",""],["class","ion-no-padding",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"ion-padding-start"],["slot","end","fill","none"],["color","primary","slot","icon-only","name","add-circle"],["lines","none",3,"disabled"],["placeholder","type data to encrypt here...",3,"disabled","ngModel","ngModelChange"],["textareaEl",""],[1,"ion-margin-vertical",3,"disabled","click"],[1,"ion-margin-vertical",3,"click"],["title","file","type","file","accept","image/*","capture","camera",3,"hidden","change"],["inputFile",""],[3,"routerLink","queryParams"],["size","12","size-md","6",1,"canvas-conntainer","ion-no-padding","ion-text-center",3,"ngClass"],["class","info-text",4,"ngIf","ngIfElse"],["defaultMessage",""],["fill","none","color","light",3,"click",4,"ngIf"],[1,"info-text"],["color","light",1,"ion-margin-vertical"],["color","light"],["color","light",4,"ngIf"],["canvas",""],["fill","none","color","light",3,"click"],["size","12","size-md","6",1,"preview-conntainer","ion-no-padding","ion-text-center",3,"ngClass"],["class","preview-text",4,"ngIf","ngIfElse"],["defaultTemplate",""],["id","qrcode-reader","width","600px","height","600px"],[1,"preview-text"]],template:function(te,me){1&te&&(m.TgZ(0,"ion-content",0)(1,"ion-grid",0)(2,"ion-row",1)(3,"ion-col",2)(4,"div",3)(5,"ion-text",4)(6,"h1"),m._UZ(7,"ion-icon",5),m.TgZ(8,"span"),m._uU(9,"Paperize"),m.qZA()()(),m.TgZ(10,"ion-text",6)(11,"p"),m._uU(12," Backup as QR code is the most advenced way to store your private key or sensitive data on a secure place. "),m.qZA()(),m.TgZ(13,"ion-text",4)(14,"h2"),m._uU(15),m.ALo(16,"async"),m.qZA()(),m.YNc(17,Vn,12,3,"div",7),m.YNc(18,Xn,15,3,"div",7),m.YNc(19,An,7,7,"ion-item",8),m.ALo(20,"async"),m.YNc(21,en,3,4,"ion-button",9),m.ALo(22,"async"),m.YNc(23,xn,7,1,"div",10),m.ALo(24,"async"),m.TgZ(25,"ion-text",6),m.YNc(26,mn,7,3,"p",10),m.ALo(27,"async"),m.YNc(28,Lr,7,3,"p",10),m.ALo(29,"async"),m.qZA()()(),m.YNc(30,hr,12,19,"ion-col",11),m.ALo(31,"async"),m.YNc(32,ki,8,11,"ion-col",12),m.ALo(33,"async"),m.qZA()()()),2&te&&(m.xp6(15),m.hij("","encrypt"===m.lcZ(16,10,me.action$)?"Encryption":"Decrypting"," data"),m.xp6(2),m.Q6J("ngIf",!1===me.isMnemonicSeedPhrase),m.xp6(1),m.Q6J("ngIf",!0===me.isMnemonicSeedPhrase),m.xp6(1),m.Q6J("ngIf","encrypt"===m.lcZ(20,12,me.action$)),m.xp6(2),m.Q6J("ngIf","encrypt"===m.lcZ(22,14,me.action$)),m.xp6(2),m.Q6J("ngIf","decrypt"===m.lcZ(24,16,me.action$)),m.xp6(3),m.Q6J("ngIf","encrypt"===m.lcZ(27,18,me.action$)),m.xp6(2),m.Q6J("ngIf","decrypt"===m.lcZ(29,20,me.action$)),m.xp6(2),m.Q6J("ngIf","encrypt"===m.lcZ(31,22,me.action$)),m.xp6(2),m.Q6J("ngIf","decrypt"===m.lcZ(33,24,me.action$)))},dependencies:[f.mk,f.sg,f.O5,fn.JJ,fn.On,c.yS,O.YG,O.hM,O.wI,O.W2,O.jY,O.gu,O.pK,O.Ie,O.Q$,O.q_,O.uN,O.Nd,O.PQ,O.yW,O.g2,O.j9,O.Fo,f.Ov],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center;font-size:4.2rem}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:3rem 0 .5rem}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%]{padding:0 0 1rem}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ion-textarea[_ngcontent-%COMP%]{border:solid 1px var(--ion-color-medium);border-radius:6px;padding:.5em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:618px}[_nghost-%COMP%]   .info-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .info-text[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0rem auto 2rem;display:block;padding:2rem}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:solid 1px var(--ion-color-medium);border-radius:8px}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-input.active[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;box-shadow:0 .2rem .4rem #0000004d}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:2;border:solid 1px var(--ion-color-medium);border-top:none;border-radius:0 0 8px 8px;box-shadow:0 .2rem .4rem #0000004d}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;padding:2rem;height:100%;background:rgba(var(--ion-color-primary-rgb),1)}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;max-width:500px;height:auto;border-radius:2rem;padding:1rem}[_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;padding:2rem;height:100%;background:rgba(var(--ion-color-primary-rgb),1)}[_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%] > div.preview-text[_ngcontent-%COMP%]{padding:1rem;background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light);letter-spacing:.2rem;width:80%;max-width:500px;font-weight:600}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%]{position:fixed;right:0;z-index:10}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 768px){[_nghost-%COMP%]   .isHiddenForMobile[_ngcontent-%COMP%]{display:none}}"]}),fe})()}];let mi=(()=>{class fe{}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275mod=m.oAB({type:fe}),fe.\u0275inj=m.cJS({imports:[c.Bz.forChild(Ea),c.Bz]}),fe})(),ti=(()=>{class fe{}return fe.\u0275fac=function(te){return new(te||fe)},fe.\u0275mod=m.oAB({type:fe}),fe.\u0275inj=m.cJS({imports:[f.ez,fn.u5,mi,O.Pc]}),fe})()},5182:(rt,ge)=>{"use strict";function z(T){if(!Number.isSafeInteger(T)||T<0)throw new Error(`Wrong positive integer: ${T}`)}function f(T){if("boolean"!=typeof T)throw new Error(`Expected boolean, not ${T}`)}function c(T,...A){if(!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length>0&&!A.includes(T.length))throw new TypeError(`Expected Uint8Array of length ${A}, not of length=${T.length}`)}function w(T){if("function"!=typeof T||"function"!=typeof T.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");z(T.outputLen),z(T.blockLen)}function m(T,A=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if(A&&T.finished)throw new Error("Hash#digest() has already been called")}function F(T,A){c(T);const x=A.outputLen;if(T.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}Object.defineProperty(ge,"__esModule",{value:!0}),ge.output=ge.exists=ge.hash=ge.bytes=ge.bool=ge.number=void 0,ge.number=z,ge.bool=f,ge.bytes=c,ge.hash=w,ge.exists=m,ge.output=F,ge.default={number:z,bool:f,bytes:c,hash:w,exists:m,output:F}},9463:(rt,ge,z)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.SHA2=void 0;const f=z(5182),c=z(9303);ge.SHA2=class m extends c.Hash{constructor(B,T,A,x){super(),this.blockLen=B,this.outputLen=T,this.padOffset=A,this.isLE=x,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(B),this.view=(0,c.createView)(this.buffer)}update(B){f.default.exists(this);const{view:T,buffer:A,blockLen:x}=this,I=(B=(0,c.toBytes)(B)).length;for(let M=0;M<I;){const J=Math.min(x-this.pos,I-M);if(J!==x)A.set(B.subarray(M,M+J),this.pos),this.pos+=J,M+=J,this.pos===x&&(this.process(T,0),this.pos=0);else{const R=(0,c.createView)(B);for(;x<=I-M;M+=x)this.process(R,M)}}return this.length+=B.length,this.roundClean(),this}digestInto(B){f.default.exists(this),f.default.output(B,this),this.finished=!0;const{buffer:T,view:A,blockLen:x,isLE:I}=this;let{pos:M}=this;T[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>x-M&&(this.process(A,0),M=0);for(let R=M;R<x;R++)T[R]=0;(function w(F,B,T,A){if("function"==typeof F.setBigUint64)return F.setBigUint64(B,T,A);const x=BigInt(32),I=BigInt(4294967295),M=Number(T>>x&I),J=Number(T&I),L=A?0:4;F.setUint32(B+(A?4:0),M,A),F.setUint32(B+L,J,A)})(A,x-8,BigInt(8*this.length),I),this.process(A,0);const J=(0,c.createView)(B);this.get().forEach((R,L)=>J.setUint32(4*L,R,I))}digest(){const{buffer:B,outputLen:T}=this;this.digestInto(B);const A=B.slice(0,T);return this.destroy(),A}_cloneInto(B){B||(B=new this.constructor),B.set(...this.get());const{blockLen:T,buffer:A,length:x,finished:I,destroyed:M,pos:J}=this;return B.length=x,B.pos=J,B.finished=I,B.destroyed=M,x%T&&B.buffer.set(A),B}}},1251:(rt,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.add=ge.toBig=ge.split=ge.fromBig=void 0;const z=BigInt(2**32-1),f=BigInt(32);function c(N,G=!1){return G?{h:Number(N&z),l:Number(N>>f&z)}:{h:0|Number(N>>f&z),l:0|Number(N&z)}}function w(N,G=!1){let g=new Uint32Array(N.length),V=new Uint32Array(N.length);for(let se=0;se<N.length;se++){const{h:ne,l:xe}=c(N[se],G);[g[se],V[se]]=[ne,xe]}return[g,V]}function K(N,G,g,V){const se=(G>>>0)+(V>>>0);return{h:N+g+(se/2**32|0)|0,l:0|se}}ge.fromBig=c,ge.split=w,ge.toBig=(N,G)=>BigInt(N>>>0)<<f|BigInt(G>>>0),ge.add=K,ge.default={fromBig:c,split:w,toBig:ge.toBig,shrSH:(N,G,g)=>N>>>g,shrSL:(N,G,g)=>N<<32-g|G>>>g,rotrSH:(N,G,g)=>N>>>g|G<<32-g,rotrSL:(N,G,g)=>N<<32-g|G>>>g,rotrBH:(N,G,g)=>N<<64-g|G>>>g-32,rotrBL:(N,G,g)=>N>>>g-32|G<<64-g,rotr32H:(N,G)=>G,rotr32L:(N,G)=>N,rotlSH:(N,G,g)=>N<<g|G>>>32-g,rotlSL:(N,G,g)=>G<<g|N>>>32-g,rotlBH:(N,G,g)=>G<<g-32|N>>>64-g,rotlBL:(N,G,g)=>N<<g-32|G>>>64-g,add:K,add3L:(N,G,g)=>(N>>>0)+(G>>>0)+(g>>>0),add3H:(N,G,g,V)=>G+g+V+(N/2**32|0)|0,add4L:(N,G,g,V)=>(N>>>0)+(G>>>0)+(g>>>0)+(V>>>0),add4H:(N,G,g,V,se)=>G+g+V+se+(N/2**32|0)|0,add5H:(N,G,g,V,se,ne)=>G+g+V+se+ne+(N/2**32|0)|0,add5L:(N,G,g,V,se)=>(N>>>0)+(G>>>0)+(g>>>0)+(V>>>0)+(se>>>0)}},9576:(rt,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.crypto=void 0,ge.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},9578:(rt,ge,z)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.hmac=void 0;const f=z(5182),c=z(9303);class w extends c.Hash{constructor(B,T){super(),this.finished=!1,this.destroyed=!1,f.default.hash(B);const A=(0,c.toBytes)(T);if(this.iHash=B.create(),!(this.iHash instanceof c.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const x=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const I=new Uint8Array(x);I.set(A.length>this.iHash.blockLen?B.create().update(A).digest():A);for(let M=0;M<I.length;M++)I[M]^=54;this.iHash.update(I),this.oHash=B.create();for(let M=0;M<I.length;M++)I[M]^=106;this.oHash.update(I),I.fill(0)}update(B){return f.default.exists(this),this.iHash.update(B),this}digestInto(B){f.default.exists(this),f.default.bytes(B,this.outputLen),this.finished=!0,this.iHash.digestInto(B),this.oHash.update(B),this.oHash.digestInto(B),this.destroy()}digest(){const B=new Uint8Array(this.oHash.outputLen);return this.digestInto(B),B}_cloneInto(B){B||(B=Object.create(Object.getPrototypeOf(this),{}));const{oHash:T,iHash:A,finished:x,destroyed:I,blockLen:M,outputLen:J}=this;return B.finished=x,B.destroyed=I,B.blockLen=M,B.outputLen=J,B.oHash=T._cloneInto(B.oHash),B.iHash=A._cloneInto(B.iHash),B}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}ge.hmac=(F,B,T)=>new w(F,B).update(T).digest(),ge.hmac.create=(F,B)=>new w(F,B)},3332:(rt,ge,z)=>{"use strict";var f=z(7156).default;Object.defineProperty(ge,"__esModule",{value:!0}),ge.pbkdf2Async=ge.pbkdf2=void 0;const c=z(5182),w=z(9578),m=z(9303);function F(I,M,J,R){c.default.hash(I);const L=(0,m.checkOpts)({dkLen:32,asyncTick:10},R),{c:W,dkLen:P,asyncTick:K}=L;if(c.default.number(W),c.default.number(P),c.default.number(K),W<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const E=(0,m.toBytes)(M),S=(0,m.toBytes)(J),_=new Uint8Array(P),Q=w.hmac.create(I,E),j=Q._cloneInto().update(S);return{c:W,dkLen:P,asyncTick:K,DK:_,PRF:Q,PRFSalt:j}}function B(I,M,J,R,L){return I.destroy(),M.destroy(),R&&R.destroy(),L.fill(0),J}function x(){return(x=f(function*(I,M,J,R){const{c:L,dkLen:W,asyncTick:P,DK:K,PRF:E,PRFSalt:S}=F(I,M,J,R);let _;const Q=new Uint8Array(4),j=(0,m.createView)(Q),ie=new Uint8Array(E.outputLen);for(let O=1,N=0;N<W;O++,N+=E.outputLen){const G=K.subarray(N,N+E.outputLen);j.setInt32(0,O,!1),(_=S._cloneInto(_)).update(Q).digestInto(ie),G.set(ie.subarray(0,G.length)),yield(0,m.asyncLoop)(L-1,P,g=>{E._cloneInto(_).update(ie).digestInto(ie);for(let V=0;V<G.length;V++)G[V]^=ie[V]})}return B(E,S,K,_,ie)})).apply(this,arguments)}ge.pbkdf2=function T(I,M,J,R){const{c:L,dkLen:W,DK:P,PRF:K,PRFSalt:E}=F(I,M,J,R);let S;const _=new Uint8Array(4),Q=(0,m.createView)(_),j=new Uint8Array(K.outputLen);for(let ie=1,O=0;O<W;ie++,O+=K.outputLen){const N=P.subarray(O,O+K.outputLen);Q.setInt32(0,ie,!1),(S=E._cloneInto(S)).update(_).digestInto(j),N.set(j.subarray(0,N.length));for(let G=1;G<L;G++){K._cloneInto(S).update(j).digestInto(j);for(let g=0;g<N.length;g++)N[g]^=j[g]}}return B(K,E,P,S,j)},ge.pbkdf2Async=function A(I,M,J,R){return x.apply(this,arguments)}},8527:(rt,ge,z)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.sha256=void 0;const f=z(9463),c=z(9303),w=(x,I,M)=>x&I^~x&M,m=(x,I,M)=>x&I^x&M^I&M,F=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),B=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),T=new Uint32Array(64);class A extends f.SHA2{constructor(){super(64,32,8,!1),this.A=0|B[0],this.B=0|B[1],this.C=0|B[2],this.D=0|B[3],this.E=0|B[4],this.F=0|B[5],this.G=0|B[6],this.H=0|B[7]}get(){const{A:I,B:M,C:J,D:R,E:L,F:W,G:P,H:K}=this;return[I,M,J,R,L,W,P,K]}set(I,M,J,R,L,W,P,K){this.A=0|I,this.B=0|M,this.C=0|J,this.D=0|R,this.E=0|L,this.F=0|W,this.G=0|P,this.H=0|K}process(I,M){for(let _=0;_<16;_++,M+=4)T[_]=I.getUint32(M,!1);for(let _=16;_<64;_++){const Q=T[_-15],j=T[_-2],ie=(0,c.rotr)(Q,7)^(0,c.rotr)(Q,18)^Q>>>3,O=(0,c.rotr)(j,17)^(0,c.rotr)(j,19)^j>>>10;T[_]=O+T[_-7]+ie+T[_-16]|0}let{A:J,B:R,C:L,D:W,E:P,F:K,G:E,H:S}=this;for(let _=0;_<64;_++){const j=S+((0,c.rotr)(P,6)^(0,c.rotr)(P,11)^(0,c.rotr)(P,25))+w(P,K,E)+F[_]+T[_]|0,O=((0,c.rotr)(J,2)^(0,c.rotr)(J,13)^(0,c.rotr)(J,22))+m(J,R,L)|0;S=E,E=K,K=P,P=W+j|0,W=L,L=R,R=J,J=j+O|0}J=J+this.A|0,R=R+this.B|0,L=L+this.C|0,W=W+this.D|0,P=P+this.E|0,K=K+this.F|0,E=E+this.G|0,S=S+this.H|0,this.set(J,R,L,W,P,K,E,S)}roundClean(){T.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}ge.sha256=(0,c.wrapConstructor)(()=>new A)},319:(rt,ge,z)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.sha384=ge.sha512_256=ge.sha512=ge.SHA512=void 0;const f=z(9463),c=z(1251),w=z(9303),[m,F]=c.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(M=>BigInt(M))),B=new Uint32Array(80),T=new Uint32Array(80);class A extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:J,Al:R,Bh:L,Bl:W,Ch:P,Cl:K,Dh:E,Dl:S,Eh:_,El:Q,Fh:j,Fl:ie,Gh:O,Gl:N,Hh:G,Hl:g}=this;return[J,R,L,W,P,K,E,S,_,Q,j,ie,O,N,G,g]}set(J,R,L,W,P,K,E,S,_,Q,j,ie,O,N,G,g){this.Ah=0|J,this.Al=0|R,this.Bh=0|L,this.Bl=0|W,this.Ch=0|P,this.Cl=0|K,this.Dh=0|E,this.Dl=0|S,this.Eh=0|_,this.El=0|Q,this.Fh=0|j,this.Fl=0|ie,this.Gh=0|O,this.Gl=0|N,this.Hh=0|G,this.Hl=0|g}process(J,R){for(let ne=0;ne<16;ne++,R+=4)B[ne]=J.getUint32(R),T[ne]=J.getUint32(R+=4);for(let ne=16;ne<80;ne++){const xe=0|B[ne-15],_e=0|T[ne-15],Ke=c.default.rotrSH(xe,_e,1)^c.default.rotrSH(xe,_e,8)^c.default.shrSH(xe,_e,7),it=c.default.rotrSL(xe,_e,1)^c.default.rotrSL(xe,_e,8)^c.default.shrSL(xe,_e,7),at=0|B[ne-2],Le=0|T[ne-2],qe=c.default.rotrSH(at,Le,19)^c.default.rotrBH(at,Le,61)^c.default.shrSH(at,Le,6),ft=c.default.rotrSL(at,Le,19)^c.default.rotrBL(at,Le,61)^c.default.shrSL(at,Le,6),Je=c.default.add4L(it,ft,T[ne-7],T[ne-16]),Yt=c.default.add4H(Je,Ke,qe,B[ne-7],B[ne-16]);B[ne]=0|Yt,T[ne]=0|Je}let{Ah:L,Al:W,Bh:P,Bl:K,Ch:E,Cl:S,Dh:_,Dl:Q,Eh:j,El:ie,Fh:O,Fl:N,Gh:G,Gl:g,Hh:V,Hl:se}=this;for(let ne=0;ne<80;ne++){const xe=c.default.rotrSH(j,ie,14)^c.default.rotrSH(j,ie,18)^c.default.rotrBH(j,ie,41),_e=c.default.rotrSL(j,ie,14)^c.default.rotrSL(j,ie,18)^c.default.rotrBL(j,ie,41),Ke=j&O^~j&G,at=c.default.add5L(se,_e,ie&N^~ie&g,F[ne],T[ne]),Le=c.default.add5H(at,V,xe,Ke,m[ne],B[ne]),qe=0|at,ft=c.default.rotrSH(L,W,28)^c.default.rotrBH(L,W,34)^c.default.rotrBH(L,W,39),Je=c.default.rotrSL(L,W,28)^c.default.rotrBL(L,W,34)^c.default.rotrBL(L,W,39),Yt=L&P^L&E^P&E,ht=W&K^W&S^K&S;V=0|G,se=0|g,G=0|O,g=0|N,O=0|j,N=0|ie,({h:j,l:ie}=c.default.add(0|_,0|Q,0|Le,0|qe)),_=0|E,Q=0|S,E=0|P,S=0|K,P=0|L,K=0|W;const dr=c.default.add3L(qe,Je,ht);L=c.default.add3H(dr,Le,ft,Yt),W=0|dr}({h:L,l:W}=c.default.add(0|this.Ah,0|this.Al,0|L,0|W)),({h:P,l:K}=c.default.add(0|this.Bh,0|this.Bl,0|P,0|K)),({h:E,l:S}=c.default.add(0|this.Ch,0|this.Cl,0|E,0|S)),({h:_,l:Q}=c.default.add(0|this.Dh,0|this.Dl,0|_,0|Q)),({h:j,l:ie}=c.default.add(0|this.Eh,0|this.El,0|j,0|ie)),({h:O,l:N}=c.default.add(0|this.Fh,0|this.Fl,0|O,0|N)),({h:G,l:g}=c.default.add(0|this.Gh,0|this.Gl,0|G,0|g)),({h:V,l:se}=c.default.add(0|this.Hh,0|this.Hl,0|V,0|se)),this.set(L,W,P,K,E,S,_,Q,j,ie,O,N,G,g,V,se)}roundClean(){B.fill(0),T.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ge.SHA512=A;class x extends A{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends A{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}ge.sha512=(0,w.wrapConstructor)(()=>new A),ge.sha512_256=(0,w.wrapConstructor)(()=>new x),ge.sha384=(0,w.wrapConstructor)(()=>new I)},9303:(rt,ge,z)=>{"use strict";var f=z(7156).default;Object.defineProperty(ge,"__esModule",{value:!0}),ge.randomBytes=ge.wrapConstructorWithOpts=ge.wrapConstructor=ge.checkOpts=ge.Hash=ge.concatBytes=ge.toBytes=ge.utf8ToBytes=ge.asyncLoop=ge.nextTick=ge.hexToBytes=ge.bytesToHex=ge.isLE=ge.rotr=ge.createView=ge.u32=ge.u8=void 0;const c=z(9576);if(ge.u8=j=>new Uint8Array(j.buffer,j.byteOffset,j.byteLength),ge.u32=j=>new Uint32Array(j.buffer,j.byteOffset,Math.floor(j.byteLength/4)),ge.createView=j=>new DataView(j.buffer,j.byteOffset,j.byteLength),ge.rotr=(j,ie)=>j<<32-ie|j>>>ie,ge.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!ge.isLE)throw new Error("Non little-endian hardware is not supported");const T=Array.from({length:256},(j,ie)=>ie.toString(16).padStart(2,"0"));function J(){return(J=f(function*(j,ie,O){let N=Date.now();for(let G=0;G<j;G++){O(G);const g=Date.now()-N;g>=0&&g<ie||(yield(0,ge.nextTick)(),N+=g)}})).apply(this,arguments)}function R(j){if("string"!=typeof j)throw new TypeError("utf8ToBytes expected string, got "+typeof j);return(new TextEncoder).encode(j)}function L(j){if("string"==typeof j&&(j=R(j)),!(j instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof j})`);return j}ge.bytesToHex=function A(j){if(!(j instanceof Uint8Array))throw new Error("Uint8Array expected");let ie="";for(let O=0;O<j.length;O++)ie+=T[j[O]];return ie},ge.hexToBytes=function x(j){if("string"!=typeof j)throw new TypeError("hexToBytes: expected string, got "+typeof j);if(j.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const ie=new Uint8Array(j.length/2);for(let O=0;O<ie.length;O++){const N=2*O,G=j.slice(N,N+2),g=Number.parseInt(G,16);if(Number.isNaN(g)||g<0)throw new Error("Invalid byte sequence");ie[O]=g}return ie},ge.nextTick=function(){var j=f(function*(){});return function(){return j.apply(this,arguments)}}(),ge.asyncLoop=function M(j,ie,O){return J.apply(this,arguments)},ge.utf8ToBytes=R,ge.toBytes=L,ge.concatBytes=function W(...j){if(!j.every(N=>N instanceof Uint8Array))throw new Error("Uint8Array list expected");if(1===j.length)return j[0];const ie=j.reduce((N,G)=>N+G.length,0),O=new Uint8Array(ie);for(let N=0,G=0;N<j.length;N++){const g=j[N];O.set(g,G),G+=g.length}return O},ge.Hash=class P{clone(){return this._cloneInto()}},ge.checkOpts=function E(j,ie){if(void 0!==ie&&("object"!=typeof ie||!(j=>"[object Object]"===Object.prototype.toString.call(j)&&j.constructor===Object)(ie)))throw new TypeError("Options should be object or undefined");return Object.assign(j,ie)},ge.wrapConstructor=function S(j){const ie=N=>j().update(L(N)).digest(),O=j();return ie.outputLen=O.outputLen,ie.blockLen=O.blockLen,ie.create=()=>j(),ie},ge.wrapConstructorWithOpts=function _(j){const ie=(N,G)=>j(G).update(L(N)).digest(),O=j({});return ie.outputLen=O.outputLen,ie.blockLen=O.blockLen,ie.create=N=>j(N),ie},ge.randomBytes=function Q(j=32){if(c.crypto.web)return c.crypto.web.getRandomValues(new Uint8Array(j));if(c.crypto.node)return new Uint8Array(c.crypto.node.randomBytes(j).buffer);throw new Error("The environment doesn't have randomBytes function")}},5521:(rt,ge)=>{"use strict";function z(G){if(!Number.isSafeInteger(G))throw new Error(`Wrong integer: ${G}`)}function f(...G){const g=(ne,xe)=>_e=>ne(xe(_e));return{encode:Array.from(G).reverse().reduce((ne,xe)=>ne?g(ne,xe.encode):xe.encode,void 0),decode:G.reduce((ne,xe)=>ne?g(ne,xe.decode):xe.decode,void 0)}}function c(G){return{encode:g=>{if(!Array.isArray(g)||g.length&&"number"!=typeof g[0])throw new Error("alphabet.encode input should be an array of numbers");return g.map(V=>{if(z(V),V<0||V>=G.length)throw new Error(`Digit index outside alphabet: ${V} (alphabet: ${G.length})`);return G[V]})},decode:g=>{if(!Array.isArray(g)||g.length&&"string"!=typeof g[0])throw new Error("alphabet.decode input should be array of strings");return g.map(V=>{if("string"!=typeof V)throw new Error(`alphabet.decode: not string element=${V}`);const se=G.indexOf(V);if(-1===se)throw new Error(`Unknown letter: "${V}". Allowed: ${G}`);return se})}}}function w(G=""){if("string"!=typeof G)throw new Error("join separator should be string");return{encode:g=>{if(!Array.isArray(g)||g.length&&"string"!=typeof g[0])throw new Error("join.encode input should be array of strings");for(let V of g)if("string"!=typeof V)throw new Error(`join.encode: non-string input=${V}`);return g.join(G)},decode:g=>{if("string"!=typeof g)throw new Error("join.decode input should be string");return g.split(G)}}}function m(G,g="="){if(z(G),"string"!=typeof g)throw new Error("padding chr should be string");return{encode(V){if(!Array.isArray(V)||V.length&&"string"!=typeof V[0])throw new Error("padding.encode input should be array of strings");for(let se of V)if("string"!=typeof se)throw new Error(`padding.encode: non-string input=${se}`);for(;V.length*G%8;)V.push(g);return V},decode(V){if(!Array.isArray(V)||V.length&&"string"!=typeof V[0])throw new Error("padding.encode input should be array of strings");for(let ne of V)if("string"!=typeof ne)throw new Error(`padding.decode: non-string input=${ne}`);let se=V.length;if(se*G%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;se>0&&V[se-1]===g;se--)if(!((se-1)*G%8))throw new Error("Invalid padding: string has too much padding");return V.slice(0,se)}}}function F(G){if("function"!=typeof G)throw new Error("normalize fn should be function");return{encode:g=>g,decode:g=>G(g)}}function B(G,g,V){if(g<2)throw new Error(`convertRadix: wrong from=${g}, base cannot be less than 2`);if(V<2)throw new Error(`convertRadix: wrong to=${V}, base cannot be less than 2`);if(!Array.isArray(G))throw new Error("convertRadix: data should be array");if(!G.length)return[];let se=0;const ne=[],xe=Array.from(G);for(xe.forEach(_e=>{if(z(_e),_e<0||_e>=g)throw new Error(`Wrong integer: ${_e}`)});;){let _e=0,Ke=!0;for(let it=se;it<xe.length;it++){const at=xe[it],Le=g*_e+at;if(!Number.isSafeInteger(Le)||g*_e/g!==_e||Le-at!=g*_e)throw new Error("convertRadix: carry overflow");if(_e=Le%V,xe[it]=Math.floor(Le/V),!Number.isSafeInteger(xe[it])||xe[it]*V+_e!==Le)throw new Error("convertRadix: carry overflow");Ke&&(xe[it]?Ke=!1:se=it)}if(ne.push(_e),Ke)break}for(let _e=0;_e<G.length-1&&0===G[_e];_e++)ne.push(0);return ne.reverse()}Object.defineProperty(ge,"__esModule",{value:!0}),ge.bytes=ge.stringToBytes=ge.str=ge.bytesToString=ge.hex=ge.utf8=ge.bech32m=ge.bech32=ge.base58check=ge.base58xmr=ge.base58xrp=ge.base58flickr=ge.base58=ge.base64url=ge.base64=ge.base32crockford=ge.base32hex=ge.base32=ge.base16=ge.utils=ge.assertNumber=void 0,ge.assertNumber=z;const T=(G,g)=>g?T(g,G%g):G,A=(G,g)=>G+(g-T(G,g));function x(G,g,V,se){if(!Array.isArray(G))throw new Error("convertRadix2: data should be array");if(g<=0||g>32)throw new Error(`convertRadix2: wrong from=${g}`);if(V<=0||V>32)throw new Error(`convertRadix2: wrong to=${V}`);if(A(g,V)>32)throw new Error(`convertRadix2: carry overflow from=${g} to=${V} carryBits=${A(g,V)}`);let ne=0,xe=0;const _e=2**V-1,Ke=[];for(const it of G){if(z(it),it>=2**g)throw new Error(`convertRadix2: invalid data word=${it} from=${g}`);if(ne=ne<<g|it,xe+g>32)throw new Error(`convertRadix2: carry overflow pos=${xe} from=${g}`);for(xe+=g;xe>=V;xe-=V)Ke.push((ne>>xe-V&_e)>>>0);ne&=2**xe-1}if(ne=ne<<V-xe&_e,!se&&xe>=g)throw new Error("Excess padding");if(!se&&ne)throw new Error(`Non-zero padding: ${ne}`);return se&&xe>0&&Ke.push(ne>>>0),Ke}function I(G){return z(G),{encode:g=>{if(!(g instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return B(Array.from(g),256,G)},decode:g=>{if(!Array.isArray(g)||g.length&&"number"!=typeof g[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(B(g,G,256))}}}function M(G,g=!1){if(z(G),G<=0||G>32)throw new Error("radix2: bits should be in (0..32]");if(A(8,G)>32||A(G,8)>32)throw new Error("radix2: carry overflow");return{encode:V=>{if(!(V instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return x(Array.from(V),8,G,!g)},decode:V=>{if(!Array.isArray(V)||V.length&&"number"!=typeof V[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(x(V,G,8,g))}}}function J(G){if("function"!=typeof G)throw new Error("unsafeWrapper fn should be function");return function(...g){try{return G.apply(null,g)}catch{}}}function R(G,g){if(z(G),"function"!=typeof g)throw new Error("checksum fn should be function");return{encode(V){if(!(V instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const se=g(V).slice(0,G),ne=new Uint8Array(V.length+G);return ne.set(V),ne.set(se,V.length),ne},decode(V){if(!(V instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const se=V.slice(0,-G),ne=g(se).slice(0,G),xe=V.slice(-G);for(let _e=0;_e<G;_e++)if(ne[_e]!==xe[_e])throw new Error("Invalid checksum");return se}}}ge.utils={alphabet:c,chain:f,checksum:R,radix:I,radix2:M,join:w,padding:m},ge.base16=f(M(4),c("0123456789ABCDEF"),w("")),ge.base32=f(M(5),c("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),m(5),w("")),ge.base32hex=f(M(5),c("0123456789ABCDEFGHIJKLMNOPQRSTUV"),m(5),w("")),ge.base32crockford=f(M(5),c("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),w(""),F(G=>G.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),ge.base64=f(M(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),m(6),w("")),ge.base64url=f(M(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),m(6),w(""));const L=G=>f(I(58),c(G),w(""));ge.base58=L("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ge.base58flickr=L("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),ge.base58xrp=L("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const W=[0,2,3,5,6,7,9,10,11];ge.base58xmr={encode(G){let g="";for(let V=0;V<G.length;V+=8){const se=G.subarray(V,V+8);g+=ge.base58.encode(se).padStart(W[se.length],"1")}return g},decode(G){let g=[];for(let V=0;V<G.length;V+=11){const se=G.slice(V,V+11),ne=W.indexOf(se.length),xe=ge.base58.decode(se);for(let _e=0;_e<xe.length-ne;_e++)if(0!==xe[_e])throw new Error("base58xmr: wrong padding");g=g.concat(Array.from(xe.slice(xe.length-ne)))}return Uint8Array.from(g)}},ge.base58check=G=>f(R(4,g=>G(G(g))),ge.base58);const K=f(c("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),w("")),E=[996825010,642813549,513874426,1027748829,705979059];function S(G){const g=G>>25;let V=(33554431&G)<<5;for(let se=0;se<E.length;se++)1==(g>>se&1)&&(V^=E[se]);return V}function _(G,g,V=1){const se=G.length;let ne=1;for(let xe=0;xe<se;xe++){const _e=G.charCodeAt(xe);if(_e<33||_e>126)throw new Error(`Invalid prefix (${G})`);ne=S(ne)^_e>>5}ne=S(ne);for(let xe=0;xe<se;xe++)ne=S(ne)^31&G.charCodeAt(xe);for(let xe of g)ne=S(ne)^xe;for(let xe=0;xe<6;xe++)ne=S(ne);return ne^=V,K.encode(x([ne%2**30],30,5,!1))}function Q(G){const g="bech32"===G?1:734539939,V=M(5),se=V.decode,ne=V.encode,xe=J(se);function Ke(Le,qe=90){if("string"!=typeof Le)throw new Error("bech32.decode input should be string, not "+typeof Le);if(Le.length<8||!1!==qe&&Le.length>qe)throw new TypeError(`Wrong string length: ${Le.length} (${Le}). Expected (8..${qe})`);const ft=Le.toLowerCase();if(Le!==ft&&Le!==Le.toUpperCase())throw new Error("String must be lowercase or uppercase");const Je=(Le=ft).lastIndexOf("1");if(0===Je||-1===Je)throw new Error('Letter "1" must be present between prefix and data only');const Yt=Le.slice(0,Je),ht=Le.slice(Je+1);if(ht.length<6)throw new Error("Data must be at least 6 characters long");const dr=K.decode(ht).slice(0,-6),Mt=_(Yt,dr,g);if(!ht.endsWith(Mt))throw new Error(`Invalid checksum in ${Le}: expected "${Mt}"`);return{prefix:Yt,words:dr}}return{encode:function _e(Le,qe,ft=90){if("string"!=typeof Le)throw new Error("bech32.encode prefix should be string, not "+typeof Le);if(!Array.isArray(qe)||qe.length&&"number"!=typeof qe[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof qe);const Je=Le.length+7+qe.length;if(!1!==ft&&Je>ft)throw new TypeError(`Length ${Je} exceeds limit ${ft}`);return`${Le=Le.toLowerCase()}1${K.encode(qe)}${_(Le,qe,g)}`},decode:Ke,decodeToBytes:function at(Le){const{prefix:qe,words:ft}=Ke(Le,!1);return{prefix:qe,words:ft,bytes:se(ft)}},decodeUnsafe:J(Ke),fromWords:se,fromWordsUnsafe:xe,toWords:ne}}ge.bech32=Q("bech32"),ge.bech32m=Q("bech32m"),ge.utf8={encode:G=>(new TextDecoder).decode(G),decode:G=>(new TextEncoder).encode(G)},ge.hex=f(M(4),c("0123456789abcdef"),w(""),F(G=>{if("string"!=typeof G||G.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof G} with length ${G.length}`);return G.toLowerCase()}));const j={utf8:ge.utf8,hex:ge.hex,base16:ge.base16,base32:ge.base32,base64:ge.base64,base64url:ge.base64url,base58:ge.base58,base58xmr:ge.base58xmr},ie=`Invalid encoding type. Available types: ${Object.keys(j).join(", ")}`;ge.bytesToString=(G,g)=>{if("string"!=typeof G||!j.hasOwnProperty(G))throw new TypeError(ie);if(!(g instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return j[G].encode(g)},ge.str=ge.bytesToString,ge.stringToBytes=(G,g)=>{if(!j.hasOwnProperty(G))throw new TypeError(ie);if("string"!=typeof g)throw new TypeError("stringToBytes() expects string");return j[G].decode(g)},ge.bytes=ge.stringToBytes},6837:(rt,ge,z)=>{"use strict";ge.OF=void 0;const c=z(5182),m=(z(3332),z(8527)),B=(z(319),z(9303)),T=z(5521);function M(Q){c.default.bytes(Q,16,20,24,28,32)}ge.OF=function J(Q,j=128){if(c.default.number(j),j%32!=0||j>256)throw new TypeError("Invalid entropy");return function P(Q,j){return M(Q),L(j).encode(Q).join((Q=>"\u3042\u3044\u3053\u304f\u3057\u3093"===Q[0])(j)?"\u3000":" ")}((0,B.randomBytes)(j/8),Q)};const R=Q=>{const j=8-Q.length/4;return new Uint8Array([(0,m.sha256)(Q)[0]>>j<<j])};function L(Q){if(!Array.isArray(Q)||2048!==Q.length||"string"!=typeof Q[0])throw new Error("Worlist: expected array of 2048 strings");return Q.forEach(j=>{if("string"!=typeof j)throw new Error(`Wordlist: non-string element: ${j}`)}),T.utils.chain(T.utils.checksum(1,R),T.utils.radix2(11,!0),T.utils.alphabet(Q))}},3439:(rt,ge)=>{"use strict";ge.U=void 0,ge.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},7466:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(8319),z(9493),z(7865),z(3057),function(){var c=f,m=c.lib.BlockCipher,F=c.algo,B=[],T=[],A=[],x=[],I=[],M=[],J=[],R=[],L=[],W=[];!function(){for(var E=[],S=0;S<256;S++)E[S]=S<128?S<<1:S<<1^283;var _=0,Q=0;for(S=0;S<256;S++){var j=Q^Q<<1^Q<<2^Q<<3^Q<<4;B[_]=j=j>>>8^255&j^99,T[j]=_;var G,ie=E[_],O=E[ie],N=E[O];A[_]=(G=257*E[j]^16843008*j)<<24|G>>>8,x[_]=G<<16|G>>>16,I[_]=G<<8|G>>>24,M[_]=G,J[j]=(G=16843009*N^65537*O^257*ie^16843008*_)<<24|G>>>8,R[j]=G<<16|G>>>16,L[j]=G<<8|G>>>24,W[j]=G,_?(_=ie^E[E[E[N^ie]]],Q^=E[E[Q]]):_=Q=1}}();var P=[0,1,2,4,8,16,32,64,128,27,54],K=F.AES=m.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var S=this._keyPriorReset=this._key,_=S.words,Q=S.sigBytes/4,ie=4*((this._nRounds=Q+6)+1),O=this._keySchedule=[],N=0;N<ie;N++)N<Q?O[N]=_[N]:(E=O[N-1],N%Q?Q>6&&N%Q==4&&(E=B[E>>>24]<<24|B[E>>>16&255]<<16|B[E>>>8&255]<<8|B[255&E]):(E=B[(E=E<<8|E>>>24)>>>24]<<24|B[E>>>16&255]<<16|B[E>>>8&255]<<8|B[255&E],E^=P[N/Q|0]<<24),O[N]=O[N-Q]^E);for(var G=this._invKeySchedule=[],g=0;g<ie;g++){if(N=ie-g,g%4)var E=O[N];else E=O[N-4];G[g]=g<4||N<=4?E:J[B[E>>>24]]^R[B[E>>>16&255]]^L[B[E>>>8&255]]^W[B[255&E]]}}},encryptBlock:function(E,S){this._doCryptBlock(E,S,this._keySchedule,A,x,I,M,B)},decryptBlock:function(E,S){var _=E[S+1];E[S+1]=E[S+3],E[S+3]=_,this._doCryptBlock(E,S,this._invKeySchedule,J,R,L,W,T),_=E[S+1],E[S+1]=E[S+3],E[S+3]=_},_doCryptBlock:function(E,S,_,Q,j,ie,O,N){for(var G=this._nRounds,g=E[S]^_[0],V=E[S+1]^_[1],se=E[S+2]^_[2],ne=E[S+3]^_[3],xe=4,_e=1;_e<G;_e++){var Ke=Q[g>>>24]^j[V>>>16&255]^ie[se>>>8&255]^O[255&ne]^_[xe++],it=Q[V>>>24]^j[se>>>16&255]^ie[ne>>>8&255]^O[255&g]^_[xe++],at=Q[se>>>24]^j[ne>>>16&255]^ie[g>>>8&255]^O[255&V]^_[xe++],Le=Q[ne>>>24]^j[g>>>16&255]^ie[V>>>8&255]^O[255&se]^_[xe++];g=Ke,V=it,se=at,ne=Le}Ke=(N[g>>>24]<<24|N[V>>>16&255]<<16|N[se>>>8&255]<<8|N[255&ne])^_[xe++],it=(N[V>>>24]<<24|N[se>>>16&255]<<16|N[ne>>>8&255]<<8|N[255&g])^_[xe++],at=(N[se>>>24]<<24|N[ne>>>16&255]<<16|N[g>>>8&255]<<8|N[255&V])^_[xe++],Le=(N[ne>>>24]<<24|N[g>>>16&255]<<16|N[V>>>8&255]<<8|N[255&se])^_[xe++],E[S]=Ke,E[S+1]=it,E[S+2]=at,E[S+3]=Le},keySize:8});c.AES=m._createHelper(K)}(),f.AES)},3057:function(rt,ge,z){var w,m,F,B,T,A,I,J,R,W,P,K,S,Q,ie,O,G,g,f;rt.exports=(f=z(7585),z(7865),void(f.lib.Cipher||(w=f,m=w.lib,F=m.Base,B=m.WordArray,T=m.BufferedBlockAlgorithm,A=w.enc,I=A.Base64,J=w.algo.EvpKDF,R=m.Cipher=T.extend({cfg:F.extend(),createEncryptor:function(V,se){return this.create(this._ENC_XFORM_MODE,V,se)},createDecryptor:function(V,se){return this.create(this._DEC_XFORM_MODE,V,se)},init:function(V,se,ne){this.cfg=this.cfg.extend(ne),this._xformMode=V,this._key=se,this.reset()},reset:function(){T.reset.call(this),this._doReset()},process:function(V){return this._append(V),this._process()},finalize:function(V){return V&&this._append(V),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function V(se){return"string"==typeof se?g:O}return function(se){return{encrypt:function(ne,xe,_e){return V(xe).encrypt(se,ne,xe,_e)},decrypt:function(ne,xe,_e){return V(xe).decrypt(se,ne,xe,_e)}}}}()}),m.StreamCipher=R.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),W=w.mode={},P=m.BlockCipherMode=F.extend({createEncryptor:function(V,se){return this.Encryptor.create(V,se)},createDecryptor:function(V,se){return this.Decryptor.create(V,se)},init:function(V,se){this._cipher=V,this._iv=se}}),K=W.CBC=function(){var V=P.extend();function se(ne,xe,_e){var Ke,it=this._iv;it?(Ke=it,this._iv=undefined):Ke=this._prevBlock;for(var at=0;at<_e;at++)ne[xe+at]^=Ke[at]}return V.Encryptor=V.extend({processBlock:function(ne,xe){var _e=this._cipher,Ke=_e.blockSize;se.call(this,ne,xe,Ke),_e.encryptBlock(ne,xe),this._prevBlock=ne.slice(xe,xe+Ke)}}),V.Decryptor=V.extend({processBlock:function(ne,xe){var _e=this._cipher,Ke=_e.blockSize,it=ne.slice(xe,xe+Ke);_e.decryptBlock(ne,xe),se.call(this,ne,xe,Ke),this._prevBlock=it}}),V}(),S=(w.pad={}).Pkcs7={pad:function(V,se){for(var ne=4*se,xe=ne-V.sigBytes%ne,_e=xe<<24|xe<<16|xe<<8|xe,Ke=[],it=0;it<xe;it+=4)Ke.push(_e);var at=B.create(Ke,xe);V.concat(at)},unpad:function(V){V.sigBytes-=255&V.words[V.sigBytes-1>>>2]}},m.BlockCipher=R.extend({cfg:R.cfg.extend({mode:K,padding:S}),reset:function(){var V;R.reset.call(this);var se=this.cfg,ne=se.iv,xe=se.mode;this._xformMode==this._ENC_XFORM_MODE?V=xe.createEncryptor:(V=xe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==V?this._mode.init(this,ne&&ne.words):(this._mode=V.call(xe,this,ne&&ne.words),this._mode.__creator=V)},_doProcessBlock:function(V,se){this._mode.processBlock(V,se)},_doFinalize:function(){var V,se=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(se.pad(this._data,this.blockSize),V=this._process(!0)):(V=this._process(!0),se.unpad(V)),V},blockSize:4}),Q=m.CipherParams=F.extend({init:function(V){this.mixIn(V)},toString:function(V){return(V||this.formatter).stringify(this)}}),ie=(w.format={}).OpenSSL={stringify:function(V){var ne=V.ciphertext,xe=V.salt;return(xe?B.create([1398893684,1701076831]).concat(xe).concat(ne):ne).toString(I)},parse:function(V){var se,ne=I.parse(V),xe=ne.words;return 1398893684==xe[0]&&1701076831==xe[1]&&(se=B.create(xe.slice(2,4)),xe.splice(0,4),ne.sigBytes-=16),Q.create({ciphertext:ne,salt:se})}},O=m.SerializableCipher=F.extend({cfg:F.extend({format:ie}),encrypt:function(V,se,ne,xe){xe=this.cfg.extend(xe);var _e=V.createEncryptor(ne,xe),Ke=_e.finalize(se),it=_e.cfg;return Q.create({ciphertext:Ke,key:ne,iv:it.iv,algorithm:V,mode:it.mode,padding:it.padding,blockSize:V.blockSize,formatter:xe.format})},decrypt:function(V,se,ne,xe){return xe=this.cfg.extend(xe),se=this._parse(se,xe.format),V.createDecryptor(ne,xe).finalize(se.ciphertext)},_parse:function(V,se){return"string"==typeof V?se.parse(V,this):V}}),G=(w.kdf={}).OpenSSL={execute:function(V,se,ne,xe){xe||(xe=B.random(8));var _e=J.create({keySize:se+ne}).compute(V,xe),Ke=B.create(_e.words.slice(se),4*ne);return _e.sigBytes=4*se,Q.create({key:_e,iv:Ke,salt:xe})}},g=m.PasswordBasedCipher=O.extend({cfg:O.cfg.extend({kdf:G}),encrypt:function(V,se,ne,xe){var _e=(xe=this.cfg.extend(xe)).kdf.execute(ne,V.keySize,V.ivSize);xe.iv=_e.iv;var Ke=O.encrypt.call(this,V,se,_e.key,xe);return Ke.mixIn(_e),Ke},decrypt:function(V,se,ne,xe){xe=this.cfg.extend(xe),se=this._parse(se,xe.format);var _e=xe.kdf.execute(ne,V.keySize,V.ivSize,se.salt);return xe.iv=_e.iv,O.decrypt.call(this,V,se,_e.key,xe)}}))))},7585:function(rt,ge,z){var f;rt.exports=(f=f||function(c,w){var m;if(typeof window<"u"&&window.crypto&&(m=window.crypto),typeof self<"u"&&self.crypto&&(m=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(m=globalThis.crypto),!m&&typeof window<"u"&&window.msCrypto&&(m=window.msCrypto),!m&&typeof global<"u"&&global.crypto&&(m=global.crypto),!m)try{m=z(2480)}catch{}var F=function(){if(m){if("function"==typeof m.getRandomValues)try{return m.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof m.randomBytes)try{return m.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},B=Object.create||function(){function E(){}return function(S){var _;return E.prototype=S,_=new E,E.prototype=null,_}}(),T={},A=T.lib={},x=A.Base={extend:function(E){var S=B(this);return E&&S.mixIn(E),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var S in E)E.hasOwnProperty(S)&&(this[S]=E[S]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}},I=A.WordArray=x.extend({init:function(E,S){E=this.words=E||[],this.sigBytes=null!=S?S:4*E.length},toString:function(E){return(E||J).stringify(this)},concat:function(E){var S=this.words,_=E.words,Q=this.sigBytes,j=E.sigBytes;if(this.clamp(),Q%4)for(var ie=0;ie<j;ie++)S[Q+ie>>>2]|=(_[ie>>>2]>>>24-ie%4*8&255)<<24-(Q+ie)%4*8;else for(var N=0;N<j;N+=4)S[Q+N>>>2]=_[N>>>2];return this.sigBytes+=j,this},clamp:function(){var E=this.words,S=this.sigBytes;E[S>>>2]&=4294967295<<32-S%4*8,E.length=c.ceil(S/4)},clone:function(){var E=x.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var S=[],_=0;_<E;_+=4)S.push(F());return new I.init(S,E)}}),M=T.enc={},J=M.Hex={stringify:function(E){for(var S=E.words,_=E.sigBytes,Q=[],j=0;j<_;j++){var ie=S[j>>>2]>>>24-j%4*8&255;Q.push((ie>>>4).toString(16)),Q.push((15&ie).toString(16))}return Q.join("")},parse:function(E){for(var S=E.length,_=[],Q=0;Q<S;Q+=2)_[Q>>>3]|=parseInt(E.substr(Q,2),16)<<24-Q%8*4;return new I.init(_,S/2)}},R=M.Latin1={stringify:function(E){for(var S=E.words,_=E.sigBytes,Q=[],j=0;j<_;j++)Q.push(String.fromCharCode(S[j>>>2]>>>24-j%4*8&255));return Q.join("")},parse:function(E){for(var S=E.length,_=[],Q=0;Q<S;Q++)_[Q>>>2]|=(255&E.charCodeAt(Q))<<24-Q%4*8;return new I.init(_,S)}},L=M.Utf8={stringify:function(E){try{return decodeURIComponent(escape(R.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return R.parse(unescape(encodeURIComponent(E)))}},W=A.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new I.init,this._nDataBytes=0},_append:function(E){"string"==typeof E&&(E=L.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var S,_=this._data,Q=_.words,j=_.sigBytes,ie=this.blockSize,N=j/(4*ie),G=(N=E?c.ceil(N):c.max((0|N)-this._minBufferSize,0))*ie,g=c.min(4*G,j);if(G){for(var V=0;V<G;V+=ie)this._doProcessBlock(Q,V);S=Q.splice(0,G),_.sigBytes-=g}return new I.init(S,g)},clone:function(){var E=x.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),K=(A.Hasher=W.extend({cfg:x.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){W.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){return E&&this._append(E),this._doFinalize()},blockSize:16,_createHelper:function(E){return function(S,_){return new E.init(_).finalize(S)}},_createHmacHelper:function(E){return function(S,_){return new K.HMAC.init(E,_).finalize(S)}}}),T.algo={});return T}(Math),f)},8319:function(rt,ge,z){var f,m;rt.exports=(f=z(7585),m=f.lib.WordArray,f.enc.Base64={stringify:function(A){var x=A.words,I=A.sigBytes,M=this._map;A.clamp();for(var J=[],R=0;R<I;R+=3)for(var K=(x[R>>>2]>>>24-R%4*8&255)<<16|(x[R+1>>>2]>>>24-(R+1)%4*8&255)<<8|x[R+2>>>2]>>>24-(R+2)%4*8&255,E=0;E<4&&R+.75*E<I;E++)J.push(M.charAt(K>>>6*(3-E)&63));var S=M.charAt(64);if(S)for(;J.length%4;)J.push(S);return J.join("")},parse:function(A){var x=A.length,I=this._map,M=this._reverseMap;if(!M){M=this._reverseMap=[];for(var J=0;J<I.length;J++)M[I.charCodeAt(J)]=J}var R=I.charAt(64);if(R){var L=A.indexOf(R);-1!==L&&(x=L)}return function T(A,x,I){for(var M=[],J=0,R=0;R<x;R++)if(R%4){var L=I[A.charCodeAt(R-1)]<<R%4*2,W=I[A.charCodeAt(R)]>>>6-R%4*2;M[J>>>2]|=(L|W)<<24-J%4*8,J++}return m.create(M,J)}(A,x,M)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},f.enc.Base64)},4410:function(rt,ge,z){var f,m;rt.exports=(f=z(7585),m=f.lib.WordArray,f.enc.Base64url={stringify:function(A,x=!0){var I=A.words,M=A.sigBytes,J=x?this._safe_map:this._map;A.clamp();for(var R=[],L=0;L<M;L+=3)for(var E=(I[L>>>2]>>>24-L%4*8&255)<<16|(I[L+1>>>2]>>>24-(L+1)%4*8&255)<<8|I[L+2>>>2]>>>24-(L+2)%4*8&255,S=0;S<4&&L+.75*S<M;S++)R.push(J.charAt(E>>>6*(3-S)&63));var _=J.charAt(64);if(_)for(;R.length%4;)R.push(_);return R.join("")},parse:function(A,x=!0){var I=A.length,M=x?this._safe_map:this._map,J=this._reverseMap;if(!J){J=this._reverseMap=[];for(var R=0;R<M.length;R++)J[M.charCodeAt(R)]=R}var L=M.charAt(64);if(L){var W=A.indexOf(L);-1!==W&&(I=W)}return function T(A,x,I){for(var M=[],J=0,R=0;R<x;R++)if(R%4){var L=I[A.charCodeAt(R-1)]<<R%4*2,W=I[A.charCodeAt(R)]>>>6-R%4*2;M[J>>>2]|=(L|W)<<24-J%4*8,J++}return m.create(M,J)}(A,I,J)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},f.enc.Base64url)},9012:function(rt,ge,z){var f;rt.exports=(f=z(7585),function(){var m=f.lib.WordArray,F=f.enc;function T(A){return A<<8&4278255360|A>>>8&16711935}F.Utf16=F.Utf16BE={stringify:function(A){for(var x=A.words,I=A.sigBytes,M=[],J=0;J<I;J+=2)M.push(String.fromCharCode(x[J>>>2]>>>16-J%4*8&65535));return M.join("")},parse:function(A){for(var x=A.length,I=[],M=0;M<x;M++)I[M>>>1]|=A.charCodeAt(M)<<16-M%2*16;return m.create(I,2*x)}},F.Utf16LE={stringify:function(A){for(var x=A.words,I=A.sigBytes,M=[],J=0;J<I;J+=2){var R=T(x[J>>>2]>>>16-J%4*8&65535);M.push(String.fromCharCode(R))}return M.join("")},parse:function(A){for(var x=A.length,I=[],M=0;M<x;M++)I[M>>>1]|=T(A.charCodeAt(M)<<16-M%2*16);return m.create(I,2*x)}}}(),f.enc.Utf16)},7865:function(rt,ge,z){var c,w,m,F,B,A,f;rt.exports=(f=z(7585),z(5162),z(3764),F=(w=(c=f).lib).WordArray,A=(B=c.algo).EvpKDF=(m=w.Base).extend({cfg:m.extend({keySize:4,hasher:B.MD5,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,I){for(var M,J=this.cfg,R=J.hasher.create(),L=F.create(),W=L.words,P=J.keySize,K=J.iterations;W.length<P;){M&&R.update(M),M=R.update(x).finalize(I),R.reset();for(var E=1;E<K;E++)M=R.finalize(M),R.reset();L.concat(M)}return L.sigBytes=4*P,L}}),c.EvpKDF=function(x,I,M){return A.create(M).compute(x,I)},f.EvpKDF)},1847:function(rt,ge,z){var f,F,T;rt.exports=(f=z(7585),z(3057),F=f.lib.CipherParams,T=f.enc.Hex,f.format.Hex={stringify:function(I){return I.ciphertext.toString(T)},parse:function(I){var M=T.parse(I);return F.create({ciphertext:M})}},f.format.Hex)},3764:function(rt,ge,z){var f,B;rt.exports=(f=z(7585),B=f.enc.Utf8,void(f.algo.HMAC=f.lib.Base.extend({init:function(x,I){x=this._hasher=new x.init,"string"==typeof I&&(I=B.parse(I));var M=x.blockSize,J=4*M;I.sigBytes>J&&(I=x.finalize(I)),I.clamp();for(var R=this._oKey=I.clone(),L=this._iKey=I.clone(),W=R.words,P=L.words,K=0;K<M;K++)W[K]^=1549556828,P[K]^=909522486;R.sigBytes=L.sigBytes=J,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var I=this._hasher,M=I.finalize(x);return I.reset(),I.finalize(this._oKey.clone().concat(M))}})))},7206:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(401),z(7412),z(9012),z(8319),z(4410),z(9493),z(5162),z(1817),z(8769),z(3351),z(6787),z(1971),z(4973),z(3764),z(8812),z(7865),z(3057),z(4424),z(6635),z(3592),z(9354),z(7934),z(4413),z(4630),z(187),z(1691),z(3237),z(1847),z(7466),z(7243),z(486),z(8182),z(3544),f)},7412:function(rt,ge,z){var f;rt.exports=(f=z(7585),function(){if("function"==typeof ArrayBuffer){var m=f.lib.WordArray,F=m.init,B=m.init=function(T){if(T instanceof ArrayBuffer&&(T=new Uint8Array(T)),(T instanceof Int8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)&&(T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength)),T instanceof Uint8Array){for(var A=T.byteLength,x=[],I=0;I<A;I++)x[I>>>2]|=T[I]<<24-I%4*8;F.call(this,x,A)}else F.apply(this,arguments)};B.prototype=m}}(),f.lib.WordArray)},9493:function(rt,ge,z){var f;rt.exports=(f=z(7585),function(c){var w=f,m=w.lib,F=m.WordArray,B=m.Hasher,T=w.algo,A=[];!function(){for(var L=0;L<64;L++)A[L]=4294967296*c.abs(c.sin(L+1))|0}();var x=T.MD5=B.extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(L,W){for(var P=0;P<16;P++){var K=W+P,E=L[K];L[K]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8)}var S=this._hash.words,_=L[W+0],Q=L[W+1],j=L[W+2],ie=L[W+3],O=L[W+4],N=L[W+5],G=L[W+6],g=L[W+7],V=L[W+8],se=L[W+9],ne=L[W+10],xe=L[W+11],_e=L[W+12],Ke=L[W+13],it=L[W+14],at=L[W+15],Le=S[0],qe=S[1],ft=S[2],Je=S[3];Le=I(Le,qe,ft,Je,_,7,A[0]),Je=I(Je,Le,qe,ft,Q,12,A[1]),ft=I(ft,Je,Le,qe,j,17,A[2]),qe=I(qe,ft,Je,Le,ie,22,A[3]),Le=I(Le,qe,ft,Je,O,7,A[4]),Je=I(Je,Le,qe,ft,N,12,A[5]),ft=I(ft,Je,Le,qe,G,17,A[6]),qe=I(qe,ft,Je,Le,g,22,A[7]),Le=I(Le,qe,ft,Je,V,7,A[8]),Je=I(Je,Le,qe,ft,se,12,A[9]),ft=I(ft,Je,Le,qe,ne,17,A[10]),qe=I(qe,ft,Je,Le,xe,22,A[11]),Le=I(Le,qe,ft,Je,_e,7,A[12]),Je=I(Je,Le,qe,ft,Ke,12,A[13]),ft=I(ft,Je,Le,qe,it,17,A[14]),Le=M(Le,qe=I(qe,ft,Je,Le,at,22,A[15]),ft,Je,Q,5,A[16]),Je=M(Je,Le,qe,ft,G,9,A[17]),ft=M(ft,Je,Le,qe,xe,14,A[18]),qe=M(qe,ft,Je,Le,_,20,A[19]),Le=M(Le,qe,ft,Je,N,5,A[20]),Je=M(Je,Le,qe,ft,ne,9,A[21]),ft=M(ft,Je,Le,qe,at,14,A[22]),qe=M(qe,ft,Je,Le,O,20,A[23]),Le=M(Le,qe,ft,Je,se,5,A[24]),Je=M(Je,Le,qe,ft,it,9,A[25]),ft=M(ft,Je,Le,qe,ie,14,A[26]),qe=M(qe,ft,Je,Le,V,20,A[27]),Le=M(Le,qe,ft,Je,Ke,5,A[28]),Je=M(Je,Le,qe,ft,j,9,A[29]),ft=M(ft,Je,Le,qe,g,14,A[30]),Le=J(Le,qe=M(qe,ft,Je,Le,_e,20,A[31]),ft,Je,N,4,A[32]),Je=J(Je,Le,qe,ft,V,11,A[33]),ft=J(ft,Je,Le,qe,xe,16,A[34]),qe=J(qe,ft,Je,Le,it,23,A[35]),Le=J(Le,qe,ft,Je,Q,4,A[36]),Je=J(Je,Le,qe,ft,O,11,A[37]),ft=J(ft,Je,Le,qe,g,16,A[38]),qe=J(qe,ft,Je,Le,ne,23,A[39]),Le=J(Le,qe,ft,Je,Ke,4,A[40]),Je=J(Je,Le,qe,ft,_,11,A[41]),ft=J(ft,Je,Le,qe,ie,16,A[42]),qe=J(qe,ft,Je,Le,G,23,A[43]),Le=J(Le,qe,ft,Je,se,4,A[44]),Je=J(Je,Le,qe,ft,_e,11,A[45]),ft=J(ft,Je,Le,qe,at,16,A[46]),Le=R(Le,qe=J(qe,ft,Je,Le,j,23,A[47]),ft,Je,_,6,A[48]),Je=R(Je,Le,qe,ft,g,10,A[49]),ft=R(ft,Je,Le,qe,it,15,A[50]),qe=R(qe,ft,Je,Le,N,21,A[51]),Le=R(Le,qe,ft,Je,_e,6,A[52]),Je=R(Je,Le,qe,ft,ie,10,A[53]),ft=R(ft,Je,Le,qe,ne,15,A[54]),qe=R(qe,ft,Je,Le,Q,21,A[55]),Le=R(Le,qe,ft,Je,V,6,A[56]),Je=R(Je,Le,qe,ft,at,10,A[57]),ft=R(ft,Je,Le,qe,G,15,A[58]),qe=R(qe,ft,Je,Le,Ke,21,A[59]),Le=R(Le,qe,ft,Je,O,6,A[60]),Je=R(Je,Le,qe,ft,xe,10,A[61]),ft=R(ft,Je,Le,qe,j,15,A[62]),qe=R(qe,ft,Je,Le,se,21,A[63]),S[0]=S[0]+Le|0,S[1]=S[1]+qe|0,S[2]=S[2]+ft|0,S[3]=S[3]+Je|0},_doFinalize:function(){var L=this._data,W=L.words,P=8*this._nDataBytes,K=8*L.sigBytes;W[K>>>5]|=128<<24-K%32;var E=c.floor(P/4294967296),S=P;W[15+(K+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),W[14+(K+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),L.sigBytes=4*(W.length+1),this._process();for(var _=this._hash,Q=_.words,j=0;j<4;j++){var ie=Q[j];Q[j]=16711935&(ie<<8|ie>>>24)|4278255360&(ie<<24|ie>>>8)}return _},clone:function(){var L=B.clone.call(this);return L._hash=this._hash.clone(),L}});function I(L,W,P,K,E,S,_){var Q=L+(W&P|~W&K)+E+_;return(Q<<S|Q>>>32-S)+W}function M(L,W,P,K,E,S,_){var Q=L+(W&K|P&~K)+E+_;return(Q<<S|Q>>>32-S)+W}function J(L,W,P,K,E,S,_){var Q=L+(W^P^K)+E+_;return(Q<<S|Q>>>32-S)+W}function R(L,W,P,K,E,S,_){var Q=L+(P^(W|~K))+E+_;return(Q<<S|Q>>>32-S)+W}w.MD5=B._createHelper(x),w.HmacMD5=B._createHmacHelper(x)}(Math),f.MD5)},4424:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.mode.CFB=function(){var c=f.lib.BlockCipherMode.extend();function w(m,F,B,T){var A,x=this._iv;x?(A=x.slice(0),this._iv=void 0):A=this._prevBlock,T.encryptBlock(A,0);for(var I=0;I<B;I++)m[F+I]^=A[I]}return c.Encryptor=c.extend({processBlock:function(m,F){var B=this._cipher,T=B.blockSize;w.call(this,m,F,T,B),this._prevBlock=m.slice(F,F+T)}}),c.Decryptor=c.extend({processBlock:function(m,F){var B=this._cipher,T=B.blockSize,A=m.slice(F,F+T);w.call(this,m,F,T,B),this._prevBlock=A}}),c}(),f.mode.CFB)},3592:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.mode.CTRGladman=function(){var c=f.lib.BlockCipherMode.extend();function w(B){if(255==(B>>24&255)){var T=B>>16&255,A=B>>8&255,x=255&B;255===T?(T=0,255===A?(A=0,255===x?x=0:++x):++A):++T,B=0,B+=T<<16,B+=A<<8,B+=x}else B+=1<<24;return B}var F=c.Encryptor=c.extend({processBlock:function(B,T){var A=this._cipher,x=A.blockSize,I=this._iv,M=this._counter;I&&(M=this._counter=I.slice(0),this._iv=void 0),function m(B){return 0===(B[0]=w(B[0]))&&(B[1]=w(B[1])),B}(M);var J=M.slice(0);A.encryptBlock(J,0);for(var R=0;R<x;R++)B[T+R]^=J[R]}});return c.Decryptor=F,c}(),f.mode.CTRGladman)},6635:function(rt,ge,z){var c,w,f;rt.exports=(f=z(7585),z(3057),f.mode.CTR=(w=(c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(m,F){var B=this._cipher,T=B.blockSize,A=this._iv,x=this._counter;A&&(x=this._counter=A.slice(0),this._iv=void 0);var I=x.slice(0);B.encryptBlock(I,0),x[T-1]=x[T-1]+1|0;for(var M=0;M<T;M++)m[F+M]^=I[M]}}),c.Decryptor=w,c),f.mode.CTR)},7934:function(rt,ge,z){var c,f;rt.exports=(f=z(7585),z(3057),f.mode.ECB=((c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(w,m){this._cipher.encryptBlock(w,m)}}),c.Decryptor=c.extend({processBlock:function(w,m){this._cipher.decryptBlock(w,m)}}),c),f.mode.ECB)},9354:function(rt,ge,z){var c,w,f;rt.exports=(f=z(7585),z(3057),f.mode.OFB=(w=(c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(m,F){var B=this._cipher,T=B.blockSize,A=this._iv,x=this._keystream;A&&(x=this._keystream=A.slice(0),this._iv=void 0),B.encryptBlock(x,0);for(var I=0;I<T;I++)m[F+I]^=x[I]}}),c.Decryptor=w,c),f.mode.OFB)},4413:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.pad.AnsiX923={pad:function(c,w){var m=c.sigBytes,F=4*w,B=F-m%F,T=m+B-1;c.clamp(),c.words[T>>>2]|=B<<24-T%4*8,c.sigBytes+=B},unpad:function(c){c.sigBytes-=255&c.words[c.sigBytes-1>>>2]}},f.pad.Ansix923)},4630:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.pad.Iso10126={pad:function(c,w){var m=4*w,F=m-c.sigBytes%m;c.concat(f.lib.WordArray.random(F-1)).concat(f.lib.WordArray.create([F<<24],1))},unpad:function(c){c.sigBytes-=255&c.words[c.sigBytes-1>>>2]}},f.pad.Iso10126)},187:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.pad.Iso97971={pad:function(c,w){c.concat(f.lib.WordArray.create([2147483648],1)),f.pad.ZeroPadding.pad(c,w)},unpad:function(c){f.pad.ZeroPadding.unpad(c),c.sigBytes--}},f.pad.Iso97971)},3237:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.pad.NoPadding={pad:function(){},unpad:function(){}},f.pad.NoPadding)},1691:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(3057),f.pad.ZeroPadding={pad:function(c,w){var m=4*w;c.clamp(),c.sigBytes+=m-(c.sigBytes%m||m)},unpad:function(c){var w=c.words,m=c.sigBytes-1;for(m=c.sigBytes-1;m>=0;m--)if(w[m>>>2]>>>24-m%4*8&255){c.sigBytes=m+1;break}}},f.pad.ZeroPadding)},8812:function(rt,ge,z){var c,w,m,F,B,A,x,f;rt.exports=(f=z(7585),z(5162),z(3764),F=(w=(c=f).lib).WordArray,A=(B=c.algo).HMAC,x=B.PBKDF2=(m=w.Base).extend({cfg:m.extend({keySize:4,hasher:B.SHA1,iterations:1}),init:function(I){this.cfg=this.cfg.extend(I)},compute:function(I,M){for(var J=this.cfg,R=A.create(J.hasher,I),L=F.create(),W=F.create([1]),P=L.words,K=W.words,E=J.keySize,S=J.iterations;P.length<E;){var _=R.update(M).finalize(W);R.reset();for(var Q=_.words,j=Q.length,ie=_,O=1;O<S;O++){ie=R.finalize(ie),R.reset();for(var N=ie.words,G=0;G<j;G++)Q[G]^=N[G]}L.concat(_),K[0]++}return L.sigBytes=4*E,L}}),c.PBKDF2=function(I,M,J){return x.create(J).compute(I,M)},f.PBKDF2)},3544:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(8319),z(9493),z(7865),z(3057),function(){var c=f,m=c.lib.StreamCipher,B=[],T=[],A=[],x=c.algo.RabbitLegacy=m.extend({_doReset:function(){var M=this._key.words,J=this.cfg.iv,R=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],L=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];this._b=0;for(var W=0;W<4;W++)I.call(this);for(W=0;W<8;W++)L[W]^=R[W+4&7];if(J){var P=J.words,K=P[0],E=P[1],S=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),Q=S>>>16|4294901760&_,j=_<<16|65535&S;for(L[0]^=S,L[1]^=Q,L[2]^=_,L[3]^=j,L[4]^=S,L[5]^=Q,L[6]^=_,L[7]^=j,W=0;W<4;W++)I.call(this)}},_doProcessBlock:function(M,J){var R=this._X;I.call(this),B[0]=R[0]^R[5]>>>16^R[3]<<16,B[1]=R[2]^R[7]>>>16^R[5]<<16,B[2]=R[4]^R[1]>>>16^R[7]<<16,B[3]=R[6]^R[3]>>>16^R[1]<<16;for(var L=0;L<4;L++)B[L]=16711935&(B[L]<<8|B[L]>>>24)|4278255360&(B[L]<<24|B[L]>>>8),M[J+L]^=B[L]},blockSize:4,ivSize:2});function I(){for(var M=this._X,J=this._C,R=0;R<8;R++)T[R]=J[R];for(J[0]=J[0]+1295307597+this._b|0,J[1]=J[1]+3545052371+(J[0]>>>0<T[0]>>>0?1:0)|0,J[2]=J[2]+886263092+(J[1]>>>0<T[1]>>>0?1:0)|0,J[3]=J[3]+1295307597+(J[2]>>>0<T[2]>>>0?1:0)|0,J[4]=J[4]+3545052371+(J[3]>>>0<T[3]>>>0?1:0)|0,J[5]=J[5]+886263092+(J[4]>>>0<T[4]>>>0?1:0)|0,J[6]=J[6]+1295307597+(J[5]>>>0<T[5]>>>0?1:0)|0,J[7]=J[7]+3545052371+(J[6]>>>0<T[6]>>>0?1:0)|0,this._b=J[7]>>>0<T[7]>>>0?1:0,R=0;R<8;R++){var L=M[R]+J[R],W=65535&L,P=L>>>16;A[R]=((W*W>>>17)+W*P>>>15)+P*P^((4294901760&L)*L|0)+((65535&L)*L|0)}M[0]=A[0]+(A[7]<<16|A[7]>>>16)+(A[6]<<16|A[6]>>>16)|0,M[1]=A[1]+(A[0]<<8|A[0]>>>24)+A[7]|0,M[2]=A[2]+(A[1]<<16|A[1]>>>16)+(A[0]<<16|A[0]>>>16)|0,M[3]=A[3]+(A[2]<<8|A[2]>>>24)+A[1]|0,M[4]=A[4]+(A[3]<<16|A[3]>>>16)+(A[2]<<16|A[2]>>>16)|0,M[5]=A[5]+(A[4]<<8|A[4]>>>24)+A[3]|0,M[6]=A[6]+(A[5]<<16|A[5]>>>16)+(A[4]<<16|A[4]>>>16)|0,M[7]=A[7]+(A[6]<<8|A[6]>>>24)+A[5]|0}c.RabbitLegacy=m._createHelper(x)}(),f.RabbitLegacy)},8182:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(8319),z(9493),z(7865),z(3057),function(){var c=f,m=c.lib.StreamCipher,B=[],T=[],A=[],x=c.algo.Rabbit=m.extend({_doReset:function(){for(var M=this._key.words,J=this.cfg.iv,R=0;R<4;R++)M[R]=16711935&(M[R]<<8|M[R]>>>24)|4278255360&(M[R]<<24|M[R]>>>8);var L=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],W=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];for(this._b=0,R=0;R<4;R++)I.call(this);for(R=0;R<8;R++)W[R]^=L[R+4&7];if(J){var P=J.words,K=P[0],E=P[1],S=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),Q=S>>>16|4294901760&_,j=_<<16|65535&S;for(W[0]^=S,W[1]^=Q,W[2]^=_,W[3]^=j,W[4]^=S,W[5]^=Q,W[6]^=_,W[7]^=j,R=0;R<4;R++)I.call(this)}},_doProcessBlock:function(M,J){var R=this._X;I.call(this),B[0]=R[0]^R[5]>>>16^R[3]<<16,B[1]=R[2]^R[7]>>>16^R[5]<<16,B[2]=R[4]^R[1]>>>16^R[7]<<16,B[3]=R[6]^R[3]>>>16^R[1]<<16;for(var L=0;L<4;L++)B[L]=16711935&(B[L]<<8|B[L]>>>24)|4278255360&(B[L]<<24|B[L]>>>8),M[J+L]^=B[L]},blockSize:4,ivSize:2});function I(){for(var M=this._X,J=this._C,R=0;R<8;R++)T[R]=J[R];for(J[0]=J[0]+1295307597+this._b|0,J[1]=J[1]+3545052371+(J[0]>>>0<T[0]>>>0?1:0)|0,J[2]=J[2]+886263092+(J[1]>>>0<T[1]>>>0?1:0)|0,J[3]=J[3]+1295307597+(J[2]>>>0<T[2]>>>0?1:0)|0,J[4]=J[4]+3545052371+(J[3]>>>0<T[3]>>>0?1:0)|0,J[5]=J[5]+886263092+(J[4]>>>0<T[4]>>>0?1:0)|0,J[6]=J[6]+1295307597+(J[5]>>>0<T[5]>>>0?1:0)|0,J[7]=J[7]+3545052371+(J[6]>>>0<T[6]>>>0?1:0)|0,this._b=J[7]>>>0<T[7]>>>0?1:0,R=0;R<8;R++){var L=M[R]+J[R],W=65535&L,P=L>>>16;A[R]=((W*W>>>17)+W*P>>>15)+P*P^((4294901760&L)*L|0)+((65535&L)*L|0)}M[0]=A[0]+(A[7]<<16|A[7]>>>16)+(A[6]<<16|A[6]>>>16)|0,M[1]=A[1]+(A[0]<<8|A[0]>>>24)+A[7]|0,M[2]=A[2]+(A[1]<<16|A[1]>>>16)+(A[0]<<16|A[0]>>>16)|0,M[3]=A[3]+(A[2]<<8|A[2]>>>24)+A[1]|0,M[4]=A[4]+(A[3]<<16|A[3]>>>16)+(A[2]<<16|A[2]>>>16)|0,M[5]=A[5]+(A[4]<<8|A[4]>>>24)+A[3]|0,M[6]=A[6]+(A[5]<<16|A[5]>>>16)+(A[4]<<16|A[4]>>>16)|0,M[7]=A[7]+(A[6]<<8|A[6]>>>24)+A[5]|0}c.Rabbit=m._createHelper(x)}(),f.Rabbit)},486:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(8319),z(9493),z(7865),z(3057),function(){var c=f,m=c.lib.StreamCipher,F=c.algo,B=F.RC4=m.extend({_doReset:function(){for(var x=this._key,I=x.words,M=x.sigBytes,J=this._S=[],R=0;R<256;R++)J[R]=R;R=0;for(var L=0;R<256;R++){var W=R%M,K=J[R];J[R]=J[L=(L+J[R]+(I[W>>>2]>>>24-W%4*8&255))%256],J[L]=K}this._i=this._j=0},_doProcessBlock:function(x,I){x[I]^=T.call(this)},keySize:8,ivSize:0});function T(){for(var x=this._S,I=this._i,M=this._j,J=0,R=0;R<4;R++){var L=x[I=(I+1)%256];x[I]=x[M=(M+x[I])%256],x[M]=L,J|=x[(x[I]+x[M])%256]<<24-8*R}return this._i=I,this._j=M,J}c.RC4=m._createHelper(B);var A=F.RC4Drop=B.extend({cfg:B.cfg.extend({drop:192}),_doReset:function(){B._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)T.call(this)}});c.RC4Drop=m._createHelper(A)}(),f.RC4)},4973:function(rt,ge,z){var f;rt.exports=(f=z(7585),function(c){var w=f,m=w.lib,F=m.WordArray,B=m.Hasher,T=w.algo,A=F.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=F.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),I=F.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=F.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),J=F.create([0,1518500249,1859775393,2400959708,2840853838]),R=F.create([1352829926,1548603684,1836072691,2053994217,0]),L=T.RIPEMD160=B.extend({_doReset:function(){this._hash=F.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,j){for(var ie=0;ie<16;ie++){var O=j+ie,N=Q[O];Q[O]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8)}var Ke,it,at,Le,qe,ft,Je,Yt,ht,dr,Mt,G=this._hash.words,g=J.words,V=R.words,se=A.words,ne=x.words,xe=I.words,_e=M.words;for(ft=Ke=G[0],Je=it=G[1],Yt=at=G[2],ht=Le=G[3],dr=qe=G[4],ie=0;ie<80;ie+=1)Mt=Ke+Q[j+se[ie]]|0,Mt+=ie<16?W(it,at,Le)+g[0]:ie<32?P(it,at,Le)+g[1]:ie<48?K(it,at,Le)+g[2]:ie<64?E(it,at,Le)+g[3]:S(it,at,Le)+g[4],Mt=(Mt=_(Mt|=0,xe[ie]))+qe|0,Ke=qe,qe=Le,Le=_(at,10),at=it,it=Mt,Mt=ft+Q[j+ne[ie]]|0,Mt+=ie<16?S(Je,Yt,ht)+V[0]:ie<32?E(Je,Yt,ht)+V[1]:ie<48?K(Je,Yt,ht)+V[2]:ie<64?P(Je,Yt,ht)+V[3]:W(Je,Yt,ht)+V[4],Mt=(Mt=_(Mt|=0,_e[ie]))+dr|0,ft=dr,dr=ht,ht=_(Yt,10),Yt=Je,Je=Mt;Mt=G[1]+at+ht|0,G[1]=G[2]+Le+dr|0,G[2]=G[3]+qe+ft|0,G[3]=G[4]+Ke+Je|0,G[4]=G[0]+it+Yt|0,G[0]=Mt},_doFinalize:function(){var Q=this._data,j=Q.words,ie=8*this._nDataBytes,O=8*Q.sigBytes;j[O>>>5]|=128<<24-O%32,j[14+(O+64>>>9<<4)]=16711935&(ie<<8|ie>>>24)|4278255360&(ie<<24|ie>>>8),Q.sigBytes=4*(j.length+1),this._process();for(var N=this._hash,G=N.words,g=0;g<5;g++){var V=G[g];G[g]=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8)}return N},clone:function(){var Q=B.clone.call(this);return Q._hash=this._hash.clone(),Q}});function W(Q,j,ie){return Q^j^ie}function P(Q,j,ie){return Q&j|~Q&ie}function K(Q,j,ie){return(Q|~j)^ie}function E(Q,j,ie){return Q&ie|j&~ie}function S(Q,j,ie){return Q^(j|~ie)}function _(Q,j){return Q<<j|Q>>>32-j}w.RIPEMD160=B._createHelper(L),w.HmacRIPEMD160=B._createHmacHelper(L)}(Math),f.RIPEMD160)},5162:function(rt,ge,z){var c,w,m,F,T,A,f;rt.exports=(f=z(7585),m=(w=(c=f).lib).WordArray,T=[],A=c.algo.SHA1=(F=w.Hasher).extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,I){for(var M=this._hash.words,J=M[0],R=M[1],L=M[2],W=M[3],P=M[4],K=0;K<80;K++){if(K<16)T[K]=0|x[I+K];else{var E=T[K-3]^T[K-8]^T[K-14]^T[K-16];T[K]=E<<1|E>>>31}var S=(J<<5|J>>>27)+P+T[K];S+=K<20?1518500249+(R&L|~R&W):K<40?1859775393+(R^L^W):K<60?(R&L|R&W|L&W)-1894007588:(R^L^W)-899497514,P=W,W=L,L=R<<30|R>>>2,R=J,J=S}M[0]=M[0]+J|0,M[1]=M[1]+R|0,M[2]=M[2]+L|0,M[3]=M[3]+W|0,M[4]=M[4]+P|0},_doFinalize:function(){var x=this._data,I=x.words,M=8*this._nDataBytes,J=8*x.sigBytes;return I[J>>>5]|=128<<24-J%32,I[14+(J+64>>>9<<4)]=Math.floor(M/4294967296),I[15+(J+64>>>9<<4)]=M,x.sigBytes=4*I.length,this._process(),this._hash},clone:function(){var x=F.clone.call(this);return x._hash=this._hash.clone(),x}}),c.SHA1=F._createHelper(A),c.HmacSHA1=F._createHmacHelper(A),f.SHA1)},8769:function(rt,ge,z){var c,m,F,B,T,f;rt.exports=(f=z(7585),z(1817),m=(c=f).lib.WordArray,T=(F=c.algo).SHA224=(B=F.SHA256).extend({_doReset:function(){this._hash=new m.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var A=B._doFinalize.call(this);return A.sigBytes-=4,A}}),c.SHA224=B._createHelper(T),c.HmacSHA224=B._createHmacHelper(T),f.SHA224)},1817:function(rt,ge,z){var f;rt.exports=(f=z(7585),function(c){var w=f,m=w.lib,F=m.WordArray,B=m.Hasher,T=w.algo,A=[],x=[];!function(){function J(P){for(var K=c.sqrt(P),E=2;E<=K;E++)if(!(P%E))return!1;return!0}function R(P){return 4294967296*(P-(0|P))|0}for(var L=2,W=0;W<64;)J(L)&&(W<8&&(A[W]=R(c.pow(L,.5))),x[W]=R(c.pow(L,1/3)),W++),L++}();var I=[],M=T.SHA256=B.extend({_doReset:function(){this._hash=new F.init(A.slice(0))},_doProcessBlock:function(J,R){for(var L=this._hash.words,W=L[0],P=L[1],K=L[2],E=L[3],S=L[4],_=L[5],Q=L[6],j=L[7],ie=0;ie<64;ie++){if(ie<16)I[ie]=0|J[R+ie];else{var O=I[ie-15],G=I[ie-2];I[ie]=((O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3)+I[ie-7]+((G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10)+I[ie-16]}var se=W&P^W&K^P&K,_e=j+((S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25))+(S&_^~S&Q)+x[ie]+I[ie];j=Q,Q=_,_=S,S=E+_e|0,E=K,K=P,P=W,W=_e+(((W<<30|W>>>2)^(W<<19|W>>>13)^(W<<10|W>>>22))+se)|0}L[0]=L[0]+W|0,L[1]=L[1]+P|0,L[2]=L[2]+K|0,L[3]=L[3]+E|0,L[4]=L[4]+S|0,L[5]=L[5]+_|0,L[6]=L[6]+Q|0,L[7]=L[7]+j|0},_doFinalize:function(){var J=this._data,R=J.words,L=8*this._nDataBytes,W=8*J.sigBytes;return R[W>>>5]|=128<<24-W%32,R[14+(W+64>>>9<<4)]=c.floor(L/4294967296),R[15+(W+64>>>9<<4)]=L,J.sigBytes=4*R.length,this._process(),this._hash},clone:function(){var J=B.clone.call(this);return J._hash=this._hash.clone(),J}});w.SHA256=B._createHelper(M),w.HmacSHA256=B._createHmacHelper(M)}(Math),f.SHA256)},1971:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(401),function(c){var w=f,m=w.lib,F=m.WordArray,B=m.Hasher,A=w.x64.Word,x=w.algo,I=[],M=[],J=[];!function(){for(var W=1,P=0,K=0;K<24;K++){I[W+5*P]=(K+1)*(K+2)/2%64;var S=(2*W+3*P)%5;W=P%5,P=S}for(W=0;W<5;W++)for(P=0;P<5;P++)M[W+5*P]=P+(2*W+3*P)%5*5;for(var _=1,Q=0;Q<24;Q++){for(var j=0,ie=0,O=0;O<7;O++){if(1&_){var N=(1<<O)-1;N<32?ie^=1<<N:j^=1<<N-32}128&_?_=_<<1^113:_<<=1}J[Q]=A.create(j,ie)}}();var R=[];!function(){for(var W=0;W<25;W++)R[W]=A.create()}();var L=x.SHA3=B.extend({cfg:B.cfg.extend({outputLength:512}),_doReset:function(){for(var W=this._state=[],P=0;P<25;P++)W[P]=new A.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(W,P){for(var K=this._state,E=this.blockSize/2,S=0;S<E;S++){var _=W[P+2*S],Q=W[P+2*S+1];_=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),(j=K[S]).high^=Q=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),j.low^=_}for(var ie=0;ie<24;ie++){for(var O=0;O<5;O++){for(var N=0,G=0,g=0;g<5;g++)N^=(j=K[O+5*g]).high,G^=j.low;var V=R[O];V.high=N,V.low=G}for(O=0;O<5;O++){var se=R[(O+4)%5],ne=R[(O+1)%5],xe=ne.high,_e=ne.low;for(N=se.high^(xe<<1|_e>>>31),G=se.low^(_e<<1|xe>>>31),g=0;g<5;g++)(j=K[O+5*g]).high^=N,j.low^=G}for(var Ke=1;Ke<25;Ke++){var it=(j=K[Ke]).high,at=j.low,Le=I[Ke];Le<32?(N=it<<Le|at>>>32-Le,G=at<<Le|it>>>32-Le):(N=at<<Le-32|it>>>64-Le,G=it<<Le-32|at>>>64-Le);var qe=R[M[Ke]];qe.high=N,qe.low=G}var ft=R[0],Je=K[0];for(ft.high=Je.high,ft.low=Je.low,O=0;O<5;O++)for(g=0;g<5;g++){var Yt=R[Ke=O+5*g],ht=R[(O+1)%5+5*g],dr=R[(O+2)%5+5*g];(j=K[Ke]).high=Yt.high^~ht.high&dr.high,j.low=Yt.low^~ht.low&dr.low}var j,Mt=J[ie];(j=K[0]).high^=Mt.high,j.low^=Mt.low}},_doFinalize:function(){var W=this._data,P=W.words,E=8*W.sigBytes,S=32*this.blockSize;P[E>>>5]|=1<<24-E%32,P[(c.ceil((E+1)/S)*S>>>5)-1]|=128,W.sigBytes=4*P.length,this._process();for(var _=this._state,Q=this.cfg.outputLength/8,j=Q/8,ie=[],O=0;O<j;O++){var N=_[O],G=N.high,g=N.low;G=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),ie.push(g=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)),ie.push(G)}return new F.init(ie,Q)},clone:function(){for(var W=B.clone.call(this),P=W._state=this._state.slice(0),K=0;K<25;K++)P[K]=P[K].clone();return W}});w.SHA3=B._createHelper(L),w.HmacSHA3=B._createHmacHelper(L)}(Math),f.SHA3)},6787:function(rt,ge,z){var c,w,m,F,B,T,A,f;rt.exports=(f=z(7585),z(401),z(3351),m=(w=(c=f).x64).Word,F=w.WordArray,A=(B=c.algo).SHA384=(T=B.SHA512).extend({_doReset:function(){this._hash=new F.init([new m.init(3418070365,3238371032),new m.init(1654270250,914150663),new m.init(2438529370,812702999),new m.init(355462360,4144912697),new m.init(1731405415,4290775857),new m.init(2394180231,1750603025),new m.init(3675008525,1694076839),new m.init(1203062813,3204075428)])},_doFinalize:function(){var x=T._doFinalize.call(this);return x.sigBytes-=16,x}}),c.SHA384=T._createHelper(A),c.HmacSHA384=T._createHmacHelper(A),f.SHA384)},3351:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(401),function(){var c=f,m=c.lib.Hasher,F=c.x64,B=F.Word,T=F.WordArray,A=c.algo;function x(){return B.create.apply(B,arguments)}var I=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],M=[];!function(){for(var R=0;R<80;R++)M[R]=x()}();var J=A.SHA512=m.extend({_doReset:function(){this._hash=new T.init([new B.init(1779033703,4089235720),new B.init(3144134277,2227873595),new B.init(1013904242,4271175723),new B.init(2773480762,1595750129),new B.init(1359893119,2917565137),new B.init(2600822924,725511199),new B.init(528734635,4215389547),new B.init(1541459225,327033209)])},_doProcessBlock:function(R,L){for(var W=this._hash.words,P=W[0],K=W[1],E=W[2],S=W[3],_=W[4],Q=W[5],j=W[6],ie=W[7],O=P.high,N=P.low,G=K.high,g=K.low,V=E.high,se=E.low,ne=S.high,xe=S.low,_e=_.high,Ke=_.low,it=Q.high,at=Q.low,Le=j.high,qe=j.low,ft=ie.high,Je=ie.low,Yt=O,ht=N,dr=G,Mt=g,yr=V,or=se,et=ne,gt=xe,X=_e,Z=Ke,ue=it,Oe=at,Xe=Le,ee=qe,Pe=ft,Ft=Je,ar=0;ar<80;ar++){var rr,kt,jt=M[ar];if(ar<16)kt=jt.high=0|R[L+2*ar],rr=jt.low=0|R[L+2*ar+1];else{var pr=M[ar-15],Ar=pr.high,re=pr.low,sn=(re>>>1|Ar<<31)^(re>>>8|Ar<<24)^(re>>>7|Ar<<25),Yr=M[ar-2],wr=Yr.high,Nt=Yr.low,Ir=(Nt>>>19|wr<<13)^(Nt<<3|wr>>>29)^(Nt>>>6|wr<<26),Rr=M[ar-7],fn=M[ar-16],Vn=fn.low;jt.high=kt=(kt=(kt=((Ar>>>1|re<<31)^(Ar>>>8|re<<24)^Ar>>>7)+Rr.high+((rr=sn+Rr.low)>>>0<sn>>>0?1:0))+((wr>>>19|Nt<<13)^(wr<<3|Nt>>>29)^wr>>>6)+((rr+=Ir)>>>0<Ir>>>0?1:0))+fn.high+((rr+=Vn)>>>0<Vn>>>0?1:0),jt.low=rr}var _r,Yn=X&ue^~X&Xe,Hn=Z&Oe^~Z&ee,hn=Yt&dr^Yt&yr^dr&yr,Xn=(ht>>>28|Yt<<4)^(ht<<30|Yt>>>2)^(ht<<25|Yt>>>7),xn=I[ar],mn=xn.low,Lr=Pe+((X>>>14|Z<<18)^(X>>>18|Z<<14)^(X<<23|Z>>>9))+((_r=Ft+((Z>>>14|X<<18)^(Z>>>18|X<<14)^(Z<<23|X>>>9)))>>>0<Ft>>>0?1:0),tn=Xn+(ht&Mt^ht&or^Mt&or);Pe=Xe,Ft=ee,Xe=ue,ee=Oe,ue=X,Oe=Z,X=et+(Lr=(Lr=(Lr=Lr+Yn+((_r+=Hn)>>>0<Hn>>>0?1:0))+xn.high+((_r+=mn)>>>0<mn>>>0?1:0))+kt+((_r+=rr)>>>0<rr>>>0?1:0))+((Z=gt+_r|0)>>>0<gt>>>0?1:0)|0,et=yr,gt=or,yr=dr,or=Mt,dr=Yt,Mt=ht,Yt=Lr+(((Yt>>>28|ht<<4)^(Yt<<30|ht>>>2)^(Yt<<25|ht>>>7))+hn+(tn>>>0<Xn>>>0?1:0))+((ht=_r+tn|0)>>>0<_r>>>0?1:0)|0}N=P.low=N+ht,P.high=O+Yt+(N>>>0<ht>>>0?1:0),g=K.low=g+Mt,K.high=G+dr+(g>>>0<Mt>>>0?1:0),se=E.low=se+or,E.high=V+yr+(se>>>0<or>>>0?1:0),xe=S.low=xe+gt,S.high=ne+et+(xe>>>0<gt>>>0?1:0),Ke=_.low=Ke+Z,_.high=_e+X+(Ke>>>0<Z>>>0?1:0),at=Q.low=at+Oe,Q.high=it+ue+(at>>>0<Oe>>>0?1:0),qe=j.low=qe+ee,j.high=Le+Xe+(qe>>>0<ee>>>0?1:0),Je=ie.low=Je+Ft,ie.high=ft+Pe+(Je>>>0<Ft>>>0?1:0)},_doFinalize:function(){var R=this._data,L=R.words,W=8*this._nDataBytes,P=8*R.sigBytes;return L[P>>>5]|=128<<24-P%32,L[30+(P+128>>>10<<5)]=Math.floor(W/4294967296),L[31+(P+128>>>10<<5)]=W,R.sigBytes=4*L.length,this._process(),this._hash.toX32()},clone:function(){var R=m.clone.call(this);return R._hash=this._hash.clone(),R},blockSize:32});c.SHA512=m._createHelper(J),c.HmacSHA512=m._createHmacHelper(J)}(),f.SHA512)},7243:function(rt,ge,z){var f;rt.exports=(f=z(7585),z(8319),z(9493),z(7865),z(3057),function(){var c=f,w=c.lib,m=w.WordArray,F=w.BlockCipher,B=c.algo,T=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],A=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],I=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],M=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],J=B.DES=F.extend({_doReset:function(){for(var K=this._key.words,E=[],S=0;S<56;S++){var _=T[S]-1;E[S]=K[_>>>5]>>>31-_%32&1}for(var Q=this._subKeys=[],j=0;j<16;j++){var ie=Q[j]=[],O=x[j];for(S=0;S<24;S++)ie[S/6|0]|=E[(A[S]-1+O)%28]<<31-S%6,ie[4+(S/6|0)]|=E[28+(A[S+24]-1+O)%28]<<31-S%6;for(ie[0]=ie[0]<<1|ie[0]>>>31,S=1;S<7;S++)ie[S]=ie[S]>>>4*(S-1)+3;ie[7]=ie[7]<<5|ie[7]>>>27}var N=this._invSubKeys=[];for(S=0;S<16;S++)N[S]=Q[15-S]},encryptBlock:function(P,K){this._doCryptBlock(P,K,this._subKeys)},decryptBlock:function(P,K){this._doCryptBlock(P,K,this._invSubKeys)},_doCryptBlock:function(P,K,E){this._lBlock=P[K],this._rBlock=P[K+1],R.call(this,4,252645135),R.call(this,16,65535),L.call(this,2,858993459),L.call(this,8,16711935),R.call(this,1,1431655765);for(var S=0;S<16;S++){for(var _=E[S],Q=this._lBlock,j=this._rBlock,ie=0,O=0;O<8;O++)ie|=I[O][((j^_[O])&M[O])>>>0];this._lBlock=j,this._rBlock=Q^ie}var N=this._lBlock;this._lBlock=this._rBlock,this._rBlock=N,R.call(this,1,1431655765),L.call(this,8,16711935),L.call(this,2,858993459),R.call(this,16,65535),R.call(this,4,252645135),P[K]=this._lBlock,P[K+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function R(P,K){var E=(this._lBlock>>>P^this._rBlock)&K;this._rBlock^=E,this._lBlock^=E<<P}function L(P,K){var E=(this._rBlock>>>P^this._lBlock)&K;this._lBlock^=E,this._rBlock^=E<<P}c.DES=F._createHelper(J);var W=B.TripleDES=F.extend({_doReset:function(){var K=this._key.words;if(2!==K.length&&4!==K.length&&K.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=K.slice(0,2),S=K.length<4?K.slice(0,2):K.slice(2,4),_=K.length<6?K.slice(0,2):K.slice(4,6);this._des1=J.createEncryptor(m.create(E)),this._des2=J.createEncryptor(m.create(S)),this._des3=J.createEncryptor(m.create(_))},encryptBlock:function(P,K){this._des1.encryptBlock(P,K),this._des2.decryptBlock(P,K),this._des3.encryptBlock(P,K)},decryptBlock:function(P,K){this._des3.decryptBlock(P,K),this._des2.encryptBlock(P,K),this._des1.decryptBlock(P,K)},keySize:6,ivSize:2,blockSize:2});c.TripleDES=F._createHelper(W)}(),f.TripleDES)},401:function(rt,ge,z){var m,F,B,T,f;rt.exports=(f=z(7585),F=(m=f.lib).Base,B=m.WordArray,(T=f.x64={}).Word=F.extend({init:function(I,M){this.high=I,this.low=M}}),T.WordArray=F.extend({init:function(I,M){I=this.words=I||[],this.sigBytes=null!=M?M:8*I.length},toX32:function(){for(var I=this.words,M=I.length,J=[],R=0;R<M;R++){var L=I[R];J.push(L.high),J.push(L.low)}return B.create(J,this.sigBytes)},clone:function(){for(var I=F.clone.call(this),M=I.words=this.words.slice(0),J=M.length,R=0;R<J;R++)M[R]=M[R].clone();return I}}),f)},4901:rt=>{"use strict";var ge={single_source_shortest_paths:function(z,f,c){var w={},m={};m[f]=0;var B,T,A,x,I,J,F=ge.PriorityQueue.make();for(F.push(f,0);!F.empty();)for(A in x=(B=F.pop()).cost,I=z[T=B.value]||{})I.hasOwnProperty(A)&&(J=x+I[A],(typeof m[A]>"u"||m[A]>J)&&(m[A]=J,F.push(A,J),w[A]=T));if(typeof c<"u"&&typeof m[c]>"u"){var W=["Could not find a path from ",f," to ",c,"."].join("");throw new Error(W)}return w},extract_shortest_path_from_predecessor_list:function(z,f){for(var c=[],w=f;w;)c.push(w),w=z[w];return c.reverse(),c},find_path:function(z,f,c){var w=ge.single_source_shortest_paths(z,f,c);return ge.extract_shortest_path_from_predecessor_list(w,c)},PriorityQueue:{make:function(z){var w,f=ge.PriorityQueue,c={};for(w in z=z||{},f)f.hasOwnProperty(w)&&(c[w]=f[w]);return c.queue=[],c.sorter=z.sorter||f.default_sorter,c},default_sorter:function(z,f){return z.cost-f.cost},push:function(z,f){this.queue.push({value:z,cost:f}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};rt.exports=ge},8419:rt=>{"use strict";rt.exports=function(z){for(var f=[],c=z.length,w=0;w<c;w++){var m=z.charCodeAt(w);if(m>=55296&&m<=56319&&c>w+1){var F=z.charCodeAt(w+1);F>=56320&&F<=57343&&(m=1024*(m-55296)+F-56320+65536,w+=1)}m<128?f.push(m):m<2048?(f.push(m>>6|192),f.push(63&m|128)):m<55296||m>=57344&&m<65536?(f.push(m>>12|224),f.push(m>>6&63|128),f.push(63&m|128)):m>=65536&&m<=1114111?(f.push(m>>18|240),f.push(m>>12&63|128),f.push(m>>6&63|128),f.push(63&m|128)):f.push(239,191,189)}return new Uint8Array(f).buffer}},4327:function(rt,ge){var c;void 0!==(c=function(){"use strict";function m(I,M,J){var R=new XMLHttpRequest;R.open("GET",I),R.responseType="blob",R.onload=function(){x(R.response,M,J)},R.onerror=function(){console.error("could not download file")},R.send()}function F(I){var M=new XMLHttpRequest;M.open("HEAD",I,!1);try{M.send()}catch{}return 200<=M.status&&299>=M.status}function B(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var M=document.createEvent("MouseEvents");M.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(M)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,A=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),x=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(I,M,J){var R=T.URL||T.webkitURL,L=document.createElement("a");L.download=M=M||I.name||"download",L.rel="noopener","string"==typeof I?(L.href=I,L.origin===location.origin?B(L):F(L.href)?m(I,M,J):B(L,L.target="_blank")):(L.href=R.createObjectURL(I),setTimeout(function(){R.revokeObjectURL(L.href)},4e4),setTimeout(function(){B(L)},0))}:"msSaveOrOpenBlob"in navigator?function(I,M,J){if(M=M||I.name||"download","string"!=typeof I)navigator.msSaveOrOpenBlob(function w(I,M){return typeof M>"u"?M={autoBom:!1}:"object"!=typeof M&&(console.warn("Deprecated: Expected third argument to be a object"),M={autoBom:!M}),M.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(I.type)?new Blob(["\ufeff",I],{type:I.type}):I}(I,J),M);else if(F(I))m(I,M,J);else{var R=document.createElement("a");R.href=I,R.target="_blank",setTimeout(function(){B(R)})}}:function(I,M,J,R){if((R=R||open("","_blank"))&&(R.document.title=R.document.body.innerText="downloading..."),"string"==typeof I)return m(I,M,J);var L="application/octet-stream"===I.type,W=/constructor/i.test(T.HTMLElement)||T.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||L&&W||A)&&typeof FileReader<"u"){var K=new FileReader;K.onloadend=function(){var _=K.result;_=P?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=_:location=_,R=null},K.readAsDataURL(I)}else{var E=T.URL||T.webkitURL,S=E.createObjectURL(I);R?R.location=S:location.href=S,R=null,setTimeout(function(){E.revokeObjectURL(S)},4e4)}});T.saveAs=x.saveAs=x,rt.exports=x}.apply(ge,[]))&&(rt.exports=c)},9140:function(rt,ge){!function(z){"use strict";var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,e){H.__proto__=e}||function(H,e){for(var r in e)e.hasOwnProperty(r)&&(H[r]=e[r])};var F=function(H){function e(r){var a=this.constructor,o=H.call(this,r)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1}),function w(H,e){var r=Object.setPrototypeOf;r?r(H,e):H.__proto__=e}(o,a.prototype),function m(H,e){void 0===e&&(e=H.constructor);var r=Error.captureStackTrace;r&&r(H,e)}(o),o}return function c(H,e){function r(){this.constructor=H}f(H,e),H.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,H),e}(Error);let B=(()=>{class H extends F{constructor(r){super(r),this.message=r}getKind(){return this.constructor.kind}}return H.kind="Exception",H})(),T=(()=>{class H extends B{}return H.kind="ArgumentException",H})(),A=(()=>{class H extends B{}return H.kind="IllegalArgumentException",H})();class x{constructor(e){if(this.binarizer=e,null===e)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,a,o){const l=this.binarizer.getLuminanceSource().crop(e,r,a,o);return new x(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let I=(()=>{class H extends B{static getChecksumInstance(){return new H}}return H.kind="ChecksumException",H})();class M{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(e,r,a,o,l){for(;l--;)a[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}let R=(()=>{class H extends B{}return H.kind="IndexOutOfBoundsException",H})(),L=(()=>{class H extends R{constructor(r,a){super(a),this.index=r,this.message=a}}return H.kind="ArrayIndexOutOfBoundsException",H})();class W{static fill(e,r){for(let a=0,o=e.length;a<o;a++)e[a]=r}static fillWithin(e,r,a,o){W.rangeCheck(e.length,r,a);for(let l=r;l<a;l++)e[l]=o}static rangeCheck(e,r,a){if(r>a)throw new A("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new L(r);if(a>e)throw new L(a)}static asList(...e){return e}static create(e,r,a){return Array.from({length:e}).map(l=>Array.from({length:r}).fill(a))}static createInt32Array(e,r,a){return Array.from({length:e}).map(l=>Int32Array.from({length:r}).fill(a))}static equals(e,r){if(!(e&&r&&e.length&&r.length&&e.length===r.length))return!1;for(let a=0,o=e.length;a<o;a++)if(e[a]!==r[a])return!1;return!0}static hashCode(e){if(null===e)return 0;let r=1;for(const a of e)r=31*r+a;return r}static fillUint8Array(e,r){for(let a=0;a!==e.length;a++)e[a]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const a=new Uint8Array(r);return a.set(e),a}return e.slice(0,r)}static copyOfRange(e,r,a){const o=a-r,l=new Int32Array(o);return J.arraycopy(e,r,l,0,o),l}static binarySearch(e,r,a){void 0===a&&(a=W.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const d=l+o>>1,p=a(r,e[d]);if(p>0)o=d+1;else{if(!(p<0))return d;l=d-1}}return-o-1}static numberComparator(e,r){return e-r}}class P{static numberOfTrailingZeros(e){let r;if(0===e)return 32;let a=31;return r=e<<16,0!==r&&(a-=16,e=r),r=e<<8,0!==r&&(a-=8,e=r),r=e<<4,0!==r&&(a-=4,e=r),r=e<<2,0!==r&&(a-=2,e=r),a-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let r=1;return e>>>16==0&&(r+=16,e<<=16),e>>>24==0&&(r+=8,e<<=8),e>>>28==0&&(r+=4,e<<=4),e>>>30==0&&(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r){return parseInt(e,r)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(e,r){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=r??K.makeArray(e))}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const r=K.makeArray(e);J.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const r=this.size;if(e>=r)return r;const a=this.bits;let o=Math.floor(e/32),l=a[o];l&=~((1<<(31&e))-1);const d=a.length;for(;0===l;){if(++o===d)return r;l=a[o]}const p=32*o+P.numberOfTrailingZeros(l);return p>r?r:p}getNextUnset(e){const r=this.size;if(e>=r)return r;const a=this.bits;let o=Math.floor(e/32),l=~a[o];l&=~((1<<(31&e))-1);const d=a.length;for(;0===l;){if(++o===d)return r;l=~a[o]}const p=32*o+P.numberOfTrailingZeros(l);return p>r?r:p}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new A;if(r===e)return;r--;const a=Math.floor(e/32),o=Math.floor(r/32),l=this.bits;for(let d=a;d<=o;d++)l[d]|=(2<<(d<o?31:31&r))-(1<<(d>a?0:31&e))}clear(){const e=this.bits.length,r=this.bits;for(let a=0;a<e;a++)r[a]=0}isRange(e,r,a){if(r<e||e<0||r>this.size)throw new A;if(r===e)return!0;r--;const o=Math.floor(e/32),l=Math.floor(r/32),d=this.bits;for(let p=o;p<=l;p++){const $=(2<<(p<l?31:31&r))-(1<<(p>o?0:31&e))&4294967295;if((d[p]&$)!==(a?$:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit(1==(e>>a-1&1))}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(e.get(a))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const r=this.bits;for(let a=0,o=r.length;a<o;a++)r[a]^=e.bits[a]}toBytes(e,r,a,o){for(let l=0;l<o;l++){let d=0;for(let p=0;p<8;p++)this.get(e)&&(d|=1<<7-p),e++;r[a+l]=d}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,o=this.bits;for(let l=0;l<a;l++){let d=o[l];d=d>>1&1431655765|(1431655765&d)<<1,d=d>>2&858993459|(858993459&d)<<2,d=d>>4&252645135|(252645135&d)<<4,d=d>>8&16711935|(16711935&d)<<8,d=d>>16&65535|(65535&d)<<16,e[r-l]=d}if(this.size!==32*a){const l=32*a-this.size;let d=e[0]>>>l;for(let p=1;p<a;p++){const b=e[p];d|=b<<32-l,e[p-1]=d,d=b>>>l}e[a-1]=d}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){return e instanceof K&&this.size===e.size&&W.equals(this.bits,e.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let e="";for(let r=0,a=this.size;r<a;r++)0==(7&r)&&(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new K(this.size,this.bits.slice())}}var E=(()=>{return(H=E||(E={}))[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",E;var H})(),S=E;let _=(()=>{class H extends B{static getFormatInstance(){return new H}}return H.kind="FormatException",H})();var Q=(()=>{return(H=Q||(Q={}))[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR",Q;var H})();class j{constructor(e,r,a,...o){this.valueIdentifier=e,this.name=a,this.values="number"==typeof r?Int32Array.from([r]):r,this.otherEncodingNames=o,j.VALUE_IDENTIFIER_TO_ECI.set(e,this),j.NAME_TO_ECI.set(a,this);const l=this.values;for(let d=0,p=l.length;d!==p;d++)j.VALUES_TO_ECI.set(l[d],this);for(const d of o)j.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new _("incorect value");const r=j.VALUES_TO_ECI.get(e);if(void 0===r)throw new _("incorect value");return r}static getCharacterSetECIByName(e){const r=j.NAME_TO_ECI.get(e);if(void 0===r)throw new _("incorect value");return r}equals(e){if(!(e instanceof j))return!1;const r=e;return this.getName()===r.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(Q.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(Q.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(Q.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(Q.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(Q.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(Q.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(Q.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(Q.Big5,28,"Big5"),j.GB18030=new j(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(Q.EUC_KR,30,"EUC_KR","EUC-KR");let ie=(()=>{class H extends B{}return H.kind="UnsupportedOperationException",H})();class O{static decode(e,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)}static shouldDecodeOnFallback(e){return!O.isBrowser()&&"ISO-8859-1"===e}static encode(e,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof j?e:j.getCharacterSetECIByName(e)}static decodeFallback(e,r){const a=this.encodingCharacterSet(r);if(O.isDecodeFallbackSupported(a)){let o="";for(let l=0,d=e.length;l<d;l++){let p=e[l].toString(16);p.length<2&&(p="0"+p),o+="%"+p}return decodeURIComponent(o)}if(a.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ie(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(j.UTF8)||e.equals(j.ISO8859_1)||e.equals(j.ASCII)}static encodeFallback(e){const a=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<a.length;l++)o.push(a[l].charCodeAt(0));return new Uint8Array(o)}}class N{static castAsNonUtf8Char(e,r=null){const a=r?r.getName():this.ISO88591;return O.decode(new Uint8Array([e]),a)}static guessEncoding(e,r){if(null!=r&&void 0!==r.get(S.CHARACTER_SET))return r.get(S.CHARACTER_SET).toString();const a=e.length;let o=!0,l=!0,d=!0,p=0,b=0,U=0,$=0,de=0,Se=0,De=0,Qe=0,nt=0,pt=0,At=0;const Ht=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let cr=0;cr<a&&(o||l||d);cr++){const Rt=255&e[cr];d&&(p>0?0==(128&Rt)?d=!1:p--:0!=(128&Rt)&&(0==(64&Rt)?d=!1:(p++,0==(32&Rt)?b++:(p++,0==(16&Rt)?U++:(p++,0==(8&Rt)?$++:d=!1))))),o&&(Rt>127&&Rt<160?o=!1:Rt>159&&(Rt<192||215===Rt||247===Rt)&&At++),l&&(de>0?Rt<64||127===Rt||Rt>252?l=!1:de--:128===Rt||160===Rt||Rt>239?l=!1:Rt>160&&Rt<224?(Se++,Qe=0,De++,De>nt&&(nt=De)):Rt>127?(de++,De=0,Qe++,Qe>pt&&(pt=Qe)):(De=0,Qe=0))}return d&&p>0&&(d=!1),l&&de>0&&(l=!1),d&&(Ht||b+U+$>0)?N.UTF8:l&&(N.ASSUME_SHIFT_JIS||nt>=3||pt>=3)?N.SHIFT_JIS:o&&l?2===nt&&2===Se||10*At>=a?N.SHIFT_JIS:N.ISO88591:o?N.ISO88591:l?N.SHIFT_JIS:d?N.UTF8:N.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let a=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(d,p,b,U,$,de){if("%%"===d)return"%";if(void 0===r[++a])return;d=U?parseInt(U.substr(1)):void 0;let De,Se=$?parseInt($.substr(1)):void 0;switch(de){case"s":De=r[a];break;case"c":De=r[a][0];break;case"f":De=parseFloat(r[a]).toFixed(d);break;case"p":De=parseFloat(r[a]).toPrecision(d);break;case"e":De=parseFloat(r[a]).toExponential(d);break;case"x":De=parseInt(r[a]).toString(Se||16);break;case"d":De=parseFloat(parseInt(r[a],Se||10).toPrecision(d)).toFixed(0)}De="object"==typeof De?JSON.stringify(De):(+De).toString(Se);let Qe=parseInt(b),nt=b&&b[0]+""=="0"?"0":" ";for(;De.length<Qe;)De=void 0!==p?De+nt:nt+De;return De})}static getBytes(e,r){return O.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}N.SHIFT_JIS=j.SJIS.getName(),N.GB2312="GB2312",N.ISO88591=j.ISO8859_1.getName(),N.EUC_JP="EUC_JP",N.UTF8=j.UTF8.getName(),N.PLATFORM_DEFAULT_ENCODING=N.UTF8,N.ASSUME_SHIFT_JIS=!1;class G{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return this.value+="string"==typeof e?e.toString():this.encoding?N.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this}appendChars(e,r,a){for(let o=r;r<r+a;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class g{constructor(e,r,a,o){if(this.width=e,this.height=r,this.rowSize=a,this.bits=o,null==r&&(r=e),this.height=r,e<1||r<1)throw new A("Both dimensions must be greater than 0");null==a&&(a=Math.floor((e+31)/32)),this.rowSize=a,null==o&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,a=e[0].length,o=new g(a,r);for(let l=0;l<r;l++){const d=e[l];for(let p=0;p<a;p++)d[p]&&o.set(p,l)}return o}static parseFromString(e,r,a){if(null===e)throw new A("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,d=0,p=-1,b=0,U=0;for(;U<e.length;)if("\n"===e.charAt(U)||"\r"===e.charAt(U)){if(l>d){if(-1===p)p=l-d;else if(l-d!==p)throw new A("row lengths do not match");d=l,b++}U++}else if(e.substring(U,U+r.length)===r)U+=r.length,o[l]=!0,l++;else{if(e.substring(U,U+a.length)!==a)throw new A("illegal character encountered: "+e.substring(U));U+=a.length,o[l]=!1,l++}if(l>d){if(-1===p)p=l-d;else if(l-d!==p)throw new A("row lengths do not match");b++}const $=new g(p,b);for(let de=0;de<l;de++)o[de]&&$.set(Math.floor(de%p),Math.floor(de/p));return $}get(e,r){const a=r*this.rowSize+Math.floor(e/32);return 0!=(this.bits[a]>>>(31&e)&1)}set(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(31&e)&4294967295}unset(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(31&e)&4294967295)}flip(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const r=new K(Math.floor(this.width/32)+1),a=this.rowSize,o=this.bits;for(let l=0,d=this.height;l<d;l++){const p=l*a,b=e.getRow(l,r).getBitArray();for(let U=0;U<a;U++)o[p+U]^=b[U]}}clear(){const e=this.bits,r=e.length;for(let a=0;a<r;a++)e[a]=0}setRegion(e,r,a,o){if(r<0||e<0)throw new A("Left and top must be nonnegative");if(o<1||a<1)throw new A("Height and width must be at least 1");const l=e+a,d=r+o;if(d>this.height||l>this.width)throw new A("The region must fit inside the matrix");const p=this.rowSize,b=this.bits;for(let U=r;U<d;U++){const $=U*p;for(let de=e;de<l;de++)b[$+Math.floor(de/32)]|=1<<(31&de)&4294967295}}getRow(e,r){null==r||r.getSize()<this.width?r=new K(this.width):r.clear();const a=this.rowSize,o=this.bits,l=e*a;for(let d=0;d<a;d++)r.setBulk(32*d,o[l+d]);return r}setRow(e,r){J.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let a=new K(e),o=new K(e);for(let l=0,d=Math.floor((r+1)/2);l<d;l++)a=this.getRow(l,a),o=this.getRow(r-1-l,o),a.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,a)}getEnclosingRectangle(){const r=this.height,a=this.rowSize,o=this.bits;let l=this.width,d=r,p=-1,b=-1;for(let U=0;U<r;U++)for(let $=0;$<a;$++){const de=o[U*a+$];if(0!==de){if(U<d&&(d=U),U>b&&(b=U),32*$<l){let Se=0;for(;0==(de<<31-Se&4294967295);)Se++;32*$+Se<l&&(l=32*$+Se)}if(32*$+31>p){let Se=31;for(;de>>>Se==0;)Se--;32*$+Se>p&&(p=32*$+Se)}}}return p<l||b<d?null:Int32Array.from([l,d,p-l+1,b-d+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&0===r[a];)a++;if(a===r.length)return null;const o=a/e;let l=a%e*32;const d=r[a];let p=0;for(;0==(d<<31-p&4294967295);)p++;return l+=p,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&0===r[a];)a--;if(a<0)return null;const o=Math.floor(a/e);let l=32*Math.floor(a%e);const d=r[a];let p=31;for(;d>>>p==0;)p--;return l+=p,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){return e instanceof g&&this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&W.equals(this.bits,e.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+W.hashCode(this.bits),e}toString(e="X ",r="  ",a="\n"){return this.buildToString(e,r,a)}buildToString(e,r,a){let o=new G;for(let l=0,d=this.height;l<d;l++){for(let p=0,b=this.width;p<b;p++)o.append(this.get(p,l)?e:r);o.append(a)}return o.toString()}clone(){return new g(this.width,this.height,this.rowSize,this.bits.slice())}}let V=(()=>{class H extends B{static getNotFoundInstance(){return new H}}return H.kind="NotFoundException",H})();class se extends M{constructor(e){super(e),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(e,r){const a=this.getLuminanceSource(),o=a.getWidth();null==r||r.getSize()<o?r=new K(o):r.clear(),this.initArrays(o);const l=a.getRow(e,this.luminances),d=this.buckets;for(let b=0;b<o;b++)d[(255&l[b])>>se.LUMINANCE_SHIFT]++;const p=se.estimateBlackPoint(d);if(o<3)for(let b=0;b<o;b++)(255&l[b])<p&&r.set(b);else{let b=255&l[0],U=255&l[1];for(let $=1;$<o-1;$++){const de=255&l[$+1];(4*U-b-de)/2<p&&r.set($),b=U,U=de}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),a=e.getHeight(),o=new g(r,a);this.initArrays(r);const l=this.buckets;for(let b=1;b<5;b++){const U=Math.floor(a*b/5),$=e.getRow(U,this.luminances),de=Math.floor(4*r/5);for(let Se=Math.floor(r/5);Se<de;Se++)l[(255&$[Se])>>se.LUMINANCE_SHIFT]++}const d=se.estimateBlackPoint(l),p=e.getMatrix();for(let b=0;b<a;b++){const U=b*r;for(let $=0;$<r;$++)(255&p[U+$])<d&&o.set($,b)}return o}createBinarizer(e){return new se(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let a=0;a<se.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(e){const r=e.length;let a=0,o=0,l=0;for(let $=0;$<r;$++)e[$]>l&&(o=$,l=e[$]),e[$]>a&&(a=e[$]);let d=0,p=0;for(let $=0;$<r;$++){const de=$-o,Se=e[$]*de*de;Se>p&&(d=$,p=Se)}if(o>d){const $=o;o=d,d=$}if(d-o<=r/16)throw new V;let b=d-1,U=-1;for(let $=d-1;$>o;$--){const de=$-o,Se=de*de*(d-$)*(a-e[$]);Se>U&&(b=$,U=Se)}return b<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class ne extends se{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),a=e.getHeight();if(r>=ne.MINIMUM_DIMENSION&&a>=ne.MINIMUM_DIMENSION){const o=e.getMatrix();let l=r>>ne.BLOCK_SIZE_POWER;0!=(r&ne.BLOCK_SIZE_MASK)&&l++;let d=a>>ne.BLOCK_SIZE_POWER;0!=(a&ne.BLOCK_SIZE_MASK)&&d++;const p=ne.calculateBlackPoints(o,l,d,r,a),b=new g(r,a);ne.calculateThresholdForBlock(o,l,d,r,a,p,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ne(e)}static calculateThresholdForBlock(e,r,a,o,l,d,p){const b=l-ne.BLOCK_SIZE,U=o-ne.BLOCK_SIZE;for(let $=0;$<a;$++){let de=$<<ne.BLOCK_SIZE_POWER;de>b&&(de=b);const Se=ne.cap($,2,a-3);for(let De=0;De<r;De++){let Qe=De<<ne.BLOCK_SIZE_POWER;Qe>U&&(Qe=U);const nt=ne.cap(De,2,r-3);let pt=0;for(let Ht=-2;Ht<=2;Ht++){const cr=d[Se+Ht];pt+=cr[nt-2]+cr[nt-1]+cr[nt]+cr[nt+1]+cr[nt+2]}ne.thresholdBlock(e,Qe,de,pt/25,o,p)}}}static cap(e,r,a){return e<r?r:e>a?a:e}static thresholdBlock(e,r,a,o,l,d){for(let p=0,b=a*l+r;p<ne.BLOCK_SIZE;p++,b+=l)for(let U=0;U<ne.BLOCK_SIZE;U++)(255&e[b+U])<=o&&d.set(r+U,a+p)}static calculateBlackPoints(e,r,a,o,l){const d=l-ne.BLOCK_SIZE,p=o-ne.BLOCK_SIZE,b=new Array(a);for(let U=0;U<a;U++){b[U]=new Int32Array(r);let $=U<<ne.BLOCK_SIZE_POWER;$>d&&($=d);for(let de=0;de<r;de++){let Se=de<<ne.BLOCK_SIZE_POWER;Se>p&&(Se=p);let De=0,Qe=255,nt=0;for(let At=0,Ht=$*o+Se;At<ne.BLOCK_SIZE;At++,Ht+=o){for(let cr=0;cr<ne.BLOCK_SIZE;cr++){const Rt=255&e[Ht+cr];De+=Rt,Rt<Qe&&(Qe=Rt),Rt>nt&&(nt=Rt)}if(nt-Qe>ne.MIN_DYNAMIC_RANGE)for(At++,Ht+=o;At<ne.BLOCK_SIZE;At++,Ht+=o)for(let cr=0;cr<ne.BLOCK_SIZE;cr++)De+=255&e[Ht+cr]}let pt=De>>2*ne.BLOCK_SIZE_POWER;if(nt-Qe<=ne.MIN_DYNAMIC_RANGE&&(pt=Qe/2,U>0&&de>0)){const At=(b[U-1][de]+2*b[U][de-1]+b[U-1][de-1])/4;Qe<At&&(pt=At)}b[U][de]=pt}}return b}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=5*ne.BLOCK_SIZE,ne.MIN_DYNAMIC_RANGE=24;class xe{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,a,o){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new G;for(let a=0;a<this.height;a++){const o=this.getRow(a,e);for(let l=0;l<this.width;l++){const d=255&o[l];let p;p=d<64?"#":d<128?"+":d<192?".":" ",r.append(p)}r.append("\n")}return r.toString()}}class _e extends xe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const a=this.delegate.getRow(e,r),o=this.getWidth();for(let l=0;l<o;l++)a[l]=255-(255&a[l]);return a}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let o=0;o<r;o++)a[o]=255-(255&e[o]);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,a,o){return new _e(this.delegate.crop(e,r,a,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class Ke extends xe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ke.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ke.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,a){const o=new Uint8ClampedArray(r*a);for(let l=0,d=0,p=e.length;l<p;l+=4,d++){let b;b=0===e[l+3]?255:306*e[l]+601*e[l+1]+117*e[l+2]+512>>10,o[d]=b}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const a=this.getWidth(),o=e*a;return null===r?r=this.buffer.slice(o,o+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(o,o+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,a,o){return super.crop(e,r,a,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),a=r.getContext("2d"),o=e*Ke.DEGREE_TO_RADIANS,l=this.canvas.width,d=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*d),b=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*d);return r.width=p,r.height=b,a.translate(p/2,b/2),a.rotate(o),a.drawImage(this.canvas,l/-2,d/-2),this.buffer=Ke.makeBufferFromCanvasImageData(r),this}invert(){return new _e(this)}}Ke.DEGREE_TO_RADIANS=Math.PI/180;class it{constructor(e,r,a){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var at=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(H,e,r,a){return new(r||(r=Promise))(function(l,d){function p($){try{U(a.next($))}catch(de){d(de)}}function b($){try{U(a.throw($))}catch(de){d(de)}}function U($){$.done?l($.value):function o(l){return l instanceof r?l:new r(function(d){d(l)})}($.value).then(p,b)}U((a=a.apply(H,e||[])).next())})};class Le{constructor(e,r=500,a){this.reader=e,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return at(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of e){const o="video"===a.kind?"videoinput":a.kind;"videoinput"===o&&r.push({deviceId:a.deviceId||a.id,label:a.label||`Video device ${r.length+1}`,kind:o,groupId:a.groupId})}return r})}getVideoInputDevices(){return at(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new it(r.deviceId,r.label))})}findDeviceById(e){return at(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return at(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return at(this,void 0,void 0,function*(){let a;this.reset(),a=e?{deviceId:{exact:e}}:{facingMode:"environment"};const o={video:a};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return at(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(e,r){return at(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(e,r,a){return at(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,a)})}decodeFromVideoDevice(e,r,a){return at(this,void 0,void 0,function*(){let o;o=e?{deviceId:{exact:e}}:{facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,a)})}decodeFromConstraints(e,r,a){return at(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,a)})}decodeFromStream(e,r,a){return at(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return at(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,e),this.videoElement=a,this.stream=e,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(e){return new Promise((r,a)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return at(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const a=document.getElementById(e);if(!a)throw new T(`element with id '${e}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new T(`element with id '${e}' must be an ${r} element`);return a}decodeFromImage(e,r){if(!e&&!r)throw new T("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,a){if(void 0===e&&void 0===r)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(e,a)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);let a;return this.imageElement=r,a=this.isImageLoaded(r)?this.decodeOnce(r,!1,!0):this._decodeOnLoadImage(r),a}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=e,a}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=e,a}decodeFromVideoUrlContinuously(e,r){if(!e)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(a,r);return a.src=e,o}_decodeOnLoadImage(e){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,a),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return at(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return at(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||0===e.naturalWidth)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),"string"==typeof e&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),"string"==typeof e&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,a=!0){this._stopAsyncDecode=!1;const o=(l,d)=>{if(this._stopAsyncDecode)return d(new V("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{l(this.decode(e))}catch(p){const $=(p instanceof I||p instanceof _)&&a;if(r&&p instanceof V||$)return setTimeout(o,this._timeBetweenDecodingAttempts,l,d);d(p)}};return new Promise((l,d)=>o(l,d))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const o=this.decode(e);r(o,null),setTimeout(a,this.timeBetweenScansMillis)}catch(o){r(null,o);const d=o instanceof V;(o instanceof I||o instanceof _||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}createBinaryBitmap(e){const r=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(r,e);const a=this.getCaptureCanvas(e),o=new Ke(a),l=new ne(o);return new x(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}drawImageOnCanvas(e,r){e.drawImage(r,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=a+"px",r.style.height=o+"px",r.width=a,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class qe{constructor(e,r,a=(null==r?0:8*r.length),o,l,d=J.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=a,this.resultPoints=o,this.format=l,this.timestamp=d,this.text=e,this.rawBytes=r,this.numBits=a??(null==r?0:8*r.length),this.resultPoints=o,this.format=l,this.resultMetadata=null,this.timestamp=d??J.currentTimeMillis()}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))}addResultPoints(e){const r=this.resultPoints;if(null===r)this.resultPoints=e;else if(null!==e&&e.length>0){const a=new Array(r.length+e.length);J.arraycopy(r,0,a,0,r.length),J.arraycopy(e,0,a,r.length,e.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ft=(()=>{return(H=ft||(ft={}))[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",ft;var H})(),Je=ft,Yt=(()=>{return(H=Yt||(Yt={}))[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",Yt;var H})(),ht=Yt;class dr{constructor(e,r,a,o,l=-1,d=-1){this.rawBytes=e,this.text=r,this.byteSegments=a,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=d,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Mt{exp(e){return this.expTable[e]}log(e){if(0===e)throw new A;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class yr{constructor(e,r){if(0===r.length)throw new A;this.field=e;const a=r.length;if(a>1&&0===r[0]){let o=1;for(;o<a&&0===r[o];)o++;o===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-o),J.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const r=this.coefficients;let a;if(1===e){a=0;for(let d=0,p=r.length;d!==p;d++)a=Mt.addOrSubtract(a,r[d]);return a}a=r[0];const o=r.length,l=this.field;for(let d=1;d<o;d++)a=Mt.addOrSubtract(l.multiply(e,a),r[d]);return a}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,a=e.coefficients;if(r.length>a.length){const d=r;r=a,a=d}let o=new Int32Array(a.length);const l=a.length-r.length;J.arraycopy(a,0,o,0,l);for(let d=l;d<a.length;d++)o[d]=Mt.addOrSubtract(r[d-l],a[d]);return new yr(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,o=e.coefficients,l=o.length,d=new Int32Array(a+l-1),p=this.field;for(let b=0;b<a;b++){const U=r[b];for(let $=0;$<l;$++)d[b+$]=Mt.addOrSubtract(d[b+$],p.multiply(U,o[$]))}return new yr(p,d)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const r=this.coefficients.length,a=this.field,o=new Int32Array(r),l=this.coefficients;for(let d=0;d<r;d++)o[d]=a.multiply(l[d],e);return new yr(a,o)}multiplyByMonomial(e,r){if(e<0)throw new A;if(0===r)return this.field.getZero();const a=this.coefficients,o=a.length,l=new Int32Array(o+e),d=this.field;for(let p=0;p<o;p++)l[p]=d.multiply(a[p],r);return new yr(d,l)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const r=this.field;let a=r.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),d=r.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const p=o.getDegree()-e.getDegree(),b=r.multiply(o.getCoefficient(o.getDegree()),d),U=e.multiplyByMonomial(p,b),$=r.buildMonomial(p,b);a=a.addOrSubtract($),o=o.addOrSubtract(U)}return[a,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(0!==a){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),0===r||1!==a){const o=this.field.log(a);0===o?e+="1":1===o?e+="a":(e+="a^",e+=o)}0!==r&&(1===r?e+="x":(e+="x^",e+=r))}}return e}}let or=(()=>{class H extends B{}return H.kind="ArithmeticException",H})();class et extends Mt{constructor(e,r,a){super(),this.primitive=e,this.size=r,this.generatorBase=a;const o=new Int32Array(r);let l=1;for(let p=0;p<r;p++)o[p]=l,l*=2,l>=r&&(l^=e,l&=r-1);this.expTable=o;const d=new Int32Array(r);for(let p=0;p<r-1;p++)d[o[p]]=p;this.logTable=d,this.zero=new yr(this,Int32Array.from([0])),this.one=new yr(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(0===r)return this.zero;const a=new Int32Array(e+1);return a[0]=r,new yr(this,a)}inverse(e){if(0===e)throw new or;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;let gt=(()=>{class H extends B{}return H.kind="ReedSolomonException",H})(),X=(()=>{class H extends B{}return H.kind="IllegalStateException",H})();class Z{constructor(e){this.field=e}decode(e,r){const a=this.field,o=new yr(a,e),l=new Int32Array(r);let d=!0;for(let De=0;De<r;De++){const Qe=o.evaluateAt(a.exp(De+a.getGeneratorBase()));l[l.length-1-De]=Qe,0!==Qe&&(d=!1)}if(d)return;const p=new yr(a,l),b=this.runEuclideanAlgorithm(a.buildMonomial(r,1),p,r),$=b[1],de=this.findErrorLocations(b[0]),Se=this.findErrorMagnitudes($,de);for(let De=0;De<de.length;De++){const Qe=e.length-1-a.log(de[De]);if(Qe<0)throw new gt("Bad error location");e[Qe]=et.addOrSubtract(e[Qe],Se[De])}}runEuclideanAlgorithm(e,r,a){if(e.getDegree()<r.getDegree()){const De=e;e=r,r=De}const o=this.field;let l=e,d=r,p=o.getZero(),b=o.getOne();for(;d.getDegree()>=(a/2|0);){let De=l,Qe=p;if(l=d,p=b,l.isZero())throw new gt("r_{i-1} was zero");d=De;let nt=o.getZero();const pt=l.getCoefficient(l.getDegree()),At=o.inverse(pt);for(;d.getDegree()>=l.getDegree()&&!d.isZero();){const Ht=d.getDegree()-l.getDegree(),cr=o.multiply(d.getCoefficient(d.getDegree()),At);nt=nt.addOrSubtract(o.buildMonomial(Ht,cr)),d=d.addOrSubtract(l.multiplyByMonomial(Ht,cr))}if(b=nt.multiply(p).addOrSubtract(Qe),d.getDegree()>=l.getDegree())throw new X("Division algorithm failed to reduce polynomial?")}const U=b.getCoefficient(0);if(0===U)throw new gt("sigmaTilde(0) was zero");const $=o.inverse(U);return[b.multiplyScalar($),d.multiplyScalar($)]}findErrorLocations(e){const r=e.getDegree();if(1===r)return Int32Array.from([e.getCoefficient(1)]);const a=new Int32Array(r);let o=0;const l=this.field;for(let d=1;d<l.getSize()&&o<r;d++)0===e.evaluateAt(d)&&(a[o]=l.inverse(d),o++);if(o!==r)throw new gt("Error locator degree does not match number of roots");return a}findErrorMagnitudes(e,r){const a=r.length,o=new Int32Array(a),l=this.field;for(let d=0;d<a;d++){const p=l.inverse(r[d]);let b=1;for(let U=0;U<a;U++)if(d!==U){const $=l.multiply(r[U],p);b=l.multiply(b,0==(1&$)?1|$:-2&$)}o[d]=l.multiply(e.evaluateAt(p),l.inverse(b)),0!==l.getGeneratorBase()&&(o[d]=l.multiply(o[d],p))}return o}}var ue=(()=>{return(H=ue||(ue={}))[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY",ue;var H})();let Oe=(()=>{class H{decode(r){this.ddata=r;let a=r.getBits(),o=this.extractBits(a),l=this.correctBits(o),d=H.convertBoolArrayToByteArray(l),p=H.getEncodedData(l),b=new dr(d,p,null,null);return b.setNumBits(l.length),b}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let a=r.length,o=ue.UPPER,l=ue.UPPER,d="",p=0;for(;p<a;)if(l===ue.BINARY){if(a-p<5)break;let b=H.readCode(r,p,5);if(p+=5,0===b){if(a-p<11)break;b=H.readCode(r,p,11)+31,p+=11}for(let U=0;U<b;U++){if(a-p<8){p=a;break}const $=H.readCode(r,p,8);d+=N.castAsNonUtf8Char($),p+=8}l=o}else{let b=l===ue.DIGIT?4:5;if(a-p<b)break;let U=H.readCode(r,p,b);p+=b;let $=H.getCharacter(l,U);$.startsWith("CTRL_")?(o=l,l=H.getTable($.charAt(5)),"L"===$.charAt(6)&&(o=l)):(d+=$,l=o)}return d}static getTable(r){switch(r){case"L":return ue.LOWER;case"P":return ue.PUNCT;case"M":return ue.MIXED;case"D":return ue.DIGIT;case"B":return ue.BINARY;default:return ue.UPPER}}static getCharacter(r,a){switch(r){case ue.UPPER:return H.UPPER_TABLE[a];case ue.LOWER:return H.LOWER_TABLE[a];case ue.MIXED:return H.MIXED_TABLE[a];case ue.PUNCT:return H.PUNCT_TABLE[a];case ue.DIGIT:return H.DIGIT_TABLE[a];default:throw new X("Bad table")}}correctBits(r){let a,o;this.ddata.getNbLayers()<=2?(o=6,a=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,a=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,a=et.AZTEC_DATA_10):(o=12,a=et.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),d=r.length/o;if(d<l)throw new _;let p=r.length%o,b=new Int32Array(d);for(let De=0;De<d;De++,p+=o)b[De]=H.readCode(r,p,o);try{new Z(a).decode(b,d-l)}catch(De){throw new _(De)}let U=(1<<o)-1,$=0;for(let De=0;De<l;De++){let Qe=b[De];if(0===Qe||Qe===U)throw new _;(1===Qe||Qe===U-1)&&$++}let de=new Array(l*o-$),Se=0;for(let De=0;De<l;De++){let Qe=b[De];if(1===Qe||Qe===U-1)de.fill(Qe>1,Se,Se+o-1),Se+=o-1;else for(let nt=o-1;nt>=0;--nt)de[Se++]=0!=(Qe&1<<nt)}return de}extractBits(r){let a=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(a?11:14)+4*o,d=new Int32Array(l),p=new Array(this.totalBitsInLayer(o,a));if(a)for(let b=0;b<d.length;b++)d[b]=b;else{let b=l+1+2*P.truncDivision(P.truncDivision(l,2)-1,15),U=l/2,$=P.truncDivision(b,2);for(let de=0;de<U;de++){let Se=de+P.truncDivision(de,15);d[U-de-1]=$-Se-1,d[U+de]=$+Se+1}}for(let b=0,U=0;b<o;b++){let $=4*(o-b)+(a?9:12),de=2*b,Se=l-1-de;for(let De=0;De<$;De++){let Qe=2*De;for(let nt=0;nt<2;nt++)p[U+Qe+nt]=r.get(d[de+nt],d[de+De]),p[U+2*$+Qe+nt]=r.get(d[de+De],d[Se-nt]),p[U+4*$+Qe+nt]=r.get(d[Se-nt],d[Se-De]),p[U+6*$+Qe+nt]=r.get(d[Se-De],d[de+nt])}U+=8*$}return p}static readCode(r,a,o){let l=0;for(let d=a;d<a+o;d++)l<<=1,r[d]&&(l|=1);return l}static readByte(r,a){let o=r.length-a;return o>=8?H.readCode(r,a,8):H.readCode(r,a,o)<<8-o}static convertBoolArrayToByteArray(r){let a=new Uint8Array((r.length+7)/8);for(let o=0;o<a.length;o++)a[o]=H.readByte(r,8*o);return a}totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}return H.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],H.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],H.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],H.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],H.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],H})();class Xe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,a,o){const l=e-a,d=r-o;return Math.sqrt(l*l+d*d)}static sum(e){let r=0;for(let a=0,o=e.length;a!==o;a++)r+=e[a];return r}}class ee{static floatToIntBits(e){return e}}ee.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Pe){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ee.floatToIntBits(this.x)+ee.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,d,p;if(a>=r&&a>=o?(d=e[0],l=e[1],p=e[2]):o>=a&&o>=r?(d=e[1],l=e[0],p=e[2]):(d=e[2],l=e[0],p=e[1]),this.crossProductZ(l,d,p)<0){const b=l;l=p,p=b}e[0]=l,e[1]=d,e[2]=p}static distance(e,r){return Xe.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,a){const o=r.x,l=r.y;return(a.x-o)*(e.y-l)-(a.y-l)*(e.x-o)}}class Ft{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ar extends Ft{constructor(e,r,a,o,l){super(e,r),this.compact=a,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let rr=(()=>{class H{constructor(r,a,o,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),null==a&&(a=H.INIT_SIZE),null==o&&(o=r.getWidth()/2|0),null==l&&(l=r.getHeight()/2|0);const d=a/2|0;if(this.leftInit=o-d,this.rightInit=o+d,this.upInit=l-d,this.downInit=l+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let r=this.leftInit,a=this.rightInit,o=this.upInit,l=this.downInit,d=!1,p=!0,b=!1,U=!1,$=!1,de=!1,Se=!1;const De=this.width,Qe=this.height;for(;p;){p=!1;let nt=!0;for(;(nt||!U)&&a<De;)nt=this.containsBlackPoint(o,l,a,!1),nt?(a++,p=!0,U=!0):U||a++;if(a>=De){d=!0;break}let pt=!0;for(;(pt||!$)&&l<Qe;)pt=this.containsBlackPoint(r,a,l,!0),pt?(l++,p=!0,$=!0):$||l++;if(l>=Qe){d=!0;break}let At=!0;for(;(At||!de)&&r>=0;)At=this.containsBlackPoint(o,l,r,!1),At?(r--,p=!0,de=!0):de||r--;if(r<0){d=!0;break}let Ht=!0;for(;(Ht||!Se)&&o>=0;)Ht=this.containsBlackPoint(r,a,o,!0),Ht?(o--,p=!0,Se=!0):Se||o--;if(o<0){d=!0;break}p&&(b=!0)}if(!d&&b){const nt=a-r;let pt=null;for(let Rt=1;null===pt&&Rt<nt;Rt++)pt=this.getBlackPointOnSegment(r,l-Rt,r+Rt,l);if(null==pt)throw new V;let At=null;for(let Rt=1;null===At&&Rt<nt;Rt++)At=this.getBlackPointOnSegment(r,o+Rt,r+Rt,o);if(null==At)throw new V;let Ht=null;for(let Rt=1;null===Ht&&Rt<nt;Rt++)Ht=this.getBlackPointOnSegment(a,o+Rt,a-Rt,o);if(null==Ht)throw new V;let cr=null;for(let Rt=1;null===cr&&Rt<nt;Rt++)cr=this.getBlackPointOnSegment(a,l-Rt,a-Rt,l);if(null==cr)throw new V;return this.centerEdges(cr,pt,Ht,At)}throw new V}getBlackPointOnSegment(r,a,o,l){const d=Xe.round(Xe.distance(r,a,o,l)),p=(o-r)/d,b=(l-a)/d,U=this.image;for(let $=0;$<d;$++){const de=Xe.round(r+$*p),Se=Xe.round(a+$*b);if(U.get(de,Se))return new Pe(de,Se)}return null}centerEdges(r,a,o,l){const d=r.getX(),p=r.getY(),b=a.getX(),U=a.getY(),$=o.getX(),de=o.getY(),Se=l.getX(),De=l.getY(),Qe=H.CORR;return d<this.width/2?[new Pe(Se-Qe,De+Qe),new Pe(b+Qe,U+Qe),new Pe($-Qe,de-Qe),new Pe(d+Qe,p-Qe)]:[new Pe(Se+Qe,De+Qe),new Pe(b+Qe,U-Qe),new Pe($-Qe,de+Qe),new Pe(d-Qe,p-Qe)]}containsBlackPoint(r,a,o,l){const d=this.image;if(l){for(let p=r;p<=a;p++)if(d.get(p,o))return!0}else for(let p=r;p<=a;p++)if(d.get(o,p))return!0;return!1}}return H.INIT_SIZE=10,H.CORR=1,H})();class kt{static checkAndNudgePoints(e,r){const a=e.getWidth(),o=e.getHeight();let l=!0;for(let d=0;d<r.length&&l;d+=2){const p=Math.floor(r[d]),b=Math.floor(r[d+1]);if(p<-1||p>a||b<-1||b>o)throw new V;l=!1,-1===p?(r[d]=0,l=!0):p===a&&(r[d]=a-1,l=!0),-1===b?(r[d+1]=0,l=!0):b===o&&(r[d+1]=o-1,l=!0)}l=!0;for(let d=r.length-2;d>=0&&l;d-=2){const p=Math.floor(r[d]),b=Math.floor(r[d+1]);if(p<-1||p>a||b<-1||b>o)throw new V;l=!1,-1===p?(r[d]=0,l=!0):p===a&&(r[d]=a-1,l=!0),-1===b?(r[d+1]=0,l=!0):b===o&&(r[d+1]=o-1,l=!0)}}}class jt{constructor(e,r,a,o,l,d,p,b,U){this.a11=e,this.a21=r,this.a31=a,this.a12=o,this.a22=l,this.a32=d,this.a13=p,this.a23=b,this.a33=U}static quadrilateralToQuadrilateral(e,r,a,o,l,d,p,b,U,$,de,Se,De,Qe,nt,pt){const At=jt.quadrilateralToSquare(e,r,a,o,l,d,p,b);return jt.squareToQuadrilateral(U,$,de,Se,De,Qe,nt,pt).times(At)}transformPoints(e){const r=e.length,a=this.a11,o=this.a12,l=this.a13,d=this.a21,p=this.a22,b=this.a23,U=this.a31,$=this.a32,de=this.a33;for(let Se=0;Se<r;Se+=2){const De=e[Se],Qe=e[Se+1],nt=l*De+b*Qe+de;e[Se]=(a*De+d*Qe+U)/nt,e[Se+1]=(o*De+p*Qe+$)/nt}}transformPointsWithValues(e,r){const a=this.a11,o=this.a12,l=this.a13,d=this.a21,p=this.a22,b=this.a23,U=this.a31,$=this.a32,de=this.a33,Se=e.length;for(let De=0;De<Se;De++){const Qe=e[De],nt=r[De],pt=l*Qe+b*nt+de;e[De]=(a*Qe+d*nt+U)/pt,r[De]=(o*Qe+p*nt+$)/pt}}static squareToQuadrilateral(e,r,a,o,l,d,p,b){const U=e-a+l-p,$=r-o+d-b;if(0===U&&0===$)return new jt(a-e,l-a,e,o-r,d-o,r,0,0,1);{const de=a-l,Se=p-l,De=o-d,Qe=b-d,nt=de*Qe-Se*De,pt=(U*Qe-Se*$)/nt,At=(de*$-U*De)/nt;return new jt(a-e+pt*a,p-e+At*p,e,o-r+pt*o,b-r+At*b,r,pt,At,1)}}static quadrilateralToSquare(e,r,a,o,l,d,p,b){return jt.squareToQuadrilateral(e,r,a,o,l,d,p,b).buildAdjoint()}buildAdjoint(){return new jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new jt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class pr extends kt{sampleGrid(e,r,a,o,l,d,p,b,U,$,de,Se,De,Qe,nt,pt,At,Ht,cr){const Rt=jt.quadrilateralToQuadrilateral(o,l,d,p,b,U,$,de,Se,De,Qe,nt,pt,At,Ht,cr);return this.sampleGridWithTransform(e,r,a,Rt)}sampleGridWithTransform(e,r,a,o){if(r<=0||a<=0)throw new V;const l=new g(r,a),d=new Float32Array(2*r);for(let p=0;p<a;p++){const b=d.length,U=p+.5;for(let $=0;$<b;$+=2)d[$]=$/2+.5,d[$+1]=U;o.transformPoints(d),kt.checkAndNudgePoints(e,d);try{for(let $=0;$<b;$+=2)e.get(Math.floor(d[$]),Math.floor(d[$+1]))&&l.set($/2,p)}catch{throw new V}}return l}}class Ar{static setGridSampler(e){Ar.gridSampler=e}static getInstance(){return Ar.gridSampler}}Ar.gridSampler=new pr;class re{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Lt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(e){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let o=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),l=this.getMatrixCornerPoints(a);return new ar(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new V;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(a,r);let o=0;for(let d=0;d<4;d++){let p=a[(this.shift+d)%4];this.compact?(o<<=7,o+=p>>1&127):(o<<=10,o+=(p>>2&992)+(p>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=1+(l>>6),this.nbDataBlocks=1+(63&l)):(this.nbLayers=1+(l>>11),this.nbDataBlocks=1+(2047&l))}getRotation(e,r){let a=0;e.forEach((o,l,d)=>{a=(o>>r-2<<1)+(1&o)+(a<<3)}),a=((1&a)<<11)+(a>>1);for(let o=0;o<4;o++)if(P.bitCount(a^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new V}getCorrectedParameterData(e,r){let a,o;r?(a=7,o=2):(a=10,o=4);let l=a-o,d=new Int32Array(a);for(let b=a-1;b>=0;--b)d[b]=15&e,e>>=4;try{new Z(et.AZTEC_PARAM).decode(d,l)}catch{throw new V}let p=0;for(let b=0;b<o;b++)p=(p<<4)+d[b];return p}getBullsEyeCorners(e){let r=e,a=e,o=e,l=e,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let de=this.getFirstDifferent(r,d,1,-1),Se=this.getFirstDifferent(a,d,1,1),De=this.getFirstDifferent(o,d,-1,1),Qe=this.getFirstDifferent(l,d,-1,-1);if(this.nbCenterLayers>2){let nt=this.distancePoint(Qe,de)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(nt<.75||nt>1.25||!this.isWhiteOrBlackRectangle(de,Se,De,Qe))break}r=de,a=Se,o=De,l=Qe,d=!d}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new V;this.compact=5===this.nbCenterLayers;let p=new Pe(r.getX()+.5,r.getY()-.5),b=new Pe(a.getX()+.5,a.getY()+.5),U=new Pe(o.getX()-.5,o.getY()+.5),$=new Pe(l.getX()-.5,l.getY()-.5);return this.expandSquare([p,b,U,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,a,o;try{let p=new rr(this.image).detect();e=p[0],r=p[1],a=p[2],o=p[3]}catch{let b=this.image.getWidth()/2,U=this.image.getHeight()/2;e=this.getFirstDifferent(new re(b+7,U-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new re(b+7,U+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new re(b-7,U+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new re(b-7,U-7),!1,-1,-1).toResultPoint()}let l=Xe.round((e.getX()+o.getX()+r.getX()+a.getX())/4),d=Xe.round((e.getY()+o.getY()+r.getY()+a.getY())/4);try{let p=new rr(this.image,15,l,d).detect();e=p[0],r=p[1],a=p[2],o=p[3]}catch{e=this.getFirstDifferent(new re(l+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new re(l+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new re(l-7,d+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new re(l-7,d-7),!1,-1,-1).toResultPoint()}return l=Xe.round((e.getX()+o.getX()+r.getX()+a.getX())/4),d=Xe.round((e.getY()+o.getY()+r.getY()+a.getY())/4),new re(l,d)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,a,o,l){let d=Ar.getInstance(),p=this.getDimension(),b=p/2-this.nbCenterLayers,U=p/2+this.nbCenterLayers;return d.sampleGrid(e,p,p,b,b,U,b,U,U,b,U,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,r,a){let o=0,l=this.distanceResultPoint(e,r),d=l/a,p=e.getX(),b=e.getY(),U=d*(r.getX()-e.getX())/l,$=d*(r.getY()-e.getY())/l;for(let de=0;de<a;de++)this.image.get(Xe.round(p+de*U),Xe.round(b+de*$))&&(o|=1<<a-de-1);return o}isWhiteOrBlackRectangle(e,r,a,o){e=new re(e.getX()-3,e.getY()+3),r=new re(r.getX()-3,r.getY()-3),a=new re(a.getX()+3,a.getY()-3),o=new re(o.getX()+3,o.getY()+3);let d=this.getColor(o,e);if(0===d)return!1;let p=this.getColor(e,r);return p===d&&(p=this.getColor(r,a),p===d)&&(p=this.getColor(a,o),p===d)}getColor(e,r){let a=this.distancePoint(e,r),o=(r.getX()-e.getX())/a,l=(r.getY()-e.getY())/a,d=0,p=e.getX(),b=e.getY(),U=this.image.get(e.getX(),e.getY()),$=Math.ceil(a);for(let Se=0;Se<$;Se++)p+=o,b+=l,this.image.get(Xe.round(p),Xe.round(b))!==U&&d++;let de=d/a;return de>.1&&de<.9?0:de<=.1===U?1:-1}getFirstDifferent(e,r,a,o){let l=e.getX()+a,d=e.getY()+o;for(;this.isValid(l,d)&&this.image.get(l,d)===r;)l+=a,d+=o;for(l-=a,d-=o;this.isValid(l,d)&&this.image.get(l,d)===r;)l+=a;for(l-=a;this.isValid(l,d)&&this.image.get(l,d)===r;)d+=o;return d-=o,new re(l,d)}expandSquare(e,r,a){let o=a/(2*r),l=e[0].getX()-e[2].getX(),d=e[0].getY()-e[2].getY(),p=(e[0].getX()+e[2].getX())/2,b=(e[0].getY()+e[2].getY())/2,U=new Pe(p+o*l,b+o*d),$=new Pe(p-o*l,b-o*d);return l=e[1].getX()-e[3].getX(),d=e[1].getY()-e[3].getY(),p=(e[1].getX()+e[3].getX())/2,b=(e[1].getY()+e[3].getY())/2,[U,new Pe(p+o*l,b+o*d),$,new Pe(p-o*l,b-o*d)]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=Xe.round(e.getX()),a=Xe.round(e.getY());return this.isValid(r,a)}distancePoint(e,r){return Xe.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return Xe.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class sn{decode(e,r=null){let a=null,o=new Lt(e.getBlackMatrix()),l=null,d=null;try{let $=o.detectMirror(!1);l=$.getPoints(),this.reportFoundResultPoints(r,l),d=(new Oe).decode($)}catch($){a=$}if(null==d)try{let $=o.detectMirror(!0);l=$.getPoints(),this.reportFoundResultPoints(r,l),d=(new Oe).decode($)}catch($){throw a??$}let p=new qe(d.getText(),d.getRawBytes(),d.getNumBits(),l,Je.AZTEC,J.currentTimeMillis()),b=d.getByteSegments();null!=b&&p.putMetadata(ht.BYTE_SEGMENTS,b);let U=d.getECLevel();return null!=U&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,U),p}reportFoundResultPoints(e,r){if(null!=e){let a=e.get(S.NEED_RESULT_POINT_CALLBACK);null!=a&&r.forEach((o,l,d)=>{a.foundPossibleResultPoint(o)})}}reset(){}}class wr{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&!0===r.get(S.TRY_HARDER)&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),d=this.doDecode(l,r),p=d.getResultMetadata();let b=270;null!==p&&!0===p.get(ht.ORIENTATION)&&(b+=p.get(ht.ORIENTATION)%360),d.putMetadata(ht.ORIENTATION,b);const U=d.getResultPoints();if(null!==U){const $=l.getHeight();for(let de=0;de<U.length;de++)U[de]=new Pe($-U[de].getY()-1,U[de].getX())}return d}throw new V}}reset(){}doDecode(e,r){const a=e.getWidth(),o=e.getHeight();let l=new K(a);const d=r&&!0===r.get(S.TRY_HARDER),p=Math.max(1,o>>(d?8:5));let b;b=d?o:15;const U=Math.trunc(o/2);for(let $=0;$<b;$++){const de=Math.trunc(($+1)/2),De=U+p*(0==(1&$)?de:-de);if(De<0||De>=o)break;try{l=e.getBlackRow(De,l)}catch{continue}for(let Qe=0;Qe<2;Qe++){if(1===Qe&&(l.reverse(),r&&!0===r.get(S.NEED_RESULT_POINT_CALLBACK))){const nt=new Map;r.forEach((pt,At)=>nt.set(At,pt)),nt.delete(S.NEED_RESULT_POINT_CALLBACK),r=nt}try{const nt=this.decodeRow(De,l,r);if(1===Qe){nt.putMetadata(ht.ORIENTATION,180);const pt=nt.getResultPoints();null!==pt&&(pt[0]=new Pe(a-pt[0].getX()-1,pt[0].getY()),pt[1]=new Pe(a-pt[1].getX()-1,pt[1].getY()))}return nt}catch{}}}throw new V}static recordPattern(e,r,a){const o=a.length;for(let U=0;U<o;U++)a[U]=0;const l=e.getSize();if(r>=l)throw new V;let d=!e.get(r),p=0,b=r;for(;b<l;){if(e.get(b)!==d)a[p]++;else{if(++p===o)break;a[p]=1,d=!d}b++}if(p!==o&&(p!==o-1||b!==l))throw new V}static recordPatternInReverse(e,r,a){let o=a.length,l=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new V;wr.recordPattern(e,r+1,a)}static patternMatchVariance(e,r,a){const o=e.length;let l=0,d=0;for(let U=0;U<o;U++)l+=e[U],d+=r[U];if(l<d)return Number.POSITIVE_INFINITY;const p=l/d;a*=p;let b=0;for(let U=0;U<o;U++){const $=e[U],de=r[U]*p,Se=$>de?$-de:de-$;if(Se>a)return Number.POSITIVE_INFINITY;b+=Se}return b/l}}class Nt extends wr{static findStartPattern(e){const r=e.getSize(),a=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),d=a,p=!1;for(let U=a;U<r;U++)if(e.get(U)!==p)l[o]++;else{if(5===o){let $=Nt.MAX_AVG_VARIANCE,de=-1;for(let Se=Nt.CODE_START_A;Se<=Nt.CODE_START_C;Se++){const De=wr.patternMatchVariance(l,Nt.CODE_PATTERNS[Se],Nt.MAX_INDIVIDUAL_VARIANCE);De<$&&($=De,de=Se)}if(de>=0&&e.isRange(Math.max(0,d-(U-d)/2),d,!1))return Int32Array.from([d,U,de]);d+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,p=!p}throw new V}static decodeCode(e,r,a){wr.recordPattern(e,a,r);let o=Nt.MAX_AVG_VARIANCE,l=-1;for(let d=0;d<Nt.CODE_PATTERNS.length;d++){const b=this.patternMatchVariance(r,Nt.CODE_PATTERNS[d],Nt.MAX_INDIVIDUAL_VARIANCE);b<o&&(o=b,l=d)}if(l>=0)return l;throw new V}decodeRow(e,r,a){const o=a&&!0===a.get(S.ASSUME_GS1),l=Nt.findStartPattern(r),d=l[2];let p=0;const b=new Uint8Array(20);let U;switch(b[p++]=d,d){case Nt.CODE_START_A:U=Nt.CODE_CODE_A;break;case Nt.CODE_START_B:U=Nt.CODE_CODE_B;break;case Nt.CODE_START_C:U=Nt.CODE_CODE_C;break;default:throw new _}let $=!1,de=!1,Se="",De=l[0],Qe=l[1];const nt=Int32Array.from([0,0,0,0,0,0]);let pt=0,At=0,Ht=d,cr=0,Rt=!0,Zr=!1,Pr=!1;for(;!$;){const Li=de;switch(de=!1,pt=At,At=Nt.decodeCode(r,nt,Qe),b[p++]=At,At!==Nt.CODE_STOP&&(Rt=!0),At!==Nt.CODE_STOP&&(cr++,Ht+=cr*At),De=Qe,Qe+=nt.reduce((Ti,Ui)=>Ti+Ui,0),At){case Nt.CODE_START_A:case Nt.CODE_START_B:case Nt.CODE_START_C:throw new _}switch(U){case Nt.CODE_CODE_A:if(At<64)Se+=String.fromCharCode(Pr===Zr?" ".charCodeAt(0)+At:" ".charCodeAt(0)+At+128),Pr=!1;else if(At<96)Se+=String.fromCharCode(Pr===Zr?At-64:At+64),Pr=!1;else switch(At!==Nt.CODE_STOP&&(Rt=!1),At){case Nt.CODE_FNC_1:o&&(Se+=0===Se.length?"]C1":String.fromCharCode(29));break;case Nt.CODE_FNC_2:case Nt.CODE_FNC_3:break;case Nt.CODE_FNC_4_A:!Zr&&Pr?(Zr=!0,Pr=!1):Zr&&Pr?(Zr=!1,Pr=!1):Pr=!0;break;case Nt.CODE_SHIFT:de=!0,U=Nt.CODE_CODE_B;break;case Nt.CODE_CODE_B:U=Nt.CODE_CODE_B;break;case Nt.CODE_CODE_C:U=Nt.CODE_CODE_C;break;case Nt.CODE_STOP:$=!0}break;case Nt.CODE_CODE_B:if(At<96)Se+=String.fromCharCode(Pr===Zr?" ".charCodeAt(0)+At:" ".charCodeAt(0)+At+128),Pr=!1;else switch(At!==Nt.CODE_STOP&&(Rt=!1),At){case Nt.CODE_FNC_1:o&&(Se+=0===Se.length?"]C1":String.fromCharCode(29));break;case Nt.CODE_FNC_2:case Nt.CODE_FNC_3:break;case Nt.CODE_FNC_4_B:!Zr&&Pr?(Zr=!0,Pr=!1):Zr&&Pr?(Zr=!1,Pr=!1):Pr=!0;break;case Nt.CODE_SHIFT:de=!0,U=Nt.CODE_CODE_A;break;case Nt.CODE_CODE_A:U=Nt.CODE_CODE_A;break;case Nt.CODE_CODE_C:U=Nt.CODE_CODE_C;break;case Nt.CODE_STOP:$=!0}break;case Nt.CODE_CODE_C:if(At<100)At<10&&(Se+="0"),Se+=At;else switch(At!==Nt.CODE_STOP&&(Rt=!1),At){case Nt.CODE_FNC_1:o&&(Se+=0===Se.length?"]C1":String.fromCharCode(29));break;case Nt.CODE_CODE_A:U=Nt.CODE_CODE_A;break;case Nt.CODE_CODE_B:U=Nt.CODE_CODE_B;break;case Nt.CODE_STOP:$=!0}}Li&&(U=U===Nt.CODE_CODE_A?Nt.CODE_CODE_B:Nt.CODE_CODE_A)}const li=Qe-De;if(Qe=r.getNextUnset(Qe),!r.isRange(Qe,Math.min(r.getSize(),Qe+(Qe-De)/2),!1))throw new V;if(Ht-=cr*pt,Ht%103!==pt)throw new I;const gi=Se.length;if(0===gi)throw new V;gi>0&&Rt&&(Se=Se.substring(0,U===Nt.CODE_CODE_C?gi-2:gi-1));const pi=(l[1]+l[0])/2,wn=De+li/2,Wr=b.length,ui=new Uint8Array(Wr);for(let Li=0;Li<Wr;Li++)ui[Li]=b[Li];const ji=[new Pe(pi,e),new Pe(wn,e)];return new qe(Se,ui,0,ji,Je.CODE_128,(new Date).getTime())}}Nt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Nt.MAX_AVG_VARIANCE=.25,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.CODE_SHIFT=98,Nt.CODE_CODE_C=99,Nt.CODE_CODE_B=100,Nt.CODE_CODE_A=101,Nt.CODE_FNC_1=102,Nt.CODE_FNC_2=97,Nt.CODE_FNC_3=96,Nt.CODE_FNC_4_A=101,Nt.CODE_FNC_4_B=100,Nt.CODE_START_A=103,Nt.CODE_START_B=104,Nt.CODE_START_C=105,Nt.CODE_STOP=106;let jr=(()=>{class H extends wr{constructor(r=!1,a=!1){super(),this.usingCheckDigit=r,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,a,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let U,$,d=H.findAsteriskPattern(a,l),p=a.getNextSet(d[1]),b=a.getSize();do{H.recordPattern(a,p,l);let pt=H.toNarrowWidePattern(l);if(pt<0)throw new V;U=H.patternToChar(pt),this.decodeRowResult+=U,$=p;for(let At of l)p+=At;p=a.getNextSet(p)}while("*"!==U);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let De,de=0;for(let pt of l)de+=pt;if(p!==b&&2*(p-$-de)<de)throw new V;if(this.usingCheckDigit){let pt=this.decodeRowResult.length-1,At=0;for(let Ht=0;Ht<pt;Ht++)At+=H.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ht));if(this.decodeRowResult.charAt(pt)!==H.ALPHABET_STRING.charAt(At%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,pt)}if(0===this.decodeRowResult.length)throw new V;De=this.extendedMode?H.decodeExtended(this.decodeRowResult):this.decodeRowResult;let nt=$+de/2;return new qe(De,null,0,[new Pe((d[1]+d[0])/2,r),new Pe(nt,r)],Je.CODE_39,(new Date).getTime())}static findAsteriskPattern(r,a){let o=r.getSize(),l=r.getNextSet(0),d=0,p=l,b=!1,U=a.length;for(let $=l;$<o;$++)if(r.get($)!==b)a[d]++;else{if(d===U-1){if(this.toNarrowWidePattern(a)===H.ASTERISK_ENCODING&&r.isRange(Math.max(0,p-Math.floor(($-p)/2)),p,!1))return[p,$];p+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,b=!b}throw new V}static toNarrowWidePattern(r){let l,a=r.length,o=0;do{let d=2147483647;for(let U of r)U<d&&U>o&&(d=U);o=d,l=0;let p=0,b=0;for(let U=0;U<a;U++){let $=r[U];$>o&&(b|=1<<a-1-U,l++,p+=$)}if(3===l){for(let U=0;U<a&&l>0;U++){let $=r[U];if($>o&&(l--,2*$>=p))return-1}return b}}while(l>3);return-1}static patternToChar(r){for(let a=0;a<H.CHARACTER_ENCODINGS.length;a++)if(H.CHARACTER_ENCODINGS[a]===r)return H.ALPHABET_STRING.charAt(a);if(r===H.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(r){let a=r.length,o="";for(let l=0;l<a;l++){let d=r.charAt(l);if("+"===d||"$"===d||"%"===d||"/"===d){let p=r.charAt(l+1),b="\0";switch(d){case"+":if(!(p>="A"&&p<="Z"))throw new _;b=String.fromCharCode(p.charCodeAt(0)+32);break;case"$":if(!(p>="A"&&p<="Z"))throw new _;b=String.fromCharCode(p.charCodeAt(0)-64);break;case"%":if(p>="A"&&p<="E")b=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")b=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")b=String.fromCharCode(p.charCodeAt(0)+43);else if("U"===p)b="\0";else if("V"===p)b="@";else if("W"===p)b="`";else{if("X"!==p&&"Y"!==p&&"Z"!==p)throw new _;b="\x7f"}break;case"/":if(p>="A"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)-32);else{if("Z"!==p)throw new _;b=":"}}o+=b,l++}else o+=d}return o}}return H.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",H.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],H.ASTERISK_ENCODING=148,H})();class Ir extends wr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,a){let o=this.decodeStart(r),l=this.decodeEnd(r),d=new G;Ir.decodeMiddle(r,o[1],l[0],d);let p=d.toString(),b=null;null!=a&&(b=a.get(S.ALLOWED_LENGTHS)),null==b&&(b=Ir.DEFAULT_ALLOWED_LENGTHS);let U=p.length,$=!1,de=0;for(let Qe of b){if(U===Qe){$=!0;break}Qe>de&&(de=Qe)}if(!$&&U>de&&($=!0),!$)throw new _;const Se=[new Pe(o[1],e),new Pe(l[0],e)];return new qe(p,null,0,Se,Je.ITF,(new Date).getTime())}static decodeMiddle(e,r,a,o){let l=new Int32Array(10),d=new Int32Array(5),p=new Int32Array(5);for(l.fill(0),d.fill(0),p.fill(0);r<a;){wr.recordPattern(e,r,l);for(let U=0;U<5;U++){let $=2*U;d[U]=l[$],p[U]=l[$+1]}let b=Ir.decodeDigit(d);o.append(b.toString()),b=this.decodeDigit(p),o.append(b.toString()),l.forEach(function(U){r+=U})}}decodeStart(e){let r=Ir.skipWhiteSpace(e),a=Ir.findGuardPattern(e,r,Ir.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(e,a[0]),a}validateQuietZone(e,r){let a=10*this.narrowLineWidth;a=a<r?a:r;for(let o=r-1;a>0&&o>=0&&!e.get(o);o--)a--;if(0!==a)throw new V}static skipWhiteSpace(e){const r=e.getSize(),a=e.getNextSet(0);if(a===r)throw new V;return a}decodeEnd(e){e.reverse();try{let a,r=Ir.skipWhiteSpace(e);try{a=Ir.findGuardPattern(e,r,Ir.END_PATTERN_REVERSED[0])}catch(l){l instanceof V&&(a=Ir.findGuardPattern(e,r,Ir.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,a[0]);let o=a[0];return a[0]=e.getSize()-a[1],a[1]=e.getSize()-o,a}finally{e.reverse()}}static findGuardPattern(e,r,a){let o=a.length,l=new Int32Array(o),d=e.getSize(),p=!1,b=0,U=r;l.fill(0);for(let $=r;$<d;$++)if(e.get($)!==p)l[b]++;else{if(b===o-1){if(wr.patternMatchVariance(l,a,Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return[U,$];U+=l[0]+l[1],J.arraycopy(l,2,l,0,b-1),l[b-1]=0,l[b]=0,b--}else b++;l[b]=1,p=!p}throw new V}static decodeDigit(e){let r=Ir.MAX_AVG_VARIANCE,a=-1,o=Ir.PATTERNS.length;for(let l=0;l<o;l++){let p=wr.patternMatchVariance(e,Ir.PATTERNS[l],Ir.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,a=l):p===r&&(a=-1)}if(a>=0)return a%10;throw new V}}Ir.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ir.MAX_AVG_VARIANCE=.38,Ir.MAX_INDIVIDUAL_VARIANCE=.5,Ir.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ir.START_PATTERN=Int32Array.from([1,1,1,1]),Ir.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Rr extends wr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let a,r=!1,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),a=Rr.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let d=a[0];o=a[1];let p=d-(o-d);p>=0&&(r=e.isRange(p,d,!1))}return a}static checkChecksum(e){return Rr.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(0===r)return!1;let a=parseInt(e.charAt(r-1),10);return Rr.getStandardUPCEANChecksum(e.substring(0,r-1))===a}static getStandardUPCEANChecksum(e){let r=e.length,a=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}a*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}return(1e3-a)%10}static decodeEnd(e,r){return Rr.findGuardPattern(e,r,!1,Rr.START_END_PATTERN,new Int32Array(Rr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,a,o){return this.findGuardPattern(e,r,a,o,new Int32Array(o.length))}static findGuardPattern(e,r,a,o,l){let d=e.getSize(),p=0,b=r=a?e.getNextUnset(r):e.getNextSet(r),U=o.length,$=a;for(let de=r;de<d;de++)if(e.get(de)!==$)l[p]++;else{if(p===U-1){if(wr.patternMatchVariance(l,o,Rr.MAX_INDIVIDUAL_VARIANCE)<Rr.MAX_AVG_VARIANCE)return Int32Array.from([b,de]);b+=l[0]+l[1];let Se=l.slice(2,l.length-1);for(let De=0;De<p-1;De++)l[De]=Se[De];l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,$=!$}throw new V}static decodeDigit(e,r,a,o){this.recordPattern(e,a,r);let l=this.MAX_AVG_VARIANCE,d=-1,p=o.length;for(let b=0;b<p;b++){let $=wr.patternMatchVariance(r,o[b],Rr.MAX_INDIVIDUAL_VARIANCE);$<l&&(l=$,d=b)}if(d>=0)return d;throw new V}}Rr.MAX_AVG_VARIANCE=.48,Rr.MAX_INDIVIDUAL_VARIANCE=.7,Rr.START_END_PATTERN=Int32Array.from([1,1,1]),Rr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Rr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class on{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,a){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,a,o),d=o.toString(),p=on.parseExtensionString(d),b=[new Pe((a[0]+a[1])/2,e),new Pe(l,e)],U=new qe(d,null,0,b,Je.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&U.putAllMetadata(p),U}decodeMiddle(e,r,a){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1],p=0;for(let U=0;U<5&&d<l;U++){let $=Rr.decodeDigit(e,o,d,Rr.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+$%10);for(let de of o)d+=de;$>=10&&(p|=1<<4-U),4!==U&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(5!==a.length)throw new V;let b=this.determineCheckDigit(p);if(on.extensionChecksum(a.toString())!==b)throw new V;return d}static extensionChecksum(e){let r=e.length,a=0;for(let o=r-2;o>=0;o-=2)a+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let o=r-1;o>=0;o-=2)a+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new V}static parseExtensionString(e){if(5!==e.length)return null;let r=on.parseExtension5String(e);return null==r?null:new Map([[ht.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="\xa3";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r=""}let a=parseInt(e.substring(1)),l=a%100;return r+(a/100).toString()+"."+(l<10?"0"+l:l.toString())}}class In{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,a){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,a,o),d=o.toString(),p=In.parseExtensionString(d),b=[new Pe((a[0]+a[1])/2,e),new Pe(l,e)],U=new qe(d,null,0,b,Je.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&U.putAllMetadata(p),U}decodeMiddle(e,r,a){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1],p=0;for(let b=0;b<2&&d<l;b++){let U=Rr.decodeDigit(e,o,d,Rr.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U%10);for(let $ of o)d+=$;U>=10&&(p|=1<<1-b),1!==b&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(2!==a.length)throw new V;if(parseInt(a.toString())%4!==p)throw new V;return d}static parseExtensionString(e){return 2!==e.length?null:new Map([[ht.ISSUE_NUMBER,parseInt(e)]])}}class fn{static decodeRow(e,r,a){let o=Rr.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new on).decodeRow(e,r,o)}catch{return(new In).decodeRow(e,r,o)}}}fn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class qt extends Rr{constructor(){super(),this.decodeRowStringBuffer="",qt.L_AND_G_PATTERNS=qt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=qt.L_PATTERNS[e-10],a=new Int32Array(r.length);for(let o=0;o<r.length;o++)a[o]=r[r.length-o-1];qt.L_AND_G_PATTERNS[e]=a}}decodeRow(e,r,a){let o=qt.findStartGuardPattern(r),l=null==a?null:a.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=l){const Rt=new Pe((o[0]+o[1])/2,e);l.foundPossibleResultPoint(Rt)}let d=this.decodeMiddle(r,o,this.decodeRowStringBuffer),p=d.rowOffset,b=d.resultString;if(null!=l){const Rt=new Pe(p,e);l.foundPossibleResultPoint(Rt)}let U=qt.decodeEnd(r,p);if(null!=l){const Rt=new Pe((U[0]+U[1])/2,e);l.foundPossibleResultPoint(Rt)}let $=U[1],de=$+($-U[0]);if(de>=r.getSize()||!r.isRange($,de,!1))throw new V;let Se=b.toString();if(Se.length<8)throw new _;if(!qt.checkChecksum(Se))throw new I;let De=(o[1]+o[0])/2,Qe=(U[1]+U[0])/2,nt=this.getBarcodeFormat(),pt=[new Pe(De,e),new Pe(Qe,e)],At=new qe(Se,null,0,pt,nt,(new Date).getTime()),Ht=0;try{let Rt=fn.decodeRow(e,r,U[1]);At.putMetadata(ht.UPC_EAN_EXTENSION,Rt.getText()),At.putAllMetadata(Rt.getResultMetadata()),At.addResultPoints(Rt.getResultPoints()),Ht=Rt.getText().length}catch{}let cr=null==a?null:a.get(S.ALLOWED_EAN_EXTENSIONS);if(null!=cr){let Rt=!1;for(let Zr in cr)if(Ht.toString()===Zr){Rt=!0;break}if(!Rt)throw new V}return At}static checkChecksum(e){return qt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(0===r)return!1;let a=parseInt(e.charAt(r-1),10);return qt.getStandardUPCEANChecksum(e.substring(0,r-1))===a}static getStandardUPCEANChecksum(e){let r=e.length,a=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}a*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}return(1e3-a)%10}static decodeEnd(e,r){return qt.findGuardPattern(e,r,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}}let Vn=(()=>{class H extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d=r.getSize(),p=a[1],b=0;for(let $=0;$<6&&p<d;$++){let de=qt.decodeDigit(r,l,p,qt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+de%10);for(let Se of l)p+=Se;de>=10&&(b|=1<<5-$)}o=H.determineFirstDigit(o,b),p=qt.findGuardPattern(r,p,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let $=0;$<6&&p<d;$++){let de=qt.decodeDigit(r,l,p,qt.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+de);for(let Se of l)p+=Se}return{rowOffset:p,resultString:o}}getBarcodeFormat(){return Je.EAN_13}static determineFirstDigit(r,a){for(let o=0;o<10;o++)if(a===this.FIRST_DIGIT_ENCODINGS[o])return String.fromCharCode("0".charCodeAt(0)+o)+r;throw new V}}return H.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],H})();class Yn extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,a){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1];for(let b=0;b<4&&d<l;b++){let U=qt.decodeDigit(e,o,d,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U);for(let $ of o)d+=$}d=qt.findGuardPattern(e,d,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&d<l;b++){let U=qt.decodeDigit(e,o,d,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U);for(let $ of o)d+=$}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return Je.EAN_8}}class Hn extends qt{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return Je.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,a))}decodeMiddle(e,r,a){return this.ean13Reader.decodeMiddle(e,r,a)}maybeReturnResult(e){let r=e.getText();if("0"===r.charAt(0)){let a=new qe(r.substring(1),null,null,e.getResultPoints(),Je.UPC_A);return null!=e.getResultMetadata()&&a.putAllMetadata(e.getResultMetadata()),a}throw new V}reset(){this.ean13Reader.reset()}}class hn extends qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,a){const o=this.decodeMiddleCounters.map(b=>b);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let d=r[1],p=0;for(let b=0;b<6&&d<l;b++){const U=hn.decodeDigit(e,o,d,hn.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U%10);for(let $ of o)d+=$;U>=10&&(p|=1<<5-b)}return hn.determineNumSysAndCheckDigit(new G(a),p),d}decodeEnd(e,r){return hn.findGuardPatternWithoutCounters(e,r,!0,hn.MIDDLE_END_PATTERN)}checkChecksum(e){return qt.checkChecksum(hn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let a=0;a<=1;a++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o])return e.insert(0,"0"+a),void e.append("0"+o);throw V.getNotFoundInstance()}getBarcodeFormat(){return Je.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),a=new G;a.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(o),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(o)}return e.length>=8&&a.append(e.charAt(7)),a.toString()}}hn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class ei extends wr{constructor(e){super();let r=null==e?null:e.get(S.POSSIBLE_FORMATS),a=[];null!=r&&(r.indexOf(Je.EAN_13)>-1?a.push(new Vn):r.indexOf(Je.UPC_A)>-1&&a.push(new Hn),r.indexOf(Je.EAN_8)>-1&&a.push(new Yn),r.indexOf(Je.UPC_E)>-1&&a.push(new hn)),0===a.length&&(a.push(new Vn),a.push(new Yn),a.push(new hn)),this.readers=a}decodeRow(e,r,a){for(let o of this.readers)try{const l=o.decodeRow(e,r,a),d=l.getBarcodeFormat()===Je.EAN_13&&"0"===l.getText().charAt(0),p=null==a?null:a.get(S.POSSIBLE_FORMATS),b=null==p||p.includes(Je.UPC_A);if(d&&b){const U=l.getRawBytes(),$=new qe(l.getText().substring(1),U,U.length,l.getResultPoints(),Je.UPC_A);return $.putAllMetadata(l.getResultMetadata()),$}return l}catch{}throw new V}reset(){for(let e of this.readers)e.reset()}}let Bn=(()=>{class H extends wr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,a){for(let o=0;o<a.length;o++)if(wr.patternMatchVariance(r,a[o],H.MAX_INDIVIDUAL_VARIANCE)<H.MAX_AVG_VARIANCE)return o;throw new V}static count(r){return Xe.sum(new Int32Array(r))}static increment(r,a){let o=0,l=a[0];for(let d=1;d<r.length;d++)a[d]>l&&(l=a[d],o=d);r[o]++}static decrement(r,a){let o=0,l=a[0];for(let d=1;d<r.length;d++)a[d]<l&&(l=a[d],o=d);r[o]--}static isFinderPattern(r){let a=r[0]+r[1],l=a/(a+r[2]+r[3]);if(l>=H.MIN_FINDER_PATTERN_RATIO&&l<=H.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let b of r)b>p&&(p=b),b<d&&(d=b);return p<10*d}return!1}}return H.MAX_AVG_VARIANCE=.2,H.MAX_INDIVIDUAL_VARIANCE=.45,H.MIN_FINDER_PATTERN_RATIO=9.5/12,H.MAX_FINDER_PATTERN_RATIO=12.5/14,H})();class Xn{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){return e instanceof Xn&&this.value===e.value&&this.checksumPortion===e.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class An{constructor(e,r,a,o,l){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Pe(a,l)),this.resultPoints.push(new Pe(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){return e instanceof An&&this.value===e.value}hashCode(){return this.value}}class en{constructor(){}static getRSSvalue(e,r,a){let o=0;for(let b of e)o+=b;let l=0,d=0,p=e.length;for(let b=0;b<p-1;b++){let U;for(U=1,d|=1<<b;U<e[b];U++,d&=~(1<<b)){let $=en.combins(o-U-1,p-b-2);if(a&&0===d&&o-U-(p-b-1)>=p-b-1&&($-=en.combins(o-U-(p-b),p-b-2)),p-b-1>1){let de=0;for(let Se=o-U-(p-b-2);Se>r;Se--)de+=en.combins(o-U-Se-1,p-b-3);$-=de*(p-1-b)}else o-U>r&&$--;l+=$}o-=U}return l}static combins(e,r){let a,o;e-r>r?(o=r,a=e-r):(o=e-r,a=r);let l=1,d=1;for(let p=e;p>a;p--)l*=p,d<=o&&(l/=d,d++);for(;d<=o;)l/=d,d++;return l}}class nn{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mn{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}let _r=(()=>{class H extends mn{constructor(r,a){super(r),this.value=a}getValue(){return this.value}isFNC1(){return this.value===H.FNC1}}return H.FNC1="$",H})();class Lr extends mn{constructor(e,r,a){super(e),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let tn=(()=>{class H extends mn{constructor(r,a,o){if(super(r),a<0||a>10||o<0||o>10)throw new _;this.firstDigit=a,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===H.FNC1}isSecondDigitFNC1(){return this.secondDigit===H.FNC1}isAnyFNC1(){return this.firstDigit===H.FNC1||this.secondDigit===H.FNC1}}return H.FNC1=10,H})();class Qt{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new V;let r=e.substring(0,2);for(let l of Qt.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(2,l[2],e):Qt.processFixedAI(2,l[1],e);if(e.length<3)throw new V;let a=e.substring(0,3);for(let l of Qt.THREE_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(3,l[2],e):Qt.processFixedAI(3,l[1],e);for(let l of Qt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(4,l[2],e):Qt.processFixedAI(4,l[1],e);if(e.length<4)throw new V;let o=e.substring(0,4);for(let l of Qt.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(4,l[2],e):Qt.processFixedAI(4,l[1],e);throw new V}static processFixedAI(e,r,a){if(a.length<e)throw new V;let o=a.substring(0,e);if(a.length<e+r)throw new V;let l=a.substring(e,e+r),d=a.substring(e+r),p="("+o+")"+l,b=Qt.parseFieldsInGeneralPurpose(d);return null==b?p:p+b}static processVariableAI(e,r,a){let l,o=a.substring(0,e);l=a.length<e+r?a.length:e+r;let d=a.substring(e,l),p=a.substring(l),b="("+o+")"+d,U=Qt.parseFieldsInGeneralPurpose(p);return null==U?b:b+U}}Qt.VARIABLE_LENGTH=[],Qt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Qt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Qt.VARIABLE_LENGTH,20],["22",Qt.VARIABLE_LENGTH,29],["30",Qt.VARIABLE_LENGTH,8],["37",Qt.VARIABLE_LENGTH,8],["90",Qt.VARIABLE_LENGTH,30],["91",Qt.VARIABLE_LENGTH,30],["92",Qt.VARIABLE_LENGTH,30],["93",Qt.VARIABLE_LENGTH,30],["94",Qt.VARIABLE_LENGTH,30],["95",Qt.VARIABLE_LENGTH,30],["96",Qt.VARIABLE_LENGTH,30],["97",Qt.VARIABLE_LENGTH,3],["98",Qt.VARIABLE_LENGTH,30],["99",Qt.VARIABLE_LENGTH,30]],Qt.THREE_DIGIT_DATA_LENGTH=[["240",Qt.VARIABLE_LENGTH,30],["241",Qt.VARIABLE_LENGTH,30],["242",Qt.VARIABLE_LENGTH,6],["250",Qt.VARIABLE_LENGTH,30],["251",Qt.VARIABLE_LENGTH,30],["253",Qt.VARIABLE_LENGTH,17],["254",Qt.VARIABLE_LENGTH,20],["400",Qt.VARIABLE_LENGTH,30],["401",Qt.VARIABLE_LENGTH,30],["402",17],["403",Qt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Qt.VARIABLE_LENGTH,20],["421",Qt.VARIABLE_LENGTH,15],["422",3],["423",Qt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Qt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Qt.VARIABLE_LENGTH,15],["391",Qt.VARIABLE_LENGTH,18],["392",Qt.VARIABLE_LENGTH,15],["393",Qt.VARIABLE_LENGTH,18],["703",Qt.VARIABLE_LENGTH,30]],Qt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Qt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Qt.VARIABLE_LENGTH,20],["8003",Qt.VARIABLE_LENGTH,30],["8004",Qt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Qt.VARIABLE_LENGTH,30],["8008",Qt.VARIABLE_LENGTH,12],["8018",18],["8020",Qt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Qt.VARIABLE_LENGTH,70],["8200",Qt.VARIABLE_LENGTH,70]];class un{constructor(e){this.buffer=new G,this.information=e}decodeAllCodes(e,r){let a=r,o=null;for(;;){let l=this.decodeGeneralPurposeField(a,o),d=Qt.parseFieldsInGeneralPurpose(l.getNewString());if(null!=d&&e.append(d),o=l.isRemaining()?""+l.getRemainingValue():null,a===l.getNewPosition())break;a=l.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return new tn(this.information.getSize(),0===l?tn.FNC1:l-1,tn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7);return new tn(e+7,(r-8)/11,(r-8)%11)}extractNumericValueFromBitArray(e,r){return un.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,a){let o=0;for(let l=0;l<a;++l)e.get(r+l)&&(o|=1<<a-l-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),null!=r&&this.buffer.append(r),this.current.setPosition(e);let a=this.parseBlocks();return null!=a&&a.isRemaining()?new Lr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Lr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),a===this.current.getPosition()&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return r=e.isSecondDigitFNC1()?new Lr(this.current.getPosition(),this.buffer.toString()):new Lr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new nn(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Lr(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new nn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Lr(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new nn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Lr(this.current.getPosition(),this.buffer.toString());return new nn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new nn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(15===r)return new _r(e+5,_r.FNC1);if(r>=5&&r<15)return new _r(e+5,"0"+(r-5));let l,a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new _r(e+7,""+(a+1));if(a>=90&&a<116)return new _r(e+7,""+(a+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new _}return new _r(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(15===r)return new _r(e+5,_r.FNC1);if(r>=5&&r<15)return new _r(e+5,"0"+(r-5));let o,a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new _r(e+6,""+(a+33));switch(a){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new X("Decoding invalid alphanumeric value: "+a)}return new _r(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(2===r){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class rn{constructor(e){this.information=e,this.generalDecoder=new un(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Ur=(()=>{class H extends rn{constructor(r){super(r)}encodeCompressedGtin(r,a){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,a,o)}encodeCompressedGtinWithoutAI(r,a,o){for(let l=0;l<4;++l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*l,10);d/100==0&&r.append("0"),d/10==0&&r.append("0"),r.append(d)}H.appendCheckDigit(r,o)}static appendCheckDigit(r,a){let o=0;for(let l=0;l<13;l++){let d=r.charAt(l+a).charCodeAt(0)-"0".charCodeAt(0);o+=0==(1&l)?3*d:d}o=10-o%10,10===o&&(o=0),r.append(o)}}return H.GTIN_SIZE=40,H})(),dn=(()=>{class H extends Ur{constructor(r){super(r)}parseInformation(){let r=new G;r.append("(01)");let a=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(H.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,H.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(r,H.HEADER_SIZE+44)}}return H.HEADER_SIZE=4,H})(),gn=(()=>{class H extends rn{constructor(r){super(r)}parseInformation(){let r=new G;return this.getGeneralDecoder().decodeAllCodes(r,H.HEADER_SIZE)}}return H.HEADER_SIZE=5,H})();class hr extends Ur{constructor(e){super(e)}encodeCompressedWeight(e,r,a){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(e,o);let l=this.checkWeight(o),d=1e5;for(let p=0;p<5;++p)l/d==0&&e.append("0"),d/=10;e.append(l)}}let Cn=(()=>{class H extends hr{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=H.HEADER_SIZE+hr.GTIN_SIZE+H.WEIGHT_SIZE)throw new V;let r=new G;return this.encodeCompressedGtin(r,H.HEADER_SIZE),this.encodeCompressedWeight(r,H.HEADER_SIZE+hr.GTIN_SIZE,H.WEIGHT_SIZE),r.toString()}}return H.HEADER_SIZE=5,H.WEIGHT_SIZE=15,H})();class oi extends Cn{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class ki extends Cn{constructor(e){super(e)}addWeightCode(e,r){e.append(r<1e4?"(3202)":"(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}let Pa=(()=>{class H extends Ur{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<H.HEADER_SIZE+Ur.GTIN_SIZE)throw new V;let r=new G;this.encodeCompressedGtin(r,H.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(H.HEADER_SIZE+Ur.GTIN_SIZE,H.LAST_DIGIT_SIZE);r.append("(392"),r.append(a),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(H.HEADER_SIZE+Ur.GTIN_SIZE+H.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}return H.HEADER_SIZE=8,H.LAST_DIGIT_SIZE=2,H})(),Ea=(()=>{class H extends Ur{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<H.HEADER_SIZE+Ur.GTIN_SIZE)throw new V;let r=new G;this.encodeCompressedGtin(r,H.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(H.HEADER_SIZE+Ur.GTIN_SIZE,H.LAST_DIGIT_SIZE);r.append("(393"),r.append(a),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(H.HEADER_SIZE+Ur.GTIN_SIZE+H.LAST_DIGIT_SIZE,H.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(H.HEADER_SIZE+Ur.GTIN_SIZE+H.LAST_DIGIT_SIZE+H.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}return H.HEADER_SIZE=8,H.LAST_DIGIT_SIZE=2,H.FIRST_THREE_DIGITS_SIZE=10,H})(),mi=(()=>{class H extends hr{constructor(r,a,o){super(r),this.dateCode=o,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=H.HEADER_SIZE+H.GTIN_SIZE+H.WEIGHT_SIZE+H.DATE_SIZE)throw new V;let r=new G;return this.encodeCompressedGtin(r,H.HEADER_SIZE),this.encodeCompressedWeight(r,H.HEADER_SIZE+H.GTIN_SIZE,H.WEIGHT_SIZE),this.encodeCompressedDate(r,H.HEADER_SIZE+H.GTIN_SIZE+H.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,a){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a,H.DATE_SIZE);if(38400==o)return;r.append("("),r.append(this.dateCode),r.append(")");let l=o%32;o/=32;let d=o%12+1;o/=12;let p=o;p/10==0&&r.append("0"),r.append(p),d/10==0&&r.append("0"),r.append(d),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,a){r.append("("),r.append(this.firstAIdigits),r.append(a/1e5),r.append(")")}checkWeight(r){return r%1e5}}return H.HEADER_SIZE=8,H.WEIGHT_SIZE=20,H.DATE_SIZE=16,H})();class fe{constructor(e,r,a,o){this.leftchar=e,this.rightchar=r,this.finderpattern=a,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof fe&&fe.equalsOrNull(e.leftchar,r.leftchar)&&fe.equalsOrNull(e.rightchar,r.rightchar)&&fe.equalsOrNull(e.finderpattern,r.finderpattern)}static equalsOrNull(e,r){return null===e?null===r:fe.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ce{constructor(e,r,a){this.pairs=e,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof ce&&this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed}checkEqualitity(e,r){if(!e||!r)return;let a;return e.forEach((o,l)=>{r.forEach(d=>{o.getLeftChar().getValue()===d.getLeftChar().getValue()&&o.getRightChar().getValue()===d.getRightChar().getValue()&&o.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class te extends Bn{constructor(e){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,r,a){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let o,a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(l){if(l instanceof V){if(!this.pairs.length)throw new V;a=!0}}if(this.checkChecksum())return this.pairs;if(o=!!this.rows.length,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(null!=l||(l=this.checkRowsBoolean(!0),null!=l))return l}throw new V}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let a=r;a<this.rows.length;a++){let o=this.rows[a];this.pairs.length=0;for(let d of e)this.pairs.push(d.getPairs());if(this.pairs.push(o.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,a+1)}catch(d){this.verbose&&console.log(d)}}throw new V}static isValidSequence(e){for(let r of te.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let a=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){a=!1;break}if(a)return!0}return!1}storeRow(e,r){let a=0,o=!1,l=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>e){l=d.isEquivalent(this.pairs);break}o=d.isEquivalent(this.pairs),a++}l||o||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new ce(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let a of r)if(a.getPairs().length!==e.length)for(let o of a.getPairs())for(let l of e)if(fe.equals(o,l))break}static isPartialRow(e,r){for(let a of r){let o=!0;for(let l of e){let d=!1;for(let p of a.getPairs())if(l.equals(p)){d=!0;break}if(!d){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let o=function ti(H){try{if(H.get(1))return new dn(H);if(!H.get(2))return new gn(H);switch(un.extractNumericValueFromBitArray(H,1,4)){case 4:return new oi(H);case 5:return new ki(H)}switch(un.extractNumericValueFromBitArray(H,1,5)){case 12:return new Pa(H);case 13:return new Ea(H)}switch(un.extractNumericValueFromBitArray(H,1,7)){case 56:return new mi(H,"310","11");case 57:return new mi(H,"320","11");case 58:return new mi(H,"310","13");case 59:return new mi(H,"320","13");case 60:return new mi(H,"310","15");case 61:return new mi(H,"320","15");case 62:return new mi(H,"310","17");case 63:return new mi(H,"320","17")}}catch(e){throw console.log(e),new X("unknown decoder: "+H)}}(class xn{static buildBitArray(e){let r=2*e.length-1;null==e[e.length-1].getRightChar()&&(r-=1);let o=new K(12*r),l=0,p=e[0].getRightChar().getValue();for(let b=11;b>=0;--b)0!=(p&1<<b)&&o.set(l),l++;for(let b=1;b<e.length;++b){let U=e[b],$=U.getLeftChar().getValue();for(let de=11;de>=0;--de)0!=($&1<<de)&&o.set(l),l++;if(null!=U.getRightChar()){let de=U.getRightChar().getValue();for(let Se=11;Se>=0;--Se)0!=(de&1<<Se)&&o.set(l),l++}}return o}}.buildBitArray(e)).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),d=e[e.length-1].getFinderPattern().getResultPoints();return new qe(o,null,null,[l[0],l[1],d[0],d[1]],Je.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),a=e.getRightChar();if(null==a)return!1;let o=a.getChecksumPortion(),l=2;for(let p=1;p<this.pairs.size();++p){let b=this.pairs.get(p);o+=b.getLeftChar().getChecksumPortion(),l++;let U=b.getRightChar();null!=U&&(o+=U.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(e,r){let a;return e.get(r)?(a=e.getNextUnset(r),a=e.getNextSet(a)):(a=e.getNextSet(r),a=e.getNextUnset(a)),a}retrieveNextPair(e,r,a){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,d=!0,p=-1;do{this.findNextPair(e,r,p),l=this.parseFoundFinderPattern(e,a,o),null==l?p=te.getNextSecondBar(e,this.startEnd[0]):d=!1}while(d);let U,b=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new V;try{U=this.decodeDataCharacter(e,l,o,!1)}catch($){U=null,this.verbose&&console.log($)}return new fe(b,U,l,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,r,a){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let d,l=e.getSize();d=a>=0?a:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let b=!1;for(;d<l&&(b=!e.get(d),b);)d++;let U=0,$=d;for(let de=d;de<l;de++)if(e.get(de)!=b)o[U]++;else{if(3==U){if(p&&te.reverseCounters(o),te.isFinderPattern(o))return this.startEnd[0]=$,void(this.startEnd[1]=de);p&&te.reverseCounters(o),$+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,U--}else U++;o[U]=1,b=!b}throw new V}static reverseCounters(e){let r=e.length;for(let a=0;a<r/2;++a){let o=e[a];e[a]=e[r-a-1],e[r-a-1]=o}}parseFoundFinderPattern(e,r,a){let o,l,d;if(a){let U=this.startEnd[0]-1;for(;U>=0&&!e.get(U);)U--;U++,o=this.startEnd[0]-U,l=U,d=this.startEnd[1]}else l=this.startEnd[0],d=e.getNextUnset(this.startEnd[1]+1),o=d-this.startEnd[1];let b,p=this.getDecodeFinderCounters();J.arraycopy(p,0,p,1,p.length-1),p[0]=o;try{b=this.parseFinderValue(p,te.FINDER_PATTERNS)}catch{return null}return new An(b,[l,d],l,d,r)}decodeDataCharacter(e,r,a,o){let l=this.getDataCharacterCounters();for(let wn=0;wn<l.length;wn++)l[wn]=0;if(o)te.recordPatternInReverse(e,r.getStartEnd()[0],l);else{te.recordPattern(e,r.getStartEnd()[1],l);for(let wn=0,Wr=l.length-1;wn<Wr;wn++,Wr--){let ui=l[wn];l[wn]=l[Wr],l[Wr]=ui}}let p=Xe.sum(new Int32Array(l))/17,b=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-b)/b>.3)throw new V;let U=this.getOddCounts(),$=this.getEvenCounts(),de=this.getOddRoundingErrors(),Se=this.getEvenRoundingErrors();for(let wn=0;wn<l.length;wn++){let Wr=1*l[wn]/p,ui=Wr+.5;if(ui<1){if(Wr<.3)throw new V;ui=1}else if(ui>8){if(Wr>8.7)throw new V;ui=8}let ji=wn/2;0==(1&wn)?(U[ji]=ui,de[ji]=Wr-ui):($[ji]=ui,Se[ji]=Wr-ui)}this.adjustOddEvenCounts(17);let De=4*r.getValue()+(a?0:2)+(o?0:1)-1,Qe=0,nt=0;for(let wn=U.length-1;wn>=0;wn--)te.isNotA1left(r,a,o)&&(nt+=U[wn]*te.WEIGHTS[De][2*wn]),Qe+=U[wn];let pt=0;for(let wn=$.length-1;wn>=0;wn--)te.isNotA1left(r,a,o)&&(pt+=$[wn]*te.WEIGHTS[De][2*wn+1]);let At=nt+pt;if(0!=(1&Qe)||Qe>13||Qe<4)throw new V;let Ht=(13-Qe)/2,cr=te.SYMBOL_WIDEST[Ht],Rt=9-cr,Zr=en.getRSSvalue(U,cr,!0),Pr=en.getRSSvalue($,Rt,!1);return new Xn(Zr*te.EVEN_TOTAL_SUBSET[Ht]+Pr+te.GSUM[Ht],At)}static isNotA1left(e,r,a){return!(0==e.getValue()&&r&&a)}adjustOddEvenCounts(e){let r=Xe.sum(new Int32Array(this.getOddCounts())),a=Xe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let d=!1,p=!1;a>13?p=!0:a<4&&(d=!0);let b=r+a-e,U=1==(1&r),$=0==(1&a);if(1==b)if(U){if($)throw new V;l=!0}else{if(!$)throw new V;p=!0}else if(-1==b)if(U){if($)throw new V;o=!0}else{if(!$)throw new V;d=!0}else{if(0!=b)throw new V;if(U){if(!$)throw new V;r<a?(o=!0,p=!0):(l=!0,d=!0)}else if($)throw new V}if(o){if(l)throw new V;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new V;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class me extends Xn{constructor(e,r,a){super(e,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Be extends Bn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,a){const o=this.decodePair(r,!1,e,a);Be.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,e,a);Be.addOrTally(this.possibleRightPairs,l),r.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1)for(let p of this.possibleRightPairs)if(p.getCount()>1&&Be.checkChecksum(d,p))return Be.constructResult(d,p);throw new V}static addOrTally(e,r){if(null==r)return;let a=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),a=!0;break}a||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let a=4537077*e.getValue()+r.getValue(),o=new String(a).toString(),l=new G;for(let U=13-o.length;U>0;U--)l.append("0");l.append(o);let d=0;for(let U=0;U<13;U++){let $=l.charAt(U).charCodeAt(0)-"0".charCodeAt(0);d+=0==(1&U)?3*$:$}d=10-d%10,10===d&&(d=0),l.append(d.toString());let p=e.getFinderPattern().getResultPoints(),b=r.getFinderPattern().getResultPoints();return new qe(l.toString(),null,0,[p[0],p[1],b[0],b[1]],Je.RSS_14,(new Date).getTime())}static checkChecksum(e,r){let a=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o}decodePair(e,r,a,o){try{let l=this.findFinderPattern(e,r),d=this.parseFoundFinderPattern(e,a,r,l),p=null==o?null:o.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=p){let $=(l[0]+l[1])/2;r&&($=e.getSize()-1-$),p.foundPossibleResultPoint(new Pe($,a))}let b=this.decodeDataCharacter(e,d,!0),U=this.decodeDataCharacter(e,d,!1);return new me(1597*b.getValue()+U.getValue(),b.getChecksumPortion()+4*U.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(e,r,a){let o=this.getDataCharacterCounters();for(let pt=0;pt<o.length;pt++)o[pt]=0;if(a)wr.recordPatternInReverse(e,r.getStartEnd()[0],o);else{wr.recordPattern(e,r.getStartEnd()[1]+1,o);for(let pt=0,At=o.length-1;pt<At;pt++,At--){let Ht=o[pt];o[pt]=o[At],o[At]=Ht}}let l=a?16:15,d=Xe.sum(new Int32Array(o))/l,p=this.getOddCounts(),b=this.getEvenCounts(),U=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let pt=0;pt<o.length;pt++){let At=o[pt]/d,Ht=Math.floor(At+.5);Ht<1?Ht=1:Ht>8&&(Ht=8);let cr=Math.floor(pt/2);0==(1&pt)?(p[cr]=Ht,U[cr]=At-Ht):(b[cr]=Ht,$[cr]=At-Ht)}this.adjustOddEvenCounts(a,l);let de=0,Se=0;for(let pt=p.length-1;pt>=0;pt--)Se*=9,Se+=p[pt],de+=p[pt];let De=0,Qe=0;for(let pt=b.length-1;pt>=0;pt--)De*=9,De+=b[pt],Qe+=b[pt];let nt=Se+3*De;if(a){if(0!=(1&de)||de>12||de<4)throw new V;let pt=(12-de)/2,At=Be.OUTSIDE_ODD_WIDEST[pt],Ht=9-At,cr=en.getRSSvalue(p,At,!1),Rt=en.getRSSvalue(b,Ht,!0);return new Xn(cr*Be.OUTSIDE_EVEN_TOTAL_SUBSET[pt]+Rt+Be.OUTSIDE_GSUM[pt],nt)}{if(0!=(1&Qe)||Qe>10||Qe<4)throw new V;let pt=(10-Qe)/2,At=Be.INSIDE_ODD_WIDEST[pt],Ht=9-At,cr=en.getRSSvalue(p,At,!0),Rt=en.getRSSvalue(b,Ht,!1);return new Xn(Rt*Be.INSIDE_ODD_TOTAL_SUBSET[pt]+cr+Be.INSIDE_GSUM[pt],nt)}}findFinderPattern(e,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let o=e.getSize(),l=!1,d=0;for(;d<o&&(l=!e.get(d),r!==l);)d++;let p=0,b=d;for(let U=d;U<o;U++)if(e.get(U)!==l)a[p]++;else{if(3===p){if(Bn.isFinderPattern(a))return[b,U];b+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,l=!l}throw new V}parseFoundFinderPattern(e,r,a,o){let l=e.get(o[0]),d=o[0]-1;for(;d>=0&&l!==e.get(d);)d--;d++;const p=o[0]-d,b=this.getDecodeFinderCounters(),U=new Int32Array(b.length);J.arraycopy(b,0,U,1,b.length-1),U[0]=p;const $=this.parseFinderValue(U,Be.FINDER_PATTERNS);let de=d,Se=o[1];return a&&(de=e.getSize()-1-de,Se=e.getSize()-1-Se),new An($,[d,o[1]],de,Se,r)}adjustOddEvenCounts(e,r){let a=Xe.sum(new Int32Array(this.getOddCounts())),o=Xe.sum(new Int32Array(this.getEvenCounts())),l=!1,d=!1,p=!1,b=!1;e?(a>12?d=!0:a<4&&(l=!0),o>12?b=!0:o<4&&(p=!0)):(a>11?d=!0:a<5&&(l=!0),o>10?b=!0:o<4&&(p=!0));let U=a+o-r,$=(1&a)==(e?1:0),de=1==(1&o);if(1===U)if($){if(de)throw new V;d=!0}else{if(!de)throw new V;b=!0}else if(-1===U)if($){if(de)throw new V;l=!0}else{if(!de)throw new V;p=!0}else{if(0!==U)throw new V;if($){if(!de)throw new V;a<o?(l=!0,b=!0):(d=!0,p=!0)}else if(de)throw new V}if(l){if(d)throw new V;Bn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Bn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(b)throw new V;Bn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Bn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Be.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Be.OUTSIDE_GSUM=[0,161,961,2015,2715],Be.INSIDE_GSUM=[0,336,1036,1516],Be.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Be.INSIDE_ODD_WIDEST=[2,4,6,8],Be.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ve extends wr{constructor(e,r){super(),this.readers=[],this.verbose=!0===r;const a=e?e.get(S.POSSIBLE_FORMATS):null,o=e&&void 0!==e.get(S.ASSUME_CODE_39_CHECK_DIGIT);a&&((a.includes(Je.EAN_13)||a.includes(Je.UPC_A)||a.includes(Je.EAN_8)||a.includes(Je.UPC_E))&&this.readers.push(new ei(e)),a.includes(Je.CODE_39)&&this.readers.push(new jr(o)),a.includes(Je.CODE_128)&&this.readers.push(new Nt),a.includes(Je.ITF)&&this.readers.push(new Ir),a.includes(Je.RSS_14)&&this.readers.push(new Be),a.includes(Je.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))),0===this.readers.length&&(this.readers.push(new ei(e)),this.readers.push(new jr),this.readers.push(new ei(e)),this.readers.push(new Nt),this.readers.push(new Ir),this.readers.push(new Be),this.readers.push(new te(this.verbose)))}decodeRow(e,r,a){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,a)}catch{}throw new V}reset(){this.readers.forEach(e=>e.reset())}}class Bt{constructor(e,r,a){this.ecCodewords=e,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Dt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(e,r,a,o,l,d){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=d;let p=0;const b=d.getECCodewords(),U=d.getECBlocks();for(let $ of U)p+=$.getCount()*($.getDataCodewords()+b);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(0!=(1&e)||0!=(1&r))throw new _;for(let a of Et.VERSIONS)if(a.symbolSizeRows===e&&a.symbolSizeColumns===r)return a;throw new _}toString(){return""+this.versionNumber}static buildVersions(){return[new Et(1,10,10,8,8,new Bt(5,new Dt(1,3))),new Et(2,12,12,10,10,new Bt(7,new Dt(1,5))),new Et(3,14,14,12,12,new Bt(10,new Dt(1,8))),new Et(4,16,16,14,14,new Bt(12,new Dt(1,12))),new Et(5,18,18,16,16,new Bt(14,new Dt(1,18))),new Et(6,20,20,18,18,new Bt(18,new Dt(1,22))),new Et(7,22,22,20,20,new Bt(20,new Dt(1,30))),new Et(8,24,24,22,22,new Bt(24,new Dt(1,36))),new Et(9,26,26,24,24,new Bt(28,new Dt(1,44))),new Et(10,32,32,14,14,new Bt(36,new Dt(1,62))),new Et(11,36,36,16,16,new Bt(42,new Dt(1,86))),new Et(12,40,40,18,18,new Bt(48,new Dt(1,114))),new Et(13,44,44,20,20,new Bt(56,new Dt(1,144))),new Et(14,48,48,22,22,new Bt(68,new Dt(1,174))),new Et(15,52,52,24,24,new Bt(42,new Dt(2,102))),new Et(16,64,64,14,14,new Bt(56,new Dt(2,140))),new Et(17,72,72,16,16,new Bt(36,new Dt(4,92))),new Et(18,80,80,18,18,new Bt(48,new Dt(4,114))),new Et(19,88,88,20,20,new Bt(56,new Dt(4,144))),new Et(20,96,96,22,22,new Bt(68,new Dt(4,174))),new Et(21,104,104,24,24,new Bt(56,new Dt(6,136))),new Et(22,120,120,18,18,new Bt(68,new Dt(6,175))),new Et(23,132,132,20,20,new Bt(62,new Dt(8,163))),new Et(24,144,144,22,22,new Bt(62,new Dt(8,156),new Dt(2,155))),new Et(25,8,18,6,16,new Bt(7,new Dt(1,5))),new Et(26,8,32,6,14,new Bt(11,new Dt(1,10))),new Et(27,12,26,10,24,new Bt(14,new Dt(1,16))),new Et(28,12,36,10,16,new Bt(18,new Dt(1,22))),new Et(29,16,36,14,16,new Bt(24,new Dt(1,32))),new Et(30,16,48,14,22,new Bt(28,new Dt(1,49)))]}}Et.VERSIONS=Et.buildVersions();class Dr{constructor(e){const r=e.getHeight();if(r<8||r>144||0!=(1&r))throw new _;this.version=Dr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new g(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),a=e.getWidth();return Et.getVersionForDimensions(r,a)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,o=0;const l=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let p=!1,b=!1,U=!1,$=!1;do{if(a!==l||0!==o||p)if(a!==l-2||0!==o||0==(3&d)||b)if(a!==l+4||2!==o||0!=(7&d)||U)if(a!==l-2||0!==o||4!=(7&d)||$){do{a<l&&o>=0&&!this.readMappingMatrix.get(o,a)&&(e[r++]=255&this.readUtah(a,o,l,d)),a-=2,o+=2}while(a>=0&&o<d);a+=1,o+=3;do{a>=0&&o<d&&!this.readMappingMatrix.get(o,a)&&(e[r++]=255&this.readUtah(a,o,l,d)),a+=2,o-=2}while(a<l&&o>=0);a+=3,o+=1}else e[r++]=255&this.readCorner4(l,d),a-=2,o+=2,$=!0;else e[r++]=255&this.readCorner3(l,d),a-=2,o+=2,U=!0;else e[r++]=255&this.readCorner2(l,d),a-=2,o+=2,b=!0;else e[r++]=255&this.readCorner1(l,d),a-=2,o+=2,p=!0}while(a<l||o<d);if(r!==this.version.getTotalCodewords())throw new _;return e}readModule(e,r,a,o){return e<0&&(e+=a,r+=4-(a+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,a,o){let l=0;return this.readModule(e-2,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e-2,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r,a,o)&&(l|=1),l<<=1,this.readModule(e,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e,r,a,o)&&(l|=1),l}readCorner1(e,r){let a=0;return this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,1,e,r)&&(a|=1),a<<=1,this.readModule(e-1,2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(2,r-1,e,r)&&(a|=1),a<<=1,this.readModule(3,r-1,e,r)&&(a|=1),a}readCorner2(e,r){let a=0;return this.readModule(e-3,0,e,r)&&(a|=1),a<<=1,this.readModule(e-2,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(0,r-4,e,r)&&(a|=1),a<<=1,this.readModule(0,r-3,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a}readCorner3(e,r){let a=0;return this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(0,r-3,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-3,e,r)&&(a|=1),a<<=1,this.readModule(1,r-2,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a}readCorner4(e,r){let a=0;return this.readModule(e-3,0,e,r)&&(a|=1),a<<=1,this.readModule(e-2,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(2,r-1,e,r)&&(a|=1),a<<=1,this.readModule(3,r-1,e,r)&&(a|=1),a}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),d=r/o|0,p=a/l|0,$=new g(p*l,d*o);for(let de=0;de<d;++de){const Se=de*o;for(let De=0;De<p;++De){const Qe=De*l;for(let nt=0;nt<o;++nt){const pt=de*(o+2)+1+nt,At=Se+nt;for(let Ht=0;Ht<l;++Ht)e.get(De*(l+2)+1+Ht,pt)&&$.set(Qe+Ht,At)}}}return $}}class Xr{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const a=r.getECBlocks();let o=0;const l=a.getECBlocks();for(let nt of l)o+=nt.getCount();const d=new Array(o);let p=0;for(let nt of l)for(let pt=0;pt<nt.getCount();pt++){const At=nt.getDataCodewords(),Ht=a.getECCodewords()+At;d[p++]=new Xr(At,new Uint8Array(Ht))}const U=d[0].codewords.length-a.getECCodewords(),$=U-1;let de=0;for(let nt=0;nt<$;nt++)for(let pt=0;pt<p;pt++)d[pt].codewords[nt]=e[de++];const Se=24===r.getVersionNumber(),De=Se?8:p;for(let nt=0;nt<De;nt++)d[nt].codewords[U-1]=e[de++];const Qe=d[0].codewords.length;for(let nt=U;nt<Qe;nt++)for(let pt=0;pt<p;pt++){const At=Se?(pt+8)%p:pt;d[At].codewords[Se&&At>7?nt-1:nt]=e[de++]}if(de!==e.length)throw new A;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qr{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let r=0,a=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(a>0){const d=8-a,p=e<d?e:d,b=d-p;r=(l[o]&255>>8-p<<b)>>b,e-=p,a+=p,8===a&&(a=0,o++)}if(e>0){for(;e>=8;)r=r<<8|255&l[o],o++,e-=8;if(e>0){const d=8-e;r=r<<e|(l[o]&255>>d<<d)>>d,a+=e}}return this.bitOffset=a,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vr=(()=>{return(H=Vr||(Vr={}))[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE",Vr;var H})();class he{static decode(e){const r=new qr(e),a=new G,o=new G,l=new Array;let d=Vr.ASCII_ENCODE;do{if(d===Vr.ASCII_ENCODE)d=this.decodeAsciiSegment(r,a,o);else{switch(d){case Vr.C40_ENCODE:this.decodeC40Segment(r,a);break;case Vr.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Vr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Vr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Vr.BASE256_ENCODE:this.decodeBase256Segment(r,a,l);break;default:throw new _}d=Vr.ASCII_ENCODE}}while(d!==Vr.PAD_ENCODE&&r.available()>0);return o.length()>0&&a.append(o.toString()),new dr(e,a.toString(),0===l.length?null:l,null)}static decodeAsciiSegment(e,r,a){let o=!1;do{let l=e.readBits(8);if(0===l)throw new _;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),Vr.ASCII_ENCODE;if(129===l)return Vr.PAD_ENCODE;if(l<=229){const d=l-130;d<10&&r.append("0"),r.append(""+d)}else switch(l){case 230:return Vr.C40_ENCODE;case 231:return Vr.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:o=!0;break;case 236:r.append("[)>\x1e05\x1d"),a.insert(0,"\x1e\x04");break;case 237:r.append("[)>\x1e06\x1d"),a.insert(0,"\x1e\x04");break;case 238:return Vr.ANSIX12_ENCODE;case 239:return Vr.TEXT_ENCODE;case 240:return Vr.EDIFACT_ENCODE;default:if(254!==l||0!==e.available())throw new _}}while(e.available()>0);return Vr.ASCII_ENCODE}static decodeC40Segment(e,r){let a=!1;const o=[];let l=0;do{if(8===e.available())return;const d=e.readBits(8);if(254===d)return;this.parseTwoBytes(d,e.readBits(8),o);for(let p=0;p<3;p++){const b=o[p];switch(l){case 0:if(b<3)l=b+1;else{if(!(b<this.C40_BASIC_SET_CHARS.length))throw new _;{const U=this.C40_BASIC_SET_CHARS[b];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}}break;case 1:a?(r.append(String.fromCharCode(b+128)),a=!1):r.append(String.fromCharCode(b)),l=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[b];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}else switch(b){case 27:r.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new _}l=0;break;case 3:a?(r.append(String.fromCharCode(b+224)),a=!1):r.append(String.fromCharCode(b+96)),l=0;break;default:throw new _}}}while(e.available()>0)}static decodeTextSegment(e,r){let a=!1,o=[],l=0;do{if(8===e.available())return;const d=e.readBits(8);if(254===d)return;this.parseTwoBytes(d,e.readBits(8),o);for(let p=0;p<3;p++){const b=o[p];switch(l){case 0:if(b<3)l=b+1;else{if(!(b<this.TEXT_BASIC_SET_CHARS.length))throw new _;{const U=this.TEXT_BASIC_SET_CHARS[b];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}}break;case 1:a?(r.append(String.fromCharCode(b+128)),a=!1):r.append(String.fromCharCode(b)),l=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[b];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}else switch(b){case 27:r.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new _}l=0;break;case 3:if(!(b<this.TEXT_SHIFT3_SET_CHARS.length))throw new _;{const U=this.TEXT_SHIFT3_SET_CHARS[b];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U),l=0}break;default:throw new _}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const a=[];do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),a);for(let l=0;l<3;l++){const d=a[l];switch(d){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(d<14)r.append(String.fromCharCode(d+44));else{if(!(d<40))throw new _;r.append(String.fromCharCode(d+51))}}}}while(e.available()>0)}static parseTwoBytes(e,r,a){let o=(e<<8)+r-1,l=Math.floor(o/1600);a[0]=l,o-=1600*l,l=Math.floor(o/40),a[1]=l,a[2]=o-40*l}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let a=0;a<4;a++){let o=e.readBits(6);if(31===o){const l=8-e.getBitOffset();return void(8!==l&&e.readBits(l))}0==(32&o)&&(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,a){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let d;if(d=0===l?e.available()/8|0:l<250?l:250*(l-249)+this.unrandomize255State(e.readBits(8),o++),d<0)throw new _;const p=new Uint8Array(d);for(let b=0;b<d;b++){if(e.available()<8)throw new _;p[b]=this.unrandomize255State(e.readBits(8),o++)}a.push(p);try{r.append(O.decode(p,N.ISO88591))}catch(b){throw new X("Platform does not support required encoding: "+b.message)}}static unrandomize255State(e,r){const o=e-(149*r%255+1);return o>=0?o:o+256}}he.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],he.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],he.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],he.TEXT_SHIFT2_SET_CHARS=he.C40_SHIFT2_SET_CHARS,he.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class ve{constructor(){this.rsDecoder=new Z(et.DATA_MATRIX_FIELD_256)}decode(e){const r=new Dr(e),a=r.getVersion(),o=r.readCodewords(),l=Xr.getDataBlocks(o,a);let d=0;for(let U of l)d+=U.getNumDataCodewords();const p=new Uint8Array(d),b=l.length;for(let U=0;U<b;U++){const $=l[U],de=$.getCodewords(),Se=$.getNumDataCodewords();this.correctErrors(de,Se);for(let De=0;De<Se;De++)p[De*b+U]=de[De]}return he.decode(p)}correctErrors(e,r){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=a[o]}}class Ce{constructor(e){this.image=e,this.rectangleDetector=new rr(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new V;r=this.shiftToModuleCenter(r);const a=r[0],o=r[1],l=r[2],d=r[3];let p=this.transitionsBetween(a,d)+1,b=this.transitionsBetween(l,d)+1;1==(1&p)&&(p+=1),1==(1&b)&&(b+=1),4*p<7*b&&4*b<7*p&&(p=b=Math.max(p,b));let U=Ce.sampleGrid(this.image,a,o,l,d,p,b);return new Ft(U,[a,o,l,d])}static shiftPoint(e,r,a){let o=(r.getX()-e.getX())/(a+1),l=(r.getY()-e.getY())/(a+1);return new Pe(e.getX()+o,e.getY()+l)}static moveAway(e,r,a){let o=e.getX(),l=e.getY();return o<r?o-=1:o+=1,l<a?l-=1:l+=1,new Pe(o,l)}detectSolid1(e){let r=e[0],a=e[1],o=e[3],l=e[2],d=this.transitionsBetween(r,a),p=this.transitionsBetween(a,o),b=this.transitionsBetween(o,l),U=this.transitionsBetween(l,r),$=d,de=[l,r,a,o];return $>p&&($=p,de[0]=r,de[1]=a,de[2]=o,de[3]=l),$>b&&($=b,de[0]=a,de[1]=o,de[2]=l,de[3]=r),$>U&&(de[0]=o,de[1]=l,de[2]=r,de[3]=a),de}detectSolid2(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l),p=Ce.shiftPoint(a,o,4*(d+1)),b=Ce.shiftPoint(o,a,4*(d+1));return this.transitionsBetween(p,r)<this.transitionsBetween(b,l)?(e[0]=r,e[1]=a,e[2]=o,e[3]=l):(e[0]=a,e[1]=o,e[2]=l,e[3]=r),e}correctTopRight(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l),p=this.transitionsBetween(a,l),b=Ce.shiftPoint(r,a,4*(p+1)),U=Ce.shiftPoint(o,a,4*(d+1));d=this.transitionsBetween(b,l),p=this.transitionsBetween(U,l);let $=new Pe(l.getX()+(o.getX()-a.getX())/(d+1),l.getY()+(o.getY()-a.getY())/(d+1)),de=new Pe(l.getX()+(r.getX()-a.getX())/(p+1),l.getY()+(r.getY()-a.getY())/(p+1));return this.isValid($)?this.isValid(de)?this.transitionsBetween(b,$)+this.transitionsBetween(U,$)>this.transitionsBetween(b,de)+this.transitionsBetween(U,de)?$:de:$:this.isValid(de)?de:null}shiftToModuleCenter(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l)+1,p=this.transitionsBetween(o,l)+1,b=Ce.shiftPoint(r,a,4*p),U=Ce.shiftPoint(o,a,4*d);d=this.transitionsBetween(b,l)+1,p=this.transitionsBetween(U,l)+1,1==(1&d)&&(d+=1),1==(1&p)&&(p+=1);let Se,De,$=(r.getX()+a.getX()+o.getX()+l.getX())/4,de=(r.getY()+a.getY()+o.getY()+l.getY())/4;return r=Ce.moveAway(r,$,de),a=Ce.moveAway(a,$,de),o=Ce.moveAway(o,$,de),l=Ce.moveAway(l,$,de),b=Ce.shiftPoint(r,a,4*p),b=Ce.shiftPoint(b,l,4*d),Se=Ce.shiftPoint(a,r,4*p),Se=Ce.shiftPoint(Se,o,4*d),U=Ce.shiftPoint(o,l,4*p),U=Ce.shiftPoint(U,a,4*d),De=Ce.shiftPoint(l,o,4*p),De=Ce.shiftPoint(De,r,4*d),[b,Se,U,De]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,a,o,l,d,p){return Ar.getInstance().sampleGrid(e,d,p,.5,.5,d-.5,.5,d-.5,p-.5,.5,p-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),a.getX(),a.getY())}transitionsBetween(e,r){let a=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(r.getX()),d=Math.trunc(r.getY()),p=Math.abs(d-o)>Math.abs(l-a);if(p){let nt=a;a=o,o=nt,nt=l,l=d,d=nt}let b=Math.abs(l-a),U=Math.abs(d-o),$=-b/2,de=o<d?1:-1,Se=a<l?1:-1,De=0,Qe=this.image.get(p?o:a,p?a:o);for(let nt=a,pt=o;nt!==l;nt+=Se){let At=this.image.get(p?pt:nt,p?nt:pt);if(At!==Qe&&(De++,Qe=At),$+=U,$>0){if(pt===d)break;pt+=de,$-=b}}return De}}let tt=(()=>{class H{constructor(){this.decoder=new ve}decode(r,a=null){let o,l;if(null!=a&&a.has(S.PURE_BARCODE)){const $=H.extractPureBits(r.getBlackMatrix());o=this.decoder.decode($),l=H.NO_POINTS}else{const $=new Ce(r.getBlackMatrix()).detect();o=this.decoder.decode($.getBits()),l=$.getPoints()}const d=o.getRawBytes(),p=new qe(o.getText(),d,8*d.length,l,Je.DATA_MATRIX,J.currentTimeMillis()),b=o.getByteSegments();null!=b&&p.putMetadata(ht.BYTE_SEGMENTS,b);const U=o.getECLevel();return null!=U&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,U),p}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(null==a||null==o)throw new V;const l=this.moduleSize(a,r);let d=a[1],b=a[0];const $=(o[0]-b+1)/l,de=(o[1]-d+1)/l;if($<=0||de<=0)throw new V;const Se=l/2;d+=Se,b+=Se;const De=new g($,de);for(let Qe=0;Qe<de;Qe++){const nt=d+Qe*l;for(let pt=0;pt<$;pt++)r.get(b+pt*l,nt)&&De.set(pt,Qe)}return De}static moduleSize(r,a){const o=a.getWidth();let l=r[0];const d=r[1];for(;l<o&&a.get(l,d);)l++;if(l===o)throw new V;const p=l-r[0];if(0===p)throw new V;return p}}return H.NO_POINTS=[],H})();var Kt=(()=>{return(H=Kt||(Kt={}))[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H",Kt;var H})();class Vt{constructor(e,r,a){this.value=e,this.stringValue=r,this.bits=a,Vt.FOR_BITS.set(a,this),Vt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){return e instanceof Vt&&this.value===e.value}static forBits(e){if(e<0||e>=Vt.FOR_BITS.size)throw new A;return Vt.FOR_BITS.get(e)}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.L=new Vt(Kt.L,"L",1),Vt.M=new Vt(Kt.M,"M",0),Vt.Q=new Vt(Kt.Q,"Q",3),Vt.H=new Vt(Kt.H,"H",2);class Wt{constructor(e){this.errorCorrectionLevel=Vt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,r){return P.bitCount(e^r)}static decodeFormatInformation(e,r){const a=Wt.doDecodeFormatInformation(e,r);return null!==a?a:Wt.doDecodeFormatInformation(e^Wt.FORMAT_INFO_MASK_QR,r^Wt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let a=Number.MAX_SAFE_INTEGER,o=0;for(const l of Wt.FORMAT_INFO_DECODE_LOOKUP){const d=l[0];if(d===e||d===r)return new Wt(l[1]);let p=Wt.numBitsDiffering(e,d);p<a&&(o=l[1],a=p),e!==r&&(p=Wt.numBitsDiffering(r,d),p<a&&(o=l[1],a=p))}return a<=3?new Wt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){return e instanceof Wt&&this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask}}Wt.FORMAT_INFO_MASK_QR=21522,Wt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ct{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const a of r)e+=a.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ke{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(e,r,...a){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;let o=0;const l=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const p of d)o+=p.getCount()*(p.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new _;try{return this.getVersionForNumber((e-17)/4)}catch{throw new _}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return sr.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,a=0;for(let o=0;o<sr.VERSION_DECODE_INFO.length;o++){const l=sr.VERSION_DECODE_INFO[o];if(l===e)return sr.getVersionForNumber(o+7);const d=Wt.numBitsDiffering(e,l);d<r&&(a=o+7,r=d)}return r<=3?sr.getVersionForNumber(a):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new g(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const a=this.alignmentPatternCenters.length;for(let o=0;o<a;o++){const l=this.alignmentPatternCenters[o]-2;for(let d=0;d<a;d++)0===o&&(0===d||d===a-1)||o===a-1&&0===d||r.setRegion(this.alignmentPatternCenters[d]-2,l,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}sr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),sr.VERSIONS=[new sr(1,new Int32Array(0),new ct(7,new ke(1,19)),new ct(10,new ke(1,16)),new ct(13,new ke(1,13)),new ct(17,new ke(1,9))),new sr(2,Int32Array.from([6,18]),new ct(10,new ke(1,34)),new ct(16,new ke(1,28)),new ct(22,new ke(1,22)),new ct(28,new ke(1,16))),new sr(3,Int32Array.from([6,22]),new ct(15,new ke(1,55)),new ct(26,new ke(1,44)),new ct(18,new ke(2,17)),new ct(22,new ke(2,13))),new sr(4,Int32Array.from([6,26]),new ct(20,new ke(1,80)),new ct(18,new ke(2,32)),new ct(26,new ke(2,24)),new ct(16,new ke(4,9))),new sr(5,Int32Array.from([6,30]),new ct(26,new ke(1,108)),new ct(24,new ke(2,43)),new ct(18,new ke(2,15),new ke(2,16)),new ct(22,new ke(2,11),new ke(2,12))),new sr(6,Int32Array.from([6,34]),new ct(18,new ke(2,68)),new ct(16,new ke(4,27)),new ct(24,new ke(4,19)),new ct(28,new ke(4,15))),new sr(7,Int32Array.from([6,22,38]),new ct(20,new ke(2,78)),new ct(18,new ke(4,31)),new ct(18,new ke(2,14),new ke(4,15)),new ct(26,new ke(4,13),new ke(1,14))),new sr(8,Int32Array.from([6,24,42]),new ct(24,new ke(2,97)),new ct(22,new ke(2,38),new ke(2,39)),new ct(22,new ke(4,18),new ke(2,19)),new ct(26,new ke(4,14),new ke(2,15))),new sr(9,Int32Array.from([6,26,46]),new ct(30,new ke(2,116)),new ct(22,new ke(3,36),new ke(2,37)),new ct(20,new ke(4,16),new ke(4,17)),new ct(24,new ke(4,12),new ke(4,13))),new sr(10,Int32Array.from([6,28,50]),new ct(18,new ke(2,68),new ke(2,69)),new ct(26,new ke(4,43),new ke(1,44)),new ct(24,new ke(6,19),new ke(2,20)),new ct(28,new ke(6,15),new ke(2,16))),new sr(11,Int32Array.from([6,30,54]),new ct(20,new ke(4,81)),new ct(30,new ke(1,50),new ke(4,51)),new ct(28,new ke(4,22),new ke(4,23)),new ct(24,new ke(3,12),new ke(8,13))),new sr(12,Int32Array.from([6,32,58]),new ct(24,new ke(2,92),new ke(2,93)),new ct(22,new ke(6,36),new ke(2,37)),new ct(26,new ke(4,20),new ke(6,21)),new ct(28,new ke(7,14),new ke(4,15))),new sr(13,Int32Array.from([6,34,62]),new ct(26,new ke(4,107)),new ct(22,new ke(8,37),new ke(1,38)),new ct(24,new ke(8,20),new ke(4,21)),new ct(22,new ke(12,11),new ke(4,12))),new sr(14,Int32Array.from([6,26,46,66]),new ct(30,new ke(3,115),new ke(1,116)),new ct(24,new ke(4,40),new ke(5,41)),new ct(20,new ke(11,16),new ke(5,17)),new ct(24,new ke(11,12),new ke(5,13))),new sr(15,Int32Array.from([6,26,48,70]),new ct(22,new ke(5,87),new ke(1,88)),new ct(24,new ke(5,41),new ke(5,42)),new ct(30,new ke(5,24),new ke(7,25)),new ct(24,new ke(11,12),new ke(7,13))),new sr(16,Int32Array.from([6,26,50,74]),new ct(24,new ke(5,98),new ke(1,99)),new ct(28,new ke(7,45),new ke(3,46)),new ct(24,new ke(15,19),new ke(2,20)),new ct(30,new ke(3,15),new ke(13,16))),new sr(17,Int32Array.from([6,30,54,78]),new ct(28,new ke(1,107),new ke(5,108)),new ct(28,new ke(10,46),new ke(1,47)),new ct(28,new ke(1,22),new ke(15,23)),new ct(28,new ke(2,14),new ke(17,15))),new sr(18,Int32Array.from([6,30,56,82]),new ct(30,new ke(5,120),new ke(1,121)),new ct(26,new ke(9,43),new ke(4,44)),new ct(28,new ke(17,22),new ke(1,23)),new ct(28,new ke(2,14),new ke(19,15))),new sr(19,Int32Array.from([6,30,58,86]),new ct(28,new ke(3,113),new ke(4,114)),new ct(26,new ke(3,44),new ke(11,45)),new ct(26,new ke(17,21),new ke(4,22)),new ct(26,new ke(9,13),new ke(16,14))),new sr(20,Int32Array.from([6,34,62,90]),new ct(28,new ke(3,107),new ke(5,108)),new ct(26,new ke(3,41),new ke(13,42)),new ct(30,new ke(15,24),new ke(5,25)),new ct(28,new ke(15,15),new ke(10,16))),new sr(21,Int32Array.from([6,28,50,72,94]),new ct(28,new ke(4,116),new ke(4,117)),new ct(26,new ke(17,42)),new ct(28,new ke(17,22),new ke(6,23)),new ct(30,new ke(19,16),new ke(6,17))),new sr(22,Int32Array.from([6,26,50,74,98]),new ct(28,new ke(2,111),new ke(7,112)),new ct(28,new ke(17,46)),new ct(30,new ke(7,24),new ke(16,25)),new ct(24,new ke(34,13))),new sr(23,Int32Array.from([6,30,54,78,102]),new ct(30,new ke(4,121),new ke(5,122)),new ct(28,new ke(4,47),new ke(14,48)),new ct(30,new ke(11,24),new ke(14,25)),new ct(30,new ke(16,15),new ke(14,16))),new sr(24,Int32Array.from([6,28,54,80,106]),new ct(30,new ke(6,117),new ke(4,118)),new ct(28,new ke(6,45),new ke(14,46)),new ct(30,new ke(11,24),new ke(16,25)),new ct(30,new ke(30,16),new ke(2,17))),new sr(25,Int32Array.from([6,32,58,84,110]),new ct(26,new ke(8,106),new ke(4,107)),new ct(28,new ke(8,47),new ke(13,48)),new ct(30,new ke(7,24),new ke(22,25)),new ct(30,new ke(22,15),new ke(13,16))),new sr(26,Int32Array.from([6,30,58,86,114]),new ct(28,new ke(10,114),new ke(2,115)),new ct(28,new ke(19,46),new ke(4,47)),new ct(28,new ke(28,22),new ke(6,23)),new ct(30,new ke(33,16),new ke(4,17))),new sr(27,Int32Array.from([6,34,62,90,118]),new ct(30,new ke(8,122),new ke(4,123)),new ct(28,new ke(22,45),new ke(3,46)),new ct(30,new ke(8,23),new ke(26,24)),new ct(30,new ke(12,15),new ke(28,16))),new sr(28,Int32Array.from([6,26,50,74,98,122]),new ct(30,new ke(3,117),new ke(10,118)),new ct(28,new ke(3,45),new ke(23,46)),new ct(30,new ke(4,24),new ke(31,25)),new ct(30,new ke(11,15),new ke(31,16))),new sr(29,Int32Array.from([6,30,54,78,102,126]),new ct(30,new ke(7,116),new ke(7,117)),new ct(28,new ke(21,45),new ke(7,46)),new ct(30,new ke(1,23),new ke(37,24)),new ct(30,new ke(19,15),new ke(26,16))),new sr(30,Int32Array.from([6,26,52,78,104,130]),new ct(30,new ke(5,115),new ke(10,116)),new ct(28,new ke(19,47),new ke(10,48)),new ct(30,new ke(15,24),new ke(25,25)),new ct(30,new ke(23,15),new ke(25,16))),new sr(31,Int32Array.from([6,30,56,82,108,134]),new ct(30,new ke(13,115),new ke(3,116)),new ct(28,new ke(2,46),new ke(29,47)),new ct(30,new ke(42,24),new ke(1,25)),new ct(30,new ke(23,15),new ke(28,16))),new sr(32,Int32Array.from([6,34,60,86,112,138]),new ct(30,new ke(17,115)),new ct(28,new ke(10,46),new ke(23,47)),new ct(30,new ke(10,24),new ke(35,25)),new ct(30,new ke(19,15),new ke(35,16))),new sr(33,Int32Array.from([6,30,58,86,114,142]),new ct(30,new ke(17,115),new ke(1,116)),new ct(28,new ke(14,46),new ke(21,47)),new ct(30,new ke(29,24),new ke(19,25)),new ct(30,new ke(11,15),new ke(46,16))),new sr(34,Int32Array.from([6,34,62,90,118,146]),new ct(30,new ke(13,115),new ke(6,116)),new ct(28,new ke(14,46),new ke(23,47)),new ct(30,new ke(44,24),new ke(7,25)),new ct(30,new ke(59,16),new ke(1,17))),new sr(35,Int32Array.from([6,30,54,78,102,126,150]),new ct(30,new ke(12,121),new ke(7,122)),new ct(28,new ke(12,47),new ke(26,48)),new ct(30,new ke(39,24),new ke(14,25)),new ct(30,new ke(22,15),new ke(41,16))),new sr(36,Int32Array.from([6,24,50,76,102,128,154]),new ct(30,new ke(6,121),new ke(14,122)),new ct(28,new ke(6,47),new ke(34,48)),new ct(30,new ke(46,24),new ke(10,25)),new ct(30,new ke(2,15),new ke(64,16))),new sr(37,Int32Array.from([6,28,54,80,106,132,158]),new ct(30,new ke(17,122),new ke(4,123)),new ct(28,new ke(29,46),new ke(14,47)),new ct(30,new ke(49,24),new ke(10,25)),new ct(30,new ke(24,15),new ke(46,16))),new sr(38,Int32Array.from([6,32,58,84,110,136,162]),new ct(30,new ke(4,122),new ke(18,123)),new ct(28,new ke(13,46),new ke(32,47)),new ct(30,new ke(48,24),new ke(14,25)),new ct(30,new ke(42,15),new ke(32,16))),new sr(39,Int32Array.from([6,26,54,82,110,138,166]),new ct(30,new ke(20,117),new ke(4,118)),new ct(28,new ke(40,47),new ke(7,48)),new ct(30,new ke(43,24),new ke(22,25)),new ct(30,new ke(10,15),new ke(67,16))),new sr(40,Int32Array.from([6,30,58,86,114,142,170]),new ct(30,new ke(19,118),new ke(6,119)),new ct(28,new ke(18,47),new ke(31,48)),new ct(30,new ke(34,24),new ke(34,25)),new ct(30,new ke(20,15),new ke(61,16)))];var kr=(()=>{return(H=kr||(kr={}))[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111",kr;var H})();class kn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let a=0;a<r;a++)for(let o=0;o<r;o++)this.isMasked(a,o)&&e.flip(o,a)}}kn.values=new Map([[kr.DATA_MASK_000,new kn(kr.DATA_MASK_000,(H,e)=>0==(H+e&1))],[kr.DATA_MASK_001,new kn(kr.DATA_MASK_001,(H,e)=>0==(1&H))],[kr.DATA_MASK_010,new kn(kr.DATA_MASK_010,(H,e)=>e%3==0)],[kr.DATA_MASK_011,new kn(kr.DATA_MASK_011,(H,e)=>(H+e)%3==0)],[kr.DATA_MASK_100,new kn(kr.DATA_MASK_100,(H,e)=>0==(Math.floor(H/2)+Math.floor(e/3)&1))],[kr.DATA_MASK_101,new kn(kr.DATA_MASK_101,(H,e)=>H*e%6==0)],[kr.DATA_MASK_110,new kn(kr.DATA_MASK_110,(H,e)=>H*e%6<3)],[kr.DATA_MASK_111,new kn(kr.DATA_MASK_111,(H,e)=>0==(H+e+H*e%3&1))]]);class aa{constructor(e){const r=e.getHeight();if(r<21||1!=(3&r))throw new _;this.bitMatrix=e}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const r=this.bitMatrix.getHeight();let a=0;const o=r-7;for(let l=r-1;l>=o;l--)a=this.copyBit(8,l,a);for(let l=r-8;l<r;l++)a=this.copyBit(l,8,a);if(this.parsedFormatInfo=Wt.decodeFormatInformation(e,a),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new _}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return sr.getVersionForNumber(r);let a=0;const o=e-11;for(let d=5;d>=0;d--)for(let p=e-9;p>=o;p--)a=this.copyBit(p,d,a);let l=sr.decodeVersionInformation(a);if(null!==l&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(let d=5;d>=0;d--)for(let p=e-9;p>=o;p--)a=this.copyBit(d,p,a);if(l=sr.decodeVersionInformation(a),null!==l&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new _}copyBit(e,r,a){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?a<<1|1:a<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),a=kn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let d=!0;const p=new Uint8Array(r.getTotalCodewords());let b=0,U=0,$=0;for(let de=o-1;de>0;de-=2){6===de&&de--;for(let Se=0;Se<o;Se++){const De=d?o-1-Se:Se;for(let Qe=0;Qe<2;Qe++)l.get(de-Qe,De)||($++,U<<=1,this.bitMatrix.get(de-Qe,De)&&(U|=1),8===$&&(p[b++]=U,$=0,U=0))}d=!d}if(b!==r.getTotalCodewords())throw new _;return p}remask(){if(null===this.parsedFormatInfo)return;const e=kn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,a=e.getWidth();r<a;r++)for(let o=r+1,l=e.getHeight();o<l;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class ci{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,a){if(e.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(a);let l=0;const d=o.getECBlocks();for(const Qe of d)l+=Qe.getCount();const p=new Array(l);let b=0;for(const Qe of d)for(let nt=0;nt<Qe.getCount();nt++){const pt=Qe.getDataCodewords(),At=o.getECCodewordsPerBlock()+pt;p[b++]=new ci(pt,new Uint8Array(At))}const U=p[0].codewords.length;let $=p.length-1;for(;$>=0&&p[$].codewords.length!==U;)$--;$++;const de=U-o.getECCodewordsPerBlock();let Se=0;for(let Qe=0;Qe<de;Qe++)for(let nt=0;nt<b;nt++)p[nt].codewords[Qe]=e[Se++];for(let Qe=$;Qe<b;Qe++)p[Qe].codewords[de]=e[Se++];const De=p[0].codewords.length;for(let Qe=de;Qe<De;Qe++)for(let nt=0;nt<b;nt++)p[nt].codewords[nt<$?Qe:Qe+1]=e[Se++];return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn=(()=>{return(H=Nn||(Nn={}))[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI",Nn;var H})();class Cr{constructor(e,r,a,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=o,Cr.FOR_BITS.set(o,this),Cr.FOR_VALUE.set(e,this)}static forBits(e){const r=Cr.FOR_BITS.get(e);if(void 0===r)throw new A;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let a;return a=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(e){return e instanceof Cr&&this.value===e.value}toString(){return this.stringValue}}Cr.FOR_BITS=new Map,Cr.FOR_VALUE=new Map,Cr.TERMINATOR=new Cr(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Cr.NUMERIC=new Cr(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Cr.ALPHANUMERIC=new Cr(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Cr.STRUCTURED_APPEND=new Cr(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Cr.BYTE=new Cr(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Cr.ECI=new Cr(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),Cr.KANJI=new Cr(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Cr.FNC1_FIRST_POSITION=new Cr(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Cr.FNC1_SECOND_POSITION=new Cr(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Cr.HANZI=new Cr(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Ci=(()=>{class H{static decode(r,a,o,l){const d=new qr(r);let p=new G;const b=new Array;let U=-1,$=-1;try{let De,de=null,Se=!1;do{if(d.available()<4)De=Cr.TERMINATOR;else{const Qe=d.readBits(4);De=Cr.forBits(Qe)}switch(De){case Cr.TERMINATOR:break;case Cr.FNC1_FIRST_POSITION:case Cr.FNC1_SECOND_POSITION:Se=!0;break;case Cr.STRUCTURED_APPEND:if(d.available()<16)throw new _;U=d.readBits(8),$=d.readBits(8);break;case Cr.ECI:const Qe=H.parseECIValue(d);if(de=j.getCharacterSetECIByValue(Qe),null===de)throw new _;break;case Cr.HANZI:const nt=d.readBits(4),pt=d.readBits(De.getCharacterCountBits(a));nt===H.GB2312_SUBSET&&H.decodeHanziSegment(d,p,pt);break;default:const At=d.readBits(De.getCharacterCountBits(a));switch(De){case Cr.NUMERIC:H.decodeNumericSegment(d,p,At);break;case Cr.ALPHANUMERIC:H.decodeAlphanumericSegment(d,p,At,Se);break;case Cr.BYTE:H.decodeByteSegment(d,p,At,de,b,l);break;case Cr.KANJI:H.decodeKanjiSegment(d,p,At);break;default:throw new _}}}while(De!==Cr.TERMINATOR)}catch{throw new _}return new dr(r,p.toString(),0===b.length?null:b,null===o?null:o.toString(),U,$)}static decodeHanziSegment(r,a,o){if(13*o>r.available())throw new _;const l=new Uint8Array(2*o);let d=0;for(;o>0;){const p=r.readBits(13);let b=p/96<<8&4294967295|p%96;b+=b<959?41377:42657,l[d]=b>>8&255,l[d+1]=255&b,d+=2,o--}try{a.append(O.decode(l,N.GB2312))}catch(p){throw new _(p)}}static decodeKanjiSegment(r,a,o){if(13*o>r.available())throw new _;const l=new Uint8Array(2*o);let d=0;for(;o>0;){const p=r.readBits(13);let b=p/192<<8&4294967295|p%192;b+=b<7936?33088:49472,l[d]=b>>8,l[d+1]=b,d+=2,o--}try{a.append(O.decode(l,N.SHIFT_JIS))}catch(p){throw new _(p)}}static decodeByteSegment(r,a,o,l,d,p){if(8*o>r.available())throw new _;const b=new Uint8Array(o);for(let $=0;$<o;$++)b[$]=r.readBits(8);let U;U=null===l?N.guessEncoding(b,p):l.getName();try{a.append(O.decode(b,U))}catch($){throw new _($)}d.push(b)}static toAlphaNumericChar(r){if(r>=H.ALPHANUMERIC_CHARS.length)throw new _;return H.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,a,o,l){const d=a.length();for(;o>1;){if(r.available()<11)throw new _;const p=r.readBits(11);a.append(H.toAlphaNumericChar(Math.floor(p/45))),a.append(H.toAlphaNumericChar(p%45)),o-=2}if(1===o){if(r.available()<6)throw new _;a.append(H.toAlphaNumericChar(r.readBits(6)))}if(l)for(let p=d;p<a.length();p++)"%"===a.charAt(p)&&(p<a.length()-1&&"%"===a.charAt(p+1)?a.deleteCharAt(p+1):a.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(r,a,o){for(;o>=3;){if(r.available()<10)throw new _;const l=r.readBits(10);if(l>=1e3)throw new _;a.append(H.toAlphaNumericChar(Math.floor(l/100))),a.append(H.toAlphaNumericChar(Math.floor(l/10)%10)),a.append(H.toAlphaNumericChar(l%10)),o-=3}if(2===o){if(r.available()<7)throw new _;const l=r.readBits(7);if(l>=100)throw new _;a.append(H.toAlphaNumericChar(Math.floor(l/10))),a.append(H.toAlphaNumericChar(l%10))}else if(1===o){if(r.available()<4)throw new _;const l=r.readBits(4);if(l>=10)throw new _;a.append(H.toAlphaNumericChar(l))}}static parseECIValue(r){const a=r.readBits(8);if(0==(128&a))return 127&a;if(128==(192&a))return(63&a)<<8&4294967295|r.readBits(8);if(192==(224&a))return(31&a)<<16&4294967295|r.readBits(16);throw new _}}return H.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",H.GB2312_SUBSET=1,H})();class sa{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class I0{constructor(){this.rsDecoder=new Z(et.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(g.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const a=new aa(e);let o=null;try{return this.decodeBitMatrixParser(a,r)}catch(l){o=l}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const l=this.decodeBitMatrixParser(a,r);return l.setOther(new sa(!0)),l}catch(l){throw null!==o?o:l}}decodeBitMatrixParser(e,r){const a=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),d=ci.getDataBlocks(l,a,o);let p=0;for(const $ of d)p+=$.getNumDataCodewords();const b=new Uint8Array(p);let U=0;for(const $ of d){const de=$.getCodewords(),Se=$.getNumDataCodewords();this.correctErrors(de,Se);for(let De=0;De<Se;De++)b[U++]=de[De]}return Ci.decode(b,a,o,r)}correctErrors(e,r){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=a[o]}}class Ma extends Pe{constructor(e,r,a){super(e,r),this.estimatedModuleSize=a}aboutEquals(e,r,a){if(Math.abs(r-this.getY())<=e&&Math.abs(a-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,a){const o=(this.getX()+r)/2,l=(this.getY()+e)/2;return new Ma(o,l,(this.estimatedModuleSize+a)/2)}}class Oa{constructor(e,r,a,o,l,d,p){this.image=e,this.startX=r,this.startY=a,this.width=o,this.height=l,this.moduleSize=d,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,o=e+this.width,l=this.startY+r/2,d=new Int32Array(3),p=this.image;for(let b=0;b<r;b++){const U=l+(0==(1&b)?Math.floor((b+1)/2):-Math.floor((b+1)/2));d[0]=0,d[1]=0,d[2]=0;let $=e;for(;$<o&&!p.get($,U);)$++;let de=0;for(;$<o;){if(p.get($,U))if(1===de)d[1]++;else if(2===de){if(this.foundPatternCross(d)){const Se=this.handlePossibleCenter(d,U,$);if(null!==Se)return Se}d[0]=d[2],d[1]=1,d[2]=0,de=1}else d[++de]++;else 1===de&&de++,d[de]++;$++}if(this.foundPatternCross(d)){const Se=this.handlePossibleCenter(d,U,o);if(null!==Se)return Se}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new V}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,a=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=a)return!1;return!0}crossCheckVertical(e,r,a,o){const l=this.image,d=l.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let b=e;for(;b>=0&&l.get(r,b)&&p[1]<=a;)p[1]++,b--;if(b<0||p[1]>a)return NaN;for(;b>=0&&!l.get(r,b)&&p[0]<=a;)p[0]++,b--;if(p[0]>a)return NaN;for(b=e+1;b<d&&l.get(r,b)&&p[1]<=a;)p[1]++,b++;if(b===d||p[1]>a)return NaN;for(;b<d&&!l.get(r,b)&&p[2]<=a;)p[2]++,b++;return p[2]>a||5*Math.abs(p[0]+p[1]+p[2]-o)>=2*o?NaN:this.foundPatternCross(p)?Oa.centerFromEnd(p,b):NaN}handlePossibleCenter(e,r,a){const o=e[0]+e[1]+e[2],l=Oa.centerFromEnd(e,a),d=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(d)){const p=(e[0]+e[1]+e[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(p,d,l))return U.combineEstimate(d,l,p);const b=new Ma(l,d,p);this.possibleCenters.push(b),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class vi extends Pe{constructor(e,r,a,o){super(e,r),this.estimatedModuleSize=a,this.count=o,void 0===o&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,a){if(Math.abs(r-this.getY())<=e&&Math.abs(a-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,a){const o=this.count+1,l=(this.count*this.getX()+r)/o,d=(this.count*this.getY()+e)/o;return new vi(l,d,(this.count*this.estimatedModuleSize+a)/o,o)}}class cs{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Ni=(()=>{class H{constructor(r,a){this.image=r,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const a=null!=r&&void 0!==r.get(S.TRY_HARDER),o=null!=r&&void 0!==r.get(S.PURE_BARCODE),l=this.image,d=l.getHeight(),p=l.getWidth();let b=Math.floor(3*d/(4*H.MAX_MODULES));(b<H.MIN_SKIP||a)&&(b=H.MIN_SKIP);let U=!1;const $=new Int32Array(5);for(let Se=b-1;Se<d&&!U;Se+=b){$[0]=0,$[1]=0,$[2]=0,$[3]=0,$[4]=0;let De=0;for(let Qe=0;Qe<p;Qe++)if(l.get(Qe,Se))1==(1&De)&&De++,$[De]++;else if(0==(1&De))if(4===De)if(H.foundPatternCross($)){if(!0!==this.handlePossibleCenter($,Se,Qe,o)){$[0]=$[2],$[1]=$[3],$[2]=$[4],$[3]=1,$[4]=0,De=3;continue}if(b=2,!0===this.hasSkipped)U=this.haveMultiplyConfirmedCenters();else{const pt=this.findRowSkip();pt>$[2]&&(Se+=pt-$[2]-b,Qe=p-1)}De=0,$[0]=0,$[1]=0,$[2]=0,$[3]=0,$[4]=0}else $[0]=$[2],$[1]=$[3],$[2]=$[4],$[3]=1,$[4]=0,De=3;else $[++De]++;else $[De]++;H.foundPatternCross($)&&!0===this.handlePossibleCenter($,Se,p,o)&&(b=$[0],this.hasSkipped&&(U=this.haveMultiplyConfirmedCenters()))}const de=this.selectBestPatterns();return Pe.orderBestPatterns(de),new cs(de)}static centerFromEnd(r,a){return a-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let a=0;for(let d=0;d<5;d++){const p=r[d];if(0===p)return!1;a+=p}if(a<7)return!1;const o=a/7,l=o/2;return Math.abs(o-r[0])<l&&Math.abs(o-r[1])<l&&Math.abs(3*o-r[2])<3*l&&Math.abs(o-r[3])<l&&Math.abs(o-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,a,o,l){const d=this.getCrossCheckStateCount();let p=0;const b=this.image;for(;r>=p&&a>=p&&b.get(a-p,r-p);)d[2]++,p++;if(r<p||a<p)return!1;for(;r>=p&&a>=p&&!b.get(a-p,r-p)&&d[1]<=o;)d[1]++,p++;if(r<p||a<p||d[1]>o)return!1;for(;r>=p&&a>=p&&b.get(a-p,r-p)&&d[0]<=o;)d[0]++,p++;if(d[0]>o)return!1;const U=b.getHeight(),$=b.getWidth();for(p=1;r+p<U&&a+p<$&&b.get(a+p,r+p);)d[2]++,p++;if(r+p>=U||a+p>=$)return!1;for(;r+p<U&&a+p<$&&!b.get(a+p,r+p)&&d[3]<o;)d[3]++,p++;if(r+p>=U||a+p>=$||d[3]>=o)return!1;for(;r+p<U&&a+p<$&&b.get(a+p,r+p)&&d[4]<o;)d[4]++,p++;return!(d[4]>=o)&&Math.abs(d[0]+d[1]+d[2]+d[3]+d[4]-l)<2*l&&H.foundPatternCross(d)}crossCheckVertical(r,a,o,l){const d=this.image,p=d.getHeight(),b=this.getCrossCheckStateCount();let U=r;for(;U>=0&&d.get(a,U);)b[2]++,U--;if(U<0)return NaN;for(;U>=0&&!d.get(a,U)&&b[1]<=o;)b[1]++,U--;if(U<0||b[1]>o)return NaN;for(;U>=0&&d.get(a,U)&&b[0]<=o;)b[0]++,U--;if(b[0]>o)return NaN;for(U=r+1;U<p&&d.get(a,U);)b[2]++,U++;if(U===p)return NaN;for(;U<p&&!d.get(a,U)&&b[3]<o;)b[3]++,U++;if(U===p||b[3]>=o)return NaN;for(;U<p&&d.get(a,U)&&b[4]<o;)b[4]++,U++;return b[4]>=o||5*Math.abs(b[0]+b[1]+b[2]+b[3]+b[4]-l)>=2*l?NaN:H.foundPatternCross(b)?H.centerFromEnd(b,U):NaN}crossCheckHorizontal(r,a,o,l){const d=this.image,p=d.getWidth(),b=this.getCrossCheckStateCount();let U=r;for(;U>=0&&d.get(U,a);)b[2]++,U--;if(U<0)return NaN;for(;U>=0&&!d.get(U,a)&&b[1]<=o;)b[1]++,U--;if(U<0||b[1]>o)return NaN;for(;U>=0&&d.get(U,a)&&b[0]<=o;)b[0]++,U--;if(b[0]>o)return NaN;for(U=r+1;U<p&&d.get(U,a);)b[2]++,U++;if(U===p)return NaN;for(;U<p&&!d.get(U,a)&&b[3]<o;)b[3]++,U++;if(U===p||b[3]>=o)return NaN;for(;U<p&&d.get(U,a)&&b[4]<o;)b[4]++,U++;return b[4]>=o||5*Math.abs(b[0]+b[1]+b[2]+b[3]+b[4]-l)>=l?NaN:H.foundPatternCross(b)?H.centerFromEnd(b,U):NaN}handlePossibleCenter(r,a,o,l){const d=r[0]+r[1]+r[2]+r[3]+r[4];let p=H.centerFromEnd(r,o),b=this.crossCheckVertical(a,Math.floor(p),r[2],d);if(!isNaN(b)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(b),r[2],d),!isNaN(p)&&(!l||this.crossCheckDiagonal(Math.floor(b),Math.floor(p),r[2],d)))){const U=d/7;let $=!1;const de=this.possibleCenters;for(let Se=0,De=de.length;Se<De;Se++){const Qe=de[Se];if(Qe.aboutEquals(U,b,p)){de[Se]=Qe.combineEstimate(b,p,U),$=!0;break}}if(!$){const Se=new vi(p,b,U);de.push(Se),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(Se)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const o of this.possibleCenters)if(o.getCount()>=H.CENTER_QUORUM){if(null!=a)return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2);a=o}return 0}haveMultiplyConfirmedCenters(){let r=0,a=0;const o=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=H.CENTER_QUORUM&&(r++,a+=p.getEstimatedModuleSize());if(r<3)return!1;const l=a/o;let d=0;for(const p of this.possibleCenters)d+=Math.abs(p.getEstimatedModuleSize()-l);return d<=.05*a}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new V;const a=this.possibleCenters;let o;if(r>3){let l=0,d=0;for(const U of this.possibleCenters){const $=U.getEstimatedModuleSize();l+=$,d+=$*$}o=l/r;let p=Math.sqrt(d/r-o*o);a.sort((U,$)=>{const de=Math.abs($.getEstimatedModuleSize()-o),Se=Math.abs(U.getEstimatedModuleSize()-o);return de<Se?-1:de>Se?1:0});const b=Math.max(.2*o,p);for(let U=0;U<a.length&&a.length>3;U++)Math.abs(a[U].getEstimatedModuleSize()-o)>b&&(a.splice(U,1),U--)}if(a.length>3){let l=0;for(const d of a)l+=d.getEstimatedModuleSize();o=l/a.length,a.sort((d,p)=>{if(p.getCount()===d.getCount()){const b=Math.abs(p.getEstimatedModuleSize()-o),U=Math.abs(d.getEstimatedModuleSize()-o);return b<U?1:b>U?-1:0}return p.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}return H.CENTER_QUORUM=2,H.MIN_SKIP=3,H.MAX_MODULES=57,H})();class oa{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(S.NEED_RESULT_POINT_CALLBACK);const a=new Ni(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(a)}processFinderPatternInfo(e){const r=e.getTopLeft(),a=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(r,a,o);if(l<1)throw new V("No pattern found in proccess finder.");const d=oa.computeDimension(r,a,o,l),p=sr.getProvisionalVersionForDimension(d),b=p.getDimensionForVersion()-7;let U=null;if(p.getAlignmentPatternCenters().length>0){const De=a.getX()-r.getX()+o.getX(),Qe=a.getY()-r.getY()+o.getY(),nt=1-3/b,pt=Math.floor(r.getX()+nt*(De-r.getX())),At=Math.floor(r.getY()+nt*(Qe-r.getY()));for(let Ht=4;Ht<=16;Ht<<=1)try{U=this.findAlignmentInRegion(l,pt,At,Ht);break}catch(cr){if(!(cr instanceof V))throw cr}}const $=oa.createTransform(r,a,o,U,d),de=oa.sampleGrid(this.image,$,d);let Se;return Se=null===U?[o,r,a]:[o,r,a,U],new Ft(de,Se)}static createTransform(e,r,a,o,l){const d=l-3.5;let p,b,U,$;return null!==o?(p=o.getX(),b=o.getY(),U=d-3,$=U):(p=r.getX()-e.getX()+a.getX(),b=r.getY()-e.getY()+a.getY(),U=d,$=d),jt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,U,$,3.5,d,e.getX(),e.getY(),r.getX(),r.getY(),p,b,a.getX(),a.getY())}static sampleGrid(e,r,a){return Ar.getInstance().sampleGridWithTransform(e,a,a,r)}static computeDimension(e,r,a,o){const l=Xe.round(Pe.distance(e,r)/o),d=Xe.round(Pe.distance(e,a)/o);let p=Math.floor((l+d)/2)+7;switch(3&p){case 0:p++;break;case 2:p--;break;case 3:throw new V("Dimensions could be not found.")}return p}calculateModuleSize(e,r,a){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,a))/2}calculateModuleSizeOneWay(e,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?o/7:isNaN(o)?a/7:(a+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,a,o){let l=this.sizeOfBlackWhiteBlackRun(e,r,a,o),d=1,p=e-(a-e);p<0?(d=e/(e-p),p=0):p>=this.image.getWidth()&&(d=(this.image.getWidth()-1-e)/(p-e),p=this.image.getWidth()-1);let b=Math.floor(r-(o-r)*d);return d=1,b<0?(d=r/(r-b),b=0):b>=this.image.getHeight()&&(d=(this.image.getHeight()-1-r)/(b-r),b=this.image.getHeight()-1),p=Math.floor(e+(p-e)*d),l+=this.sizeOfBlackWhiteBlackRun(e,r,p,b),l-1}sizeOfBlackWhiteBlackRun(e,r,a,o){const l=Math.abs(o-r)>Math.abs(a-e);if(l){let De=e;e=r,r=De,De=a,a=o,o=De}const d=Math.abs(a-e),p=Math.abs(o-r);let b=-d/2;const U=e<a?1:-1,$=r<o?1:-1;let de=0;const Se=a+U;for(let De=e,Qe=r;De!==Se;De+=U){if(1===de===this.image.get(l?Qe:De,l?De:Qe)){if(2===de)return Xe.distance(De,Qe,e,r);de++}if(b+=p,b>0){if(Qe===o)break;Qe+=$,b-=d}}return 2===de?Xe.distance(a+U,o,e,r):NaN}findAlignmentInRegion(e,r,a,o){const l=Math.floor(o*e),d=Math.max(0,r-l),p=Math.min(this.image.getWidth()-1,r+l);if(p-d<3*e)throw new V("Alignment top exceeds estimated module size.");const b=Math.max(0,a-l),U=Math.min(this.image.getHeight()-1,a+l);if(U-b<3*e)throw new V("Alignment bottom exceeds estimated module size.");return new Oa(this.image,d,b,p-d,U-b,e,this.resultPointCallback).find()}}class qn{constructor(){this.decoder=new I0}getDecoder(){return this.decoder}decode(e,r){let a,o;if(null!=r&&void 0!==r.get(S.PURE_BARCODE)){const b=qn.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(b,r),o=qn.NO_POINTS}else{const b=new oa(e.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(b.getBits(),r),o=b.getPoints()}a.getOther()instanceof sa&&a.getOther().applyMirroredCorrection(o);const l=new qe(a.getText(),a.getRawBytes(),void 0,o,Je.QR_CODE,void 0),d=a.getByteSegments();null!==d&&l.putMetadata(ht.BYTE_SEGMENTS,d);const p=a.getECLevel();return null!==p&&l.putMetadata(ht.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(l.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(ht.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(null===r||null===a)throw new V;const o=this.moduleSize(r,e);let l=r[1],d=a[1],p=r[0],b=a[0];if(p>=b||l>=d)throw new V;if(d-l!=b-p&&(b=p+(d-l),b>=e.getWidth()))throw new V;const U=Math.round((b-p+1)/o),$=Math.round((d-l+1)/o);if(U<=0||$<=0)throw new V;if($!==U)throw new V;const de=Math.floor(o/2);l+=de,p+=de;const Se=p+Math.floor((U-1)*o)-b;if(Se>0){if(Se>de)throw new V;p-=Se}const De=l+Math.floor(($-1)*o)-d;if(De>0){if(De>de)throw new V;l-=De}const Qe=new g(U,$);for(let nt=0;nt<$;nt++){const pt=l+Math.floor(nt*o);for(let At=0;At<U;At++)e.get(p+Math.floor(At*o),pt)&&Qe.set(At,nt)}return Qe}static moduleSize(e,r){const a=r.getHeight(),o=r.getWidth();let l=e[0],d=e[1],p=!0,b=0;for(;l<o&&d<a;){if(p!==r.get(l,d)){if(5==++b)break;p=!p}l++,d++}if(l===o||d===a)throw new V;return(l-e[0])/7}}qn.NO_POINTS=new Array;class br{PDF417Common(){}static getBitCountSum(e){return Xe.sum(e)}static toIntArray(e){if(null==e||!e.length)return br.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let a=0;for(const o of e)r[a++]=o;return r}static getCodeword(e){const r=W.binarySearch(br.SYMBOL_TABLE,262143&e);return r<0?-1:(br.CODEWORD_TABLE[r]-1)%br.NUMBER_OF_CODEWORDS}}br.NUMBER_OF_CODEWORDS=929,br.MAX_CODEWORDS_IN_BARCODE=br.NUMBER_OF_CODEWORDS-1,br.MIN_ROWS_IN_BARCODE=3,br.MAX_ROWS_IN_BARCODE=90,br.MODULES_IN_CODEWORD=17,br.MODULES_IN_STOP_PATTERN=18,br.BARS_IN_MODULE=8,br.EMPTY_INT_ARRAY=new Int32Array([]),br.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),br.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ks{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Fr{static detectMultiple(e,r,a){let o=e.getBlackMatrix(),l=Fr.detect(a,o);return l.length||(o=o.clone(),o.rotate180(),l=Fr.detect(a,o)),new Ks(o,l)}static detect(e,r){const a=new Array;let o=0,l=0,d=!1;for(;o<r.getHeight();){const p=Fr.findVertices(r,o,l);if(null!=p[0]||null!=p[3]){if(d=!0,a.push(p),!e)break;null!=p[2]?(l=Math.trunc(p[2].getX()),o=Math.trunc(p[2].getY())):(l=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY()))}else{if(!d)break;d=!1,l=0;for(const b of a)null!=b[1]&&(o=Math.trunc(Math.max(o,b[1].getY()))),null!=b[3]&&(o=Math.max(o,Math.trunc(b[3].getY())));o+=Fr.ROW_STEP}}return a}static findVertices(e,r,a){const o=e.getHeight(),l=e.getWidth(),d=new Array(8);return Fr.copyToResult(d,Fr.findRowsWithPattern(e,o,l,r,a,Fr.START_PATTERN),Fr.INDEXES_START_PATTERN),null!=d[4]&&(a=Math.trunc(d[4].getX()),r=Math.trunc(d[4].getY())),Fr.copyToResult(d,Fr.findRowsWithPattern(e,o,l,r,a,Fr.STOP_PATTERN),Fr.INDEXES_STOP_PATTERN),d}static copyToResult(e,r,a){for(let o=0;o<a.length;o++)e[a[o]]=r[o]}static findRowsWithPattern(e,r,a,o,l,d){const p=new Array(4);let b=!1;const U=new Int32Array(d.length);for(;o<r;o+=Fr.ROW_STEP){let de=Fr.findGuardPattern(e,l,o,a,!1,d,U);if(null!=de){for(;o>0;){const Se=Fr.findGuardPattern(e,l,--o,a,!1,d,U);if(null==Se){o++;break}de=Se}p[0]=new Pe(de[0],o),p[1]=new Pe(de[1],o),b=!0;break}}let $=o+1;if(b){let de=0,Se=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;$<r;$++){const De=Fr.findGuardPattern(e,Se[0],$,a,!1,d,U);if(null!=De&&Math.abs(Se[0]-De[0])<Fr.MAX_PATTERN_DRIFT&&Math.abs(Se[1]-De[1])<Fr.MAX_PATTERN_DRIFT)Se=De,de=0;else{if(de>Fr.SKIPPED_ROW_COUNT_MAX)break;de++}}$-=de+1,p[2]=new Pe(Se[0],$),p[3]=new Pe(Se[1],$)}return $-o<Fr.BARCODE_MIN_HEIGHT&&W.fill(p,null),p}static findGuardPattern(e,r,a,o,l,d,p){W.fillWithin(p,0,p.length,0);let b=r,U=0;for(;e.get(b,a)&&b>0&&U++<Fr.MAX_PIXEL_DRIFT;)b--;let $=b,de=0,Se=d.length;for(let De=l;$<o;$++)if(e.get($,a)!==De)p[de]++;else{if(de===Se-1){if(Fr.patternMatchVariance(p,d,Fr.MAX_INDIVIDUAL_VARIANCE)<Fr.MAX_AVG_VARIANCE)return new Int32Array([b,$]);b+=p[0]+p[1],J.arraycopy(p,2,p,0,de-1),p[de-1]=0,p[de]=0,de--}else de++;p[de]=1,De=!De}return de===Se-1&&Fr.patternMatchVariance(p,d,Fr.MAX_INDIVIDUAL_VARIANCE)<Fr.MAX_AVG_VARIANCE?new Int32Array([b,$-1]):null}static patternMatchVariance(e,r,a){let o=e.length,l=0,d=0;for(let U=0;U<o;U++)l+=e[U],d+=r[U];if(l<d)return 1/0;let p=l/d;a*=p;let b=0;for(let U=0;U<o;U++){let $=e[U],de=r[U]*p,Se=$>de?$-de:de-$;if(Se>a)return 1/0;b+=Se}return b/l}}Fr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Fr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Fr.MAX_AVG_VARIANCE=.42,Fr.MAX_INDIVIDUAL_VARIANCE=.8,Fr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Fr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Fr.MAX_PIXEL_DRIFT=3,Fr.MAX_PATTERN_DRIFT=5,Fr.SKIPPED_ROW_COUNT_MAX=25,Fr.ROW_STEP=5,Fr.BARCODE_MIN_HEIGHT=10;class Rn{constructor(e,r){if(0===r.length)throw new A;this.field=e;let a=r.length;if(a>1&&0===r[0]){let o=1;for(;o<a&&0===r[o];)o++;o===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-o),J.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],a=this.coefficients.length;for(let o=1;o<a;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,a=e.coefficients;if(r.length>a.length){let d=r;r=a,a=d}let o=new Int32Array(a.length),l=a.length-r.length;J.arraycopy(a,0,o,0,l);for(let d=l;d<a.length;d++)o[d]=this.field.add(r[d-l],a[d]);return new Rn(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Rn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Rn(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,o=e.coefficients,l=o.length,d=new Int32Array(a+l-1);for(let p=0;p<a;p++){let b=r[p];for(let U=0;U<l;U++)d[p+U]=this.field.add(d[p+U],this.field.multiply(b,o[U]))}return new Rn(this.field,d)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new Rn(this.field,r)}multiplyScalar(e){if(0===e)return new Rn(this.field,new Int32Array([0]));if(1===e)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let o=0;o<r;o++)a[o]=this.field.multiply(this.coefficients[o],e);return new Rn(this.field,a)}multiplyByMonomial(e,r){if(e<0)throw new A;if(0===r)return new Rn(this.field,new Int32Array([0]));let a=this.coefficients.length,o=new Int32Array(a+e);for(let l=0;l<a;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Rn(this.field,o)}toString(){let e=new G;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);0!==a&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(0===r||1!==a)&&e.append(a),0!==r&&(1===r?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class Aa extends class ls{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new A;return this.logTable[e]}inverse(e){if(0===e)throw new or;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let a=1;for(let o=0;o<e;o++)this.expTable[o]=a,a=a*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Rn(this,new Int32Array([0])),this.one=new Rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(0===r)return this.zero;let a=new Int32Array(e+1);return a[0]=r,new Rn(this,a)}}Aa.PDF417_GF=new Aa(br.NUMBER_OF_CODEWORDS,3);class Vs{constructor(){this.field=Aa.PDF417_GF}decode(e,r,a){let o=new Rn(this.field,e),l=new Int32Array(r),d=!1;for(let Qe=r;Qe>0;Qe--){let nt=o.evaluateAt(this.field.exp(Qe));l[r-Qe]=nt,0!==nt&&(d=!0)}if(!d)return 0;let p=this.field.getOne();if(null!=a)for(const Qe of a){let nt=this.field.exp(e.length-1-Qe),pt=new Rn(this.field,new Int32Array([this.field.subtract(0,nt),1]));p=p.multiply(pt)}let b=new Rn(this.field,l),U=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),b,r),$=U[0],de=U[1],Se=this.findErrorLocations($),De=this.findErrorMagnitudes(de,$,Se);for(let Qe=0;Qe<Se.length;Qe++){let nt=e.length-1-this.field.log(Se[Qe]);if(nt<0)throw I.getChecksumInstance();e[nt]=this.field.subtract(e[nt],De[Qe])}return Se.length}runEuclideanAlgorithm(e,r,a){if(e.getDegree()<r.getDegree()){let Se=e;e=r,r=Se}let o=e,l=r,d=this.field.getZero(),p=this.field.getOne();for(;l.getDegree()>=Math.round(a/2);){let Se=o,De=d;if(o=l,d=p,o.isZero())throw I.getChecksumInstance();l=Se;let Qe=this.field.getZero(),nt=o.getCoefficient(o.getDegree()),pt=this.field.inverse(nt);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let At=l.getDegree()-o.getDegree(),Ht=this.field.multiply(l.getCoefficient(l.getDegree()),pt);Qe=Qe.add(this.field.buildMonomial(At,Ht)),l=l.subtract(o.multiplyByMonomial(At,Ht))}p=Qe.multiply(d).subtract(De).negative()}let b=p.getCoefficient(0);if(0===b)throw I.getChecksumInstance();let U=this.field.inverse(b);return[p.multiply(U),l.multiply(U)]}findErrorLocations(e){let r=e.getDegree(),a=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)0===e.evaluateAt(l)&&(a[o]=this.field.inverse(l),o++);if(o!==r)throw I.getChecksumInstance();return a}findErrorMagnitudes(e,r,a){let o=r.getDegree(),l=new Int32Array(o);for(let U=1;U<=o;U++)l[o-U]=this.field.multiply(U,r.getCoefficient(U));let d=new Rn(this.field,l),p=a.length,b=new Int32Array(p);for(let U=0;U<p;U++){let $=this.field.inverse(a[U]),de=this.field.subtract(0,e.evaluateAt($)),Se=this.field.inverse(d.evaluateAt($));b[U]=this.field.multiply(de,Se)}return b}}class $i{constructor(e,r,a,o,l){e instanceof $i?this.constructor_2(e):this.constructor_1(e,r,a,o,l)}constructor_1(e,r,a,o,l){const d=null==r||null==a,p=null==o||null==l;if(d&&p)throw new V;d?(r=new Pe(0,o.getY()),a=new Pe(0,l.getY())):p&&(o=new Pe(e.getWidth()-1,r.getY()),l=new Pe(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=r,this.bottomLeft=a,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(a.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return null==e?r:null==r?e:new $i(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,a){let o=this.topLeft,l=this.bottomLeft,d=this.topRight,p=this.bottomRight;if(e>0){let b=a?this.topLeft:this.topRight,U=Math.trunc(b.getY()-e);U<0&&(U=0);let $=new Pe(b.getX(),U);a?o=$:d=$}if(r>0){let b=a?this.bottomLeft:this.bottomRight,U=Math.trunc(b.getY()+r);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let $=new Pe(b.getX(),U);a?l=$:p=$}return new $i(this.image,o,l,d,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class T0{constructor(e,r,a,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ca{constructor(){this.buffer=""}static form(e,r){let a=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(d,p,b,U,$,de){if("%%"===d)return"%";if(void 0===r[++a])return;d=U?parseInt(U.substr(1)):void 0;let De,Se=$?parseInt($.substr(1)):void 0;switch(de){case"s":De=r[a];break;case"c":De=r[a][0];break;case"f":De=parseFloat(r[a]).toFixed(d);break;case"p":De=parseFloat(r[a]).toPrecision(d);break;case"e":De=parseFloat(r[a]).toExponential(d);break;case"x":De=parseInt(r[a]).toString(Se||16);break;case"d":De=parseFloat(parseInt(r[a],Se||10).toPrecision(d)).toFixed(0)}De="object"==typeof De?JSON.stringify(De):(+De).toString(Se);let Qe=parseInt(b),nt=b&&b[0]+""=="0"?"0":" ";for(;De.length<Qe;)De=void 0!==p?De+nt:nt+De;return De})}format(e,...r){this.buffer+=Ca.form(e,r)}toString(){return this.buffer}}let us=(()=>{class H{constructor(r){this.boundingBox=new $i(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let a=this.getCodeword(r);if(null!=a)return a;for(let o=1;o<H.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(r)-o;if(l>=0&&(a=this.codewords[l],null!=a)||(l=this.imageRowToCodewordIndex(r)+o,l<this.codewords.length&&(a=this.codewords[l],null!=a)))return a}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,a){this.codewords[this.imageRowToCodewordIndex(r)]=a}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ca;let a=0;for(const o of this.codewords)null!=o?r.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue()):r.format("%3d:    |   %n",a++);return r.toString()}}return H.MAX_NEARBY_DISTANCE=5,H})();class ba{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);null==r&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[a,o]of this.values.entries()){const l={getKey:()=>a,getValue:()=>o};l.getValue()>e?(e=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===e&&r.push(l.getKey())}return br.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class wi extends us{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=this.imageRowToCodewordIndex(Math.trunc(l.getY())),b=-1,U=1,$=0;for(let de=d;de<p;de++){if(null==r[de])continue;let Se=r[de],De=Se.getRowNumber()-b;if(0===De)$++;else if(1===De)U=Math.max(U,$),$=1,b=Se.getRowNumber();else if(De<0||Se.getRowNumber()>=e.getRowCount()||De>de)r[de]=null;else{let Qe;Qe=U>2?(U-2)*De:De;let nt=Qe>=de;for(let pt=1;pt<=Qe&&!nt;pt++)nt=null!=r[de-pt];nt?r[de]=null:(b=Se.getRowNumber(),$=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let a of this.getCodewords())if(null!=a){let o=a.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=this.getCodewords(),b=-1;for(let U=l;U<d;U++){if(null==p[U])continue;let $=p[U];$.setRowNumberAsRowIndicatorColumn();let de=$.getRowNumber()-b;0===de||(1===de?b=$.getRowNumber():$.getRowNumber()>=e.getRowCount()?p[U]=null:b=$.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new ba,a=new ba,o=new ba,l=new ba;for(let p of e){if(null==p)continue;p.setRowNumberAsRowIndicatorColumn();let b=p.getValue()%30,U=p.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:a.setValue(3*b+1);break;case 1:l.setValue(b/3),o.setValue(b%3);break;case 2:r.setValue(b+1)}}if(0===r.getValue().length||0===a.getValue().length||0===o.getValue().length||0===l.getValue().length||r.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<br.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>br.MAX_ROWS_IN_BARCODE)return null;let d=new T0(r.getValue()[0],a.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,d),d}removeIncorrectCodewords(e,r){for(let a=0;a<e.length;a++){let o=e[a];if(null==e[a])continue;let l=o.getValue()%30,d=o.getRowNumber();if(d>r.getRowCount())e[a]=null;else switch(this._isLeft||(d+=2),d%3){case 0:3*l+1!==r.getRowCountUpperPart()&&(e[a]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(e[a]=null);break;case 2:l+1!==r.getColumnCount()&&(e[a]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Di{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r,e=br.MAX_CODEWORDS_IN_BARCODE;do{r=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let o=0;o<a.length;o++)null!=a[o]&&(a[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,a))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<e.length;a++)if(null!=e[a]&&null!=r[a]&&e[a].getRowNumber()===r[a].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[a];null!=l&&(l.setRowNumber(e[a].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(null==r[a])continue;let o=r[a].getRowNumber(),l=0;for(let d=this.barcodeColumnCount+1;d>0&&l<this.ADJUST_ROW_NUMBER_SKIP;d--){let p=this.detectionResultColumns[d].getCodewords()[a];null!=p&&(l=Di.adjustRowNumberIfValid(o,l,p),p.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(null==r[a])continue;let o=r[a].getRowNumber(),l=0;for(let d=1;d<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;d++){let p=this.detectionResultColumns[d].getCodewords()[a];null!=p&&(l=Di.adjustRowNumberIfValid(o,l,p),p.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,a){return null==a||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,a){let o=a[r],l=this.detectionResultColumns[e-1].getCodewords(),d=l;null!=this.detectionResultColumns[e+1]&&(d=this.detectionResultColumns[e+1].getCodewords());let p=new Array(14);p[2]=l[r],p[3]=d[r],r>0&&(p[0]=a[r-1],p[4]=l[r-1],p[5]=d[r-1]),r>1&&(p[8]=a[r-2],p[10]=l[r-2],p[11]=d[r-2]),r<a.length-1&&(p[1]=a[r+1],p[6]=l[r+1],p[7]=d[r+1]),r<a.length-2&&(p[9]=a[r+2],p[12]=l[r+2],p[13]=d[r+2]);for(let b of p)if(Di.adjustRowNumber(o,b))return}static adjustRowNumber(e,r){return!(null==r||!r.hasValidRowNumber()||r.getBucket()!==e.getBucket()||(e.setRowNumber(r.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ca;for(let a=0;a<e.getCodewords().length;a++){r.format("CW %3d:",a);for(let o=0;o<this.barcodeColumnCount+2;o++){if(null==this.detectionResultColumns[o]){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[a];null!=l?r.format(" %3d|%3d",l.getRowNumber(),l.getValue()):r.format("    |   ")}r.format("%n")}return r.toString()}}let _0=(()=>{class H{constructor(r,a,o,l){this.rowNumber=H.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(a),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==H.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}return H.BARCODE_ROW_UNKNOWN=-1,H})();class di{static initialize(){for(let e=0;e<br.SYMBOL_TABLE.length;e++){let r=br.SYMBOL_TABLE[e],a=1&r;for(let o=0;o<br.BARS_IN_MODULE;o++){let l=0;for(;(1&r)===a;)l+=1,r>>=1;a=1&r,di.RATIOS_TABLE[e]||(di.RATIOS_TABLE[e]=new Array(br.BARS_IN_MODULE)),di.RATIOS_TABLE[e][br.BARS_IN_MODULE-o-1]=Math.fround(l/br.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=di.getDecodedCodewordValue(di.sampleBitCounts(e));return-1!==r?r:di.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=Xe.sum(e),a=new Int32Array(br.BARS_IN_MODULE),o=0,l=0;for(let d=0;d<br.MODULES_IN_CODEWORD;d++)l+e[o]<=r/(2*br.MODULES_IN_CODEWORD)+d*r/br.MODULES_IN_CODEWORD&&(l+=e[o],o++),a[o]++;return a}static getDecodedCodewordValue(e){let r=di.getBitValue(e);return-1===br.getCodeword(r)?-1:r}static getBitValue(e){let r=0;for(let a=0;a<e.length;a++)for(let o=0;o<e[a];o++)r=r<<1|(a%2==0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=Xe.sum(e),a=new Array(br.BARS_IN_MODULE);if(r>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(e[d]/r);let o=ee.MAX_VALUE,l=-1;this.bSymbolTableReady||di.initialize();for(let d=0;d<di.RATIOS_TABLE.length;d++){let p=0,b=di.RATIOS_TABLE[d];for(let U=0;U<br.BARS_IN_MODULE;U++){let $=Math.fround(b[U]-a[U]);if(p+=Math.fround($*$),p>=o)break}p<o&&(o=p,l=br.SYMBOL_TABLE[d])}return l}}di.bSymbolTableReady=!1,di.RATIOS_TABLE=new Array(br.SYMBOL_TABLE.length).map(H=>new Array(br.BARS_IN_MODULE));class Hs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class zs{static parseLong(e,r){return parseInt(e,r)}}let B0=(()=>{class H extends B{}return H.kind="NullPointerException",H})();class N0 extends B{}class D0 extends class k0{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,a){if(null==e)throw new B0;if(r<0||r>e.length||a<0||r+a>e.length||r+a<0)throw new R;if(0!==a)for(let o=0;o<a;o++)this.write(e[r+o])}flush(){}close(){}}{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let a=this.buf.length<<1;if(a-e<0&&(a=e),a<0){if(e<0)throw new N0;a=P.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,a)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,a){if(r<0||r>e.length||a<0||r+a-e.length>0)throw new R;this.ensureCapacity(this.count+a),J.arraycopy(e,r,this.buf,this.count,a),this.count+=a}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var vn=(()=>{return(H=vn||(vn={}))[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT",vn;var H})();function Gs(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let La;function Zi(H){if(typeof La>"u"&&(La=Gs()),null===La)throw new Error("BigInt is not supported!");return La(H)}class bt{static decode(e,r){let a=new G(""),o=j.ISO8859_1;a.enableDecoding(o);let l=1,d=e[l++],p=new Hs;for(;l<e[0];){switch(d){case bt.TEXT_COMPACTION_MODE_LATCH:l=bt.textCompaction(e,l,a);break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:l=bt.byteCompaction(d,e,o,l,a);break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[l++]);break;case bt.NUMERIC_COMPACTION_MODE_LATCH:l=bt.numericCompaction(e,l,a);break;case bt.ECI_CHARSET:j.getCharacterSetECIByValue(e[l++]);break;case bt.ECI_GENERAL_PURPOSE:l+=2;break;case bt.ECI_USER_DEFINED:l++;break;case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=bt.decodeMacroBlock(e,l,p);break;case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:throw new _;default:l--,l=bt.textCompaction(e,l,a)}if(!(l<e.length))throw _.getFormatInstance();d=e[l++]}if(0===a.length())throw _.getFormatInstance();let b=new dr(null,a.toString(),null,r);return b.setOther(p),b}static decodeMacroBlock(e,r,a){if(r+bt.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw _.getFormatInstance();let o=new Int32Array(bt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<bt.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)o[p]=e[r];a.setSegmentIndex(P.parseInt(bt.decodeBase900toBase10(o,bt.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new G;r=bt.textCompaction(e,r,l),a.setFileId(l.toString());let d=-1;for(e[r]===bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=r+1);r<e[0];)switch(e[r]){case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++r]){case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new G;r=bt.textCompaction(e,r+1,p),a.setFileName(p.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new G;r=bt.textCompaction(e,r+1,b),a.setSender(b.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new G;r=bt.textCompaction(e,r+1,U),a.setAddressee(U.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new G;r=bt.numericCompaction(e,r+1,$),a.setSegmentCount(P.parseInt($.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let de=new G;r=bt.numericCompaction(e,r+1,de),a.setTimestamp(zs.parseLong(de.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Se=new G;r=bt.numericCompaction(e,r+1,Se),a.setChecksum(P.parseInt(Se.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let De=new G;r=bt.numericCompaction(e,r+1,De),a.setFileSize(zs.parseLong(De.toString()));break;default:throw _.getFormatInstance()}break;case bt.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw _.getFormatInstance()}if(-1!==d){let p=r-d;a.isLastSegment()&&p--,a.setOptionalData(W.copyOfRange(e,d,d+p))}return r}static textCompaction(e,r,a){let o=new Int32Array(2*(e[0]-r)),l=new Int32Array(2*(e[0]-r)),d=0,p=!1;for(;r<e[0]&&!p;){let b=e[r++];if(b<bt.TEXT_COMPACTION_MODE_LATCH)o[d]=b/30,o[d+1]=b%30,d+=2;else switch(b){case bt.TEXT_COMPACTION_MODE_LATCH:o[d++]=bt.TEXT_COMPACTION_MODE_LATCH;break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[d]=bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=e[r++],l[d]=b,d++}}return bt.decodeTextCompaction(o,l,d,a),r}static decodeTextCompaction(e,r,a,o){let l=vn.ALPHA,d=vn.ALPHA,p=0;for(;p<a;){let b=e[p],U="";switch(l){case vn.ALPHA:if(b<26)U=String.fromCharCode(65+b);else switch(b){case 26:U=" ";break;case bt.LL:l=vn.LOWER;break;case bt.ML:l=vn.MIXED;break;case bt.PS:d=l,l=vn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}break;case vn.LOWER:if(b<26)U=String.fromCharCode(97+b);else switch(b){case 26:U=" ";break;case bt.AS:d=l,l=vn.ALPHA_SHIFT;break;case bt.ML:l=vn.MIXED;break;case bt.PS:d=l,l=vn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}break;case vn.MIXED:if(b<bt.PL)U=bt.MIXED_CHARS[b];else switch(b){case bt.PL:l=vn.PUNCT;break;case 26:U=" ";break;case bt.LL:l=vn.LOWER;break;case bt.AL:l=vn.ALPHA;break;case bt.PS:d=l,l=vn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}break;case vn.PUNCT:if(b<bt.PAL)U=bt.PUNCT_CHARS[b];else switch(b){case bt.PAL:l=vn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}break;case vn.ALPHA_SHIFT:if(l=d,b<26)U=String.fromCharCode(65+b);else switch(b){case 26:U=" ";break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}break;case vn.PUNCT_SHIFT:if(l=d,b<bt.PAL)U=bt.PUNCT_CHARS[b];else switch(b){case bt.PAL:l=vn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=vn.ALPHA}}""!==U&&o.append(U),p++}}static byteCompaction(e,r,a,o,l){let d=new D0,p=0,b=0,U=!1;switch(e){case bt.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),de=r[o++];for(;o<r[0]&&!U;)switch($[p++]=de,b=900*b+de,de=r[o++],de){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:o--,U=!0;break;default:if(p%5==0&&p>0){for(let Se=0;Se<6;++Se)d.write(Number(Zi(b)>>Zi(8*(5-Se))));b=0,p=0}}o===r[0]&&de<bt.TEXT_COMPACTION_MODE_LATCH&&($[p++]=de);for(let Se=0;Se<p;Se++)d.write($[Se]);break;case bt.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!U;){let Se=r[o++];if(Se<bt.TEXT_COMPACTION_MODE_LATCH)p++,b=900*b+Se;else switch(Se){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:o--,U=!0}if(p%5==0&&p>0){for(let De=0;De<6;++De)d.write(Number(Zi(b)>>Zi(8*(5-De))));b=0,p=0}}}return l.append(O.decode(d.toByteArray(),a)),o}static numericCompaction(e,r,a){let o=0,l=!1,d=new Int32Array(bt.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!l;){let p=e[r++];if(r===e[0]&&(l=!0),p<bt.TEXT_COMPACTION_MODE_LATCH)d[o]=p,o++;else switch(p){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:r--,l=!0}(o%bt.MAX_NUMERIC_CODEWORDS==0||p===bt.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(a.append(bt.decodeBase900toBase10(d,o)),o=0)}return r}static decodeBase900toBase10(e,r){let a=Zi(0);for(let l=0;l<r;l++)a+=bt.EXP900[r-l-1]*Zi(e[l]);let o=a.toString();if("1"!==o.charAt(0))throw new _;return o.substring(1)}}bt.TEXT_COMPACTION_MODE_LATCH=900,bt.BYTE_COMPACTION_MODE_LATCH=901,bt.NUMERIC_COMPACTION_MODE_LATCH=902,bt.BYTE_COMPACTION_MODE_LATCH_6=924,bt.ECI_USER_DEFINED=925,bt.ECI_GENERAL_PURPOSE=926,bt.ECI_CHARSET=927,bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,bt.MACRO_PDF417_TERMINATOR=922,bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,bt.MAX_NUMERIC_CODEWORDS=15,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,bt.PL=25,bt.LL=27,bt.AS=27,bt.ML=28,bt.AL=28,bt.PS=29,bt.PAL=29,bt.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",bt.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",bt.EXP900=Gs()?function Ri(){let H=[];H[0]=Zi(1);let e=Zi(900);H[1]=e;for(let r=2;r<16;r++)H[r]=H[r-1]*e;return H}():[],bt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Mr{constructor(){}static decode(e,r,a,o,l,d,p){let de,b=new $i(e,r,a,o,l),U=null,$=null;for(let Qe=!0;;Qe=!1){if(null!=r&&(U=Mr.getRowIndicatorColumn(e,b,r,!0,d,p)),null!=o&&($=Mr.getRowIndicatorColumn(e,b,o,!1,d,p)),de=Mr.merge(U,$),null==de)throw V.getNotFoundInstance();let nt=de.getBoundingBox();if(!Qe||null==nt||!(nt.getMinY()<b.getMinY()||nt.getMaxY()>b.getMaxY()))break;b=nt}de.setBoundingBox(b);let Se=de.getBarcodeColumnCount()+1;de.setDetectionResultColumn(0,U),de.setDetectionResultColumn(Se,$);let De=null!=U;for(let Qe=1;Qe<=Se;Qe++){let pt,nt=De?Qe:Se-Qe;if(void 0!==de.getDetectionResultColumn(nt))continue;pt=0===nt||nt===Se?new wi(b,0===nt):new us(b),de.setDetectionResultColumn(nt,pt);let At=-1,Ht=At;for(let cr=b.getMinY();cr<=b.getMaxY();cr++){if(At=Mr.getStartColumn(de,nt,cr,De),At<0||At>b.getMaxX()){if(-1===Ht)continue;At=Ht}let Rt=Mr.detectCodeword(e,b.getMinX(),b.getMaxX(),De,At,cr,d,p);null!=Rt&&(pt.setCodeword(cr,Rt),Ht=At,d=Math.min(d,Rt.getWidth()),p=Math.max(p,Rt.getWidth()))}}return Mr.createDecoderResult(de)}static merge(e,r){if(null==e&&null==r)return null;let a=Mr.getBarcodeMetadata(e,r);if(null==a)return null;let o=$i.merge(Mr.adjustBoundingBox(e),Mr.adjustBoundingBox(r));return new Di(a,o)}static adjustBoundingBox(e){if(null==e)return null;let r=e.getRowHeights();if(null==r)return null;let a=Mr.getMax(r),o=0;for(let p of r)if(o+=a-p,p>0)break;let l=e.getCodewords();for(let p=0;o>0&&null==l[p];p++)o--;let d=0;for(let p=r.length-1;p>=0&&(d+=a-r[p],!(r[p]>0));p--);for(let p=l.length-1;d>0&&null==l[p];p--)d--;return e.getBoundingBox().addMissingRows(o,d,e.isLeft())}static getMax(e){let r=-1;for(let a of e)r=Math.max(r,a);return r}static getBarcodeMetadata(e,r){let a,o;return null==e||null==(a=e.getBarcodeMetadata())?null==r?null:r.getBarcodeMetadata():null==r||null==(o=r.getBarcodeMetadata())?a:a.getColumnCount()!==o.getColumnCount()&&a.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&a.getRowCount()!==o.getRowCount()?null:a}static getRowIndicatorColumn(e,r,a,o,l,d){let p=new wi(r,o);for(let b=0;b<2;b++){let U=0===b?1:-1,$=Math.trunc(Math.trunc(a.getX()));for(let de=Math.trunc(Math.trunc(a.getY()));de<=r.getMaxY()&&de>=r.getMinY();de+=U){let Se=Mr.detectCodeword(e,0,e.getWidth(),o,$,de,l,d);null!=Se&&(p.setCodeword(de,Se),$=o?Se.getStartX():Se.getEndX())}}return p}static adjustCodewordCount(e,r){let a=r[0][1],o=a.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Mr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===o.length){if(l<1||l>br.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();a.setValue(l)}else o[0]!==l&&a.setValue(l)}static createDecoderResult(e){let r=Mr.createBarcodeMatrix(e);Mr.adjustCodewordCount(e,r);let a=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],d=new Array;for(let b=0;b<e.getBarcodeRowCount();b++)for(let U=0;U<e.getBarcodeColumnCount();U++){let $=r[b][U+1].getValue(),de=b*e.getBarcodeColumnCount()+U;0===$.length?a.push(de):1===$.length?o[de]=$[0]:(d.push(de),l.push($))}let p=new Array(l.length);for(let b=0;b<p.length;b++)p[b]=l[b];return Mr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,br.toIntArray(a),br.toIntArray(d),p)}static createDecoderResultFromAmbiguousValues(e,r,a,o,l){let d=new Int32Array(o.length),p=100;for(;p-- >0;){for(let b=0;b<d.length;b++)r[o[b]]=l[b][d[b]];try{return Mr.decodeCodewords(r,e,a)}catch(b){if(!(b instanceof I))throw b}if(0===d.length)throw I.getChecksumInstance();for(let b=0;b<d.length;b++){if(d[b]<l[b].length-1){d[b]++;break}if(d[b]=0,b===d.length-1)throw I.getChecksumInstance()}}throw I.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new ba;let a=0;for(let o of e.getDetectionResultColumns()){if(null!=o)for(let l of o.getCodewords())if(null!=l){let d=l.getRowNumber();if(d>=0){if(d>=r.length)continue;r[d][a].setValue(l.getValue())}}a++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,a,o){let l=o?1:-1,d=null;if(Mr.isValidBarcodeColumn(e,r-l)&&(d=e.getDetectionResultColumn(r-l).getCodeword(a)),null!=d)return o?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(r).getCodewordNearby(a),null!=d)return o?d.getStartX():d.getEndX();if(Mr.isValidBarcodeColumn(e,r-l)&&(d=e.getDetectionResultColumn(r-l).getCodewordNearby(a)),null!=d)return o?d.getEndX():d.getStartX();let p=0;for(;Mr.isValidBarcodeColumn(e,r-l);){r-=l;for(let b of e.getDetectionResultColumn(r).getCodewords())if(null!=b)return(o?b.getEndX():b.getStartX())+l*p*(b.getEndX()-b.getStartX());p++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,a,o,l,d,p,b){l=Mr.adjustCodewordStartColumn(e,r,a,o,l,d);let U=Mr.getModuleBitCount(e,r,a,o,l,d);if(null==U)return null;let $,de=Xe.sum(U);if(o)$=l+de;else{for(let Qe=0;Qe<U.length/2;Qe++){let nt=U[Qe];U[Qe]=U[U.length-1-Qe],U[U.length-1-Qe]=nt}$=l,l=$-de}if(!Mr.checkCodewordSkew(de,p,b))return null;let Se=di.getDecodedValue(U),De=br.getCodeword(Se);return-1===De?null:new _0(l,$,Mr.getCodewordBucketNumber(Se),De)}static getModuleBitCount(e,r,a,o,l,d){let p=l,b=new Int32Array(8),U=0,$=o?1:-1,de=o;for(;(o?p<a:p>=r)&&U<b.length;)e.get(p,d)===de?(b[U]++,p+=$):(U++,de=!de);return U===b.length||p===(o?a:r)&&U===b.length-1?b:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,a,o,l,d){let p=l,b=o?-1:1;for(let U=0;U<2;U++){for(;(o?p>=r:p<a)&&o===e.get(p,d);){if(Math.abs(l-p)>Mr.CODEWORD_SKEW_SIZE)return l;p+=b}b=-b,o=!o}return p}static checkCodewordSkew(e,r,a){return r-Mr.CODEWORD_SKEW_SIZE<=e&&e<=a+Mr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,a){if(0===e.length)throw _.getFormatInstance();let o=1<<r+1,l=Mr.correctErrors(e,a,o);Mr.verifyCodewordCount(e,o);let d=bt.decode(e,""+r);return d.setErrorsCorrected(l),d.setErasures(a.length),d}static correctErrors(e,r,a){if(null!=r&&r.length>a/2+Mr.MAX_ERRORS||a<0||a>Mr.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Mr.errorCorrection.decode(e,a,r)}static verifyCodewordCount(e,r){if(e.length<4)throw _.getFormatInstance();let a=e[0];if(a>e.length)throw _.getFormatInstance();if(0===a){if(!(r<e.length))throw _.getFormatInstance();e[0]=e.length-r}}static getBitCountForCodeword(e){let r=new Int32Array(8),a=0,o=r.length-1;for(;!((1&e)!==a&&(a=1&e,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Mr.getCodewordBucketNumber(Mr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Ca;for(let a=0;a<e.length;a++){r.format("Row %2d: ",a);for(let o=0;o<e[a].length;o++){let l=e[a][o];0===l.getValue().length?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Mr.CODEWORD_SKEW_SIZE=2,Mr.MAX_ERRORS=3,Mr.MAX_EC_CODEWORDS=512,Mr.errorCorrection=new Vs;class Qn{decode(e,r=null){let a=Qn.decode(e,r,!1);if(null==a||0===a.length||null==a[0])throw V.getNotFoundInstance();return a[0]}decodeMultiple(e,r=null){try{return Qn.decode(e,r,!0)}catch(a){throw a instanceof _||a instanceof I?V.getNotFoundInstance():a}}static decode(e,r,a){const o=new Array,l=Fr.detectMultiple(e,r,a);for(const d of l.getPoints()){const p=Mr.decode(l.getBits(),d[4],d[5],d[6],d[7],Qn.getMinCodewordWidth(d),Qn.getMaxCodewordWidth(d)),b=new qe(p.getText(),p.getRawBytes(),void 0,d,Je.PDF_417);b.putMetadata(ht.ERROR_CORRECTION_LEVEL,p.getECLevel());const U=p.getOther();null!=U&&b.putMetadata(ht.PDF417_EXTRA_METADATA,U),o.push(b)}return o.map(d=>d)}static getMaxWidth(e,r){return null==e||null==r?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return null==e||null==r?P.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Qn.getMaxWidth(e[0],e[4]),Qn.getMaxWidth(e[6],e[2])*br.MODULES_IN_CODEWORD/br.MODULES_IN_STOP_PATTERN),Math.max(Qn.getMaxWidth(e[1],e[5]),Qn.getMaxWidth(e[7],e[3])*br.MODULES_IN_CODEWORD/br.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Qn.getMinWidth(e[0],e[4]),Qn.getMinWidth(e[6],e[2])*br.MODULES_IN_CODEWORD/br.MODULES_IN_STOP_PATTERN),Math.min(Qn.getMinWidth(e[1],e[5]),Qn.getMinWidth(e[7],e[3])*br.MODULES_IN_CODEWORD/br.MODULES_IN_STOP_PATTERN)))}reset(){}}let ea=(()=>{class H extends B{}return H.kind="ReaderException",H})();class fs{constructor(e,r){this.verbose=!0===e,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return null==this.readers&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=null!=e&&void 0!==e.get(S.TRY_HARDER),a=null==e?null:e.get(S.POSSIBLE_FORMATS),o=new Array;if(null!=a){const l=a.some(d=>d===Je.UPC_A||d===Je.UPC_E||d===Je.EAN_13||d===Je.EAN_8||d===Je.CODABAR||d===Je.CODE_39||d===Je.CODE_93||d===Je.CODE_128||d===Je.ITF||d===Je.RSS_14||d===Je.RSS_EXPANDED);l&&!r&&o.push(new Ve(e,this.verbose)),a.includes(Je.QR_CODE)&&o.push(new qn),a.includes(Je.DATA_MATRIX)&&o.push(new tt),a.includes(Je.AZTEC)&&o.push(new sn),a.includes(Je.PDF_417)&&o.push(new Qn),l&&r&&o.push(new Ve(e,this.verbose))}0===o.length&&(r||o.push(new Ve(e,this.verbose)),o.push(new qn),o.push(new tt),o.push(new sn),o.push(new Qn),r&&o.push(new Ve(e,this.verbose))),this.readers=o}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new ea("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(a){if(a instanceof ea)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}var Sa=(()=>{return(H=Sa||(Sa={}))[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION",Sa;var H})(),Zn=Sa;class hs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new yr(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let a=r[r.length-1];const o=this.field;for(let l=r.length;l<=e;l++){const d=a.multiply(new yr(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(d),a=d}}return r[e]}encode(e,r){if(0===r)throw new A("No error correction bytes");const a=e.length-r;if(a<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(a);J.arraycopy(e,0,l,0,a);let d=new yr(this.field,l);d=d.multiplyByMonomial(r,1);const b=d.divide(o)[1].getCoefficients(),U=r-b.length;for(let $=0;$<U;$++)e[a+$]=0;J.arraycopy(b,0,e,a+U,b.length)}}let ca=(()=>{class H{constructor(){}static applyMaskPenaltyRule1(r){return H.applyMaskPenaltyRule1Internal(r,!0)+H.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let p=0;p<d-1;p++){const b=o[p];for(let U=0;U<l-1;U++){const $=b[U];$===b[U+1]&&$===o[p+1][U]&&$===o[p+1][U+1]&&a++}}return H.N2*a}static applyMaskPenaltyRule3(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let p=0;p<d;p++)for(let b=0;b<l;b++){const U=o[p];b+6<l&&1===U[b]&&0===U[b+1]&&1===U[b+2]&&1===U[b+3]&&1===U[b+4]&&0===U[b+5]&&1===U[b+6]&&(H.isWhiteHorizontal(U,b-4,b)||H.isWhiteHorizontal(U,b+7,b+11))&&a++,p+6<d&&1===o[p][b]&&0===o[p+1][b]&&1===o[p+2][b]&&1===o[p+3][b]&&1===o[p+4][b]&&0===o[p+5][b]&&1===o[p+6][b]&&(H.isWhiteVertical(o,b,p-4,p)||H.isWhiteVertical(o,b,p+7,p+11))&&a++}return a*H.N3}static isWhiteHorizontal(r,a,o){a=Math.max(a,0),o=Math.min(o,r.length);for(let l=a;l<o;l++)if(1===r[l])return!1;return!0}static isWhiteVertical(r,a,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let d=o;d<l;d++)if(1===r[d][a])return!1;return!0}static applyMaskPenaltyRule4(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let U=0;U<d;U++){const $=o[U];for(let de=0;de<l;de++)1===$[de]&&a++}const p=r.getHeight()*r.getWidth();return Math.floor(10*Math.abs(2*a-p)/p)*H.N4}static getDataMaskBit(r,a,o){let l,d;switch(r){case 0:l=o+a&1;break;case 1:l=1&o;break;case 2:l=a%3;break;case 3:l=(o+a)%3;break;case 4:l=Math.floor(o/2)+Math.floor(a/3)&1;break;case 5:d=o*a,l=(1&d)+d%3;break;case 6:d=o*a,l=(1&d)+d%3&1;break;case 7:d=o*a,l=d%3+(o+a&1)&1;break;default:throw new A("Invalid mask pattern: "+r)}return 0===l}static applyMaskPenaltyRule1Internal(r,a){let o=0;const l=a?r.getHeight():r.getWidth(),d=a?r.getWidth():r.getHeight(),p=r.getArray();for(let b=0;b<l;b++){let U=0,$=-1;for(let de=0;de<d;de++){const Se=a?p[b][de]:p[de][b];Se===$?U++:(U>=5&&(o+=H.N1+(U-5)),U=1,$=Se)}U>=5&&(o+=H.N1+(U-5))}return o}}return H.N1=3,H.N2=3,H.N3=40,H.N4=10,H})();class Ua{constructor(e,r){this.width=e,this.height=r;const a=new Array(r);for(let o=0;o!==r;o++)a[o]=new Uint8Array(e);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,a){this.bytes[r][e]=a}setBoolean(e,r,a){this.bytes[r][e]=a?1:0}clear(e){for(const r of this.bytes)W.fill(r,e)}equals(e){if(!(e instanceof Ua))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,o=this.height;a<o;++a){const l=this.bytes[a],d=r.bytes[a];for(let p=0,b=this.width;p<b;++p)if(l[p]!==d[p])return!1}return!0}toString(){const e=new G;for(let r=0,a=this.height;r<a;++r){const o=this.bytes[r];for(let l=0,d=this.width;l<d;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}let Fa=(()=>{class H{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new G;return r.append("<<\n"),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append("\n ecLevel: "),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append("\n version: "),r.append(this.version?this.version.toString():"null"),r.append("\n maskPattern: "),r.append(this.maskPattern.toString()),this.matrix?(r.append("\n matrix:\n"),r.append(this.matrix.toString())):r.append("\n matrix: null\n"),r.append(">>\n"),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<H.NUM_MASK_PATTERNS}}return H.NUM_MASK_PATTERNS=8,H})(),Tn=(()=>{class H extends B{}return H.kind="WriterException",H})();class Tr{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,a,o,l){Tr.clearMatrix(l),Tr.embedBasicPatterns(a,l),Tr.embedTypeInfo(r,o,l),Tr.maybeEmbedVersionInfo(a,l),Tr.embedDataBits(e,o,l)}static embedBasicPatterns(e,r){Tr.embedPositionDetectionPatternsAndSeparators(r),Tr.embedDarkDotAtLeftBottomCorner(r),Tr.maybeEmbedPositionAdjustmentPatterns(e,r),Tr.embedTimingPatterns(r)}static embedTypeInfo(e,r,a){const o=new K;Tr.makeTypeInfoBits(e,r,o);for(let l=0,d=o.getSize();l<d;++l){const p=o.get(o.getSize()-1-l),b=Tr.TYPE_INFO_COORDINATES[l];if(a.setBoolean(b[0],b[1],p),l<8){const de=a.getWidth()-l-1;a.setBoolean(de,8,p)}else{const Se=a.getHeight()-7+(l-8);a.setBoolean(8,Se,p)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const a=new K;Tr.makeVersionInfoBits(e,a);let o=17;for(let l=0;l<6;++l)for(let d=0;d<3;++d){const p=a.get(o);o--,r.setBoolean(l,r.getHeight()-11+d,p),r.setBoolean(r.getHeight()-11+d,l,p)}}static embedDataBits(e,r,a){let o=0,l=-1,d=a.getWidth()-1,p=a.getHeight()-1;for(;d>0;){for(6===d&&(d-=1);p>=0&&p<a.getHeight();){for(let b=0;b<2;++b){const U=d-b;if(!Tr.isEmpty(a.get(U,p)))continue;let $;o<e.getSize()?($=e.get(o),++o):$=!1,255!==r&&ca.getDataMaskBit(r,U,p)&&($=!$),a.setBoolean(U,p,$)}p+=l}l=-l,p+=l,d-=2}if(o!==e.getSize())throw new Tn("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-P.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(0===r)throw new A("0 polynomial");const a=Tr.findMSBSet(r);for(e<<=a-1;Tr.findMSBSet(e)>=a;)e^=r<<Tr.findMSBSet(e)-a;return e}static makeTypeInfoBits(e,r,a){if(!Fa.isValidMaskPattern(r))throw new Tn("Invalid mask pattern");const o=e.getBits()<<3|r;a.appendBits(o,5);const l=Tr.calculateBCHCode(o,Tr.TYPE_INFO_POLY);a.appendBits(l,10);const d=new K;if(d.appendBits(Tr.TYPE_INFO_MASK_PATTERN,15),a.xor(d),15!==a.getSize())throw new Tn("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const a=Tr.calculateBCHCode(e.getVersionNumber(),Tr.VERSION_INFO_POLY);if(r.appendBits(a,12),18!==r.getSize())throw new Tn("should not happen but we got: "+r.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const a=(r+1)%2;Tr.isEmpty(e.get(r,6))&&e.setNumber(r,6,a),Tr.isEmpty(e.get(6,r))&&e.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Tn;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,a){for(let o=0;o<8;++o){if(!Tr.isEmpty(a.get(e+o,r)))throw new Tn;a.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,a){for(let o=0;o<7;++o){if(!Tr.isEmpty(a.get(e,r+o)))throw new Tn;a.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,a){for(let o=0;o<5;++o){const l=Tr.POSITION_ADJUSTMENT_PATTERN[o];for(let d=0;d<5;++d)a.setNumber(e+d,r+o,l[d])}}static embedPositionDetectionPattern(e,r,a){for(let o=0;o<7;++o){const l=Tr.POSITION_DETECTION_PATTERN[o];for(let d=0;d<7;++d)a.setNumber(e+d,r+o,l[d])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Tr.POSITION_DETECTION_PATTERN[0].length;Tr.embedPositionDetectionPattern(0,0,e),Tr.embedPositionDetectionPattern(e.getWidth()-r,0,e),Tr.embedPositionDetectionPattern(0,e.getWidth()-r,e);Tr.embedHorizontalSeparationPattern(0,7,e),Tr.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),Tr.embedHorizontalSeparationPattern(0,e.getWidth()-8,e);Tr.embedVerticalSeparationPattern(7,0,e),Tr.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),Tr.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const a=e.getVersionNumber()-1,o=Tr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let l=0,d=o.length;l!==d;l++){const p=o[l];if(p>=0)for(let b=0;b!==d;b++){const U=o[b];U>=0&&Tr.isEmpty(r.get(U,p))&&Tr.embedPositionAdjustmentPattern(U-2,p-2,r)}}}}Tr.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Tr.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Tr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Tr.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Tr.VERSION_INFO_POLY=7973,Tr.TYPE_INFO_POLY=1335,Tr.TYPE_INFO_MASK_PATTERN=21522;class ds{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bn{constructor(){}static calculateMaskPenalty(e){return ca.applyMaskPenaltyRule1(e)+ca.applyMaskPenaltyRule2(e)+ca.applyMaskPenaltyRule3(e)+ca.applyMaskPenaltyRule4(e)}static encode(e,r,a=null){let o=bn.DEFAULT_BYTE_MODE_ENCODING;const l=null!==a&&void 0!==a.get(Zn.CHARACTER_SET);l&&(o=a.get(Zn.CHARACTER_SET).toString());const d=this.chooseMode(e,o),p=new K;if(d===Cr.BYTE&&(l||bn.DEFAULT_BYTE_MODE_ENCODING!==o)){const cr=j.getCharacterSetECIByName(o);void 0!==cr&&this.appendECI(cr,p)}this.appendModeInfo(d,p);const b=new K;let U;if(this.appendBytes(e,d,b,o),null!==a&&void 0!==a.get(Zn.QR_VERSION)){const cr=Number.parseInt(a.get(Zn.QR_VERSION).toString(),10);U=sr.getVersionForNumber(cr);const Rt=this.calculateBitsNeeded(d,p,b,U);if(!this.willFit(Rt,U,r))throw new Tn("Data too big for requested version")}else U=this.recommendVersion(r,d,p,b);const $=new K;$.appendBitArray(p);const de=d===Cr.BYTE?b.getSizeInBytes():e.length;this.appendLengthInfo(de,U,d,$),$.appendBitArray(b);const Se=U.getECBlocksForLevel(r),De=U.getTotalCodewords()-Se.getTotalECCodewords();this.terminateBits(De,$);const Qe=this.interleaveWithECBytes($,U.getTotalCodewords(),De,Se.getNumBlocks()),nt=new Fa;nt.setECLevel(r),nt.setMode(d),nt.setVersion(U);const pt=U.getDimensionForVersion(),At=new Ua(pt,pt),Ht=this.chooseMaskPattern(Qe,r,U,At);return nt.setMaskPattern(Ht),Tr.buildMatrix(Qe,r,U,Ht,At),nt.setMatrix(At),nt}static recommendVersion(e,r,a,o){const l=this.calculateBitsNeeded(r,a,o,sr.getVersionForNumber(1)),d=this.chooseVersion(l,e),p=this.calculateBitsNeeded(r,a,o,d);return this.chooseVersion(p,e)}static calculateBitsNeeded(e,r,a,o){return r.getSize()+e.getCharacterCountBits(o)+a.getSize()}static getAlphanumericCode(e){return e<bn.ALPHANUMERIC_TABLE.length?bn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(j.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Cr.KANJI;let a=!1,o=!1;for(let l=0,d=e.length;l<d;++l){const p=e.charAt(l);if(bn.isDigit(p))a=!0;else{if(-1===this.getAlphanumericCode(p.charCodeAt(0)))return Cr.BYTE;o=!0}}return o?Cr.ALPHANUMERIC:a?Cr.NUMERIC:Cr.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=O.encode(e,j.SJIS)}catch{return!1}const a=r.length;if(a%2!=0)return!1;for(let o=0;o<a;o+=2){const l=255&r[o];if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,r,a,o){let l=Number.MAX_SAFE_INTEGER,d=-1;for(let p=0;p<Fa.NUM_MASK_PATTERNS;p++){Tr.buildMatrix(e,r,a,p,o);let b=this.calculateMaskPenalty(o);b<l&&(l=b,d=p)}return d}static chooseVersion(e,r){for(let a=1;a<=40;a++){const o=sr.getVersionForNumber(a);if(bn.willFit(e,o,r))return o}throw new Tn("Data too big")}static willFit(e,r,a){return r.getTotalCodewords()-r.getECBlocksForLevel(a).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,r){const a=8*e;if(r.getSize()>a)throw new Tn("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let d=0;d<4&&r.getSize()<a;++d)r.appendBit(!1);const o=7&r.getSize();if(o>0)for(let d=o;d<8;d++)r.appendBit(!1);const l=e-r.getSizeInBytes();for(let d=0;d<l;++d)r.appendBits(0==(1&d)?236:17,8);if(r.getSize()!==a)throw new Tn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,a,o,l,d){if(o>=a)throw new Tn("Block ID too large");const p=e%a,b=a-p,U=Math.floor(e/a),$=U+1,de=Math.floor(r/a),Se=de+1,De=U-de,Qe=$-Se;if(De!==Qe)throw new Tn("EC bytes mismatch");if(a!==b+p)throw new Tn("RS blocks mismatch");if(e!==(de+De)*b+(Se+Qe)*p)throw new Tn("Total bytes mismatch");o<b?(l[0]=de,d[0]=De):(l[0]=Se,d[0]=Qe)}static interleaveWithECBytes(e,r,a,o){if(e.getSizeInBytes()!==a)throw new Tn("Number of bits and data bytes does not match");let l=0,d=0,p=0;const b=new Array;for(let $=0;$<o;++$){const de=new Int32Array(1),Se=new Int32Array(1);bn.getNumDataBytesAndNumECBytesForBlockID(r,a,o,$,de,Se);const De=de[0],Qe=new Uint8Array(De);e.toBytes(8*l,Qe,0,De);const nt=bn.generateECBytes(Qe,Se[0]);b.push(new ds(Qe,nt)),d=Math.max(d,De),p=Math.max(p,nt.length),l+=de[0]}if(a!==l)throw new Tn("Data bytes does not match offset");const U=new K;for(let $=0;$<d;++$)for(const de of b){const Se=de.getDataBytes();$<Se.length&&U.appendBits(Se[$],8)}for(let $=0;$<p;++$)for(const de of b){const Se=de.getErrorCorrectionBytes();$<Se.length&&U.appendBits(Se[$],8)}if(r!==U.getSizeInBytes())throw new Tn("Interleaving error: "+r+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(e,r){const a=e.length,o=new Int32Array(a+r);for(let d=0;d<a;d++)o[d]=255&e[d];new hs(et.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let d=0;d<r;d++)l[d]=o[a+d];return l}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,a,o){const l=a.getCharacterCountBits(r);if(e>=1<<l)throw new Tn(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,r,a,o){switch(r){case Cr.NUMERIC:bn.appendNumericBytes(e,a);break;case Cr.ALPHANUMERIC:bn.appendAlphanumericBytes(e,a);break;case Cr.BYTE:bn.append8BitBytes(e,a,o);break;case Cr.KANJI:bn.appendKanjiBytes(e,a);break;default:throw new Tn("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=bn.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const a=e.length;let o=0;for(;o<a;){const l=bn.getDigit(e.charAt(o));if(o+2<a){const d=bn.getDigit(e.charAt(o+1)),p=bn.getDigit(e.charAt(o+2));r.appendBits(100*l+10*d+p,10),o+=3}else if(o+1<a){const d=bn.getDigit(e.charAt(o+1));r.appendBits(10*l+d,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(e,r){const a=e.length;let o=0;for(;o<a;){const l=bn.getAlphanumericCode(e.charCodeAt(o));if(-1===l)throw new Tn;if(o+1<a){const d=bn.getAlphanumericCode(e.charCodeAt(o+1));if(-1===d)throw new Tn;r.appendBits(45*l+d,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(e,r,a){let o;try{o=O.encode(e,a)}catch(l){throw new Tn(l)}for(let l=0,d=o.length;l!==d;l++)r.appendBits(o[l],8)}static appendKanjiBytes(e,r){let a;try{a=O.encode(e,j.SJIS)}catch(l){throw new Tn(l)}const o=a.length;for(let l=0;l<o;l+=2){const b=(255&a[l])<<8&4294967295|255&a[l+1];let U=-1;if(b>=33088&&b<=40956?U=b-33088:b>=57408&&b<=60351&&(U=b-49472),-1===U)throw new Tn("Invalid byte sequence");r.appendBits(192*(U>>8)+(255&U),13)}}static appendECI(e,r){r.appendBits(Cr.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}bn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bn.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();let ri=(()=>{class H{write(r,a,o,l=null){if(0===r.length)throw new A("Found empty contents");if(a<0||o<0)throw new A("Requested dimensions are too small: "+a+"x"+o);let d=Vt.L,p=H.QUIET_ZONE_SIZE;null!==l&&(void 0!==l.get(Zn.ERROR_CORRECTION)&&(d=Vt.fromString(l.get(Zn.ERROR_CORRECTION).toString())),void 0!==l.get(Zn.MARGIN)&&(p=Number.parseInt(l.get(Zn.MARGIN).toString(),10)));const b=bn.encode(r,d,l);return this.renderResult(b,a,o,p)}writeToDom(r,a,o,l,d=null){"string"==typeof r&&(r=document.querySelector(r));const p=this.write(a,o,l,d);r&&r.appendChild(p)}renderResult(r,a,o,l){const d=r.getMatrix();if(null===d)throw new X;const p=d.getWidth(),b=d.getHeight(),U=p+2*l,$=b+2*l,de=Math.max(a,U),Se=Math.max(o,$),De=Math.min(Math.floor(de/U),Math.floor(Se/$)),Qe=Math.floor((de-p*De)/2),nt=Math.floor((Se-b*De)/2),pt=this.createSVGElement(de,Se);for(let At=0,Ht=nt;At<b;At++,Ht+=De)for(let cr=0,Rt=Qe;cr<p;cr++,Rt+=De)if(1===d.get(cr,At)){const Zr=this.createSvgRectElement(Rt,Ht,De,De);pt.appendChild(Zr)}return pt}createSVGElement(r,a){const o=document.createElementNS(H.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",a.toString()),o}createSvgRectElement(r,a,o,l){const d=document.createElementNS(H.SVG_NS,"rect");return d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",l.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return H.QUIET_ZONE_SIZE=4,H.SVG_NS="http://www.w3.org/2000/svg",H})(),Jn=(()=>{class H{encode(r,a,o,l,d){if(0===r.length)throw new A("Found empty contents");if(a!==Je.QR_CODE)throw new A("Can only encode QR_CODE, but got "+a);if(o<0||l<0)throw new A(`Requested dimensions are too small: ${o}x${l}`);let p=Vt.L,b=H.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(Zn.ERROR_CORRECTION)&&(p=Vt.fromString(d.get(Zn.ERROR_CORRECTION).toString())),void 0!==d.get(Zn.MARGIN)&&(b=Number.parseInt(d.get(Zn.MARGIN).toString(),10)));const U=bn.encode(r,p,d);return H.renderResult(U,o,l,b)}static renderResult(r,a,o,l){const d=r.getMatrix();if(null===d)throw new X;const p=d.getWidth(),b=d.getHeight(),U=p+2*l,$=b+2*l,de=Math.max(a,U),Se=Math.max(o,$),De=Math.min(Math.floor(de/U),Math.floor(Se/$)),Qe=Math.floor((de-p*De)/2),nt=Math.floor((Se-b*De)/2),pt=new g(de,Se);for(let At=0,Ht=nt;At<b;At++,Ht+=De)for(let cr=0,Rt=Qe;cr<p;cr++,Rt+=De)1===d.get(cr,At)&&pt.setRegion(Rt,Ht,De,De);return pt}}return H.QUIET_ZONE_SIZE=4,H})();let ii=(()=>{class H extends xe{constructor(r,a,o,l,d,p,b,U){if(super(p,b),this.yuvData=r,this.dataWidth=a,this.dataHeight=o,this.left=l,this.top=d,l+p>a||d+b>o)throw new A("Crop rectangle does not fit within image data.");U&&this.reverseHorizontal(p,b)}getRow(r,a){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const o=this.getWidth();return(null==a||a.length<o)&&(a=new Uint8ClampedArray(o)),J.arraycopy(this.yuvData,(r+this.top)*this.dataWidth+this.left,a,0,o),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.yuvData;const o=r*a,l=new Uint8ClampedArray(o);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return J.arraycopy(this.yuvData,d,l,0,o),l;for(let p=0;p<a;p++)J.arraycopy(this.yuvData,d,l,p*r,r),d+=this.dataWidth;return l}isCropSupported(){return!0}crop(r,a,o,l){return new H(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+a,o,l,!1)}renderThumbnail(){const r=this.getWidth()/H.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/H.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*a),l=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let p=0;p<a;p++){const b=p*r;for(let U=0;U<r;U++)o[b+U]=4278190080|65793*(255&l[d+U*H.THUMBNAIL_SCALE_FACTOR]);d+=this.dataWidth*H.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/H.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/H.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,a){const o=this.yuvData;for(let l=0,d=this.top*this.dataWidth+this.left;l<a;l++,d+=this.dataWidth){const p=d+r/2;for(let b=d,U=d+r-1;b<p;b++,U--){const $=o[b];o[b]=o[U],o[U]=$}}}invert(){return new _e(this)}}return H.THUMBNAIL_SCALE_FACTOR=2,H})();class gs extends xe{constructor(e,r,a,o,l,d,p){if(super(r,a),this.dataWidth=o,this.dataHeight=l,this.left=d,this.top=p,4===e.BYTES_PER_ELEMENT){const b=r*a,U=new Uint8ClampedArray(b);for(let $=0;$<b;$++){const de=e[$];U[$]=((de>>16&255)+(de>>7&510)+(255&de))/4&255}this.luminances=U}else this.luminances=e;if(void 0===o&&(this.dataWidth=r),void 0===l&&(this.dataHeight=a),void 0===d&&(this.left=0),void 0===p&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const a=this.getWidth();return(null==r||r.length<a)&&(r=new Uint8ClampedArray(a)),J.arraycopy(this.luminances,(e+this.top)*this.dataWidth+this.left,r,0,a),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=e*r,o=new Uint8ClampedArray(a);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.luminances,l,o,0,a),o;for(let d=0;d<r;d++)J.arraycopy(this.luminances,l,o,d*e,e),l+=this.dataWidth;return o}isCropSupported(){return!0}crop(e,r,a,o){return new gs(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new _e(this)}}class ps extends j{static forName(e){return this.getCharacterSetECIByName(e)}}class ys{}ys.ISO_8859_1=j.ISO8859_1;class Pi{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ia{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class la extends class Ka{constructor(e){this.previous=e}getPrevious(){return this.previous}}{constructor(e,r,a){super(e),this.value=r,this.bitCount=a}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new la(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new la(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+P.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Mi extends la{constructor(e,r,a){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(e,r){for(let a=0;a<this.binaryShiftByteCount;a++)(0===a||31===a&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):e.appendBits(0===a?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(e,r){return new Mi(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ua(H,e,r){return new la(H,e,r)}const ta=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ms=new la(null,0,0),bi=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Ha=function vs(H){for(let e of H)W.fill(e,-1);return H[0][4]=0,H[1][4]=0,H[1][0]=28,H[3][4]=0,H[2][4]=0,H[2][0]=15,H}(W.createInt32Array(6,6));class Ii{constructor(e,r,a,o){this.token=e,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let a=this.bitCount,o=this.token;if(e!==this.mode){let d=bi[this.mode][e];o=ua(o,65535&d,d>>16),a+=d>>16}let l=2===e?4:5;return o=ua(o,r,l),new Ii(o,e,0,a+l)}shiftAndAppend(e,r){let a=this.token,o=2===this.mode?4:5;return a=ua(a,Ha[this.mode][e],o),a=ua(a,r,5),new Ii(a,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,a=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){let p=bi[a][0];r=ua(r,65535&p,p>>16),o+=p>>16,a=0}let d=new Ii(r,a,this.binaryShiftByteCount+1,o+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===d.binaryShiftByteCount&&(d=d.endBinaryShift(e+1)),d}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let r=this.token;return r=function Va(H,e,r){return new Mi(H,e,r)}(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ii(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(bi[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Ii.calculateBinaryShiftCost(e)-Ii.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())r.unshift(o);let a=new K;for(const o of r)o.appendTo(a,e);return a}toString(){return N.format("%s bits=%d bytes=%d",ta[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Ii.INITIAL_STATE=new Ii(ms,0,0,0);const Ta=function Ws(H){const e=N.getCharCode(" "),r=N.getCharCode("."),a=N.getCharCode(",");H[0][e]=1;const o=N.getCharCode("Z"),l=N.getCharCode("A");for(let Se=l;Se<=o;Se++)H[0][Se]=Se-l+2;H[1][e]=1;const d=N.getCharCode("z"),p=N.getCharCode("a");for(let Se=p;Se<=d;Se++)H[1][Se]=Se-p+2;H[2][e]=1;const b=N.getCharCode("9"),U=N.getCharCode("0");for(let Se=U;Se<=b;Se++)H[2][Se]=Se-U+2;H[2][a]=12,H[2][r]=13;const $=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let Se=0;Se<$.length;Se++)H[3][N.getCharCode($[Se])]=Se;const de=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Se=0;Se<de.length;Se++)N.getCharCode(de[Se])>0&&(H[4][N.getCharCode(de[Se])]=Se);return H}(W.createInt32Array(5,256));class fa{constructor(e){this.text=e}encode(){const e=N.getCharCode(" "),r=N.getCharCode("\n");let a=Ia.singletonList(Ii.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let d,p=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case N.getCharCode("\r"):d=p===r?2:0;break;case N.getCharCode("."):d=p===e?3:0;break;case N.getCharCode(","):d=p===e?4:0;break;case N.getCharCode(":"):d=p===e?5:0;break;default:d=0}d>0?(a=fa.updateStateListForPair(a,l,d),l++):a=this.updateStateListForChar(a,l)}return Ia.min(a,(l,d)=>l.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const a=[];for(let o of e)this.updateStateForChar(o,r,a);return fa.simplifyStates(a)}updateStateForChar(e,r,a){let o=255&this.text[r],l=Ta[e.getMode()][o]>0,d=null;for(let p=0;p<=4;p++){let b=Ta[p][o];if(b>0){if(null==d&&(d=e.endBinaryShift(r)),!l||p===e.getMode()||2===p){const U=d.latchAndAppend(p,b);a.push(U)}if(!l&&Ha[e.getMode()][p]>=0){const U=d.shiftAndAppend(p,b);a.push(U)}}}if(e.getBinaryShiftByteCount()>0||0===Ta[e.getMode()][o]){let p=e.addBinaryShiftChar(r);a.push(p)}}static updateStateListForPair(e,r,a){const o=[];for(let l of e)this.updateStateForPair(l,r,a,o);return this.simplifyStates(o)}static updateStateForPair(e,r,a,o){let l=e.endBinaryShift(r);if(o.push(l.latchAndAppend(4,a)),4!==e.getMode()&&o.push(l.shiftAndAppend(4,a)),3===a||4===a){let d=l.latchAndAppend(2,16-a).latchAndAppend(2,1);o.push(d)}if(e.getBinaryShiftByteCount()>0){let d=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(d)}}static simplifyStates(e){let r=[];for(const a of e){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(a)){o=!1;break}a.isBetterThanOrEqualTo(l)&&(r=r.filter(d=>d!==l))}o&&r.push(a)}return r}}class Jr{constructor(){}static encodeBytes(e){return Jr.encode(e,Jr.DEFAULT_EC_PERCENT,Jr.DEFAULT_AZTEC_LAYERS)}static encode(e,r,a){let p,b,U,$,de,o=new fa(e).encode(),l=P.truncDivision(o.getSize()*r,100)+11,d=o.getSize()+l;if(a!==Jr.DEFAULT_AZTEC_LAYERS){if(p=a<0,b=Math.abs(a),b>(p?Jr.MAX_NB_BITS_COMPACT:Jr.MAX_NB_BITS))throw new A(N.format("Illegal value %s for layers",a));U=Jr.totalBitsInLayer(b,p),$=Jr.WORD_SIZE[b];let Rt=U-U%$;if(de=Jr.stuffBits(o,$),de.getSize()+l>Rt)throw new A("Data to large for user specified layer");if(p&&de.getSize()>64*$)throw new A("Data to large for user specified layer")}else{$=0,de=null;for(let Rt=0;;Rt++){if(Rt>Jr.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(p=Rt<=3,b=p?Rt+1:Rt,U=Jr.totalBitsInLayer(b,p),d>U)continue;(null==de||$!==Jr.WORD_SIZE[b])&&($=Jr.WORD_SIZE[b],de=Jr.stuffBits(o,$));let Zr=U-U%$;if(!(p&&de.getSize()>64*$)&&de.getSize()+l<=Zr)break}}let At,Se=Jr.generateCheckWords(de,U,$),De=de.getSize()/$,Qe=Jr.generateModeMessage(p,b,De),nt=(p?11:14)+4*b,pt=new Int32Array(nt);if(p){At=nt;for(let Rt=0;Rt<pt.length;Rt++)pt[Rt]=Rt}else{At=nt+1+2*P.truncDivision(P.truncDivision(nt,2)-1,15);let Rt=P.truncDivision(nt,2),Zr=P.truncDivision(At,2);for(let Pr=0;Pr<Rt;Pr++){let li=Pr+P.truncDivision(Pr,15);pt[Rt-Pr-1]=Zr-li-1,pt[Rt+Pr]=Zr+li+1}}let Ht=new g(At);for(let Rt=0,Zr=0;Rt<b;Rt++){let Pr=4*(b-Rt)+(p?9:12);for(let li=0;li<Pr;li++){let gi=2*li;for(let pi=0;pi<2;pi++)Se.get(Zr+gi+pi)&&Ht.set(pt[2*Rt+pi],pt[2*Rt+li]),Se.get(Zr+2*Pr+gi+pi)&&Ht.set(pt[2*Rt+li],pt[nt-1-2*Rt-pi]),Se.get(Zr+4*Pr+gi+pi)&&Ht.set(pt[nt-1-2*Rt-pi],pt[nt-1-2*Rt-li]),Se.get(Zr+6*Pr+gi+pi)&&Ht.set(pt[nt-1-2*Rt-li],pt[2*Rt+pi])}Zr+=8*Pr}if(Jr.drawModeMessage(Ht,p,At,Qe),p)Jr.drawBullsEye(Ht,P.truncDivision(At,2),5);else{Jr.drawBullsEye(Ht,P.truncDivision(At,2),7);for(let Rt=0,Zr=0;Rt<P.truncDivision(nt,2)-1;Rt+=15,Zr+=16)for(let Pr=1&P.truncDivision(At,2);Pr<At;Pr+=2)Ht.set(P.truncDivision(At,2)-Zr,Pr),Ht.set(P.truncDivision(At,2)+Zr,Pr),Ht.set(Pr,P.truncDivision(At,2)-Zr),Ht.set(Pr,P.truncDivision(At,2)+Zr)}let cr=new Pi;return cr.setCompact(p),cr.setSize(At),cr.setLayers(b),cr.setCodeWords(De),cr.setMatrix(Ht),cr}static drawBullsEye(e,r,a){for(let o=0;o<a;o+=2)for(let l=r-o;l<=r+o;l++)e.set(l,r-o),e.set(l,r+o),e.set(r-o,l),e.set(r+o,l);e.set(r-a,r-a),e.set(r-a+1,r-a),e.set(r-a,r-a+1),e.set(r+a,r-a),e.set(r+a,r-a+1),e.set(r+a,r+a-1)}static generateModeMessage(e,r,a){let o=new K;return e?(o.appendBits(r-1,2),o.appendBits(a-1,6),o=Jr.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(a-1,11),o=Jr.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,a,o){let l=P.truncDivision(a,2);if(r)for(let d=0;d<7;d++){let p=l-3+d;o.get(d)&&e.set(p,l-5),o.get(d+7)&&e.set(l+5,p),o.get(20-d)&&e.set(p,l+5),o.get(27-d)&&e.set(l-5,p)}else for(let d=0;d<10;d++){let p=l-5+d+P.truncDivision(d,5);o.get(d)&&e.set(p,l-7),o.get(d+10)&&e.set(l+7,p),o.get(29-d)&&e.set(p,l+7),o.get(39-d)&&e.set(l-7,p)}}static generateCheckWords(e,r,a){let o=e.getSize()/a,l=new hs(Jr.getGF(a)),d=P.truncDivision(r,a),p=Jr.bitsToWords(e,a,d);l.encode(p,d-o);let b=r%a,U=new K;U.appendBits(0,b);for(const $ of Array.from(p))U.appendBits($,a);return U}static bitsToWords(e,r,a){let l,d,o=new Int32Array(a);for(l=0,d=e.getSize()/r;l<d;l++){let p=0;for(let b=0;b<r;b++)p|=e.get(l*r+b)?1<<r-b-1:0;o[l]=p}return o}static getGF(e){switch(e){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,r){let a=new K,o=e.getSize(),l=(1<<r)-2;for(let d=0;d<o;d+=r){let p=0;for(let b=0;b<r;b++)(d+b>=o||e.get(d+b))&&(p|=1<<r-1-b);(p&l)===l?(a.appendBits(p&l,r),d--):0==(p&l)?(a.appendBits(1|p,r),d--):a.appendBits(p,r)}return a}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}Jr.DEFAULT_EC_PERCENT=33,Jr.DEFAULT_AZTEC_LAYERS=0,Jr.MAX_NB_BITS=32,Jr.MAX_NB_BITS_COMPACT=4,Jr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class za{encode(e,r,a,o){return this.encodeWithHints(e,r,a,o,null)}encodeWithHints(e,r,a,o,l){let d=ys.ISO_8859_1,p=Jr.DEFAULT_EC_PERCENT,b=Jr.DEFAULT_AZTEC_LAYERS;return null!=l&&(l.has(Zn.CHARACTER_SET)&&(d=ps.forName(l.get(Zn.CHARACTER_SET).toString())),l.has(Zn.ERROR_CORRECTION)&&(p=P.parseInt(l.get(Zn.ERROR_CORRECTION).toString())),l.has(Zn.AZTEC_LAYERS)&&(b=P.parseInt(l.get(Zn.AZTEC_LAYERS).toString()))),za.encodeLayers(e,r,a,o,d,p,b)}static encodeLayers(e,r,a,o,l,d,p){if(r!==Je.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let b=Jr.encode(N.getBytes(e,l),d,p);return za.renderResult(b,a,o)}static renderResult(e,r,a){let o=e.getMatrix();if(null==o)throw new X;let l=o.getWidth(),d=o.getHeight(),p=Math.max(r,l),b=Math.max(a,d),U=Math.min(p/l,b/d),$=(p-l*U)/2,de=(b-d*U)/2,Se=new g(p,b);for(let De=0,Qe=de;De<d;De++,Qe+=U)for(let nt=0,pt=$;nt<l;nt++,pt+=U)o.get(nt,De)&&Se.setRegion(pt,Qe,U,U);return Se}}z.ArgumentException=T,z.ArithmeticException=or,z.AztecCode=Pi,z.AztecCodeReader=sn,z.AztecCodeWriter=za,z.AztecDecoder=Oe,z.AztecDetector=Lt,z.AztecDetectorResult=ar,z.AztecEncoder=Jr,z.AztecHighLevelEncoder=fa,z.AztecPoint=re,z.BarcodeFormat=Je,z.Binarizer=M,z.BinaryBitmap=x,z.BitArray=K,z.BitMatrix=g,z.BitSource=qr,z.BrowserAztecCodeReader=class Yr extends Le{constructor(e=500){super(new sn,e)}},z.BrowserBarcodeReader=class Tt extends Le{constructor(e=500,r){super(new Ve(r),e,r)}},z.BrowserCodeReader=Le,z.BrowserDatamatrixCodeReader=class Ut extends Le{constructor(e=500){super(new tt,e)}},z.BrowserMultiFormatReader=class Zs extends Le{constructor(e=null,r=500){const a=new fs;a.setHints(e),super(a,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}},z.BrowserPDF417Reader=class Si extends Le{constructor(e=500){super(new Qn,e)}},z.BrowserQRCodeReader=class js extends Le{constructor(e=500){super(new qn,e)}},z.BrowserQRCodeSvgWriter=ri,z.CharacterSetECI=j,z.ChecksumException=I,z.Code128Reader=Nt,z.Code39Reader=jr,z.DataMatrixDecodedBitStreamParser=he,z.DataMatrixReader=tt,z.DecodeHintType=S,z.DecoderResult=dr,z.DefaultGridSampler=pr,z.DetectorResult=Ft,z.EAN13Reader=Vn,z.EncodeHintType=Zn,z.Exception=B,z.FormatException=_,z.GenericGF=et,z.GenericGFPoly=yr,z.GlobalHistogramBinarizer=se,z.GridSampler=kt,z.GridSamplerInstance=Ar,z.HTMLCanvasElementLuminanceSource=Ke,z.HybridBinarizer=ne,z.ITFReader=Ir,z.IllegalArgumentException=A,z.IllegalStateException=X,z.InvertedLuminanceSource=_e,z.LuminanceSource=xe,z.MathUtils=Xe,z.MultiFormatOneDReader=Ve,z.MultiFormatReader=fs,z.MultiFormatWriter=class ni{encode(e,r,a,o,l){let d;if(r!==Je.QR_CODE)throw new A("No encoder available for format "+r);return d=new Jn,d.encode(e,r,a,o,l)}},z.NotFoundException=V,z.OneDReader=wr,z.PDF417DecodedBitStreamParser=bt,z.PDF417DecoderErrorCorrection=Vs,z.PDF417Reader=Qn,z.PDF417ResultMetadata=Hs,z.PerspectiveTransform=jt,z.PlanarYUVLuminanceSource=ii,z.QRCodeByteMatrix=Ua,z.QRCodeDataMask=kn,z.QRCodeDecodedBitStreamParser=Ci,z.QRCodeDecoderErrorCorrectionLevel=Vt,z.QRCodeDecoderFormatInformation=Wt,z.QRCodeEncoder=bn,z.QRCodeEncoderQRCode=Fa,z.QRCodeMaskUtil=ca,z.QRCodeMatrixUtil=Tr,z.QRCodeMode=Cr,z.QRCodeReader=qn,z.QRCodeVersion=sr,z.QRCodeWriter=Jn,z.RGBLuminanceSource=gs,z.RSS14Reader=Be,z.RSSExpandedReader=te,z.ReaderException=ea,z.ReedSolomonDecoder=Z,z.ReedSolomonEncoder=hs,z.ReedSolomonException=gt,z.Result=qe,z.ResultMetadataType=ht,z.ResultPoint=Pe,z.StringUtils=N,z.UnsupportedOperationException=ie,z.VideoInputDevice=it,z.WhiteRectangleDetector=rr,z.WriterException=Tn,z.ZXingArrays=W,z.ZXingCharset=ps,z.ZXingInteger=P,z.ZXingStandardCharsets=ys,z.ZXingStringBuilder=G,z.ZXingStringEncoding=O,z.ZXingSystem=J,Object.defineProperty(z,"__esModule",{value:!0})}(ge)},1298:(rt,ge,z)=>{var f=z(8659);function c(L,W){f.cipher.registerAlgorithm(L,function(){return new f.aes.Algorithm(L,W)})}z(3311),z(3481),z(4747),rt.exports=f.aes=f.aes||{},f.aes.startEncrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!1,mode:K});return E.start(W),E},f.aes.createEncryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!1,mode:W})},f.aes.startDecrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!0,mode:K});return E.start(W),E},f.aes.createDecryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!0,mode:W})},f.aes.Algorithm=function(L,W){w||I();var P=this;P.name=L,P.mode=new W({blockSize:16,cipher:{encrypt:function(K,E){return J(P._w,K,E,!1)},decrypt:function(K,E){return J(P._w,K,E,!0)}}}),P._init=!1},f.aes.Algorithm.prototype.initialize=function(L){if(!this._init){var P,W=L.key;if("string"!=typeof W||16!==W.length&&24!==W.length&&32!==W.length){if(f.util.isArray(W)&&(16===W.length||24===W.length||32===W.length)){P=W,W=f.util.createBuffer();for(var K=0;K<P.length;++K)W.putByte(P[K])}}else W=f.util.createBuffer(W);if(!f.util.isArray(W)){P=W,W=[];var E=P.length();if(16===E||24===E||32===E)for(E>>>=2,K=0;K<E;++K)W.push(P.getInt32())}if(!f.util.isArray(W)||4!==W.length&&6!==W.length&&8!==W.length)throw new Error("Invalid key parameter.");var _=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=M(W,L.decrypt&&!_),this._init=!0}},f.aes._expandKey=function(L,W){return w||I(),M(L,W)},f.aes._updateBlock=J,c("AES-ECB",f.cipher.modes.ecb),c("AES-CBC",f.cipher.modes.cbc),c("AES-CFB",f.cipher.modes.cfb),c("AES-OFB",f.cipher.modes.ofb),c("AES-CTR",f.cipher.modes.ctr),c("AES-GCM",f.cipher.modes.gcm);var F,B,T,A,x,w=!1;function I(){w=!0,T=[0,1,2,4,8,16,32,64,128,27,54];for(var L=new Array(256),W=0;W<128;++W)L[W]=W<<1,L[W+128]=W+128<<1^283;for(F=new Array(256),B=new Array(256),A=new Array(4),x=new Array(4),W=0;W<4;++W)A[W]=new Array(256),x[W]=new Array(256);var E,S,_,Q,j,ie,O,P=0,K=0;for(W=0;W<256;++W){F[P]=Q=(Q=K^K<<1^K<<2^K<<3^K<<4)>>8^255&Q^99,B[Q]=P,ie=(j=L[Q])<<24^Q<<16^Q<<8^Q^j,O=((E=L[P])^(S=L[E])^(_=L[S]))<<24^(P^_)<<16^(P^S^_)<<8^P^E^_;for(var N=0;N<4;++N)A[N][P]=ie,x[N][Q]=O,ie=ie<<24|ie>>>8,O=O<<24|O>>>8;0===P?P=K=1:(P=E^L[L[L[E^_]]],K^=L[L[K]])}}function M(L,W){for(var K,P=L.slice(0),E=1,S=P.length,Q=4*(S+6+1),j=S;j<Q;++j)K=P[j-1],j%S==0?(K=F[K>>>16&255]<<24^F[K>>>8&255]<<16^F[255&K]<<8^F[K>>>24]^T[E]<<24,E++):S>6&&j%S==4&&(K=F[K>>>24]<<24^F[K>>>16&255]<<16^F[K>>>8&255]<<8^F[255&K]),P[j]=P[j-S]^K;if(W){for(var ie,O=x[0],N=x[1],G=x[2],g=x[3],V=P.slice(0),se=(j=0,(Q=P.length)-4);j<Q;j+=4,se-=4)if(0===j||j===Q-4)V[j]=P[se],V[j+1]=P[se+3],V[j+2]=P[se+2],V[j+3]=P[se+1];else for(var ne=0;ne<4;++ne)V[j+(3&-ne)]=O[F[(ie=P[se+ne])>>>24]]^N[F[ie>>>16&255]]^G[F[ie>>>8&255]]^g[F[255&ie]];P=V}return P}function J(L,W,P,K){var S,_,Q,j,ie,O,N,G,g,V,se,ne,E=L.length/4-1;K?(S=x[0],_=x[1],Q=x[2],j=x[3],ie=B):(S=A[0],_=A[1],Q=A[2],j=A[3],ie=F),O=W[0]^L[0],N=W[K?3:1]^L[1],G=W[2]^L[2],g=W[K?1:3]^L[3];for(var xe=3,_e=1;_e<E;++_e)V=S[O>>>24]^_[N>>>16&255]^Q[G>>>8&255]^j[255&g]^L[++xe],se=S[N>>>24]^_[G>>>16&255]^Q[g>>>8&255]^j[255&O]^L[++xe],ne=S[G>>>24]^_[g>>>16&255]^Q[O>>>8&255]^j[255&N]^L[++xe],g=S[g>>>24]^_[O>>>16&255]^Q[N>>>8&255]^j[255&G]^L[++xe],O=V,N=se,G=ne;P[0]=ie[O>>>24]<<24^ie[N>>>16&255]<<16^ie[G>>>8&255]<<8^ie[255&g]^L[++xe],P[K?3:1]=ie[N>>>24]<<24^ie[G>>>16&255]<<16^ie[g>>>8&255]<<8^ie[255&O]^L[++xe],P[2]=ie[G>>>24]<<24^ie[g>>>16&255]<<16^ie[O>>>8&255]<<8^ie[255&N]^L[++xe],P[K?1:3]=ie[g>>>24]<<24^ie[O>>>16&255]<<16^ie[N>>>8&255]<<8^ie[255&G]^L[++xe]}function R(L){var K,P="AES-"+((L=L||{}).mode||"CBC").toUpperCase(),E=(K=L.decrypt?f.cipher.createDecipher(P,L.key):f.cipher.createCipher(P,L.key)).start;return K.start=function(S,_){var Q=null;_ instanceof f.util.ByteBuffer&&(Q=_,_={}),(_=_||{}).output=Q,_.iv=S,E.call(K,_)},K}},6683:(rt,ge,z)=>{var f=z(8659);z(1298),z(2266);var c=rt.exports=f.tls;function w(x,I,M){var J=I.entity===f.tls.ConnectionEnd.client;x.read.cipherState={init:!1,cipher:f.cipher.createDecipher("AES-CBC",J?M.keys.server_write_key:M.keys.client_write_key),iv:J?M.keys.server_write_IV:M.keys.client_write_IV},x.write.cipherState={init:!1,cipher:f.cipher.createCipher("AES-CBC",J?M.keys.client_write_key:M.keys.server_write_key),iv:J?M.keys.client_write_IV:M.keys.server_write_IV},x.read.cipherFunction=T,x.write.cipherFunction=m,x.read.macLength=x.write.macLength=M.mac_length,x.read.macFunction=x.write.macFunction=c.hmac_sha1}function m(x,I){var R,M=!1,J=I.macFunction(I.macKey,I.sequenceNumber,x);x.fragment.putBytes(J),I.updateSequenceNumber(),R=x.version.minor===c.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:f.random.getBytesSync(16),I.cipherState.init=!0;var L=I.cipherState.cipher;return L.start({iv:R}),x.version.minor>=c.Versions.TLS_1_1.minor&&L.output.putBytes(R),L.update(x.fragment),L.finish(F)&&(x.fragment=L.output,x.length=x.fragment.length(),M=!0),M}function F(x,I,M){if(!M){var J=x-I.length()%x;I.fillWithByte(J-1,J)}return!0}function B(x,I,M){var J=!0;if(M){for(var R=I.length(),L=I.last(),W=R-1-L;W<R-1;++W)J=J&&I.at(W)==L;J&&I.truncate(L+1)}return J}function T(x,I){var J,M=!1;J=x.version.minor===c.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:x.fragment.getBytes(16),I.cipherState.init=!0;var R=I.cipherState.cipher;R.start({iv:J}),R.update(x.fragment),M=R.finish(B);var L=I.macLength,W=f.random.getBytesSync(L),P=R.output.length();P>=L?(x.fragment=R.output.getBytes(P-L),W=R.output.getBytes(L)):x.fragment=R.output.getBytes(),x.fragment=f.util.createBuffer(x.fragment),x.length=x.fragment.length();var K=I.macFunction(I.macKey,I.sequenceNumber,x);return I.updateSequenceNumber(),M=function A(x,I,M){var J=f.hmac.create();return J.start("SHA1",x),J.update(I),I=J.digest().getBytes(),J.start(null,null),J.update(M),I===(M=J.digest().getBytes())}(I.macKey,W,K)&&M,M}c.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(x){x.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes,x.cipher_type=c.CipherType.block,x.enc_key_length=16,x.block_length=16,x.fixed_iv_length=16,x.record_iv_length=16,x.mac_algorithm=c.MACAlgorithm.hmac_sha1,x.mac_length=20,x.mac_key_length=20},initConnectionState:w},c.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(x){x.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes,x.cipher_type=c.CipherType.block,x.enc_key_length=32,x.block_length=16,x.fixed_iv_length=16,x.record_iv_length=16,x.mac_algorithm=c.MACAlgorithm.hmac_sha1,x.mac_length=20,x.mac_key_length=20},initConnectionState:w}},8877:(rt,ge,z)=>{var f=z(8659);z(7791);var c=f.asn1;ge.privateKeyValidator={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ge.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7791:(rt,ge,z)=>{var f=z(8659);z(4747),z(6078);var c=rt.exports=f.asn1=f.asn1||{};function w(T,A,x){if(x>A){var I=new Error("Too few bytes to parse DER.");throw I.available=T.length(),I.remaining=A,I.requested=x,I}}function F(T,A,x,I){var M;w(T,A,2);var J=T.getByte();A--;var R=192&J,L=31&J;M=T.length();var W=function(T,A){var x=T.getByte();if(A--,128!==x){var I;if(128&x){var J=127&x;w(T,A,J),I=T.getInt(J<<3)}else I=x;if(I<0)throw new Error("Negative length: "+I);return I}}(T,A);if(A-=M-T.length(),void 0!==W&&W>A){if(I.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=T.length(),P.remaining=A,P.requested=W,P}W=A}var K,E,S=32==(32&J);if(S)if(K=[],void 0===W)for(;;){if(w(T,A,2),T.bytes(2)===String.fromCharCode(0,0)){T.getBytes(2),A-=2;break}M=T.length(),K.push(F(T,A,x+1,I)),A-=M-T.length()}else for(;W>0;)M=T.length(),K.push(F(T,W,x+1,I)),A-=M-T.length(),W-=M-T.length();if(void 0===K&&R===c.Class.UNIVERSAL&&L===c.Type.BITSTRING&&(E=T.bytes(W)),void 0===K&&I.decodeBitStrings&&R===c.Class.UNIVERSAL&&L===c.Type.BITSTRING&&W>1){var _=T.read,Q=A,j=0;if(L===c.Type.BITSTRING&&(w(T,A,1),j=T.getByte(),A--),0===j)try{M=T.length();var O=F(T,A,x+1,{strict:!0,decodeBitStrings:!0}),N=M-T.length();A-=N,L==c.Type.BITSTRING&&N++;var G=O.tagClass;N===W&&(G===c.Class.UNIVERSAL||G===c.Class.CONTEXT_SPECIFIC)&&(K=[O])}catch{}void 0===K&&(T.read=_,A=Q)}if(void 0===K){if(void 0===W){if(I.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");W=A}if(L===c.Type.BMPSTRING)for(K="";W>0;W-=2)w(T,A,2),K+=String.fromCharCode(T.getInt16()),A-=2;else K=T.getBytes(W),A-=W}return c.create(R,L,S,K,void 0===E?null:{bitStringContents:E})}c.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},c.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},c.create=function(T,A,x,I,M){if(f.util.isArray(I)){for(var J=[],R=0;R<I.length;++R)void 0!==I[R]&&J.push(I[R]);I=J}var L={tagClass:T,type:A,constructed:x,composed:x||f.util.isArray(I),value:I};return M&&"bitStringContents"in M&&(L.bitStringContents=M.bitStringContents,L.original=c.copy(L)),L},c.copy=function(T,A){var x;if(f.util.isArray(T)){x=[];for(var I=0;I<T.length;++I)x.push(c.copy(T[I],A));return x}return"string"==typeof T?T:(x={tagClass:T.tagClass,type:T.type,constructed:T.constructed,composed:T.composed,value:c.copy(T.value,A)},A&&!A.excludeBitStringContents&&(x.bitStringContents=T.bitStringContents),x)},c.equals=function(T,A,x){if(f.util.isArray(T)){if(!f.util.isArray(A)||T.length!==A.length)return!1;for(var I=0;I<T.length;++I)if(!c.equals(T[I],A[I]))return!1;return!0}if(typeof T!=typeof A)return!1;if("string"==typeof T)return T===A;var M=T.tagClass===A.tagClass&&T.type===A.type&&T.constructed===A.constructed&&T.composed===A.composed&&c.equals(T.value,A.value);return x&&x.includeBitStringContents&&(M=M&&T.bitStringContents===A.bitStringContents),M},c.getBerValueLength=function(T){var A=T.getByte();if(128!==A)return 128&A?T.getInt((127&A)<<3):A},c.fromDer=function(T,A){void 0===A&&(A={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof A&&(A={strict:A,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in A||(A.strict=!0),"parseAllBytes"in A||(A.parseAllBytes=!0),"decodeBitStrings"in A||(A.decodeBitStrings=!0),"string"==typeof T&&(T=f.util.createBuffer(T));var x=T.length(),I=F(T,T.length(),0,A);if(A.parseAllBytes&&0!==T.length()){var M=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw M.byteCount=x,M.remaining=T.length(),M}return I},c.toDer=function(T){var A=f.util.createBuffer(),x=T.tagClass|T.type,I=f.util.createBuffer(),M=!1;if("bitStringContents"in T&&(M=!0,T.original&&(M=c.equals(T,T.original))),M)I.putBytes(T.bitStringContents);else if(T.composed){T.constructed?x|=32:I.putByte(0);for(var J=0;J<T.value.length;++J)void 0!==T.value[J]&&I.putBuffer(c.toDer(T.value[J]))}else if(T.type===c.Type.BMPSTRING)for(J=0;J<T.value.length;++J)I.putInt16(T.value.charCodeAt(J));else T.type===c.Type.INTEGER&&T.value.length>1&&(0===T.value.charCodeAt(0)&&0==(128&T.value.charCodeAt(1))||255===T.value.charCodeAt(0)&&128==(128&T.value.charCodeAt(1)))?I.putBytes(T.value.substr(1)):I.putBytes(T.value);if(A.putByte(x),I.length()<=127)A.putByte(127&I.length());else{var R=I.length(),L="";do{L+=String.fromCharCode(255&R),R>>>=8}while(R>0);for(A.putByte(128|L.length),J=L.length-1;J>=0;--J)A.putByte(L.charCodeAt(J))}return A.putBuffer(I),A},c.oidToDer=function(T){var A=T.split("."),x=f.util.createBuffer();x.putByte(40*parseInt(A[0],10)+parseInt(A[1],10));for(var I,M,J,R,L=2;L<A.length;++L){I=!0,M=[],J=parseInt(A[L],10);do{R=127&J,J>>>=7,I||(R|=128),M.push(R),I=!1}while(J>0);for(var W=M.length-1;W>=0;--W)x.putByte(M[W])}return x},c.derToOid=function(T){var A;"string"==typeof T&&(T=f.util.createBuffer(T));var x=T.getByte();A=Math.floor(x/40)+"."+x%40;for(var I=0;T.length()>0;)I<<=7,128&(x=T.getByte())?I+=127&x:(A+="."+(I+x),I=0);return A},c.utcTimeToDate=function(T){var A=new Date,x=parseInt(T.substr(0,2),10);x=x>=50?1900+x:2e3+x;var I=parseInt(T.substr(2,2),10)-1,M=parseInt(T.substr(4,2),10),J=parseInt(T.substr(6,2),10),R=parseInt(T.substr(8,2),10),L=0;if(T.length>11){var W=T.charAt(10),P=10;"+"!==W&&"-"!==W&&(L=parseInt(T.substr(10,2),10),P+=2)}if(A.setUTCFullYear(x,I,M),A.setUTCHours(J,R,L,0),P&&("+"===(W=T.charAt(P))||"-"===W)){var S=60*parseInt(T.substr(P+1,2),10)+parseInt(T.substr(P+4,2),10);S*=6e4,A.setTime("+"===W?+A-S:+A+S)}return A},c.generalizedTimeToDate=function(T){var A=new Date,x=parseInt(T.substr(0,4),10),I=parseInt(T.substr(4,2),10)-1,M=parseInt(T.substr(6,2),10),J=parseInt(T.substr(8,2),10),R=parseInt(T.substr(10,2),10),L=parseInt(T.substr(12,2),10),W=0,P=0,K=!1;"Z"===T.charAt(T.length-1)&&(K=!0);var E=T.length-5,S=T.charAt(E);return"+"!==S&&"-"!==S||(P=60*parseInt(T.substr(E+1,2),10)+parseInt(T.substr(E+4,2),10),P*=6e4,"+"===S&&(P*=-1),K=!0),"."===T.charAt(14)&&(W=1e3*parseFloat(T.substr(14),10)),K?(A.setUTCFullYear(x,I,M),A.setUTCHours(J,R,L,W),A.setTime(+A+P)):(A.setFullYear(x,I,M),A.setHours(J,R,L,W)),A},c.dateToUtcTime=function(T){if("string"==typeof T)return T;var A="",x=[];x.push((""+T.getUTCFullYear()).substr(2)),x.push(""+(T.getUTCMonth()+1)),x.push(""+T.getUTCDate()),x.push(""+T.getUTCHours()),x.push(""+T.getUTCMinutes()),x.push(""+T.getUTCSeconds());for(var I=0;I<x.length;++I)x[I].length<2&&(A+="0"),A+=x[I];return A+"Z"},c.dateToGeneralizedTime=function(T){if("string"==typeof T)return T;var A="",x=[];x.push(""+T.getUTCFullYear()),x.push(""+(T.getUTCMonth()+1)),x.push(""+T.getUTCDate()),x.push(""+T.getUTCHours()),x.push(""+T.getUTCMinutes()),x.push(""+T.getUTCSeconds());for(var I=0;I<x.length;++I)x[I].length<2&&(A+="0"),A+=x[I];return A+"Z"},c.integerToDer=function(T){var A=f.util.createBuffer();if(T>=-128&&T<128)return A.putSignedInt(T,8);if(T>=-32768&&T<32768)return A.putSignedInt(T,16);if(T>=-8388608&&T<8388608)return A.putSignedInt(T,24);if(T>=-2147483648&&T<2147483648)return A.putSignedInt(T,32);var x=new Error("Integer too large; max is 32-bits.");throw x.integer=T,x},c.derToInteger=function(T){"string"==typeof T&&(T=f.util.createBuffer(T));var A=8*T.length();if(A>32)throw new Error("Integer too large; max is 32-bits.");return T.getSignedInt(A)},c.validate=function(T,A,x,I){var M=!1;if((T.tagClass===A.tagClass||typeof A.tagClass>"u")&&(T.type===A.type||typeof A.type>"u"))if(T.constructed===A.constructed||typeof A.constructed>"u"){if(M=!0,A.value&&f.util.isArray(A.value))for(var J=0,R=0;M&&R<A.value.length;++R)M=A.value[R].optional||!1,T.value[J]&&((M=c.validate(T.value[J],A.value[R],x,I))?++J:A.value[R].optional&&(M=!0)),!M&&I&&I.push("["+A.name+'] Tag class "'+A.tagClass+'", type "'+A.type+'" expected value length "'+A.value.length+'", got "'+T.value.length+'"');if(M&&x&&(A.capture&&(x[A.capture]=T.value),A.captureAsn1&&(x[A.captureAsn1]=T),A.captureBitStringContents&&"bitStringContents"in T&&(x[A.captureBitStringContents]=T.bitStringContents),A.captureBitStringValue&&"bitStringContents"in T))if(T.bitStringContents.length<2)x[A.captureBitStringValue]="";else{if(0!==T.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");x[A.captureBitStringValue]=T.bitStringContents.slice(1)}}else I&&I.push("["+A.name+'] Expected constructed "'+A.constructed+'", got "'+T.constructed+'"');else I&&(T.tagClass!==A.tagClass&&I.push("["+A.name+'] Expected tag class "'+A.tagClass+'", got "'+T.tagClass+'"'),T.type!==A.type&&I.push("["+A.name+'] Expected type "'+A.type+'", got "'+T.type+'"'));return M};var B=/[^\\u0000-\\u00ff]/;c.prettyPrint=function(T,A,x){var I="";x=x||2,(A=A||0)>0&&(I+="\n");for(var M="",J=0;J<A*x;++J)M+=" ";switch(I+=M+"Tag: ",T.tagClass){case c.Class.UNIVERSAL:I+="Universal:";break;case c.Class.APPLICATION:I+="Application:";break;case c.Class.CONTEXT_SPECIFIC:I+="Context-Specific:";break;case c.Class.PRIVATE:I+="Private:"}if(T.tagClass===c.Class.UNIVERSAL)switch(I+=T.type,T.type){case c.Type.NONE:I+=" (None)";break;case c.Type.BOOLEAN:I+=" (Boolean)";break;case c.Type.INTEGER:I+=" (Integer)";break;case c.Type.BITSTRING:I+=" (Bit string)";break;case c.Type.OCTETSTRING:I+=" (Octet string)";break;case c.Type.NULL:I+=" (Null)";break;case c.Type.OID:I+=" (Object Identifier)";break;case c.Type.ODESC:I+=" (Object Descriptor)";break;case c.Type.EXTERNAL:I+=" (External or Instance of)";break;case c.Type.REAL:I+=" (Real)";break;case c.Type.ENUMERATED:I+=" (Enumerated)";break;case c.Type.EMBEDDED:I+=" (Embedded PDV)";break;case c.Type.UTF8:I+=" (UTF8)";break;case c.Type.ROID:I+=" (Relative Object Identifier)";break;case c.Type.SEQUENCE:I+=" (Sequence)";break;case c.Type.SET:I+=" (Set)";break;case c.Type.PRINTABLESTRING:I+=" (Printable String)";break;case c.Type.IA5String:I+=" (IA5String (ASCII))";break;case c.Type.UTCTIME:I+=" (UTC time)";break;case c.Type.GENERALIZEDTIME:I+=" (Generalized time)";break;case c.Type.BMPSTRING:I+=" (BMP String)"}else I+=T.type;if(I+="\n",I+=M+"Constructed: "+T.constructed+"\n",T.composed){var R=0,L="";for(J=0;J<T.value.length;++J)void 0!==T.value[J]&&(R+=1,L+=c.prettyPrint(T.value[J],A+1,x),J+1<T.value.length&&(L+=","));I+=M+"Sub values: "+R+L}else{if(I+=M+"Value: ",T.type===c.Type.OID){var W=c.derToOid(T.value);I+=W,f.pki&&f.pki.oids&&W in f.pki.oids&&(I+=" ("+f.pki.oids[W]+") ")}if(T.type===c.Type.INTEGER)try{I+=c.derToInteger(T.value)}catch{I+="0x"+f.util.bytesToHex(T.value)}else if(T.type===c.Type.BITSTRING){if(I+=T.value.length>1?"0x"+f.util.bytesToHex(T.value.slice(1)):"(none)",T.value.length>0){var P=T.value.charCodeAt(0);1==P?I+=" (1 unused bit shown)":P>1&&(I+=" ("+P+" unused bits shown)")}}else if(T.type===c.Type.OCTETSTRING)B.test(T.value)||(I+="("+T.value+") "),I+="0x"+f.util.bytesToHex(T.value);else if(T.type===c.Type.UTF8)try{I+=f.util.decodeUtf8(T.value)}catch(K){if("URI malformed"!==K.message)throw K;I+="0x"+f.util.bytesToHex(T.value)+" (malformed UTF8)"}else T.type===c.Type.PRINTABLESTRING||T.type===c.Type.IA5String?I+=T.value:B.test(T.value)?I+="0x"+f.util.bytesToHex(T.value):I+=0===T.value.length?"[null]":T.value}return I}},2020:rt=>{var ge={};rt.exports=ge;var z={};ge.encode=function(c,w,m){if("string"!=typeof w)throw new TypeError('"alphabet" must be a string.');if(void 0!==m&&"number"!=typeof m)throw new TypeError('"maxline" must be a number.');var F="";if(c instanceof Uint8Array){var B=0,T=w.length,A=w.charAt(0),x=[0];for(B=0;B<c.length;++B){for(var I=0,M=c[B];I<x.length;++I)x[I]=(M+=x[I]<<8)%T,M=M/T|0;for(;M>0;)x.push(M%T),M=M/T|0}for(B=0;0===c[B]&&B<c.length-1;++B)F+=A;for(B=x.length-1;B>=0;--B)F+=w[x[B]]}else F=function f(c,w){var m=0,F=w.length,B=w.charAt(0),T=[0];for(m=0;m<c.length();++m){for(var A=0,x=c.at(m);A<T.length;++A)T[A]=(x+=T[A]<<8)%F,x=x/F|0;for(;x>0;)T.push(x%F),x=x/F|0}var I="";for(m=0;0===c.at(m)&&m<c.length()-1;++m)I+=B;for(m=T.length-1;m>=0;--m)I+=w[T[m]];return I}(c,w);if(m){var J=new RegExp(".{1,"+m+"}","g");F=F.match(J).join("\r\n")}return F},ge.decode=function(c,w){if("string"!=typeof c)throw new TypeError('"input" must be a string.');if("string"!=typeof w)throw new TypeError('"alphabet" must be a string.');var m=z[w];if(!m){m=z[w]=[];for(var F=0;F<w.length;++F)m[w.charCodeAt(F)]=F}c=c.replace(/\s/g,"");var B=w.length,T=w.charAt(0),A=[0];for(F=0;F<c.length;F++){var x=m[c.charCodeAt(F)];if(void 0===x)return;for(var I=0,M=x;I<A.length;++I)A[I]=255&(M+=A[I]*B),M>>=8;for(;M>0;)A.push(255&M),M>>=8}for(var J=0;c[J]===T&&J<c.length-1;++J)A.push(0);return typeof Buffer<"u"?Buffer.from(A.reverse()):new Uint8Array(A.reverse())}},3311:(rt,ge,z)=>{var f=z(8659);z(4747),rt.exports=f.cipher=f.cipher||{},f.cipher.algorithms=f.cipher.algorithms||{},f.cipher.createCipher=function(w,m){var F=w;if("string"==typeof F&&(F=f.cipher.getAlgorithm(F))&&(F=F()),!F)throw new Error("Unsupported algorithm: "+w);return new f.cipher.BlockCipher({algorithm:F,key:m,decrypt:!1})},f.cipher.createDecipher=function(w,m){var F=w;if("string"==typeof F&&(F=f.cipher.getAlgorithm(F))&&(F=F()),!F)throw new Error("Unsupported algorithm: "+w);return new f.cipher.BlockCipher({algorithm:F,key:m,decrypt:!0})},f.cipher.registerAlgorithm=function(w,m){w=w.toUpperCase(),f.cipher.algorithms[w]=m},f.cipher.getAlgorithm=function(w){return(w=w.toUpperCase())in f.cipher.algorithms?f.cipher.algorithms[w]:null};var c=f.cipher.BlockCipher=function(w){this.algorithm=w.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=w.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=w.decrypt,this.algorithm.initialize(w)};c.prototype.start=function(w){w=w||{};var m={};for(var F in w)m[F]=w[F];m.decrypt=this._decrypt,this._finish=!1,this._input=f.util.createBuffer(),this.output=w.output||f.util.createBuffer(),this.mode.start(m)},c.prototype.update=function(w){for(w&&this._input.putBuffer(w);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},c.prototype.finish=function(w){w&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(F){return w(this.blockSize,F,!1)},this.mode.unpad=function(F){return w(this.blockSize,F,!0)});var m={};return m.decrypt=this._decrypt,m.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,m)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,m))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,m))}},3481:(rt,ge,z)=>{var f=z(8659);z(4747),f.cipher=f.cipher||{};var c=rt.exports=f.cipher.modes=f.cipher.modes||{};function w(B,T){if("string"==typeof B&&(B=f.util.createBuffer(B)),f.util.isArray(B)&&B.length>4){var A=B;B=f.util.createBuffer();for(var x=0;x<A.length;++x)B.putByte(A[x])}if(B.length()<T)throw new Error("Invalid IV length; got "+B.length()+" bytes and expected "+T+" bytes.");if(!f.util.isArray(B)){var I=[],M=T/4;for(x=0;x<M;++x)I.push(B.getInt32());B=I}return B}function m(B){B[B.length-1]=B[B.length-1]+1&4294967295}function F(B){return[B/4294967296|0,4294967295&B]}c.ecb=function(B){B=B||{},this.name="ECB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},c.ecb.prototype.start=function(B){},c.ecb.prototype.encrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x])},c.ecb.prototype.decrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x])},c.ecb.prototype.pad=function(B,T){var A=B.length()===this.blockSize?this.blockSize:this.blockSize-B.length();return B.fillWithByte(A,A),!0},c.ecb.prototype.unpad=function(B,T){if(T.overflow>0)return!1;var A=B.length(),x=B.at(A-1);return!(x>this.blockSize<<2||(B.truncate(x),0))},c.cbc=function(B){B=B||{},this.name="CBC",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},c.cbc.prototype.start=function(B){if(null===B.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=w(B.iv,this.blockSize),this._prev=this._iv.slice(0)}},c.cbc.prototype.encrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=this._prev[x]^B.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x]);this._prev=this._outBlock},c.cbc.prototype.decrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._prev[x]^this._outBlock[x]);this._prev=this._inBlock.slice(0)},c.cbc.prototype.pad=function(B,T){var A=B.length()===this.blockSize?this.blockSize:this.blockSize-B.length();return B.fillWithByte(A,A),!0},c.cbc.prototype.unpad=function(B,T){if(T.overflow>0)return!1;var A=B.length(),x=B.at(A-1);return!(x>this.blockSize<<2||(B.truncate(x),0))},c.cfb=function(B){B=B||{},this.name="CFB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.cfb.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=w(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.cfb.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=B.getInt32()^this._outBlock[I],T.putInt32(this._inBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=B.getInt32()^this._outBlock[I],this._partialOutput.putInt32(this._partialBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.cfb.prototype.decrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=B.getInt32(),T.putInt32(this._inBlock[I]^this._outBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=B.getInt32(),this._partialOutput.putInt32(this._partialBlock[I]^this._outBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.ofb=function(B){B=B||{},this.name="OFB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.ofb.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=w(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.ofb.prototype.encrypt=function(B,T,A){var x=B.length();if(0===B.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)T.putInt32(B.getInt32()^this._outBlock[I]),this._inBlock[I]=this._outBlock[I];else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._outBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.ofb.prototype.decrypt=c.ofb.prototype.encrypt,c.ctr=function(B){B=B||{},this.name="CTR",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.ctr.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=w(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.ctr.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)T.putInt32(B.getInt32()^this._outBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M>0&&(B.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}m(this._inBlock)},c.ctr.prototype.decrypt=c.ctr.prototype.encrypt,c.gcm=function(B){B=B||{},this.name="GCM",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0,this._R=3774873600},c.gcm.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");var A,T=f.util.createBuffer(B.iv);if(this._cipherLength=0,A="additionalData"in B?f.util.createBuffer(B.additionalData):f.util.createBuffer(),this._tagLength="tagLength"in B?B.tagLength:128,this._tag=null,B.decrypt&&(this._tag=f.util.createBuffer(B.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var x=T.length();if(12===x)this._j0=[T.getInt32(),T.getInt32(),T.getInt32(),1];else{for(this._j0=[0,0,0,0];T.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[T.getInt32(),T.getInt32(),T.getInt32(),T.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(F(8*x)))}this._inBlock=this._j0.slice(0),m(this._inBlock),this._partialBytes=0,A=f.util.createBuffer(A),this._aDataLength=F(8*A.length());var I=A.length()%this.blockSize;for(I&&A.fillWithByte(0,this.blockSize-I),this._s=[0,0,0,0];A.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[A.getInt32(),A.getInt32(),A.getInt32(),A.getInt32()])},c.gcm.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize){for(var I=0;I<this._ints;++I)T.putInt32(this._outBlock[I]^=B.getInt32());this._cipherLength+=this.blockSize}else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M<=0||A){if(A){var J=x%this.blockSize;this._cipherLength+=J,this._partialOutput.truncate(this.blockSize-J)}else this._cipherLength+=this.blockSize;for(I=0;I<this._ints;++I)this._outBlock[I]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return B.read-=this.blockSize,T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),m(this._inBlock)},c.gcm.prototype.decrypt=function(B,T,A){var x=B.length();if(x<this.blockSize&&!(A&&x>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),m(this._inBlock),this._hashBlock[0]=B.getInt32(),this._hashBlock[1]=B.getInt32(),this._hashBlock[2]=B.getInt32(),this._hashBlock[3]=B.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var I=0;I<this._ints;++I)T.putInt32(this._outBlock[I]^this._hashBlock[I]);this._cipherLength+=x<this.blockSize?x%this.blockSize:this.blockSize},c.gcm.prototype.afterFinish=function(B,T){var A=!0;T.decrypt&&T.overflow&&B.truncate(this.blockSize-T.overflow),this.tag=f.util.createBuffer();var x=this._aDataLength.concat(F(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,x);var I=[];this.cipher.encrypt(this._j0,I);for(var M=0;M<this._ints;++M)this.tag.putInt32(this._s[M]^I[M]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),T.decrypt&&this.tag.bytes()!==this._tag&&(A=!1),A},c.gcm.prototype.multiply=function(B,T){for(var A=[0,0,0,0],x=T.slice(0),I=0;I<128;++I)B[I/32|0]&1<<31-I%32&&(A[0]^=x[0],A[1]^=x[1],A[2]^=x[2],A[3]^=x[3]),this.pow(x,x);return A},c.gcm.prototype.pow=function(B,T){for(var A=1&B[3],x=3;x>0;--x)T[x]=B[x]>>>1|(1&B[x-1])<<31;T[0]=B[0]>>>1,A&&(T[0]^=this._R)},c.gcm.prototype.tableMultiply=function(B){for(var T=[0,0,0,0],A=0;A<32;++A){var M=this._m[A][B[A/8|0]>>>4*(7-A%8)&15];T[0]^=M[0],T[1]^=M[1],T[2]^=M[2],T[3]^=M[3]}return T},c.gcm.prototype.ghash=function(B,T,A){return T[0]^=A[0],T[1]^=A[1],T[2]^=A[2],T[3]^=A[3],this.tableMultiply(T)},c.gcm.prototype.generateHashTable=function(B,T){for(var A=8/T,x=4*A,I=16*A,M=new Array(I),J=0;J<I;++J){var R=[0,0,0,0];R[J/x|0]=1<<T-1<<(x-1-J%x)*T,M[J]=this.generateSubHashTable(this.multiply(R,B),T)}return M},c.gcm.prototype.generateSubHashTable=function(B,T){var A=1<<T,x=A>>>1,I=new Array(A);I[x]=B.slice(0);for(var M=x>>>1;M>0;)this.pow(I[2*M],I[M]=[]),M>>=1;for(M=2;M<x;){for(var J=1;J<M;++J){var R=I[M],L=I[J];I[M+J]=[R[0]^L[0],R[1]^L[1],R[2]^L[2],R[3]^L[3]]}M*=2}for(I[0]=[0,0,0,0],M=x+1;M<A;++M){var W=I[M^x];I[M]=[B[0]^W[0],B[1]^W[1],B[2]^W[2],B[3]^W[3]]}return I}},279:(rt,ge,z)=>{var f=z(8659);function c(L,W){f.cipher.registerAlgorithm(L,function(){return new f.des.Algorithm(L,W)})}z(3311),z(3481),z(4747),rt.exports=f.des=f.des||{},f.des.startEncrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!1,mode:K||(null===W?"ECB":"CBC")});return E.start(W),E},f.des.createEncryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!1,mode:W})},f.des.startDecrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!0,mode:K||(null===W?"ECB":"CBC")});return E.start(W),E},f.des.createDecryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!0,mode:W})},f.des.Algorithm=function(L,W){var P=this;P.name=L,P.mode=new W({blockSize:8,cipher:{encrypt:function(K,E){return J(P._keys,K,E,!1)},decrypt:function(K,E){return J(P._keys,K,E,!0)}}}),P._init=!1},f.des.Algorithm.prototype.initialize=function(L){if(!this._init){var W=f.util.createBuffer(L.key);if(0===this.name.indexOf("3DES")&&24!==W.length())throw new Error("Invalid Triple-DES key size: "+8*W.length());this._keys=function M(L){for(var Ke,W=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],K=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],E=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],S=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],_=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],Q=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],j=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],ie=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],O=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],N=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],G=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],V=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],se=L.length()>8?3:1,ne=[],xe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],_e=0,it=0;it<se;it++){var at=L.getInt32(),Le=L.getInt32();at^=(Ke=252645135&(at>>>4^Le))<<4,at^=Ke=65535&((Le^=Ke)>>>-16^at),at^=(Ke=858993459&(at>>>2^(Le^=Ke<<-16)))<<2,at^=Ke=65535&((Le^=Ke)>>>-16^at),at^=(Ke=1431655765&(at>>>1^(Le^=Ke<<-16)))<<1,at^=Ke=16711935&((Le^=Ke)>>>8^at),Ke=(at^=(Ke=1431655765&(at>>>1^(Le^=Ke<<8)))<<1)<<8|(Le^=Ke)>>>20&240,at=Le<<24|Le<<8&16711680|Le>>>8&65280|Le>>>24&240,Le=Ke;for(var qe=0;qe<xe.length;++qe){xe[qe]?(at=at<<2|at>>>26,Le=Le<<2|Le>>>26):(at=at<<1|at>>>27,Le=Le<<1|Le>>>27);var ft=W[(at&=-15)>>>28]|P[at>>>24&15]|K[at>>>20&15]|E[at>>>16&15]|S[at>>>12&15]|_[at>>>8&15]|Q[at>>>4&15],Je=j[(Le&=-15)>>>28]|ie[Le>>>24&15]|O[Le>>>20&15]|N[Le>>>16&15]|G[Le>>>12&15]|g[Le>>>8&15]|V[Le>>>4&15];ne[_e++]=ft^(Ke=65535&(Je>>>16^ft)),ne[_e++]=Je^Ke<<16}}return ne}(W),this._init=!0}},c("DES-ECB",f.cipher.modes.ecb),c("DES-CBC",f.cipher.modes.cbc),c("DES-CFB",f.cipher.modes.cfb),c("DES-OFB",f.cipher.modes.ofb),c("DES-CTR",f.cipher.modes.ctr),c("3DES-ECB",f.cipher.modes.ecb),c("3DES-CBC",f.cipher.modes.cbc),c("3DES-CFB",f.cipher.modes.cfb),c("3DES-OFB",f.cipher.modes.ofb),c("3DES-CTR",f.cipher.modes.ctr);var w=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],m=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],F=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],B=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],T=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],A=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],x=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],I=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function J(L,W,P,K){var S,E=32===L.length?3:9;S=3===E?K?[30,-2,-2]:[0,32,2]:K?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var _,Q=W[0],j=W[1];Q^=(_=252645135&(Q>>>4^j))<<4,Q^=(_=65535&(Q>>>16^(j^=_)))<<16,Q^=_=858993459&((j^=_)>>>2^Q),Q^=_=16711935&((j^=_<<2)>>>8^Q),Q=(Q^=(_=1431655765&(Q>>>1^(j^=_<<8)))<<1)<<1|Q>>>31,j=(j^=_)<<1|j>>>31;for(var ie=0;ie<E;ie+=3){for(var O=S[ie+1],N=S[ie+2],G=S[ie];G!=O;G+=N){var g=j^L[G],V=(j>>>4|j<<28)^L[G+1];_=Q,Q=j,j=_^(m[g>>>24&63]|B[g>>>16&63]|A[g>>>8&63]|I[63&g]|w[V>>>24&63]|F[V>>>16&63]|T[V>>>8&63]|x[63&V])}_=Q,Q=j,j=_}j=j>>>1|j<<31,j^=_=1431655765&((Q=Q>>>1|Q<<31)>>>1^j),j^=(_=16711935&(j>>>8^(Q^=_<<1)))<<8,j^=(_=858993459&(j>>>2^(Q^=_)))<<2,j^=_=65535&((Q^=_)>>>16^j),j^=_=252645135&((Q^=_<<16)>>>4^j),P[0]=Q^=_<<4,P[1]=j}function R(L){var K,P="DES-"+((L=L||{}).mode||"CBC").toUpperCase(),E=(K=L.decrypt?f.cipher.createDecipher(P,L.key):f.cipher.createCipher(P,L.key)).start;return K.start=function(S,_){var Q=null;_ instanceof f.util.ByteBuffer&&(Q=_,_={}),(_=_||{}).output=Q,_.iv=S,E.call(K,_)},K}},4187:(rt,ge,z)=>{var f=z(8659);z(730),z(8365),z(8985),z(4747);var c=z(8877),w=c.publicKeyValidator,m=c.privateKeyValidator;if(typeof F>"u")var F=f.jsbn.BigInteger;var B=f.util.ByteBuffer,T=typeof Buffer>"u"?Uint8Array:Buffer;f.pki=f.pki||{},rt.exports=f.pki.ed25519=f.ed25519=f.ed25519||{};var A=f.ed25519;function x(et){var gt=et.message;if(gt instanceof Uint8Array||gt instanceof T)return gt;var X=et.encoding;if(void 0===gt){if(!et.md)throw new TypeError('"options.message" or "options.md" not specified.');gt=et.md.digest().getBytes(),X="binary"}if("string"==typeof gt&&!X)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof gt){if(typeof Buffer<"u")return Buffer.from(gt,X);gt=new B(gt,X)}else if(!(gt instanceof B))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Z=new T(gt.length()),ue=0;ue<Z.length;++ue)Z[ue]=gt.at(ue);return Z}A.constants={},A.constants.PUBLIC_KEY_BYTE_LENGTH=32,A.constants.PRIVATE_KEY_BYTE_LENGTH=64,A.constants.SEED_BYTE_LENGTH=32,A.constants.SIGN_BYTE_LENGTH=64,A.constants.HASH_BYTE_LENGTH=64,A.generateKeyPair=function(et){var gt=(et=et||{}).seed;if(void 0===gt)gt=f.random.getBytesSync(A.constants.SEED_BYTE_LENGTH);else if("string"==typeof gt){if(gt.length!==A.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+A.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(gt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');gt=x({message:gt,encoding:"binary"});for(var X=new T(A.constants.PUBLIC_KEY_BYTE_LENGTH),Z=new T(A.constants.PRIVATE_KEY_BYTE_LENGTH),ue=0;ue<32;++ue)Z[ue]=gt[ue];return function S(et,gt){var Z,X=[ht(),ht(),ht(),ht()],ue=E(gt,32);for(ue[0]&=248,ue[31]&=127,ue[31]|=64,Le(X,ue),G(et,X),Z=0;Z<32;++Z)gt[Z+32]=et[Z]}(X,Z),{publicKey:X,privateKey:Z}},A.privateKeyFromAsn1=function(et){var gt={},X=[];if(!f.asn1.validate(et,m,gt,X)){var ue=new Error("Invalid Key.");throw ue.errors=X,ue}var Oe=f.asn1.derToOid(gt.privateKeyOid),Xe=f.oids.EdDSA25519;if(Oe!==Xe)throw new Error('Invalid OID "'+Oe+'"; OID must be "'+Xe+'".');return{privateKeyBytes:x({message:f.asn1.fromDer(gt.privateKey).value,encoding:"binary"})}},A.publicKeyFromAsn1=function(et){var gt={},X=[];if(!f.asn1.validate(et,w,gt,X)){var ue=new Error("Invalid Key.");throw ue.errors=X,ue}var Oe=f.asn1.derToOid(gt.publicKeyOid),Xe=f.oids.EdDSA25519;if(Oe!==Xe)throw new Error('Invalid OID "'+Oe+'"; OID must be "'+Xe+'".');var ee=gt.ed25519PublicKey;if(ee.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return x({message:ee,encoding:"binary"})},A.publicKeyFromPrivateKey=function(et){var gt=x({message:(et=et||{}).privateKey,encoding:"binary"});if(gt.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+A.constants.PRIVATE_KEY_BYTE_LENGTH);for(var X=new T(A.constants.PUBLIC_KEY_BYTE_LENGTH),Z=0;Z<X.length;++Z)X[Z]=gt[32+Z];return X},A.sign=function(et){var gt=x(et=et||{}),X=x({message:et.privateKey,encoding:"binary"});if(X.length===A.constants.SEED_BYTE_LENGTH)X=A.generateKeyPair({seed:X}).privateKey;else if(X.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+A.constants.SEED_BYTE_LENGTH+" or "+A.constants.PRIVATE_KEY_BYTE_LENGTH);var ue=new T(A.constants.SIGN_BYTE_LENGTH+gt.length);!function _(et,gt,X,Z){var ue,Oe,Xe=new Float64Array(64),ee=[ht(),ht(),ht(),ht()],Pe=E(Z,32);Pe[0]&=248,Pe[31]&=127,Pe[31]|=64;var Ft=X+64;for(ue=0;ue<X;++ue)et[64+ue]=gt[ue];for(ue=0;ue<32;++ue)et[32+ue]=Pe[32+ue];var ar=E(et.subarray(32),X+32);for(ie(ar),Le(ee,ar),G(et,ee),ue=32;ue<64;++ue)et[ue]=Z[ue];var rr=E(et,X+64);for(ie(rr),ue=32;ue<64;++ue)Xe[ue]=0;for(ue=0;ue<32;++ue)Xe[ue]=ar[ue];for(ue=0;ue<32;++ue)for(Oe=0;Oe<32;Oe++)Xe[ue+Oe]+=rr[ue]*Pe[Oe];j(et.subarray(32),Xe)}(ue,gt,gt.length,X);for(var Oe=new T(A.constants.SIGN_BYTE_LENGTH),Xe=0;Xe<Oe.length;++Xe)Oe[Xe]=ue[Xe];return Oe},A.verify=function(et){var gt=x(et=et||{});if(void 0===et.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var X=x({message:et.signature,encoding:"binary"});if(X.length!==A.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+A.constants.SIGN_BYTE_LENGTH);var Z=x({message:et.publicKey,encoding:"binary"});if(Z.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+A.constants.PUBLIC_KEY_BYTE_LENGTH);var Xe,ue=new T(A.constants.SIGN_BYTE_LENGTH+gt.length),Oe=new T(A.constants.SIGN_BYTE_LENGTH+gt.length);for(Xe=0;Xe<A.constants.SIGN_BYTE_LENGTH;++Xe)ue[Xe]=X[Xe];for(Xe=0;Xe<gt.length;++Xe)ue[Xe+A.constants.SIGN_BYTE_LENGTH]=gt[Xe];return function Q(et,gt,X,Z){var ue,Xe=new T(32),ee=[ht(),ht(),ht(),ht()],Pe=[ht(),ht(),ht(),ht()];if(X<64||function V(et,gt){var X=ht(),Z=ht(),ue=ht(),Oe=ht(),Xe=ht(),ee=ht(),Pe=ht();return qe(et[2],M),function se(et,gt){var X;for(X=0;X<16;++X)et[X]=gt[2*X]+(gt[2*X+1]<<8);et[15]&=32767}(et[1],gt),yr(ue,et[1]),or(Oe,ue,J),Mt(ue,ue,et[2]),dr(Oe,et[2],Oe),yr(Xe,Oe),yr(ee,Xe),or(Pe,ee,Xe),or(X,Pe,ue),or(X,X,Oe),function ne(et,gt){var Z,X=ht();for(Z=0;Z<16;++Z)X[Z]=gt[Z];for(Z=250;Z>=0;--Z)yr(X,X),1!==Z&&or(X,X,gt);for(Z=0;Z<16;++Z)et[Z]=X[Z]}(X,X),or(X,X,ue),or(X,X,Oe),or(X,X,Oe),or(et[0],X,Oe),yr(Z,et[0]),or(Z,Z,Oe),xe(Z,ue)&&or(et[0],et[0],K),yr(Z,et[0]),or(Z,Z,Oe),xe(Z,ue)?-1:(it(et[0])===gt[31]>>7&&Mt(et[0],I,et[0]),or(et[3],et[0],et[1]),0)}(Pe,Z))return-1;for(ue=0;ue<X;++ue)et[ue]=gt[ue];for(ue=0;ue<32;++ue)et[ue+32]=Z[ue];var Ft=E(et,X);if(ie(Ft),at(ee,Pe,Ft),Le(Pe,gt.subarray(32)),O(ee,Pe),G(Xe,ee),X-=64,_e(gt,0,Xe,0)){for(ue=0;ue<X;++ue)et[ue]=0;return-1}for(ue=0;ue<X;++ue)et[ue]=gt[ue+64];return X}(Oe,ue,ue.length,Z)>=0};var I=ht(),M=ht([1]),J=ht([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),R=ht([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),L=ht([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),W=ht([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),K=ht([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(et,gt){var X=f.md.sha512.create(),Z=new B(et);X.update(Z.getBytes(gt),"binary");var ue=X.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(ue,"binary");for(var Oe=new T(A.constants.HASH_BYTE_LENGTH),Xe=0;Xe<64;++Xe)Oe[Xe]=ue.charCodeAt(Xe);return Oe}function j(et,gt){var X,Z,ue,Oe;for(Z=63;Z>=32;--Z){for(X=0,ue=Z-32,Oe=Z-12;ue<Oe;++ue)gt[ue]+=X-16*gt[Z]*P[ue-(Z-32)],gt[ue]-=256*(X=gt[ue]+128>>8);gt[ue]+=X,gt[Z]=0}for(X=0,ue=0;ue<32;++ue)gt[ue]+=X-(gt[31]>>4)*P[ue],X=gt[ue]>>8,gt[ue]&=255;for(ue=0;ue<32;++ue)gt[ue]-=X*P[ue];for(Z=0;Z<32;++Z)gt[Z+1]+=gt[Z]>>8,et[Z]=255&gt[Z]}function ie(et){for(var gt=new Float64Array(64),X=0;X<64;++X)gt[X]=et[X],et[X]=0;j(et,gt)}function O(et,gt){var X=ht(),Z=ht(),ue=ht(),Oe=ht(),Xe=ht(),ee=ht(),Pe=ht(),Ft=ht(),ar=ht();Mt(X,et[1],et[0]),Mt(ar,gt[1],gt[0]),or(X,X,ar),dr(Z,et[0],et[1]),dr(ar,gt[0],gt[1]),or(Z,Z,ar),or(ue,et[3],gt[3]),or(ue,ue,R),or(Oe,et[2],gt[2]),dr(Oe,Oe,Oe),Mt(Xe,Z,X),Mt(ee,Oe,ue),dr(Pe,Oe,ue),dr(Ft,Z,X),or(et[0],Xe,ee),or(et[1],Ft,Pe),or(et[2],Pe,ee),or(et[3],Xe,Ft)}function N(et,gt,X){for(var Z=0;Z<4;++Z)Yt(et[Z],gt[Z],X)}function G(et,gt){var X=ht(),Z=ht(),ue=ht();(function ft(et,gt){var Z,X=ht();for(Z=0;Z<16;++Z)X[Z]=gt[Z];for(Z=253;Z>=0;--Z)yr(X,X),2!==Z&&4!==Z&&or(X,X,gt);for(Z=0;Z<16;++Z)et[Z]=X[Z]})(ue,gt[2]),or(X,gt[0],ue),or(Z,gt[1],ue),g(et,Z),et[31]^=it(X)<<7}function g(et,gt){var X,Z,ue,Oe=ht(),Xe=ht();for(X=0;X<16;++X)Xe[X]=gt[X];for(Je(Xe),Je(Xe),Je(Xe),Z=0;Z<2;++Z){for(Oe[0]=Xe[0]-65517,X=1;X<15;++X)Oe[X]=Xe[X]-65535-(Oe[X-1]>>16&1),Oe[X-1]&=65535;Oe[15]=Xe[15]-32767-(Oe[14]>>16&1),ue=Oe[15]>>16&1,Oe[14]&=65535,Yt(Xe,Oe,1-ue)}for(X=0;X<16;X++)et[2*X]=255&Xe[X],et[2*X+1]=Xe[X]>>8}function xe(et,gt){var X=new T(32),Z=new T(32);return g(X,et),g(Z,gt),_e(X,0,Z,0)}function _e(et,gt,X,Z){return function Ke(et,gt,X,Z,ue){var Oe,Xe=0;for(Oe=0;Oe<ue;++Oe)Xe|=et[gt+Oe]^X[Z+Oe];return(1&Xe-1>>>8)-1}(et,gt,X,Z,32)}function it(et){var gt=new T(32);return g(gt,et),1&gt[0]}function at(et,gt,X){var Z,ue;for(qe(et[0],I),qe(et[1],M),qe(et[2],M),qe(et[3],I),ue=255;ue>=0;--ue)N(et,gt,Z=X[ue/8|0]>>(7&ue)&1),O(gt,et),O(et,et),N(et,gt,Z)}function Le(et,gt){var X=[ht(),ht(),ht(),ht()];qe(X[0],L),qe(X[1],W),qe(X[2],M),or(X[3],L,W),at(et,X,gt)}function qe(et,gt){var X;for(X=0;X<16;X++)et[X]=0|gt[X]}function Je(et){var gt,X,Z=1;for(gt=0;gt<16;++gt)X=et[gt]+Z+65535,Z=Math.floor(X/65536),et[gt]=X-65536*Z;et[0]+=Z-1+37*(Z-1)}function Yt(et,gt,X){for(var Z,ue=~(X-1),Oe=0;Oe<16;++Oe)et[Oe]^=Z=ue&(et[Oe]^gt[Oe]),gt[Oe]^=Z}function ht(et){var gt,X=new Float64Array(16);if(et)for(gt=0;gt<et.length;++gt)X[gt]=et[gt];return X}function dr(et,gt,X){for(var Z=0;Z<16;++Z)et[Z]=gt[Z]+X[Z]}function Mt(et,gt,X){for(var Z=0;Z<16;++Z)et[Z]=gt[Z]-X[Z]}function yr(et,gt){or(et,gt,gt)}function or(et,gt,X){var Z,ue,Oe=0,Xe=0,ee=0,Pe=0,Ft=0,ar=0,rr=0,kt=0,jt=0,pr=0,Ar=0,re=0,Lt=0,sn=0,Yr=0,wr=0,Nt=0,jr=0,Ir=0,Rr=0,on=0,In=0,fn=0,qt=0,Vn=0,Yn=0,Hn=0,hn=0,ei=0,Bn=0,Xn=0,An=X[0],en=X[1],xn=X[2],nn=X[3],mn=X[4],_r=X[5],Lr=X[6],tn=X[7],Qt=X[8],un=X[9],rn=X[10],Ur=X[11],dn=X[12],gn=X[13],hr=X[14],Cn=X[15];Oe+=(Z=gt[0])*An,Xe+=Z*en,ee+=Z*xn,Pe+=Z*nn,Ft+=Z*mn,ar+=Z*_r,rr+=Z*Lr,kt+=Z*tn,jt+=Z*Qt,pr+=Z*un,Ar+=Z*rn,re+=Z*Ur,Lt+=Z*dn,sn+=Z*gn,Yr+=Z*hr,wr+=Z*Cn,Xe+=(Z=gt[1])*An,ee+=Z*en,Pe+=Z*xn,Ft+=Z*nn,ar+=Z*mn,rr+=Z*_r,kt+=Z*Lr,jt+=Z*tn,pr+=Z*Qt,Ar+=Z*un,re+=Z*rn,Lt+=Z*Ur,sn+=Z*dn,Yr+=Z*gn,wr+=Z*hr,Nt+=Z*Cn,ee+=(Z=gt[2])*An,Pe+=Z*en,Ft+=Z*xn,ar+=Z*nn,rr+=Z*mn,kt+=Z*_r,jt+=Z*Lr,pr+=Z*tn,Ar+=Z*Qt,re+=Z*un,Lt+=Z*rn,sn+=Z*Ur,Yr+=Z*dn,wr+=Z*gn,Nt+=Z*hr,jr+=Z*Cn,Pe+=(Z=gt[3])*An,Ft+=Z*en,ar+=Z*xn,rr+=Z*nn,kt+=Z*mn,jt+=Z*_r,pr+=Z*Lr,Ar+=Z*tn,re+=Z*Qt,Lt+=Z*un,sn+=Z*rn,Yr+=Z*Ur,wr+=Z*dn,Nt+=Z*gn,jr+=Z*hr,Ir+=Z*Cn,Ft+=(Z=gt[4])*An,ar+=Z*en,rr+=Z*xn,kt+=Z*nn,jt+=Z*mn,pr+=Z*_r,Ar+=Z*Lr,re+=Z*tn,Lt+=Z*Qt,sn+=Z*un,Yr+=Z*rn,wr+=Z*Ur,Nt+=Z*dn,jr+=Z*gn,Ir+=Z*hr,Rr+=Z*Cn,ar+=(Z=gt[5])*An,rr+=Z*en,kt+=Z*xn,jt+=Z*nn,pr+=Z*mn,Ar+=Z*_r,re+=Z*Lr,Lt+=Z*tn,sn+=Z*Qt,Yr+=Z*un,wr+=Z*rn,Nt+=Z*Ur,jr+=Z*dn,Ir+=Z*gn,Rr+=Z*hr,on+=Z*Cn,rr+=(Z=gt[6])*An,kt+=Z*en,jt+=Z*xn,pr+=Z*nn,Ar+=Z*mn,re+=Z*_r,Lt+=Z*Lr,sn+=Z*tn,Yr+=Z*Qt,wr+=Z*un,Nt+=Z*rn,jr+=Z*Ur,Ir+=Z*dn,Rr+=Z*gn,on+=Z*hr,In+=Z*Cn,kt+=(Z=gt[7])*An,jt+=Z*en,pr+=Z*xn,Ar+=Z*nn,re+=Z*mn,Lt+=Z*_r,sn+=Z*Lr,Yr+=Z*tn,wr+=Z*Qt,Nt+=Z*un,jr+=Z*rn,Ir+=Z*Ur,Rr+=Z*dn,on+=Z*gn,In+=Z*hr,fn+=Z*Cn,jt+=(Z=gt[8])*An,pr+=Z*en,Ar+=Z*xn,re+=Z*nn,Lt+=Z*mn,sn+=Z*_r,Yr+=Z*Lr,wr+=Z*tn,Nt+=Z*Qt,jr+=Z*un,Ir+=Z*rn,Rr+=Z*Ur,on+=Z*dn,In+=Z*gn,fn+=Z*hr,qt+=Z*Cn,pr+=(Z=gt[9])*An,Ar+=Z*en,re+=Z*xn,Lt+=Z*nn,sn+=Z*mn,Yr+=Z*_r,wr+=Z*Lr,Nt+=Z*tn,jr+=Z*Qt,Ir+=Z*un,Rr+=Z*rn,on+=Z*Ur,In+=Z*dn,fn+=Z*gn,qt+=Z*hr,Vn+=Z*Cn,Ar+=(Z=gt[10])*An,re+=Z*en,Lt+=Z*xn,sn+=Z*nn,Yr+=Z*mn,wr+=Z*_r,Nt+=Z*Lr,jr+=Z*tn,Ir+=Z*Qt,Rr+=Z*un,on+=Z*rn,In+=Z*Ur,fn+=Z*dn,qt+=Z*gn,Vn+=Z*hr,Yn+=Z*Cn,re+=(Z=gt[11])*An,Lt+=Z*en,sn+=Z*xn,Yr+=Z*nn,wr+=Z*mn,Nt+=Z*_r,jr+=Z*Lr,Ir+=Z*tn,Rr+=Z*Qt,on+=Z*un,In+=Z*rn,fn+=Z*Ur,qt+=Z*dn,Vn+=Z*gn,Yn+=Z*hr,Hn+=Z*Cn,Lt+=(Z=gt[12])*An,sn+=Z*en,Yr+=Z*xn,wr+=Z*nn,Nt+=Z*mn,jr+=Z*_r,Ir+=Z*Lr,Rr+=Z*tn,on+=Z*Qt,In+=Z*un,fn+=Z*rn,qt+=Z*Ur,Vn+=Z*dn,Yn+=Z*gn,Hn+=Z*hr,hn+=Z*Cn,sn+=(Z=gt[13])*An,Yr+=Z*en,wr+=Z*xn,Nt+=Z*nn,jr+=Z*mn,Ir+=Z*_r,Rr+=Z*Lr,on+=Z*tn,In+=Z*Qt,fn+=Z*un,qt+=Z*rn,Vn+=Z*Ur,Yn+=Z*dn,Hn+=Z*gn,hn+=Z*hr,ei+=Z*Cn,Yr+=(Z=gt[14])*An,wr+=Z*en,Nt+=Z*xn,jr+=Z*nn,Ir+=Z*mn,Rr+=Z*_r,on+=Z*Lr,In+=Z*tn,fn+=Z*Qt,qt+=Z*un,Vn+=Z*rn,Yn+=Z*Ur,Hn+=Z*dn,hn+=Z*gn,ei+=Z*hr,Bn+=Z*Cn,wr+=(Z=gt[15])*An,Xe+=38*(jr+=Z*xn),ee+=38*(Ir+=Z*nn),Pe+=38*(Rr+=Z*mn),Ft+=38*(on+=Z*_r),ar+=38*(In+=Z*Lr),rr+=38*(fn+=Z*tn),kt+=38*(qt+=Z*Qt),jt+=38*(Vn+=Z*un),pr+=38*(Yn+=Z*rn),Ar+=38*(Hn+=Z*Ur),re+=38*(hn+=Z*dn),Lt+=38*(ei+=Z*gn),sn+=38*(Bn+=Z*hr),Yr+=38*(Xn+=Z*Cn),Oe=(Z=(Oe+=38*(Nt+=Z*en))+(ue=1)+65535)-65536*(ue=Math.floor(Z/65536)),Xe=(Z=Xe+ue+65535)-65536*(ue=Math.floor(Z/65536)),ee=(Z=ee+ue+65535)-65536*(ue=Math.floor(Z/65536)),Pe=(Z=Pe+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ft=(Z=Ft+ue+65535)-65536*(ue=Math.floor(Z/65536)),ar=(Z=ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),rr=(Z=rr+ue+65535)-65536*(ue=Math.floor(Z/65536)),kt=(Z=kt+ue+65535)-65536*(ue=Math.floor(Z/65536)),jt=(Z=jt+ue+65535)-65536*(ue=Math.floor(Z/65536)),pr=(Z=pr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ar=(Z=Ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),re=(Z=re+ue+65535)-65536*(ue=Math.floor(Z/65536)),Lt=(Z=Lt+ue+65535)-65536*(ue=Math.floor(Z/65536)),sn=(Z=sn+ue+65535)-65536*(ue=Math.floor(Z/65536)),Yr=(Z=Yr+ue+65535)-65536*(ue=Math.floor(Z/65536)),wr=(Z=wr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Oe=(Z=(Oe+=ue-1+37*(ue-1))+(ue=1)+65535)-65536*(ue=Math.floor(Z/65536)),Xe=(Z=Xe+ue+65535)-65536*(ue=Math.floor(Z/65536)),ee=(Z=ee+ue+65535)-65536*(ue=Math.floor(Z/65536)),Pe=(Z=Pe+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ft=(Z=Ft+ue+65535)-65536*(ue=Math.floor(Z/65536)),ar=(Z=ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),rr=(Z=rr+ue+65535)-65536*(ue=Math.floor(Z/65536)),kt=(Z=kt+ue+65535)-65536*(ue=Math.floor(Z/65536)),jt=(Z=jt+ue+65535)-65536*(ue=Math.floor(Z/65536)),pr=(Z=pr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ar=(Z=Ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),re=(Z=re+ue+65535)-65536*(ue=Math.floor(Z/65536)),Lt=(Z=Lt+ue+65535)-65536*(ue=Math.floor(Z/65536)),sn=(Z=sn+ue+65535)-65536*(ue=Math.floor(Z/65536)),Yr=(Z=Yr+ue+65535)-65536*(ue=Math.floor(Z/65536)),wr=(Z=wr+ue+65535)-65536*(ue=Math.floor(Z/65536)),et[0]=Oe+=ue-1+37*(ue-1),et[1]=Xe,et[2]=ee,et[3]=Pe,et[4]=Ft,et[5]=ar,et[6]=rr,et[7]=kt,et[8]=jt,et[9]=pr,et[10]=Ar,et[11]=re,et[12]=Lt,et[13]=sn,et[14]=Yr,et[15]=wr}},8659:rt=>{rt.exports={options:{usePureJavaScript:!1}}},9032:(rt,ge,z)=>{var f=z(8659);z(979),z(4747),(rt.exports=f.hmac=f.hmac||{}).create=function(){var w=null,m=null,F=null,B=null,T={start:function(A,x){if(null!==A)if("string"==typeof A){if(!((A=A.toLowerCase())in f.md.algorithms))throw new Error('Unknown hash algorithm "'+A+'"');m=f.md.algorithms[A].create()}else m=A;if(null===x)x=w;else{if("string"==typeof x)x=f.util.createBuffer(x);else if(f.util.isArray(x)){var I=x;x=f.util.createBuffer();for(var M=0;M<I.length;++M)x.putByte(I[M])}var J=x.length();for(J>m.blockLength&&(m.start(),m.update(x.bytes()),x=m.digest()),F=f.util.createBuffer(),B=f.util.createBuffer(),J=x.length(),M=0;M<J;++M)I=x.at(M),F.putByte(54^I),B.putByte(92^I);if(J<m.blockLength)for(I=m.blockLength-J,M=0;M<I;++M)F.putByte(54),B.putByte(92);w=x,F=F.bytes(),B=B.bytes()}m.start(),m.update(F)},update:function(A){m.update(A)},getMac:function(){var A=m.digest().bytes();return m.start(),m.update(B),m.update(A),m.digest()}};return T.digest=T.getMac,T}},592:(rt,ge,z)=>{rt.exports=z(8659),z(1298),z(6683),z(7791),z(3311),z(279),z(4187),z(9032),z(7196),z(6113),z(4752),z(8449),z(7949),z(8604),z(7246),z(562),z(422),z(1965),z(9709),z(4473),z(7256),z(8365),z(209),z(1015),z(2266),z(4747)},730:(rt,ge,z)=>{var c,f=z(8659);function F(he,ve,Ce){this.data=[],null!=he&&("number"==typeof he?this.fromNumber(he,ve,Ce):this.fromString(he,null==ve&&"string"!=typeof he?256:ve))}function B(){return new F(null)}function x(he,ve,Ce,tt,Ut,Kt){for(var Vt=16383&ve,Wt=ve>>14;--Kt>=0;){var ct=16383&this.data[he],ke=this.data[he++]>>14,sr=Wt*ct+ke*Vt;Ut=((ct=Vt*ct+((16383&sr)<<14)+Ce.data[tt]+Ut)>>28)+(sr>>14)+Wt*ke,Ce.data[tt++]=268435455&ct}return Ut}rt.exports=f.jsbn=f.jsbn||{},f.jsbn.BigInteger=F,typeof navigator>"u"?(F.prototype.am=x,c=28):"Microsoft Internet Explorer"==navigator.appName?(F.prototype.am=function A(he,ve,Ce,tt,Ut,Kt){for(var Vt=32767&ve,Wt=ve>>15;--Kt>=0;){var ct=32767&this.data[he],ke=this.data[he++]>>15,sr=Wt*ct+ke*Vt;Ut=((ct=Vt*ct+((32767&sr)<<15)+Ce.data[tt]+(1073741823&Ut))>>>30)+(sr>>>15)+Wt*ke+(Ut>>>30),Ce.data[tt++]=1073741823&ct}return Ut},c=30):"Netscape"!=navigator.appName?(F.prototype.am=function T(he,ve,Ce,tt,Ut,Kt){for(;--Kt>=0;){var Vt=ve*this.data[he++]+Ce.data[tt]+Ut;Ut=Math.floor(Vt/67108864),Ce.data[tt++]=67108863&Vt}return Ut},c=26):(F.prototype.am=x,c=28),F.prototype.DB=c,F.prototype.DM=(1<<c)-1,F.prototype.DV=1<<c,F.prototype.FV=Math.pow(2,52),F.prototype.F1=52-c,F.prototype.F2=2*c-52;var R,L,J=new Array;for(R="0".charCodeAt(0),L=0;L<=9;++L)J[R++]=L;for(R="a".charCodeAt(0),L=10;L<36;++L)J[R++]=L;for(R="A".charCodeAt(0),L=10;L<36;++L)J[R++]=L;function W(he){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(he)}function P(he,ve){return J[he.charCodeAt(ve)]??-1}function S(he){var ve=B();return ve.fromInt(he),ve}function G(he){var Ce,ve=1;return 0!=(Ce=he>>>16)&&(he=Ce,ve+=16),0!=(Ce=he>>8)&&(he=Ce,ve+=8),0!=(Ce=he>>4)&&(he=Ce,ve+=4),0!=(Ce=he>>2)&&(he=Ce,ve+=2),0!=(Ce=he>>1)&&(he=Ce,ve+=1),ve}function qe(he){this.m=he}function yr(he){this.m=he,this.mp=he.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<he.DB-15)-1,this.mt2=2*he.t}function Nt(he,ve){return he&ve}function Ir(he,ve){return he|ve}function on(he,ve){return he^ve}function fn(he,ve){return he&~ve}function hn(he){if(0==he)return-1;var ve=0;return 0==(65535&he)&&(he>>=16,ve+=16),0==(255&he)&&(he>>=8,ve+=8),0==(15&he)&&(he>>=4,ve+=4),0==(3&he)&&(he>>=2,ve+=2),0==(1&he)&&++ve,ve}function Bn(he){for(var ve=0;0!=he;)he&=he-1,++ve;return ve}function hr(){}function Cn(he){return he}function ti(he){this.r2=B(),this.q3=B(),F.ONE.dlShiftTo(2*he.t,this.r2),this.mu=this.r2.divide(he),this.m=he}qe.prototype.convert=function ft(he){return he.s<0||he.compareTo(this.m)>=0?he.mod(this.m):he},qe.prototype.revert=function Je(he){return he},qe.prototype.reduce=function Yt(he){he.divRemTo(this.m,null,he)},qe.prototype.mulTo=function ht(he,ve,Ce){he.multiplyTo(ve,Ce),this.reduce(Ce)},qe.prototype.sqrTo=function dr(he,ve){he.squareTo(ve),this.reduce(ve)},yr.prototype.convert=function or(he){var ve=B();return he.abs().dlShiftTo(this.m.t,ve),ve.divRemTo(this.m,null,ve),he.s<0&&ve.compareTo(F.ZERO)>0&&this.m.subTo(ve,ve),ve},yr.prototype.revert=function et(he){var ve=B();return he.copyTo(ve),this.reduce(ve),ve},yr.prototype.reduce=function gt(he){for(;he.t<=this.mt2;)he.data[he.t++]=0;for(var ve=0;ve<this.m.t;++ve){var Ce=32767&he.data[ve],tt=Ce*this.mpl+((Ce*this.mph+(he.data[ve]>>15)*this.mpl&this.um)<<15)&he.DM;for(he.data[Ce=ve+this.m.t]+=this.m.am(0,tt,he,ve,0,this.m.t);he.data[Ce]>=he.DV;)he.data[Ce]-=he.DV,he.data[++Ce]++}he.clamp(),he.drShiftTo(this.m.t,he),he.compareTo(this.m)>=0&&he.subTo(this.m,he)},yr.prototype.mulTo=function Z(he,ve,Ce){he.multiplyTo(ve,Ce),this.reduce(Ce)},yr.prototype.sqrTo=function X(he,ve){he.squareTo(ve),this.reduce(ve)},F.prototype.copyTo=function K(he){for(var ve=this.t-1;ve>=0;--ve)he.data[ve]=this.data[ve];he.t=this.t,he.s=this.s},F.prototype.fromInt=function E(he){this.t=1,this.s=he<0?-1:0,he>0?this.data[0]=he:he<-1?this.data[0]=he+this.DV:this.t=0},F.prototype.fromString=function _(he,ve){var Ce;if(16==ve)Ce=4;else if(8==ve)Ce=3;else if(256==ve)Ce=8;else if(2==ve)Ce=1;else if(32==ve)Ce=5;else{if(4!=ve)return void this.fromRadix(he,ve);Ce=2}this.t=0,this.s=0;for(var tt=he.length,Ut=!1,Kt=0;--tt>=0;){var Vt=8==Ce?255&he[tt]:P(he,tt);Vt<0?"-"==he.charAt(tt)&&(Ut=!0):(Ut=!1,0==Kt?this.data[this.t++]=Vt:Kt+Ce>this.DB?(this.data[this.t-1]|=(Vt&(1<<this.DB-Kt)-1)<<Kt,this.data[this.t++]=Vt>>this.DB-Kt):this.data[this.t-1]|=Vt<<Kt,(Kt+=Ce)>=this.DB&&(Kt-=this.DB))}8==Ce&&0!=(128&he[0])&&(this.s=-1,Kt>0&&(this.data[this.t-1]|=(1<<this.DB-Kt)-1<<Kt)),this.clamp(),Ut&&F.ZERO.subTo(this,this)},F.prototype.clamp=function Q(){for(var he=this.s&this.DM;this.t>0&&this.data[this.t-1]==he;)--this.t},F.prototype.dlShiftTo=function V(he,ve){var Ce;for(Ce=this.t-1;Ce>=0;--Ce)ve.data[Ce+he]=this.data[Ce];for(Ce=he-1;Ce>=0;--Ce)ve.data[Ce]=0;ve.t=this.t+he,ve.s=this.s},F.prototype.drShiftTo=function se(he,ve){for(var Ce=he;Ce<this.t;++Ce)ve.data[Ce-he]=this.data[Ce];ve.t=Math.max(this.t-he,0),ve.s=this.s},F.prototype.lShiftTo=function ne(he,ve){var Wt,Ce=he%this.DB,tt=this.DB-Ce,Ut=(1<<tt)-1,Kt=Math.floor(he/this.DB),Vt=this.s<<Ce&this.DM;for(Wt=this.t-1;Wt>=0;--Wt)ve.data[Wt+Kt+1]=this.data[Wt]>>tt|Vt,Vt=(this.data[Wt]&Ut)<<Ce;for(Wt=Kt-1;Wt>=0;--Wt)ve.data[Wt]=0;ve.data[Kt]=Vt,ve.t=this.t+Kt+1,ve.s=this.s,ve.clamp()},F.prototype.rShiftTo=function xe(he,ve){ve.s=this.s;var Ce=Math.floor(he/this.DB);if(Ce>=this.t)ve.t=0;else{var tt=he%this.DB,Ut=this.DB-tt,Kt=(1<<tt)-1;ve.data[0]=this.data[Ce]>>tt;for(var Vt=Ce+1;Vt<this.t;++Vt)ve.data[Vt-Ce-1]|=(this.data[Vt]&Kt)<<Ut,ve.data[Vt-Ce]=this.data[Vt]>>tt;tt>0&&(ve.data[this.t-Ce-1]|=(this.s&Kt)<<Ut),ve.t=this.t-Ce,ve.clamp()}},F.prototype.subTo=function _e(he,ve){for(var Ce=0,tt=0,Ut=Math.min(he.t,this.t);Ce<Ut;)tt+=this.data[Ce]-he.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;if(he.t<this.t){for(tt-=he.s;Ce<this.t;)tt+=this.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;tt+=this.s}else{for(tt+=this.s;Ce<he.t;)tt-=he.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;tt-=he.s}ve.s=tt<0?-1:0,tt<-1?ve.data[Ce++]=this.DV+tt:tt>0&&(ve.data[Ce++]=tt),ve.t=Ce,ve.clamp()},F.prototype.multiplyTo=function Ke(he,ve){var Ce=this.abs(),tt=he.abs(),Ut=Ce.t;for(ve.t=Ut+tt.t;--Ut>=0;)ve.data[Ut]=0;for(Ut=0;Ut<tt.t;++Ut)ve.data[Ut+Ce.t]=Ce.am(0,tt.data[Ut],ve,Ut,0,Ce.t);ve.s=0,ve.clamp(),this.s!=he.s&&F.ZERO.subTo(ve,ve)},F.prototype.squareTo=function it(he){for(var ve=this.abs(),Ce=he.t=2*ve.t;--Ce>=0;)he.data[Ce]=0;for(Ce=0;Ce<ve.t-1;++Ce){var tt=ve.am(Ce,ve.data[Ce],he,2*Ce,0,1);(he.data[Ce+ve.t]+=ve.am(Ce+1,2*ve.data[Ce],he,2*Ce+1,tt,ve.t-Ce-1))>=ve.DV&&(he.data[Ce+ve.t]-=ve.DV,he.data[Ce+ve.t+1]=1)}he.t>0&&(he.data[he.t-1]+=ve.am(Ce,ve.data[Ce],he,2*Ce,0,1)),he.s=0,he.clamp()},F.prototype.divRemTo=function at(he,ve,Ce){var tt=he.abs();if(!(tt.t<=0)){var Ut=this.abs();if(Ut.t<tt.t)return ve?.fromInt(0),void(null!=Ce&&this.copyTo(Ce));null==Ce&&(Ce=B());var Kt=B(),Vt=this.s,Wt=he.s,ct=this.DB-G(tt.data[tt.t-1]);ct>0?(tt.lShiftTo(ct,Kt),Ut.lShiftTo(ct,Ce)):(tt.copyTo(Kt),Ut.copyTo(Ce));var ke=Kt.t,sr=Kt.data[ke-1];if(0!=sr){var kr=sr*(1<<this.F1)+(ke>1?Kt.data[ke-2]>>this.F2:0),kn=this.FV/kr,aa=(1<<this.F1)/kr,ci=1<<this.F2,Nn=Ce.t,Cr=Nn-ke,Ci=ve??B();for(Kt.dlShiftTo(Cr,Ci),Ce.compareTo(Ci)>=0&&(Ce.data[Ce.t++]=1,Ce.subTo(Ci,Ce)),F.ONE.dlShiftTo(ke,Ci),Ci.subTo(Kt,Kt);Kt.t<ke;)Kt.data[Kt.t++]=0;for(;--Cr>=0;){var sa=Ce.data[--Nn]==sr?this.DM:Math.floor(Ce.data[Nn]*kn+(Ce.data[Nn-1]+ci)*aa);if((Ce.data[Nn]+=Kt.am(0,sa,Ce,Cr,0,ke))<sa)for(Kt.dlShiftTo(Cr,Ci),Ce.subTo(Ci,Ce);Ce.data[Nn]<--sa;)Ce.subTo(Ci,Ce)}null!=ve&&(Ce.drShiftTo(ke,ve),Vt!=Wt&&F.ZERO.subTo(ve,ve)),Ce.t=ke,Ce.clamp(),ct>0&&Ce.rShiftTo(ct,Ce),Vt<0&&F.ZERO.subTo(Ce,Ce)}}},F.prototype.invDigit=function Mt(){if(this.t<1)return 0;var he=this.data[0];if(0==(1&he))return 0;var ve=3&he;return(ve=(ve=(ve=(ve=ve*(2-(15&he)*ve)&15)*(2-(255&he)*ve)&255)*(2-((65535&he)*ve&65535))&65535)*(2-he*ve%this.DV)%this.DV)>0?this.DV-ve:-ve},F.prototype.isEven=function ue(){return 0==(this.t>0?1&this.data[0]:this.s)},F.prototype.exp=function Oe(he,ve){if(he>4294967295||he<1)return F.ONE;var Ce=B(),tt=B(),Ut=ve.convert(this),Kt=G(he)-1;for(Ut.copyTo(Ce);--Kt>=0;)if(ve.sqrTo(Ce,tt),(he&1<<Kt)>0)ve.mulTo(tt,Ut,Ce);else{var Vt=Ce;Ce=tt,tt=Vt}return ve.revert(Ce)},F.prototype.toString=function j(he){if(this.s<0)return"-"+this.negate().toString(he);var ve;if(16==he)ve=4;else if(8==he)ve=3;else if(2==he)ve=1;else if(32==he)ve=5;else{if(4!=he)return this.toRadix(he);ve=2}var tt,Ce=(1<<ve)-1,Ut=!1,Kt="",Vt=this.t,Wt=this.DB-Vt*this.DB%ve;if(Vt-- >0)for(Wt<this.DB&&(tt=this.data[Vt]>>Wt)>0&&(Ut=!0,Kt=W(tt));Vt>=0;)Wt<ve?(tt=(this.data[Vt]&(1<<Wt)-1)<<ve-Wt,tt|=this.data[--Vt]>>(Wt+=this.DB-ve)):(tt=this.data[Vt]>>(Wt-=ve)&Ce,Wt<=0&&(Wt+=this.DB,--Vt)),tt>0&&(Ut=!0),Ut&&(Kt+=W(tt));return Ut?Kt:"0"},F.prototype.negate=function ie(){var he=B();return F.ZERO.subTo(this,he),he},F.prototype.abs=function O(){return this.s<0?this.negate():this},F.prototype.compareTo=function N(he){var ve=this.s-he.s;if(0!=ve)return ve;var Ce=this.t;if(0!=(ve=Ce-he.t))return this.s<0?-ve:ve;for(;--Ce>=0;)if(0!=(ve=this.data[Ce]-he.data[Ce]))return ve;return 0},F.prototype.bitLength=function g(){return this.t<=0?0:this.DB*(this.t-1)+G(this.data[this.t-1]^this.s&this.DM)},F.prototype.mod=function Le(he){var ve=B();return this.abs().divRemTo(he,null,ve),this.s<0&&ve.compareTo(F.ZERO)>0&&he.subTo(ve,ve),ve},F.prototype.modPowInt=function Xe(he,ve){var Ce;return Ce=he<256||ve.isEven()?new qe(ve):new yr(ve),this.exp(he,Ce)},F.ZERO=S(0),F.ONE=S(1),hr.prototype.convert=Cn,hr.prototype.revert=Cn,hr.prototype.mulTo=function oi(he,ve,Ce){he.multiplyTo(ve,Ce)},hr.prototype.sqrTo=function ki(he,ve){he.squareTo(ve)},ti.prototype.convert=function fe(he){if(he.s<0||he.t>2*this.m.t)return he.mod(this.m);if(he.compareTo(this.m)<0)return he;var ve=B();return he.copyTo(ve),this.reduce(ve),ve},ti.prototype.revert=function ce(he){return he},ti.prototype.reduce=function te(he){for(he.drShiftTo(this.m.t-1,this.r2),he.t>this.m.t+1&&(he.t=this.m.t+1,he.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);he.compareTo(this.r2)<0;)he.dAddOffset(1,this.m.t+1);for(he.subTo(this.r2,he);he.compareTo(this.m)>=0;)he.subTo(this.m,he)},ti.prototype.mulTo=function Be(he,ve,Ce){he.multiplyTo(ve,Ce),this.reduce(Ce)},ti.prototype.sqrTo=function me(he,ve){he.squareTo(ve),this.reduce(ve)};var Et=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Dr=(1<<26)/Et[Et.length-1];F.prototype.chunkSize=function rr(he){return Math.floor(Math.LN2*this.DB/Math.log(he))},F.prototype.toRadix=function jt(he){if(null==he&&(he=10),0==this.signum()||he<2||he>36)return"0";var ve=this.chunkSize(he),Ce=Math.pow(he,ve),tt=S(Ce),Ut=B(),Kt=B(),Vt="";for(this.divRemTo(tt,Ut,Kt);Ut.signum()>0;)Vt=(Ce+Kt.intValue()).toString(he).substr(1)+Vt,Ut.divRemTo(tt,Ut,Kt);return Kt.intValue().toString(he)+Vt},F.prototype.fromRadix=function pr(he,ve){this.fromInt(0),null==ve&&(ve=10);for(var Ce=this.chunkSize(ve),tt=Math.pow(ve,Ce),Ut=!1,Kt=0,Vt=0,Wt=0;Wt<he.length;++Wt){var ct=P(he,Wt);ct<0?"-"==he.charAt(Wt)&&0==this.signum()&&(Ut=!0):(Vt=ve*Vt+ct,++Kt>=Ce&&(this.dMultiply(tt),this.dAddOffset(Vt,0),Kt=0,Vt=0))}Kt>0&&(this.dMultiply(Math.pow(ve,Kt)),this.dAddOffset(Vt,0)),Ut&&F.ZERO.subTo(this,this)},F.prototype.fromNumber=function Ar(he,ve,Ce){if("number"==typeof ve)if(he<2)this.fromInt(1);else for(this.fromNumber(he,Ce),this.testBit(he-1)||this.bitwiseTo(F.ONE.shiftLeft(he-1),Ir,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(ve);)this.dAddOffset(2,0),this.bitLength()>he&&this.subTo(F.ONE.shiftLeft(he-1),this);else{var tt=new Array,Ut=7&he;tt.length=1+(he>>3),ve.nextBytes(tt),Ut>0?tt[0]&=(1<<Ut)-1:tt[0]=0,this.fromString(tt,256)}},F.prototype.bitwiseTo=function wr(he,ve,Ce){var tt,Ut,Kt=Math.min(he.t,this.t);for(tt=0;tt<Kt;++tt)Ce.data[tt]=ve(this.data[tt],he.data[tt]);if(he.t<this.t){for(Ut=he.s&this.DM,tt=Kt;tt<this.t;++tt)Ce.data[tt]=ve(this.data[tt],Ut);Ce.t=this.t}else{for(Ut=this.s&this.DM,tt=Kt;tt<he.t;++tt)Ce.data[tt]=ve(Ut,he.data[tt]);Ce.t=he.t}Ce.s=ve(this.s,he.s),Ce.clamp()},F.prototype.changeBit=function en(he,ve){var Ce=F.ONE.shiftLeft(he);return this.bitwiseTo(Ce,ve,Ce),Ce},F.prototype.addTo=function _r(he,ve){for(var Ce=0,tt=0,Ut=Math.min(he.t,this.t);Ce<Ut;)tt+=this.data[Ce]+he.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;if(he.t<this.t){for(tt+=he.s;Ce<this.t;)tt+=this.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;tt+=this.s}else{for(tt+=this.s;Ce<he.t;)tt+=he.data[Ce],ve.data[Ce++]=tt&this.DM,tt>>=this.DB;tt+=he.s}ve.s=tt<0?-1:0,tt>0?ve.data[Ce++]=tt:tt<-1&&(ve.data[Ce++]=this.DV+tt),ve.t=Ce,ve.clamp()},F.prototype.dMultiply=function dn(he){this.data[this.t]=this.am(0,he-1,this,0,0,this.t),++this.t,this.clamp()},F.prototype.dAddOffset=function gn(he,ve){if(0!=he){for(;this.t<=ve;)this.data[this.t++]=0;for(this.data[ve]+=he;this.data[ve]>=this.DV;)this.data[ve]-=this.DV,++ve>=this.t&&(this.data[this.t++]=0),++this.data[ve]}},F.prototype.multiplyLowerTo=function Ea(he,ve,Ce){var Ut,tt=Math.min(this.t+he.t,ve);for(Ce.s=0,Ce.t=tt;tt>0;)Ce.data[--tt]=0;for(Ut=Ce.t-this.t;tt<Ut;++tt)Ce.data[tt+this.t]=this.am(0,he.data[tt],Ce,tt,0,this.t);for(Ut=Math.min(he.t,ve);tt<Ut;++tt)this.am(0,he.data[tt],Ce,tt,0,ve-tt);Ce.clamp()},F.prototype.multiplyUpperTo=function mi(he,ve,Ce){--ve;var tt=Ce.t=this.t+he.t-ve;for(Ce.s=0;--tt>=0;)Ce.data[tt]=0;for(tt=Math.max(ve-this.t,0);tt<he.t;++tt)Ce.data[this.t+tt-ve]=this.am(ve-tt,he.data[tt],Ce,0,0,this.t+tt-ve);Ce.clamp(),Ce.drShiftTo(1,Ce)},F.prototype.modInt=function Bt(he){if(he<=0)return 0;var ve=this.DV%he,Ce=this.s<0?he-1:0;if(this.t>0)if(0==ve)Ce=this.data[0]%he;else for(var tt=this.t-1;tt>=0;--tt)Ce=(ve*Ce+this.data[tt])%he;return Ce},F.prototype.millerRabin=function qr(he){var ve=this.subtract(F.ONE),Ce=ve.getLowestSetBit();if(Ce<=0)return!1;for(var Kt,tt=ve.shiftRight(Ce),Ut=function Vr(){return{nextBytes:function(he){for(var ve=0;ve<he.length;++ve)he[ve]=Math.floor(256*Math.random())}}}(),Vt=0;Vt<he;++Vt){do{Kt=new F(this.bitLength(),Ut)}while(Kt.compareTo(F.ONE)<=0||Kt.compareTo(ve)>=0);var Wt=Kt.modPow(tt,this);if(0!=Wt.compareTo(F.ONE)&&0!=Wt.compareTo(ve)){for(var ct=1;ct++<Ce&&0!=Wt.compareTo(ve);)if(0==(Wt=Wt.modPowInt(2,this)).compareTo(F.ONE))return!1;if(0!=Wt.compareTo(ve))return!1}}return!0},F.prototype.clone=function ee(){var he=B();return this.copyTo(he),he},F.prototype.intValue=function Pe(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},F.prototype.byteValue=function Ft(){return 0==this.t?this.s:this.data[0]<<24>>24},F.prototype.shortValue=function ar(){return 0==this.t?this.s:this.data[0]<<16>>16},F.prototype.signum=function kt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},F.prototype.toByteArray=function re(){var he=this.t,ve=new Array;ve[0]=this.s;var tt,Ce=this.DB-he*this.DB%8,Ut=0;if(he-- >0)for(Ce<this.DB&&(tt=this.data[he]>>Ce)!=(this.s&this.DM)>>Ce&&(ve[Ut++]=tt|this.s<<this.DB-Ce);he>=0;)Ce<8?(tt=(this.data[he]&(1<<Ce)-1)<<8-Ce,tt|=this.data[--he]>>(Ce+=this.DB-8)):(tt=this.data[he]>>(Ce-=8)&255,Ce<=0&&(Ce+=this.DB,--he)),0!=(128&tt)&&(tt|=-256),0==Ut&&(128&this.s)!=(128&tt)&&++Ut,(Ut>0||tt!=this.s)&&(ve[Ut++]=tt);return ve},F.prototype.equals=function Lt(he){return 0==this.compareTo(he)},F.prototype.min=function sn(he){return this.compareTo(he)<0?this:he},F.prototype.max=function Yr(he){return this.compareTo(he)>0?this:he},F.prototype.and=function jr(he){var ve=B();return this.bitwiseTo(he,Nt,ve),ve},F.prototype.or=function Rr(he){var ve=B();return this.bitwiseTo(he,Ir,ve),ve},F.prototype.xor=function In(he){var ve=B();return this.bitwiseTo(he,on,ve),ve},F.prototype.andNot=function qt(he){var ve=B();return this.bitwiseTo(he,fn,ve),ve},F.prototype.not=function Vn(){for(var he=B(),ve=0;ve<this.t;++ve)he.data[ve]=this.DM&~this.data[ve];return he.t=this.t,he.s=~this.s,he},F.prototype.shiftLeft=function Yn(he){var ve=B();return he<0?this.rShiftTo(-he,ve):this.lShiftTo(he,ve),ve},F.prototype.shiftRight=function Hn(he){var ve=B();return he<0?this.lShiftTo(-he,ve):this.rShiftTo(he,ve),ve},F.prototype.getLowestSetBit=function ei(){for(var he=0;he<this.t;++he)if(0!=this.data[he])return he*this.DB+hn(this.data[he]);return this.s<0?this.t*this.DB:-1},F.prototype.bitCount=function Xn(){for(var he=0,ve=this.s&this.DM,Ce=0;Ce<this.t;++Ce)he+=Bn(this.data[Ce]^ve);return he},F.prototype.testBit=function An(he){var ve=Math.floor(he/this.DB);return ve>=this.t?0!=this.s:0!=(this.data[ve]&1<<he%this.DB)},F.prototype.setBit=function xn(he){return this.changeBit(he,Ir)},F.prototype.clearBit=function nn(he){return this.changeBit(he,fn)},F.prototype.flipBit=function mn(he){return this.changeBit(he,on)},F.prototype.add=function Lr(he){var ve=B();return this.addTo(he,ve),ve},F.prototype.subtract=function tn(he){var ve=B();return this.subTo(he,ve),ve},F.prototype.multiply=function Qt(he){var ve=B();return this.multiplyTo(he,ve),ve},F.prototype.divide=function un(he){var ve=B();return this.divRemTo(he,ve,null),ve},F.prototype.remainder=function rn(he){var ve=B();return this.divRemTo(he,null,ve),ve},F.prototype.divideAndRemainder=function Ur(he){var ve=B(),Ce=B();return this.divRemTo(he,ve,Ce),new Array(ve,Ce)},F.prototype.modPow=function Ve(he,ve){var tt,Kt,Ce=he.bitLength(),Ut=S(1);if(Ce<=0)return Ut;tt=Ce<18?1:Ce<48?3:Ce<144?4:Ce<768?5:6,Kt=Ce<8?new qe(ve):ve.isEven()?new ti(ve):new yr(ve);var Vt=new Array,Wt=3,ct=tt-1,ke=(1<<tt)-1;if(Vt[1]=Kt.convert(this),tt>1){var sr=B();for(Kt.sqrTo(Vt[1],sr);Wt<=ke;)Vt[Wt]=B(),Kt.mulTo(sr,Vt[Wt-2],Vt[Wt]),Wt+=2}var kn,Nn,kr=he.t-1,aa=!0,ci=B();for(Ce=G(he.data[kr])-1;kr>=0;){for(Ce>=ct?kn=he.data[kr]>>Ce-ct&ke:(kn=(he.data[kr]&(1<<Ce+1)-1)<<ct-Ce,kr>0&&(kn|=he.data[kr-1]>>this.DB+Ce-ct)),Wt=tt;0==(1&kn);)kn>>=1,--Wt;if((Ce-=Wt)<0&&(Ce+=this.DB,--kr),aa)Vt[kn].copyTo(Ut),aa=!1;else{for(;Wt>1;)Kt.sqrTo(Ut,ci),Kt.sqrTo(ci,Ut),Wt-=2;Wt>0?Kt.sqrTo(Ut,ci):(Nn=Ut,Ut=ci,ci=Nn),Kt.mulTo(ci,Vt[kn],Ut)}for(;kr>=0&&0==(he.data[kr]&1<<Ce);)Kt.sqrTo(Ut,ci),Nn=Ut,Ut=ci,ci=Nn,--Ce<0&&(Ce=this.DB-1,--kr)}return Kt.revert(Ut)},F.prototype.modInverse=function Dt(he){var ve=he.isEven();if(this.isEven()&&ve||0==he.signum())return F.ZERO;for(var Ce=he.clone(),tt=this.clone(),Ut=S(1),Kt=S(0),Vt=S(0),Wt=S(1);0!=Ce.signum();){for(;Ce.isEven();)Ce.rShiftTo(1,Ce),ve?((!Ut.isEven()||!Kt.isEven())&&(Ut.addTo(this,Ut),Kt.subTo(he,Kt)),Ut.rShiftTo(1,Ut)):Kt.isEven()||Kt.subTo(he,Kt),Kt.rShiftTo(1,Kt);for(;tt.isEven();)tt.rShiftTo(1,tt),ve?((!Vt.isEven()||!Wt.isEven())&&(Vt.addTo(this,Vt),Wt.subTo(he,Wt)),Vt.rShiftTo(1,Vt)):Wt.isEven()||Wt.subTo(he,Wt),Wt.rShiftTo(1,Wt);Ce.compareTo(tt)>=0?(Ce.subTo(tt,Ce),ve&&Ut.subTo(Vt,Ut),Kt.subTo(Wt,Kt)):(tt.subTo(Ce,tt),ve&&Vt.subTo(Ut,Vt),Wt.subTo(Kt,Wt))}return 0!=tt.compareTo(F.ONE)?F.ZERO:Wt.compareTo(he)>=0?Wt.subtract(he):Wt.signum()<0?(Wt.addTo(he,Wt),Wt.signum()<0?Wt.add(he):Wt):Wt},F.prototype.pow=function Pa(he){return this.exp(he,new hr)},F.prototype.gcd=function Tt(he){var ve=this.s<0?this.negate():this.clone(),Ce=he.s<0?he.negate():he.clone();if(ve.compareTo(Ce)<0){var tt=ve;ve=Ce,Ce=tt}var Ut=ve.getLowestSetBit(),Kt=Ce.getLowestSetBit();if(Kt<0)return ve;for(Ut<Kt&&(Kt=Ut),Kt>0&&(ve.rShiftTo(Kt,ve),Ce.rShiftTo(Kt,Ce));ve.signum()>0;)(Ut=ve.getLowestSetBit())>0&&ve.rShiftTo(Ut,ve),(Ut=Ce.getLowestSetBit())>0&&Ce.rShiftTo(Ut,Ce),ve.compareTo(Ce)>=0?(ve.subTo(Ce,ve),ve.rShiftTo(1,ve)):(Ce.subTo(ve,Ce),Ce.rShiftTo(1,Ce));return Kt>0&&Ce.lShiftTo(Kt,Ce),Ce},F.prototype.isProbablePrime=function Xr(he){var ve,Ce=this.abs();if(1==Ce.t&&Ce.data[0]<=Et[Et.length-1]){for(ve=0;ve<Et.length;++ve)if(Ce.data[0]==Et[ve])return!0;return!1}if(Ce.isEven())return!1;for(ve=1;ve<Et.length;){for(var tt=Et[ve],Ut=ve+1;Ut<Et.length&&tt<Dr;)tt*=Et[Ut++];for(tt=Ce.modInt(tt);ve<Ut;)if(tt%Et[ve++]==0)return!1}return Ce.millerRabin(he)}},7196:(rt,ge,z)=>{var f=z(8659);z(4747),z(8365),z(730),rt.exports=f.kem=f.kem||{};var c=f.jsbn.BigInteger;function w(m,F,B,T){m.generate=function(A,x){for(var I=new f.util.ByteBuffer,M=Math.ceil(x/T)+B,J=new f.util.ByteBuffer,R=B;R<M;++R){J.putInt32(R),F.start(),F.update(A+J.getBytes());var L=F.digest();I.putBytes(L.getBytes(T))}return I.truncate(I.length()-x),I.getBytes()}}f.kem.rsa={},f.kem.rsa.create=function(m,F){var B=(F=F||{}).prng||f.random;return{encrypt:function(A,x){var M,I=Math.ceil(A.n.bitLength()/8);do{M=new c(f.util.bytesToHex(B.getBytesSync(I)),16).mod(A.n)}while(M.compareTo(c.ONE)<=0);var J=I-(M=f.util.hexToBytes(M.toString(16))).length;return J>0&&(M=f.util.fillString(String.fromCharCode(0),J)+M),{encapsulation:A.encrypt(M,"NONE"),key:m.generate(M,x)}},decrypt:function(A,x,I){var M=A.decrypt(x,"NONE");return m.generate(M,I)}}},f.kem.kdf1=function(m,F){w(this,m,0,F||m.digestLength)},f.kem.kdf2=function(m,F){w(this,m,1,F||m.digestLength)}},6113:(rt,ge,z)=>{var f=z(8659);z(4747),rt.exports=f.log=f.log||{},f.log.levels=["none","error","warning","info","debug","verbose","max"];var c={},w=[],m=null;f.log.LEVEL_LOCKED=2,f.log.NO_LEVEL_CHECK=4,f.log.INTERPOLATE=8;for(var F=0;F<f.log.levels.length;++F){var B=f.log.levels[F];c[B]={index:F,name:B.toUpperCase()}}f.log.logMessage=function(R){for(var L=c[R.level].index,W=0;W<w.length;++W){var P=w[W];P.flags&f.log.NO_LEVEL_CHECK?P.f(R):L<=c[P.level].index&&P.f(P,R)}},f.log.prepareStandard=function(R){"standard"in R||(R.standard=c[R.level].name+" ["+R.category+"] "+R.message)},f.log.prepareFull=function(R){if(!("full"in R)){var L=[R.message];L=L.concat([]),R.full=f.util.format.apply(this,L)}},f.log.prepareStandardFull=function(R){"standardFull"in R||(f.log.prepareStandard(R),R.standardFull=R.standard)};var T=["error","warning","info","debug","verbose"];for(F=0;F<T.length;++F)!function(L){f.log[L]=function(W,P){var K=Array.prototype.slice.call(arguments).slice(2),E={timestamp:new Date,level:L,category:W,message:P,arguments:K};f.log.logMessage(E)}}(T[F]);if(f.log.makeLogger=function(R){var L={flags:0,f:R};return f.log.setLevel(L,"none"),L},f.log.setLevel=function(R,L){var W=!1;if(R&&!(R.flags&f.log.LEVEL_LOCKED))for(var P=0;P<f.log.levels.length;++P)if(L==f.log.levels[P]){R.level=L,W=!0;break}return W},f.log.lock=function(R,L){typeof L>"u"||L?R.flags|=f.log.LEVEL_LOCKED:R.flags&=~f.log.LEVEL_LOCKED},f.log.addLogger=function(R){w.push(R)},typeof console<"u"&&"log"in console){var A;if(console.error&&console.warn&&console.info&&console.debug){var x={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},I=function(R,L){f.log.prepareStandard(L);var W=x[L.level],P=[L.standard];P=P.concat(L.arguments.slice()),W.apply(console,P)};A=f.log.makeLogger(I)}else I=function(L,W){f.log.prepareStandardFull(W),console.log(W.standardFull)},A=f.log.makeLogger(I);f.log.setLevel(A,"debug"),f.log.addLogger(A),m=A}else console={log:function(){}};if(null!==m&&typeof window<"u"&&window.location){var M=new URL(window.location.href).searchParams;M.has("console.level")&&f.log.setLevel(m,M.get("console.level").slice(-1)[0]),M.has("console.lock")&&"true"==M.get("console.lock").slice(-1)[0]&&f.log.lock(m)}f.log.consoleLogger=m},4752:(rt,ge,z)=>{rt.exports=z(979),z(2687),z(7690),z(1594),z(8985)},979:(rt,ge,z)=>{var f=z(8659);rt.exports=f.md=f.md||{},f.md.algorithms=f.md.algorithms||{}},2687:(rt,ge,z)=>{var f=z(8659);z(979),z(4747);var c=rt.exports=f.md5=f.md5||{};f.md.md5=f.md.algorithms.md5=c,c.create=function(){T||function A(){w=String.fromCharCode(128),w+=f.util.fillString(String.fromCharCode(0),64),m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],F=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],B=new Array(64);for(var I=0;I<64;++I)B[I]=Math.floor(4294967296*Math.abs(Math.sin(I+1)));T=!0}();var I=null,M=f.util.createBuffer(),J=new Array(16),R={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){R.messageLength=0,R.fullMessageLength=R.messageLength64=[];for(var L=R.messageLengthSize/4,W=0;W<L;++W)R.fullMessageLength.push(0);return M=f.util.createBuffer(),I={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},R}};return R.start(),R.update=function(L,W){"utf8"===W&&(L=f.util.encodeUtf8(L));var P=L.length;R.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var K=R.fullMessageLength.length-1;K>=0;--K)R.fullMessageLength[K]+=P[1],P[1]=P[0]+(R.fullMessageLength[K]/4294967296>>>0),R.fullMessageLength[K]=R.fullMessageLength[K]>>>0,P[0]=P[1]/4294967296>>>0;return M.putBytes(L),x(I,J,M),(M.read>2048||0===M.length())&&M.compact(),R},R.digest=function(){var L=f.util.createBuffer();L.putBytes(M.bytes()),L.putBytes(w.substr(0,R.blockLength-(R.fullMessageLength[R.fullMessageLength.length-1]+R.messageLengthSize&R.blockLength-1)));for(var K,E=0,S=R.fullMessageLength.length-1;S>=0;--S)E=(K=8*R.fullMessageLength[S]+E)/4294967296>>>0,L.putInt32Le(K>>>0);var _={h0:I.h0,h1:I.h1,h2:I.h2,h3:I.h3};x(_,J,L);var Q=f.util.createBuffer();return Q.putInt32Le(_.h0),Q.putInt32Le(_.h1),Q.putInt32Le(_.h2),Q.putInt32Le(_.h3),Q},R};var w=null,m=null,F=null,B=null,T=!1;function x(I,M,J){for(var R,L,W,P,K,S,_,Q=J.length();Q>=64;){for(L=I.h0,W=I.h1,P=I.h2,K=I.h3,_=0;_<16;++_)M[_]=J.getInt32Le(),R=L+(K^W&(P^K))+B[_]+M[_],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<32;++_)R=L+(P^K&(W^P))+B[_]+M[m[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<48;++_)R=L+(W^P^K)+B[_]+M[m[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<64;++_)R=L+(P^(W|~K))+B[_]+M[m[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;I.h0=I.h0+L|0,I.h1=I.h1+W|0,I.h2=I.h2+P|0,I.h3=I.h3+K|0,Q-=64}}},9386:(rt,ge,z)=>{var f=z(8659);z(8449),rt.exports=f.mgf=f.mgf||{},f.mgf.mgf1=f.mgf1},8449:(rt,ge,z)=>{var f=z(8659);z(4747),f.mgf=f.mgf||{},(rt.exports=f.mgf.mgf1=f.mgf1=f.mgf1||{}).create=function(w){return{generate:function(F,B){for(var T=new f.util.ByteBuffer,A=Math.ceil(B/w.digestLength),x=0;x<A;x++){var I=new f.util.ByteBuffer;I.putInt32(x),w.start(),w.update(F+I.getBytes()),T.putBuffer(w.digest())}return T.truncate(T.length()-B),T.getBytes()}}}},6078:(rt,ge,z)=>{var f=z(8659);f.pki=f.pki||{};var c=rt.exports=f.pki.oids=f.oids=f.oids||{};function w(F,B){c[F]=B,c[B]=F}function m(F,B){c[F]=B}w("1.2.840.113549.1.1.1","rsaEncryption"),w("1.2.840.113549.1.1.4","md5WithRSAEncryption"),w("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),w("1.2.840.113549.1.1.7","RSAES-OAEP"),w("1.2.840.113549.1.1.8","mgf1"),w("1.2.840.113549.1.1.9","pSpecified"),w("1.2.840.113549.1.1.10","RSASSA-PSS"),w("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),w("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),w("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),w("1.3.101.112","EdDSA25519"),w("1.2.840.10040.4.3","dsa-with-sha1"),w("1.3.14.3.2.7","desCBC"),w("1.3.14.3.2.26","sha1"),w("1.3.14.3.2.29","sha1WithRSASignature"),w("2.16.840.1.101.3.4.2.1","sha256"),w("2.16.840.1.101.3.4.2.2","sha384"),w("2.16.840.1.101.3.4.2.3","sha512"),w("2.16.840.1.101.3.4.2.4","sha224"),w("2.16.840.1.101.3.4.2.5","sha512-224"),w("2.16.840.1.101.3.4.2.6","sha512-256"),w("1.2.840.113549.2.2","md2"),w("1.2.840.113549.2.5","md5"),w("1.2.840.113549.1.7.1","data"),w("1.2.840.113549.1.7.2","signedData"),w("1.2.840.113549.1.7.3","envelopedData"),w("1.2.840.113549.1.7.4","signedAndEnvelopedData"),w("1.2.840.113549.1.7.5","digestedData"),w("1.2.840.113549.1.7.6","encryptedData"),w("1.2.840.113549.1.9.1","emailAddress"),w("1.2.840.113549.1.9.2","unstructuredName"),w("1.2.840.113549.1.9.3","contentType"),w("1.2.840.113549.1.9.4","messageDigest"),w("1.2.840.113549.1.9.5","signingTime"),w("1.2.840.113549.1.9.6","counterSignature"),w("1.2.840.113549.1.9.7","challengePassword"),w("1.2.840.113549.1.9.8","unstructuredAddress"),w("1.2.840.113549.1.9.14","extensionRequest"),w("1.2.840.113549.1.9.20","friendlyName"),w("1.2.840.113549.1.9.21","localKeyId"),w("1.2.840.113549.1.9.22.1","x509Certificate"),w("1.2.840.113549.1.12.10.1.1","keyBag"),w("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),w("1.2.840.113549.1.12.10.1.3","certBag"),w("1.2.840.113549.1.12.10.1.4","crlBag"),w("1.2.840.113549.1.12.10.1.5","secretBag"),w("1.2.840.113549.1.12.10.1.6","safeContentsBag"),w("1.2.840.113549.1.5.13","pkcs5PBES2"),w("1.2.840.113549.1.5.12","pkcs5PBKDF2"),w("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),w("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),w("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),w("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),w("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),w("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),w("1.2.840.113549.2.7","hmacWithSHA1"),w("1.2.840.113549.2.8","hmacWithSHA224"),w("1.2.840.113549.2.9","hmacWithSHA256"),w("1.2.840.113549.2.10","hmacWithSHA384"),w("1.2.840.113549.2.11","hmacWithSHA512"),w("1.2.840.113549.3.7","des-EDE3-CBC"),w("2.16.840.1.101.3.4.1.2","aes128-CBC"),w("2.16.840.1.101.3.4.1.22","aes192-CBC"),w("2.16.840.1.101.3.4.1.42","aes256-CBC"),w("2.5.4.3","commonName"),w("2.5.4.4","surname"),w("2.5.4.5","serialNumber"),w("2.5.4.6","countryName"),w("2.5.4.7","localityName"),w("2.5.4.8","stateOrProvinceName"),w("2.5.4.9","streetAddress"),w("2.5.4.10","organizationName"),w("2.5.4.11","organizationalUnitName"),w("2.5.4.12","title"),w("2.5.4.13","description"),w("2.5.4.15","businessCategory"),w("2.5.4.17","postalCode"),w("2.5.4.42","givenName"),w("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),w("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),w("2.16.840.1.113730.1.1","nsCertType"),w("2.16.840.1.113730.1.13","nsComment"),m("2.5.29.1","authorityKeyIdentifier"),m("2.5.29.2","keyAttributes"),m("2.5.29.3","certificatePolicies"),m("2.5.29.4","keyUsageRestriction"),m("2.5.29.5","policyMapping"),m("2.5.29.6","subtreesConstraint"),m("2.5.29.7","subjectAltName"),m("2.5.29.8","issuerAltName"),m("2.5.29.9","subjectDirectoryAttributes"),m("2.5.29.10","basicConstraints"),m("2.5.29.11","nameConstraints"),m("2.5.29.12","policyConstraints"),m("2.5.29.13","basicConstraints"),w("2.5.29.14","subjectKeyIdentifier"),w("2.5.29.15","keyUsage"),m("2.5.29.16","privateKeyUsagePeriod"),w("2.5.29.17","subjectAltName"),w("2.5.29.18","issuerAltName"),w("2.5.29.19","basicConstraints"),m("2.5.29.20","cRLNumber"),m("2.5.29.21","cRLReason"),m("2.5.29.22","expirationDate"),m("2.5.29.23","instructionCode"),m("2.5.29.24","invalidityDate"),m("2.5.29.25","cRLDistributionPoints"),m("2.5.29.26","issuingDistributionPoint"),m("2.5.29.27","deltaCRLIndicator"),m("2.5.29.28","issuingDistributionPoint"),m("2.5.29.29","certificateIssuer"),m("2.5.29.30","nameConstraints"),w("2.5.29.31","cRLDistributionPoints"),w("2.5.29.32","certificatePolicies"),m("2.5.29.33","policyMappings"),m("2.5.29.34","policyConstraints"),w("2.5.29.35","authorityKeyIdentifier"),m("2.5.29.36","policyConstraints"),w("2.5.29.37","extKeyUsage"),m("2.5.29.46","freshestCRL"),m("2.5.29.54","inhibitAnyPolicy"),w("1.3.6.1.4.1.11129.2.4.2","timestampList"),w("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),w("1.3.6.1.5.5.7.3.1","serverAuth"),w("1.3.6.1.5.5.7.3.2","clientAuth"),w("1.3.6.1.5.5.7.3.3","codeSigning"),w("1.3.6.1.5.5.7.3.4","emailProtection"),w("1.3.6.1.5.5.7.3.8","timeStamping")},2158:(rt,ge,z)=>{var f=z(8659);if(z(1298),z(7791),z(279),z(979),z(6078),z(7949),z(8604),z(8365),z(209),z(5517),z(4747),typeof c>"u")var c=f.jsbn.BigInteger;var w=f.asn1,m=f.pki=f.pki||{};rt.exports=m.pbe=f.pbe=f.pbe||{};var F=m.oids,B={name:"EncryptedPrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},T={name:"PBES2Algorithms",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},A={name:"pkcs-12PbeParams",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"iterations"}]};function x(R,L){return R.start().update(L).digest().getBytes()}function I(R){var L;if(R){if(!(L=m.oids[w.derToOid(R)])){var W=new Error("Unsupported PRF OID.");throw W.oid=R,W.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],W}}else L="hmacWithSHA1";return M(L)}function M(R){var L=f.md;switch(R){case"hmacWithSHA224":L=f.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":R=R.substr(8).toLowerCase();break;default:var W=new Error("Unsupported PRF algorithm.");throw W.algorithm=R,W.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],W}if(!L||!(R in L))throw new Error("Unknown hash algorithm: "+R);return L[R].create()}m.encryptPrivateKeyInfo=function(R,L,W){(W=W||{}).saltSize=W.saltSize||8,W.count=W.count||2048,W.algorithm=W.algorithm||"aes128",W.prfAlgorithm=W.prfAlgorithm||"sha1";var S,_,Q,P=f.random.getBytesSync(W.saltSize),K=W.count,E=w.integerToDer(K);if(0===W.algorithm.indexOf("aes")||"des"===W.algorithm){var j,ie,O;switch(W.algorithm){case"aes128":S=16,j=16,ie=F["aes128-CBC"],O=f.aes.createEncryptionCipher;break;case"aes192":S=24,j=16,ie=F["aes192-CBC"],O=f.aes.createEncryptionCipher;break;case"aes256":S=32,j=16,ie=F["aes256-CBC"],O=f.aes.createEncryptionCipher;break;case"des":S=8,j=8,ie=F.desCBC,O=f.des.createEncryptionCipher;break;default:throw(N=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=W.algorithm,N}var G="hmacWith"+W.prfAlgorithm.toUpperCase(),g=M(G),V=f.pkcs5.pbkdf2(L,P,K,S,g),se=f.random.getBytesSync(j);(ne=O(V)).start(se),ne.update(w.toDer(R)),ne.finish(),Q=ne.output.getBytes();var xe=function J(R,L,W,P){var K=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,R),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,L.getBytes())]);return"hmacWithSHA1"!==P&&K.value.push(w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,f.util.hexToBytes(W.toString(16))),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(m.oids[P]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])),K}(P,E,S,G);_=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(F.pkcs5PBES2).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(F.pkcs5PBKDF2).getBytes()),xe]),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(ie).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,se)])])])}else{var N;if("3des"!==W.algorithm)throw(N=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=W.algorithm,N;S=24;var ne,_e=new f.util.ByteBuffer(P);V=m.pbe.generatePkcs12Key(L,_e,1,K,S),se=m.pbe.generatePkcs12Key(L,_e,2,K,S),(ne=f.des.createEncryptionCipher(V)).start(se),ne.update(w.toDer(R)),ne.finish(),Q=ne.output.getBytes(),_=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(F["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,P),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E.getBytes())])])}return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[_,w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,Q)])},m.decryptPrivateKeyInfo=function(R,L){var W=null,P={},K=[];if(!w.validate(R,B,P,K)){var E=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw E.errors=K,E}var S=w.derToOid(P.encryptionOid),_=m.pbe.getCipher(S,P.encryptionParams,L),Q=f.util.createBuffer(P.encryptedData);return _.update(Q),_.finish()&&(W=w.fromDer(_.output)),W},m.encryptedPrivateKeyToPem=function(R,L){var W={type:"ENCRYPTED PRIVATE KEY",body:w.toDer(R).getBytes()};return f.pem.encode(W,{maxline:L})},m.encryptedPrivateKeyFromPem=function(R){var L=f.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==L.type){var W=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw W.headerType=L.type,W}if(L.procType&&"ENCRYPTED"===L.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return w.fromDer(L.body)},m.encryptRsaPrivateKey=function(R,L,W){if(!(W=W||{}).legacy){var P=m.wrapRsaPrivateKey(m.privateKeyToAsn1(R));return P=m.encryptPrivateKeyInfo(P,L,W),m.encryptedPrivateKeyToPem(P)}var K,E,S,_;switch(W.algorithm){case"aes128":K="AES-128-CBC",S=16,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"aes192":K="AES-192-CBC",S=24,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"aes256":K="AES-256-CBC",S=32,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"3des":K="DES-EDE3-CBC",S=24,E=f.random.getBytesSync(8),_=f.des.createEncryptionCipher;break;case"des":K="DES-CBC",S=8,E=f.random.getBytesSync(8),_=f.des.createEncryptionCipher;break;default:var Q=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+W.algorithm+'".');throw Q.algorithm=W.algorithm,Q}var ie=_(f.pbe.opensslDeriveBytes(L,E.substr(0,8),S));ie.start(E),ie.update(w.toDer(m.privateKeyToAsn1(R))),ie.finish();var O={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:K,parameters:f.util.bytesToHex(E).toUpperCase()},body:ie.output.getBytes()};return f.pem.encode(O)},m.decryptRsaPrivateKey=function(R,L){var W=null,P=f.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==P.type&&"PRIVATE KEY"!==P.type&&"RSA PRIVATE KEY"!==P.type)throw(K=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=K,K;if(P.procType&&"ENCRYPTED"===P.procType.type){var E,S;switch(P.dekInfo.algorithm){case"DES-CBC":E=8,S=f.des.createDecryptionCipher;break;case"DES-EDE3-CBC":E=24,S=f.des.createDecryptionCipher;break;case"AES-128-CBC":E=16,S=f.aes.createDecryptionCipher;break;case"AES-192-CBC":E=24,S=f.aes.createDecryptionCipher;break;case"AES-256-CBC":E=32,S=f.aes.createDecryptionCipher;break;case"RC2-40-CBC":E=5,S=function(O){return f.rc2.createDecryptionCipher(O,40)};break;case"RC2-64-CBC":E=8,S=function(O){return f.rc2.createDecryptionCipher(O,64)};break;case"RC2-128-CBC":E=16,S=function(O){return f.rc2.createDecryptionCipher(O,128)};break;default:var K;throw(K=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".')).algorithm=P.dekInfo.algorithm,K}var _=f.util.hexToBytes(P.dekInfo.parameters),j=S(f.pbe.opensslDeriveBytes(L,_.substr(0,8),E));if(j.start(_),j.update(f.util.createBuffer(P.body)),!j.finish())return W;W=j.output.getBytes()}else W=P.body;return null!==(W="ENCRYPTED PRIVATE KEY"===P.type?m.decryptPrivateKeyInfo(w.fromDer(W),L):w.fromDer(W))&&(W=m.privateKeyFromAsn1(W)),W},m.pbe.generatePkcs12Key=function(R,L,W,P,K,E){var S,_;if(typeof E>"u"||null===E){if(!("sha1"in f.md))throw new Error('"sha1" hash algorithm unavailable.');E=f.md.sha1.create()}var Q=E.digestLength,j=E.blockLength,ie=new f.util.ByteBuffer,O=new f.util.ByteBuffer;if(null!=R){for(_=0;_<R.length;_++)O.putInt16(R.charCodeAt(_));O.putInt16(0)}var N=O.length(),G=L.length(),g=new f.util.ByteBuffer;g.fillWithByte(W,j);var V=j*Math.ceil(G/j),se=new f.util.ByteBuffer;for(_=0;_<V;_++)se.putByte(L.at(_%G));var ne=j*Math.ceil(N/j),xe=new f.util.ByteBuffer;for(_=0;_<ne;_++)xe.putByte(O.at(_%N));var _e=se;_e.putBuffer(xe);for(var Ke=Math.ceil(K/Q),it=1;it<=Ke;it++){var at=new f.util.ByteBuffer;at.putBytes(g.bytes()),at.putBytes(_e.bytes());for(var Le=0;Le<P;Le++)E.start(),E.update(at.getBytes()),at=E.digest();var qe=new f.util.ByteBuffer;for(_=0;_<j;_++)qe.putByte(at.at(_%Q));var ft=Math.ceil(G/j)+Math.ceil(N/j),Je=new f.util.ByteBuffer;for(S=0;S<ft;S++){var Yt=new f.util.ByteBuffer(_e.getBytes(j)),ht=511;for(_=qe.length()-1;_>=0;_--)ht>>=8,ht+=qe.at(_)+Yt.at(_),Yt.setAt(_,255&ht);Je.putBuffer(Yt)}_e=Je,ie.putBuffer(at)}return ie.truncate(ie.length()-K),ie},m.pbe.getCipher=function(R,L,W){switch(R){case m.oids.pkcs5PBES2:return m.pbe.getCipherForPBES2(R,L,W);case m.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case m.oids["pbewithSHAAnd40BitRC2-CBC"]:return m.pbe.getCipherForPKCS12PBE(R,L,W);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=R,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},m.pbe.getCipherForPBES2=function(R,L,W){var E,P={},K=[];if(!w.validate(L,T,P,K))throw(E=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=K,E;if((R=w.derToOid(P.kdfOid))!==m.oids.pkcs5PBKDF2)throw(E=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=R,E.supportedOids=["pkcs5PBKDF2"],E;if((R=w.derToOid(P.encOid))!==m.oids["aes128-CBC"]&&R!==m.oids["aes192-CBC"]&&R!==m.oids["aes256-CBC"]&&R!==m.oids["des-EDE3-CBC"]&&R!==m.oids.desCBC)throw(E=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=R,E.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],E;var Q,j,S=P.kdfSalt,_=f.util.createBuffer(P.kdfIterationCount);switch(_=_.getInt(_.length()<<3),m.oids[R]){case"aes128-CBC":Q=16,j=f.aes.createDecryptionCipher;break;case"aes192-CBC":Q=24,j=f.aes.createDecryptionCipher;break;case"aes256-CBC":Q=32,j=f.aes.createDecryptionCipher;break;case"des-EDE3-CBC":Q=24,j=f.des.createDecryptionCipher;break;case"desCBC":Q=8,j=f.des.createDecryptionCipher}var ie=I(P.prfOid),O=f.pkcs5.pbkdf2(W,S,_,Q,ie),N=P.encIv,G=j(O);return G.start(N),G},m.pbe.getCipherForPKCS12PBE=function(R,L,W){var P={},K=[];if(!w.validate(L,A,P,K))throw(E=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=K,E;var Q,j,ie,S=f.util.createBuffer(P.salt),_=f.util.createBuffer(P.iterations);switch(_=_.getInt(_.length()<<3),R){case m.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:Q=24,j=8,ie=f.des.startDecrypting;break;case m.oids["pbewithSHAAnd40BitRC2-CBC"]:Q=5,j=8,ie=function(V,se){var ne=f.rc2.createDecryptionCipher(V,40);return ne.start(se,null),ne};break;default:var E;throw(E=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=R,E}var O=I(P.prfOid),N=m.pbe.generatePkcs12Key(W,S,1,_,Q,O);return O.start(),ie(N,m.pbe.generatePkcs12Key(W,S,2,_,j,O))},m.pbe.opensslDeriveBytes=function(R,L,W,P){if(typeof P>"u"||null===P){if(!("md5"in f.md))throw new Error('"md5" hash algorithm unavailable.');P=f.md.md5.create()}null===L&&(L="");for(var K=[x(P,R+L)],E=16,S=1;E<W;++S,E+=16)K.push(x(P,K[S-1]+R+L));return K.join("").substr(0,W)}},7949:(rt,ge,z)=>{var f=z(8659);z(9032),z(979),z(4747);var w,c=f.pkcs5=f.pkcs5||{};f.util.isNodejs&&!f.options.usePureJavaScript&&(w=z(5819)),rt.exports=f.pbkdf2=c.pbkdf2=function(m,F,B,T,A,x){if("function"==typeof A&&(x=A,A=null),f.util.isNodejs&&!f.options.usePureJavaScript&&w.pbkdf2&&(null===A||"object"!=typeof A)&&(w.pbkdf2Sync.length>4||!A||"sha1"===A))return"string"!=typeof A&&(A="sha1"),m=Buffer.from(m,"binary"),F=Buffer.from(F,"binary"),x?4===w.pbkdf2Sync.length?w.pbkdf2(m,F,B,T,function(ie,O){if(ie)return x(ie);x(null,O.toString("binary"))}):w.pbkdf2(m,F,B,T,A,function(ie,O){if(ie)return x(ie);x(null,O.toString("binary"))}):4===w.pbkdf2Sync.length?w.pbkdf2Sync(m,F,B,T).toString("binary"):w.pbkdf2Sync(m,F,B,T,A).toString("binary");if((typeof A>"u"||null===A)&&(A="sha1"),"string"==typeof A){if(!(A in f.md.algorithms))throw new Error("Unknown hash algorithm: "+A);A=f.md[A].create()}var I=A.digestLength;if(T>4294967295*I){var M=new Error("Derived key is too long.");if(x)return x(M);throw M}var J=Math.ceil(T/I),R=T-(J-1)*I,L=f.hmac.create();L.start(A,m);var P,K,E,W="";if(!x){for(var S=1;S<=J;++S){L.start(null,null),L.update(F),L.update(f.util.int32ToBytes(S)),P=E=L.digest().getBytes();for(var _=2;_<=B;++_)L.start(null,null),L.update(E),K=L.digest().getBytes(),P=f.util.xorBytes(P,K,I),E=K;W+=S<J?P:P.substr(0,R)}return W}function Q(){if(S>J)return x(null,W);L.start(null,null),L.update(F),L.update(f.util.int32ToBytes(S)),P=E=L.digest().getBytes(),_=2,j()}function j(){if(_<=B)return L.start(null,null),L.update(E),K=L.digest().getBytes(),P=f.util.xorBytes(P,K,I),E=K,++_,f.util.setImmediate(j);W+=S<J?P:P.substr(0,R),++S,Q()}S=1,Q()}},8604:(rt,ge,z)=>{var f=z(8659);z(4747);var c=rt.exports=f.pem=f.pem||{};function w(F){for(var B=F.name+": ",T=[],A=function(R,L){return" "+L},x=0;x<F.values.length;++x)T.push(F.values[x].replace(/^(\S+\r\n)/,A));B+=T.join(",")+"\r\n";var I=0,M=-1;for(x=0;x<B.length;++x,++I)if(I>65&&-1!==M){var J=B[M];","===J?(++M,B=B.substr(0,M)+"\r\n "+B.substr(M)):B=B.substr(0,M)+"\r\n"+J+B.substr(M+1),I=x-M-1,M=-1,++x}else(" "===B[x]||"\t"===B[x]||","===B[x])&&(M=x);return B}function m(F){return F.replace(/^\s+/,"")}c.encode=function(F,B){B=B||{};var A,T="-----BEGIN "+F.type+"-----\r\n";if(F.procType&&(T+=w(A={name:"Proc-Type",values:[String(F.procType.version),F.procType.type]})),F.contentDomain&&(T+=w(A={name:"Content-Domain",values:[F.contentDomain]})),F.dekInfo&&(A={name:"DEK-Info",values:[F.dekInfo.algorithm]},F.dekInfo.parameters&&A.values.push(F.dekInfo.parameters),T+=w(A)),F.headers)for(var x=0;x<F.headers.length;++x)T+=w(F.headers[x]);return F.procType&&(T+="\r\n"),(T+=f.util.encode64(F.body,B.maxline||64)+"\r\n")+"-----END "+F.type+"-----\r\n"},c.decode=function(F){for(var I,B=[],T=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,A=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,x=/\r?\n/;I=T.exec(F);){var M=I[1];"NEW CERTIFICATE REQUEST"===M&&(M="CERTIFICATE REQUEST");var J={type:M,procType:null,contentDomain:null,dekInfo:null,headers:[],body:f.util.decode64(I[3])};if(B.push(J),I[2]){for(var R=I[2].split(x),L=0;I&&L<R.length;){for(var W=R[L].replace(/\s+$/,""),P=L+1;P<R.length;++P){var K=R[P];if(!/\s/.test(K[0]))break;W+=K,L=P}if(I=W.match(A)){for(var E={name:I[1],values:[]},S=I[2].split(","),_=0;_<S.length;++_)E.values.push(m(S[_]));if(J.procType)if(J.contentDomain||"Content-Domain"!==E.name)if(J.dekInfo||"DEK-Info"!==E.name)J.headers.push(E);else{if(0===E.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');J.dekInfo={algorithm:S[0],parameters:S[1]||null}}else J.contentDomain=S[0]||"";else{if("Proc-Type"!==E.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==E.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');J.procType={version:S[0],type:S[1]}}}++L}if("ENCRYPTED"===J.procType&&!J.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===B.length)throw new Error("Invalid PEM formatted message.");return B}},7246:(rt,ge,z)=>{var f=z(8659);z(4747),z(8365),z(7690);var c=rt.exports=f.pkcs1=f.pkcs1||{};function w(m,F,B){B||(B=f.md.sha1.create());for(var T="",A=Math.ceil(F/B.digestLength),x=0;x<A;++x){var I=String.fromCharCode(x>>24&255,x>>16&255,x>>8&255,255&x);B.start(),B.update(m+I),T+=B.digest().getBytes()}return T.substring(0,F)}c.encode_rsa_oaep=function(m,F,B){var T,A,x,I;"string"==typeof B?(T=B,A=arguments[3]||void 0,x=arguments[4]||void 0):B&&(T=B.label||void 0,A=B.seed||void 0,x=B.md||void 0,B.mgf1&&B.mgf1.md&&(I=B.mgf1.md)),x?x.start():x=f.md.sha1.create(),I||(I=x);var M=Math.ceil(m.n.bitLength()/8),J=M-2*x.digestLength-2;if(F.length>J)throw(R=new Error("RSAES-OAEP input message length is too long.")).length=F.length,R.maxLength=J,R;T||(T=""),x.update(T,"raw");for(var L=x.digest(),W="",P=J-F.length,K=0;K<P;K++)W+="\0";var E=L.getBytes()+W+"\x01"+F;if(A){if(A.length!==x.digestLength){var R;throw(R=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=A.length,R.digestLength=x.digestLength,R}}else A=f.random.getBytes(x.digestLength);var S=w(A,M-x.digestLength-1,I),_=f.util.xorBytes(E,S,E.length),Q=w(_,x.digestLength,I),j=f.util.xorBytes(A,Q,A.length);return"\0"+j+_},c.decode_rsa_oaep=function(m,F,B){var T,A,x;"string"==typeof B?(T=B,A=arguments[3]||void 0):B&&(T=B.label||void 0,A=B.md||void 0,B.mgf1&&B.mgf1.md&&(x=B.mgf1.md));var I=Math.ceil(m.n.bitLength()/8);if(F.length!==I)throw(_=new Error("RSAES-OAEP encoded message length is invalid.")).length=F.length,_.expectedLength=I,_;if(void 0===A?A=f.md.sha1.create():A.start(),x||(x=A),I<2*A.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");T||(T=""),A.update(T,"raw");for(var M=A.digest().getBytes(),J=F.charAt(0),R=F.substring(1,A.digestLength+1),L=F.substring(1+A.digestLength),W=w(L,A.digestLength,x),P=f.util.xorBytes(R,W,R.length),K=w(P,I-A.digestLength-1,x),E=f.util.xorBytes(L,K,L.length),S=E.substring(0,A.digestLength),_="\0"!==J,Q=0;Q<A.digestLength;++Q)_|=M.charAt(Q)!==S.charAt(Q);for(var j=1,ie=A.digestLength,O=A.digestLength;O<E.length;O++){var N=E.charCodeAt(O),G=1&N^1,g=j?65534:0;_|=N&g,ie+=j&=G}if(_||1!==E.charCodeAt(ie))throw new Error("Invalid RSAES-OAEP padding.");return E.substring(ie+1)}},562:(rt,ge,z)=>{var f=z(8659);z(7791),z(9032),z(6078),z(4957),z(2158),z(8365),z(5517),z(7690),z(4747),z(5911);var c=f.asn1,w=f.pki,m=rt.exports=f.pkcs12=f.pkcs12||{},F={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},B={name:"PFX",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},F,{name:"PFX.macData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},T={name:"SafeBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},A={name:"Attribute",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,capture:"values"}]},x={name:"CertBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:c.Class.UNIVERSAL,type:c.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function I(P,K,E,S){for(var _=[],Q=0;Q<P.length;Q++)for(var j=0;j<P[Q].safeBags.length;j++){var ie=P[Q].safeBags[j];if(void 0===S||ie.type===S){if(null===K){_.push(ie);continue}void 0!==ie.attributes[K]&&ie.attributes[K].indexOf(E)>=0&&_.push(ie)}}return _}function M(P){if(P.composed||P.constructed){for(var K=f.util.createBuffer(),E=0;E<P.value.length;++E)K.putBytes(P.value[E].value);P.composed=P.constructed=!1,P.value=K.getBytes()}return P}function R(P,K){var E={},S=[];if(!c.validate(P,f.pkcs7.asn1.encryptedDataValidator,E,S))throw(_=new Error("Cannot read EncryptedContentInfo.")).errors=S,_;var _,Q=c.derToOid(E.contentType);if(Q!==w.oids.data)throw(_=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=Q,_;Q=c.derToOid(E.encAlgorithm);var j=w.pbe.getCipher(Q,E.encParameter,K),ie=M(E.encryptedContentAsn1),O=f.util.createBuffer(ie.value);if(j.update(O),!j.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return j.output.getBytes()}function L(P,K,E){if(!K&&0===P.length)return[];if((P=c.fromDer(P,K)).tagClass!==c.Class.UNIVERSAL||P.type!==c.Type.SEQUENCE||!0!==P.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var S=[],_=0;_<P.value.length;_++){var j={},ie=[];if(!c.validate(P.value[_],T,j,ie))throw(O=new Error("Cannot read SafeBag.")).errors=ie,O;var N={type:c.derToOid(j.bagId),attributes:W(j.bagAttributes)};S.push(N);var G,g,V=j.bagValue.value[0];switch(N.type){case w.oids.pkcs8ShroudedKeyBag:if(null===(V=w.decryptPrivateKeyInfo(V,E)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case w.oids.keyBag:try{N.key=w.privateKeyFromAsn1(V)}catch{N.key=null,N.asn1=V}continue;case w.oids.certBag:G=x,g=function(){if(c.derToOid(j.certId)!==w.oids.x509Certificate){var ne=new Error("Unsupported certificate type, only X.509 supported.");throw ne.oid=c.derToOid(j.certId),ne}var xe=c.fromDer(j.cert,K);try{N.cert=w.certificateFromAsn1(xe,!0)}catch{N.cert=null,N.asn1=xe}};break;default:var O;throw(O=new Error("Unsupported PKCS#12 SafeBag type.")).oid=N.type,O}if(void 0!==G&&!c.validate(V,G,j,ie))throw(O=new Error("Cannot read PKCS#12 "+G.name)).errors=ie,O;g()}return S}function W(P){var K={};if(void 0!==P)for(var E=0;E<P.length;++E){var S={},_=[];if(!c.validate(P[E],A,S,_)){var Q=new Error("Cannot read PKCS#12 BagAttribute.");throw Q.errors=_,Q}var j=c.derToOid(S.oid);if(void 0!==w.oids[j]){K[w.oids[j]]=[];for(var ie=0;ie<S.values.length;++ie)K[w.oids[j]].push(S.values[ie].value)}}return K}m.pkcs12FromAsn1=function(P,K,E){"string"==typeof K?(E=K,K=!0):void 0===K&&(K=!0);var S={};if(!c.validate(P,B,S,[]))throw(Q=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=Q,Q;var Q,j={version:S.version.charCodeAt(0),safeContents:[],getBags:function(_e){var it,Ke={};return"localKeyId"in _e?it=_e.localKeyId:"localKeyIdHex"in _e&&(it=f.util.hexToBytes(_e.localKeyIdHex)),void 0===it&&!("friendlyName"in _e)&&"bagType"in _e&&(Ke[_e.bagType]=I(j.safeContents,null,null,_e.bagType)),void 0!==it&&(Ke.localKeyId=I(j.safeContents,"localKeyId",it,_e.bagType)),"friendlyName"in _e&&(Ke.friendlyName=I(j.safeContents,"friendlyName",_e.friendlyName,_e.bagType)),Ke},getBagsByFriendlyName:function(_e,Ke){return I(j.safeContents,"friendlyName",_e,Ke)},getBagsByLocalKeyId:function(_e,Ke){return I(j.safeContents,"localKeyId",_e,Ke)}};if(3!==S.version.charCodeAt(0))throw(Q=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=S.version.charCodeAt(0),Q;if(c.derToOid(S.contentType)!==w.oids.data)throw(Q=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=c.derToOid(S.contentType),Q;var ie=S.content.value[0];if(ie.tagClass!==c.Class.UNIVERSAL||ie.type!==c.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(ie=M(ie),S.mac){var O=null,N=0,G=c.derToOid(S.macAlgorithm);switch(G){case w.oids.sha1:O=f.md.sha1.create(),N=20;break;case w.oids.sha256:O=f.md.sha256.create(),N=32;break;case w.oids.sha384:O=f.md.sha384.create(),N=48;break;case w.oids.sha512:O=f.md.sha512.create(),N=64;break;case w.oids.md5:O=f.md.md5.create(),N=16}if(null===O)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+G);var g=new f.util.ByteBuffer(S.macSalt),V="macIterations"in S?parseInt(f.util.bytesToHex(S.macIterations),16):1,se=m.generateKey(E,g,3,V,N,O),ne=f.hmac.create();if(ne.start(O,se),ne.update(ie.value),ne.getMac().getBytes()!==S.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function J(P,K,E,S){if((K=c.fromDer(K,E)).tagClass!==c.Class.UNIVERSAL||K.type!==c.Type.SEQUENCE||!0!==K.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var _=0;_<K.value.length;_++){var j={},ie=[];if(!c.validate(K.value[_],F,j,ie))throw(O=new Error("Cannot read ContentInfo.")).errors=ie,O;var N={encrypted:!1},G=null,g=j.content.value[0];switch(c.derToOid(j.contentType)){case w.oids.data:if(g.tagClass!==c.Class.UNIVERSAL||g.type!==c.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");G=M(g).value;break;case w.oids.encryptedData:G=R(g,S),N.encrypted=!0;break;default:var O;throw(O=new Error("Unsupported PKCS#12 contentType.")).contentType=c.derToOid(j.contentType),O}N.safeBags=L(G,E,S),P.safeContents.push(N)}}(j,ie.value,K,E),j},m.toPkcs12Asn1=function(P,K,E,S){(S=S||{}).saltSize=S.saltSize||8,S.count=S.count||2048,S.algorithm=S.algorithm||S.encAlgorithm||"aes128","useMac"in S||(S.useMac=!0),"localKeyId"in S||(S.localKeyId=null),"generateLocalKeyId"in S||(S.generateLocalKeyId=!0);var Q,_=S.localKeyId;if(null!==_)_=f.util.hexToBytes(_);else if(S.generateLocalKeyId)if(K){var j=f.util.isArray(K)?K[0]:K;"string"==typeof j&&(j=w.certificateFromPem(j)),(ie=f.md.sha1.create()).update(c.toDer(w.certificateToAsn1(j)).getBytes()),_=ie.digest().getBytes()}else _=f.random.getBytes(20);var O=[];null!==_&&O.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.localKeyId).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_)])])),"friendlyName"in S&&O.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.friendlyName).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.BMPSTRING,!1,S.friendlyName)])])),O.length>0&&(Q=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,O));var N=[],G=[];null!==K&&(G=f.util.isArray(K)?K:[K]);for(var g=[],V=0;V<G.length;++V){"string"==typeof(K=G[V])&&(K=w.certificateFromPem(K));var se=0===V?Q:void 0,ne=w.certificateToAsn1(K),xe=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.certBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.x509Certificate).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(ne).getBytes())])])]),se]);g.push(xe)}if(g.length>0){var _e=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,g),Ke=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(_e).getBytes())])]);N.push(Ke)}var it=null;if(null!==P){var at=w.wrapRsaPrivateKey(w.privateKeyToAsn1(P));it=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,null===E?[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.keyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[at]),Q]:[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.pkcs8ShroudedKeyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[w.encryptPrivateKeyInfo(at,E,S)]),Q]);var Le=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[it]),qe=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(Le).getBytes())])]);N.push(qe)}var Je,ft=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,N);if(S.useMac){var ie=f.md.sha1.create(),Yt=new f.util.ByteBuffer(f.random.getBytes(S.saltSize)),ht=S.count,dr=(P=m.generateKey(E,Yt,3,ht,20),f.hmac.create());dr.start(ie,P),dr.update(c.toDer(ft).getBytes());var Mt=dr.getMac();Je=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.sha1).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,Mt.getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,Yt.getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(ht).getBytes())])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(3).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(ft).getBytes())])]),Je])},m.generateKey=f.pbe.generatePkcs12Key},422:(rt,ge,z)=>{var f=z(8659);z(1298),z(7791),z(279),z(6078),z(8604),z(4957),z(8365),z(4747),z(5911);var c=f.asn1,w=rt.exports=f.pkcs7=f.pkcs7||{};function m(P){var K={},E=[];if(!c.validate(P,w.asn1.recipientInfoValidator,K,E)){var S=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw S.errors=E,S}return{version:K.version.charCodeAt(0),issuer:f.pki.RDNAttributesAsArray(K.issuer),serialNumber:f.util.createBuffer(K.serial).toHex(),encryptedContent:{algorithm:c.derToOid(K.encAlgorithm),parameter:K.encParameter?K.encParameter.value:void 0,content:K.encKey}}}function F(P){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:P.issuer}),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(P.serialNumber))]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.encryptedContent.algorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.encryptedContent.content)])}function T(P){for(var K=[],E=0;E<P.length;++E)K.push(F(P[E]));return K}function x(P){var K=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:P.issuer}),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(P.serialNumber))]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.digestAlgorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])]);if(P.authenticatedAttributesAsn1&&K.value.push(P.authenticatedAttributesAsn1),K.value.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.signatureAlgorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])),K.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.signature)),P.unauthenticatedAttributes.length>0){for(var E=c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<P.unauthenticatedAttributes.length;++S)E.values.push(J(P.unauthenticatedAttributes[S]));K.value.push(E)}return K}function J(P){var K;if(P.type===f.pki.oids.contentType)K=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.value).getBytes());else if(P.type===f.pki.oids.messageDigest)K=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.value.bytes());else if(P.type===f.pki.oids.signingTime){var E=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z"),_=P.value;if("string"==typeof _){var Q=Date.parse(_);_=isNaN(Q)?13===_.length?c.utcTimeToDate(_):c.generalizedTimeToDate(_):new Date(Q)}K=_>=E&&_<S?c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(_)):c.create(c.Class.UNIVERSAL,c.Type.GENERALIZEDTIME,!1,c.dateToGeneralizedTime(_))}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[K])])}function R(P){return[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.pki.oids.data).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.algorithm).getBytes()),P.parameter?c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.parameter.getBytes()):void 0]),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.content.getBytes())])]}function L(P,K,E){var S={};if(!c.validate(K,E,S,[])){var Q=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw Q.errors=Q,Q}if(c.derToOid(S.contentType)!==f.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(S.encryptedContent){var ie="";if(f.util.isArray(S.encryptedContent))for(var O=0;O<S.encryptedContent.length;++O){if(S.encryptedContent[O].type!==c.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");ie+=S.encryptedContent[O].value}else ie=S.encryptedContent;P.encryptedContent={algorithm:c.derToOid(S.encAlgorithm),parameter:f.util.createBuffer(S.encParameter.value),content:f.util.createBuffer(ie)}}if(S.content){if(ie="",f.util.isArray(S.content))for(O=0;O<S.content.length;++O){if(S.content[O].type!==c.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");ie+=S.content[O].value}else ie=S.content;P.content=f.util.createBuffer(ie)}return P.version=S.version.charCodeAt(0),P.rawCapture=S,S}function W(P){if(void 0===P.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===P.content){var K;switch(P.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:case f.pki.oids["aes192-CBC"]:case f.pki.oids["aes256-CBC"]:K=f.aes.createDecryptionCipher(P.encryptedContent.key);break;case f.pki.oids.desCBC:case f.pki.oids["des-EDE3-CBC"]:K=f.des.createDecryptionCipher(P.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+P.encryptedContent.algorithm)}if(K.start(P.encryptedContent.parameter),K.update(P.encryptedContent.content),!K.finish())throw new Error("Symmetric decryption failed.");P.content=K.output}}w.messageFromPem=function(P){var K=f.pem.decode(P)[0];if("PKCS7"!==K.type){var E=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw E.headerType=K.type,E}if(K.procType&&"ENCRYPTED"===K.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var S=c.fromDer(K.body);return w.messageFromAsn1(S)},w.messageToPem=function(P,K){var E={type:"PKCS7",body:c.toDer(P.toAsn1()).getBytes()};return f.pem.encode(E,{maxline:K})},w.messageFromAsn1=function(P){var K={},E=[];if(!c.validate(P,w.asn1.contentInfoValidator,K,E)){var S=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw S.errors=E,S}var Q,_=c.derToOid(K.contentType);switch(_){case f.pki.oids.envelopedData:Q=w.createEnvelopedData();break;case f.pki.oids.encryptedData:Q=w.createEncryptedData();break;case f.pki.oids.signedData:Q=w.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+_+" is not (yet) supported.")}return Q.fromAsn1(K.content.value[0]),Q},w.createSignedData=function(){var P=null;return P={type:f.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(S){if(L(P,S,w.asn1.signedDataValidator),P.certificates=[],P.crls=[],P.digestAlgorithmIdentifiers=[],P.contentInfo=null,P.signerInfos=[],P.rawCapture.certificates)for(var _=P.rawCapture.certificates.value,Q=0;Q<_.length;++Q)P.certificates.push(f.pki.certificateFromAsn1(_[Q]))},toAsn1:function(){P.contentInfo||P.sign();for(var S=[],_=0;_<P.certificates.length;++_)S.push(f.pki.certificateToAsn1(P.certificates[_]));var Q=[],j=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,P.digestAlgorithmIdentifiers),P.contentInfo])]);return S.length>0&&j.value[0].value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,S)),Q.length>0&&j.value[0].value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,Q)),j.value[0].value.push(c.create(c.Class.UNIVERSAL,c.Type.SET,!0,P.signerInfos)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),j])},addSigner:function(S){var _=S.issuer,Q=S.serialNumber;if(S.certificate){var j=S.certificate;"string"==typeof j&&(j=f.pki.certificateFromPem(j)),_=j.issuer.attributes,Q=j.serialNumber}var ie=S.key;if(!ie)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof ie&&(ie=f.pki.privateKeyFromPem(ie));var O=S.digestAlgorithm||f.pki.oids.sha1;switch(O){case f.pki.oids.sha1:case f.pki.oids.sha256:case f.pki.oids.sha384:case f.pki.oids.sha512:case f.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+O)}var N=S.authenticatedAttributes||[];if(N.length>0){for(var G=!1,g=!1,V=0;V<N.length;++V){var se=N[V];if(G||se.type!==f.pki.oids.contentType){if(g||se.type!==f.pki.oids.messageDigest);else if(g=!0,G)break}else if(G=!0,g)break}if(!G||!g)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}P.signers.push({key:ie,version:1,issuer:_,serialNumber:Q,digestAlgorithm:O,signatureAlgorithm:f.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:N,unauthenticatedAttributes:[]})},sign:function(S){var _;if(S=S||{},"object"==typeof P.content&&null!==P.contentInfo||(P.contentInfo=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.pki.oids.data).getBytes())]),!("content"in P))||(P.content instanceof f.util.ByteBuffer?_=P.content.bytes():"string"==typeof P.content&&(_=f.util.encodeUtf8(P.content)),S.detached?P.detachedContent=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_):P.contentInfo.value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_)]))),0!==P.signers.length){var Q=function K(){for(var S={},_=0;_<P.signers.length;++_){var Q=P.signers[_];(j=Q.digestAlgorithm)in S||(S[j]=f.md[f.pki.oids[j]].create()),Q.md=0===Q.authenticatedAttributes.length?S[j]:f.md[f.pki.oids[j]].create()}for(var j in P.digestAlgorithmIdentifiers=[],S)P.digestAlgorithmIdentifiers.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(j).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]));return S}();!function E(S){var _;if(!(_=P.detachedContent?P.detachedContent:(_=P.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var Q=c.derToOid(P.contentInfo.value[0].value),j=c.toDer(_);for(var ie in j.getByte(),c.getBerValueLength(j),j=j.getBytes(),S)S[ie].start().update(j);for(var O=new Date,N=0;N<P.signers.length;++N){var G=P.signers[N];if(0===G.authenticatedAttributes.length){if(Q!==f.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{G.authenticatedAttributesAsn1=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var g=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[]),V=0;V<G.authenticatedAttributes.length;++V){var se=G.authenticatedAttributes[V];se.type===f.pki.oids.messageDigest?se.value=S[G.digestAlgorithm].digest():se.type===f.pki.oids.signingTime&&(se.value||(se.value=O)),g.value.push(J(se)),G.authenticatedAttributesAsn1.value.push(J(se))}j=c.toDer(g).getBytes(),G.md.start().update(j)}G.signature=G.key.sign(G.md,"RSASSA-PKCS1-V1_5")}P.signerInfos=function M(P){for(var K=[],E=0;E<P.length;++E)K.push(x(P[E]));return K}(P.signers)}(Q)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(S){"string"==typeof S&&(S=f.pki.certificateFromPem(S)),P.certificates.push(S)},addCertificateRevokationList:function(S){throw new Error("PKCS#7 CRL support not yet implemented.")}}},w.createEncryptedData=function(){var P=null;return P={type:f.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(K){L(P,K,w.asn1.encryptedDataValidator)},decrypt:function(K){void 0!==K&&(P.encryptedContent.key=K),W(P)}}},w.createEnvelopedData=function(){var P=null;return P={type:f.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(K){var E=L(P,K,w.asn1.envelopedDataValidator);P.recipients=function B(P){for(var K=[],E=0;E<P.length;++E)K.push(m(P[E]));return K}(E.recipientInfos.value)},toAsn1:function(){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,T(P.recipients)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,R(P.encryptedContent))])])])},findRecipient:function(K){for(var E=K.issuer.attributes,S=0;S<P.recipients.length;++S){var _=P.recipients[S],Q=_.issuer;if(_.serialNumber===K.serialNumber&&Q.length===E.length){for(var j=!0,ie=0;ie<E.length;++ie)if(Q[ie].type!==E[ie].type||Q[ie].value!==E[ie].value){j=!1;break}if(j)return _}}return null},decrypt:function(K,E){if(void 0===P.encryptedContent.key&&void 0!==K&&void 0!==E)switch(K.encryptedContent.algorithm){case f.pki.oids.rsaEncryption:case f.pki.oids.desCBC:var S=E.decrypt(K.encryptedContent.content);P.encryptedContent.key=f.util.createBuffer(S);break;default:throw new Error("Unsupported asymmetric cipher, OID "+K.encryptedContent.algorithm)}W(P)},addRecipient:function(K){P.recipients.push({version:0,issuer:K.issuer.attributes,serialNumber:K.serialNumber,encryptedContent:{algorithm:f.pki.oids.rsaEncryption,key:K.publicKey}})},encrypt:function(K,E){if(void 0===P.encryptedContent.content){var S,_,Q;switch(K=K||P.encryptedContent.key,E=E||P.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:S=16,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["aes192-CBC"]:S=24,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["aes256-CBC"]:S=32,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["des-EDE3-CBC"]:S=24,_=8,Q=f.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+E)}if(void 0===K)K=f.util.createBuffer(f.random.getBytes(S));else if(K.length()!=S)throw new Error("Symmetric key has wrong length; got "+K.length()+" bytes, expected "+S+".");P.encryptedContent.algorithm=E,P.encryptedContent.key=K,P.encryptedContent.parameter=f.util.createBuffer(f.random.getBytes(_));var j=Q(K);if(j.start(P.encryptedContent.parameter.copy()),j.update(P.content),!j.finish())throw new Error("Symmetric encryption failed.");P.encryptedContent.content=j.output}for(var ie=0;ie<P.recipients.length;++ie){var O=P.recipients[ie];if(void 0===O.encryptedContent.content){if(O.encryptedContent.algorithm!==f.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+O.encryptedContent.algorithm);O.encryptedContent.content=O.encryptedContent.key.encrypt(P.encryptedContent.key.data)}}}}}},4957:(rt,ge,z)=>{var f=z(8659);z(7791),z(4747);var c=f.asn1,w=rt.exports=f.pkcs7asn1=f.pkcs7asn1||{};f.pkcs7=f.pkcs7||{},f.pkcs7.asn1=w;var m={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};w.contentInfoValidator=m;var F={name:"EncryptedContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};w.envelopedDataValidator={name:"EnvelopedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(F)},w.encryptedDataValidator={name:"EncryptedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"}].concat(F)},w.signedDataValidator={name:"SignedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},m,{name:"SignedData.Certificates",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},w.recipientInfoValidator={name:"RecipientInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},1965:(rt,ge,z)=>{var f=z(8659);z(7791),z(6078),z(2158),z(8604),z(7949),z(562),z(7256),z(5517),z(4747),z(5911);var c=f.asn1,w=rt.exports=f.pki=f.pki||{};w.pemToDer=function(m){var F=f.pem.decode(m)[0];if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return f.util.createBuffer(F.body)},w.privateKeyFromPem=function(m){var F=f.pem.decode(m)[0];if("PRIVATE KEY"!==F.type&&"RSA PRIVATE KEY"!==F.type){var B=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw B.headerType=F.type,B}if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var T=c.fromDer(F.body);return w.privateKeyFromAsn1(T)},w.privateKeyToPem=function(m,F){var B={type:"RSA PRIVATE KEY",body:c.toDer(w.privateKeyToAsn1(m)).getBytes()};return f.pem.encode(B,{maxline:F})},w.privateKeyInfoToPem=function(m,F){var B={type:"PRIVATE KEY",body:c.toDer(m).getBytes()};return f.pem.encode(B,{maxline:F})}},9709:(rt,ge,z)=>{var f=z(8659);z(4747),z(730),z(8365),function(){if(f.prime)rt.exports=f.prime;else{var c=rt.exports=f.prime=f.prime||{},w=f.jsbn.BigInteger,m=[6,4,2,4,2,4,6,2],F=new w(null);F.fromInt(30);var B=function(R,L){return R|L};c.generateProbablePrime=function(R,L,W){"function"==typeof L&&(W=L,L={});var P=(L=L||{}).algorithm||"PRIMEINC";"string"==typeof P&&(P={name:P}),P.options=P.options||{};var K=L.prng||f.random;if("PRIMEINC"===P.name)return function T(R,L,W,P){return"workers"in W?function I(R,L,W,P){if(typeof Worker>"u")return A(R,L,W,P);var K=M(R,L),E=W.workers,S=W.workLoad||100,_=30*S/8,Q=W.workerScript||"forge/prime.worker.js";if(-1===E)return f.util.estimateCores(function(ie,O){ie&&(O=2),E=O-1,j()});function j(){E=Math.max(1,E);for(var ie=[],O=0;O<E;++O)ie[O]=new Worker(Q);for(O=0;O<E;++O)ie[O].addEventListener("message",g);var G=!1;function g(V){if(!G){var se=V.data;if(se.found){for(var ne=0;ne<ie.length;++ne)ie[ne].terminate();return G=!0,P(null,new w(se.prime,16))}K.bitLength()>R&&(K=M(R,L));var xe=K.toString(16);V.target.postMessage({hex:xe,workLoad:S}),K.dAddOffset(_,0)}}}j()}(R,L,W,P):A(R,L,W,P)}(R,{nextBytes:function(S){for(var _=K.getBytesSync(S.length),Q=0;Q<S.length;++Q)S[Q]=_.charCodeAt(Q)}},P.options,W);throw new Error("Invalid prime generation algorithm: "+P.name)}}function A(R,L,W,P){var K=M(R,L),S=function J(R){return R<=100?27:R<=150?18:R<=200?15:R<=250?12:R<=300?9:R<=350?8:R<=400?7:R<=500?6:R<=600?5:R<=800?4:R<=1250?3:2}(K.bitLength());"millerRabinTests"in W&&(S=W.millerRabinTests);var _=10;"maxBlockTime"in W&&(_=W.maxBlockTime),x(K,R,L,0,S,_,P)}function x(R,L,W,P,K,E,S){var _=+new Date;do{if(R.bitLength()>L&&(R=M(L,W)),R.isProbablePrime(K))return S(null,R);R.dAddOffset(m[P++%8],0)}while(E<0||+new Date-_<E);f.util.setImmediate(function(){x(R,L,W,P,K,E,S)})}function M(R,L){var W=new w(R,L),P=R-1;return W.testBit(P)||W.bitwiseTo(w.ONE.shiftLeft(P),B,W),W.dAddOffset(31-W.mod(F).byteValue(),0),W}}()},4473:(rt,ge,z)=>{var f=z(8659);z(4747);var c=null;f.util.isNodejs&&!f.options.usePureJavaScript&&!process.versions["node-webkit"]&&(c=z(5819)),(rt.exports=f.prng=f.prng||{}).create=function(m){for(var F={plugin:m,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},B=m.md,T=new Array(32),A=0;A<32;++A)T[A]=B.create();function I(){if(F.pools[0].messageLength>=32)return M();F.collect(F.seedFileSync(32-F.pools[0].messageLength<<5)),M()}function M(){F.reseeds=4294967295===F.reseeds?0:F.reseeds+1;var R=F.plugin.md.create();R.update(F.keyBytes);for(var L=1,W=0;W<32;++W)F.reseeds%L==0&&(R.update(F.pools[W].digest().getBytes()),F.pools[W].start()),L<<=1;F.keyBytes=R.digest().getBytes(),R.start(),R.update(F.keyBytes);var P=R.digest().getBytes();F.key=F.plugin.formatKey(F.keyBytes),F.seed=F.plugin.formatSeed(P),F.generated=0}function J(R){var L=null,W=f.util.globalScope,P=W.crypto||W.msCrypto;P&&P.getRandomValues&&(L=function(N){return P.getRandomValues(N)});var K=f.util.createBuffer();if(L)for(;K.length()<R;){var E=Math.max(1,Math.min(R-K.length(),65536)/4),S=new Uint32Array(Math.floor(E));try{L(S);for(var _=0;_<S.length;++_)K.putInt32(S[_])}catch(N){if(!(typeof QuotaExceededError<"u"&&N instanceof QuotaExceededError))throw N}}if(K.length()<R)for(var Q,j,ie,O=Math.floor(65536*Math.random());K.length()<R;)for(j=16807*(65535&O),j+=(32767&(Q=16807*(O>>16)))<<16,O=4294967295&(j=(2147483647&(j+=Q>>15))+(j>>31)),_=0;_<3;++_)ie=O>>>(_<<3),ie^=Math.floor(256*Math.random()),K.putByte(255&ie);return K.getBytes(R)}return F.pools=T,F.pool=0,F.generate=function(R,L){if(!L)return F.generateSync(R);var W=F.plugin.cipher,P=F.plugin.increment,K=F.plugin.formatKey,E=F.plugin.formatSeed,S=f.util.createBuffer();F.key=null,function _(Q){if(Q)return L(Q);if(S.length()>=R)return L(null,S.getBytes(R));if(F.generated>1048575&&(F.key=null),null===F.key)return f.util.nextTick(function(){!function x(R){if(F.pools[0].messageLength>=32)return M(),R();F.seedFile(32-F.pools[0].messageLength<<5,function(W,P){if(W)return R(W);F.collect(P),M(),R()})}(_)});var j=W(F.key,F.seed);F.generated+=j.length,S.putBytes(j),F.key=K(W(F.key,P(F.seed))),F.seed=E(W(F.key,F.seed)),f.util.setImmediate(_)}()},F.generateSync=function(R){var L=F.plugin.cipher,W=F.plugin.increment,P=F.plugin.formatKey,K=F.plugin.formatSeed;F.key=null;for(var E=f.util.createBuffer();E.length()<R;){F.generated>1048575&&(F.key=null),null===F.key&&I();var S=L(F.key,F.seed);F.generated+=S.length,E.putBytes(S),F.key=P(L(F.key,W(F.seed))),F.seed=K(L(F.key,F.seed))}return E.getBytes(R)},c?(F.seedFile=function(R,L){c.randomBytes(R,function(W,P){if(W)return L(W);L(null,P.toString())})},F.seedFileSync=function(R){return c.randomBytes(R).toString()}):(F.seedFile=function(R,L){try{L(null,J(R))}catch(W){L(W)}},F.seedFileSync=J),F.collect=function(R){for(var L=R.length,W=0;W<L;++W)F.pools[F.pool].update(R.substr(W,1)),F.pool=31===F.pool?0:F.pool+1},F.collectInt=function(R,L){for(var W="",P=0;P<L;P+=8)W+=String.fromCharCode(R>>P&255);F.collect(W)},F.registerWorker=function(R){R===self?F.seedFile=function(W,P){self.addEventListener("message",function K(E){var S=E.data;S.forge&&S.forge.prng&&(self.removeEventListener("message",K),P(S.forge.prng.err,S.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:W}}})}:R.addEventListener("message",function(W){var P=W.data;P.forge&&P.forge.prng&&F.seedFile(P.forge.prng.needed,function(K,E){R.postMessage({forge:{prng:{err:K,bytes:E}}})})})},F}},7256:(rt,ge,z)=>{var f=z(8659);z(8365),z(4747),(rt.exports=f.pss=f.pss||{}).create=function(w){3===arguments.length&&(w={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var A,m=w.md,F=w.mgf,B=m.digestLength,T=w.salt||null;if("string"==typeof T&&(T=f.util.createBuffer(T)),"saltLength"in w)A=w.saltLength;else{if(null===T)throw new Error("Salt length not specified or specific salt not given.");A=T.length()}if(null!==T&&T.length()!==A)throw new Error("Given salt length does not match length of given salt.");var x=w.prng||f.random,I={encode:function(M,J){var R,K,L=J-1,W=Math.ceil(L/8),P=M.digest().getBytes();if(W<B+A+2)throw new Error("Message is too long to encrypt.");K=null===T?x.getBytesSync(A):T.bytes();var E=new f.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(P),E.putBytes(K),m.start(),m.update(E.getBytes());var S=m.digest().getBytes(),_=new f.util.ByteBuffer;_.fillWithByte(0,W-A-B-2),_.putByte(1),_.putBytes(K);var Q=_.getBytes(),j=W-B-1,ie=F.generate(S,j),O="";for(R=0;R<j;R++)O+=String.fromCharCode(Q.charCodeAt(R)^ie.charCodeAt(R));var N=65280>>8*W-L&255;return(O=String.fromCharCode(O.charCodeAt(0)&~N)+O.substr(1))+S+String.fromCharCode(188)},verify:function(M,J,R){var L,W=R-1,P=Math.ceil(W/8);if(J=J.substr(-P),P<B+A+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==J.charCodeAt(P-1))throw new Error("Encoded message does not end in 0xBC.");var K=P-B-1,E=J.substr(0,K),S=J.substr(K,B),_=65280>>8*P-W&255;if(0!=(E.charCodeAt(0)&_))throw new Error("Bits beyond keysize not zero as expected.");var Q=F.generate(S,K),j="";for(L=0;L<K;L++)j+=String.fromCharCode(E.charCodeAt(L)^Q.charCodeAt(L));j=String.fromCharCode(j.charCodeAt(0)&~_)+j.substr(1);var ie=P-B-A-2;for(L=0;L<ie;L++)if(0!==j.charCodeAt(L))throw new Error("Leftmost octets not zero as expected");if(1!==j.charCodeAt(ie))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var O=j.substr(-A),N=new f.util.ByteBuffer;return N.fillWithByte(0,8),N.putBytes(M),N.putBytes(O),m.start(),m.update(N.getBytes()),S===m.digest().getBytes()}};return I}},8365:(rt,ge,z)=>{var f=z(8659);z(1298),z(1594),z(4473),z(4747),f.random&&f.random.getBytes?rt.exports=f.random:function(c){var w={},m=new Array(4),F=f.util.createBuffer();function B(){var R=f.prng.create(w);return R.getBytes=function(L,W){return R.generate(L,W)},R.getBytesSync=function(L){return R.generate(L)},R}w.formatKey=function(R){var L=f.util.createBuffer(R);return(R=new Array(4))[0]=L.getInt32(),R[1]=L.getInt32(),R[2]=L.getInt32(),R[3]=L.getInt32(),f.aes._expandKey(R,!1)},w.formatSeed=function(R){var L=f.util.createBuffer(R);return(R=new Array(4))[0]=L.getInt32(),R[1]=L.getInt32(),R[2]=L.getInt32(),R[3]=L.getInt32(),R},w.cipher=function(R,L){return f.aes._updateBlock(R,L,m,!1),F.putInt32(m[0]),F.putInt32(m[1]),F.putInt32(m[2]),F.putInt32(m[3]),F.getBytes()},w.increment=function(R){return++R[3],R},w.md=f.md.sha256;var T=B(),A=null,x=f.util.globalScope,I=x.crypto||x.msCrypto;if(I&&I.getRandomValues&&(A=function(R){return I.getRandomValues(R)}),f.options.usePureJavaScript||!f.util.isNodejs&&!A){if(typeof window>"u"||window,T.collectInt(+new Date,32),typeof navigator<"u"){var M="";for(var J in navigator)try{"string"==typeof navigator[J]&&(M+=navigator[J])}catch{}T.collect(M),M=null}c&&(c().mousemove(function(R){T.collectInt(R.clientX,16),T.collectInt(R.clientY,16)}),c().keypress(function(R){T.collectInt(R.charCode,8)}))}if(f.random)for(var J in T)f.random[J]=T[J];else f.random=T;f.random.createInstance=B,rt.exports=f.random}(typeof jQuery<"u"?jQuery:null)},209:(rt,ge,z)=>{var f=z(8659);z(4747);var c=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],w=[1,2,3,5],m=function(T,A){return T<<A&65535|(65535&T)>>16-A},F=function(T,A){return(65535&T)>>A|T<<16-A&65535};rt.exports=f.rc2=f.rc2||{},f.rc2.expandKey=function(T,A){"string"==typeof T&&(T=f.util.createBuffer(T)),A=A||128;var L,x=T,I=T.length(),M=A,J=Math.ceil(M/8),R=255>>(7&M);for(L=I;L<128;L++)x.putByte(c[x.at(L-1)+x.at(L-I)&255]);for(x.setAt(128-J,c[x.at(128-J)&R]),L=127-J;L>=0;L--)x.setAt(L,c[x.at(L+1)^x.at(L+J)]);return x};var B=function(T,A,x){var L,W,P,K,I=!1,M=null,J=null,R=null,E=[];for(T=f.rc2.expandKey(T,A),P=0;P<64;P++)E.push(T.getInt16Le());x?(L=function(Q){for(P=0;P<4;P++)Q[P]+=E[K]+(Q[(P+3)%4]&Q[(P+2)%4])+(~Q[(P+3)%4]&Q[(P+1)%4]),Q[P]=m(Q[P],w[P]),K++},W=function(Q){for(P=0;P<4;P++)Q[P]+=E[63&Q[(P+3)%4]]}):(L=function(Q){for(P=3;P>=0;P--)Q[P]=F(Q[P],w[P]),Q[P]-=E[K]+(Q[(P+3)%4]&Q[(P+2)%4])+(~Q[(P+3)%4]&Q[(P+1)%4]),K--},W=function(Q){for(P=3;P>=0;P--)Q[P]-=E[63&Q[(P+3)%4]]});var S=function(Q){var j=[];for(P=0;P<4;P++){var ie=M.getInt16Le();null!==R&&(x?ie^=R.getInt16Le():R.putInt16Le(ie)),j.push(65535&ie)}K=x?0:63;for(var O=0;O<Q.length;O++)for(var N=0;N<Q[O][0];N++)Q[O][1](j);for(P=0;P<4;P++)null!==R&&(x?R.putInt16Le(j[P]):j[P]^=R.getInt16Le()),J.putInt16Le(j[P])},_=null;return _={start:function(Q,j){Q&&"string"==typeof Q&&(Q=f.util.createBuffer(Q)),I=!1,M=f.util.createBuffer(),J=j||new f.util.createBuffer,R=Q,_.output=J},update:function(Q){for(I||M.putBuffer(Q);M.length()>=8;)S([[5,L],[1,W],[6,L],[1,W],[5,L]])},finish:function(Q){var j=!0;if(x)if(Q)j=Q(8,M,!x);else{var ie=8===M.length()?8:8-M.length();M.fillWithByte(ie,ie)}if(j&&(I=!0,_.update()),!x&&(j=0===M.length()))if(Q)j=Q(8,J,!x);else{var O=J.length(),N=J.at(O-1);N>O?j=!1:J.truncate(N)}return j}}};f.rc2.startEncrypting=function(T,A,x){var I=f.rc2.createEncryptionCipher(T,128);return I.start(A,x),I},f.rc2.createEncryptionCipher=function(T,A){return B(T,A,!0)},f.rc2.startDecrypting=function(T,A,x){var I=f.rc2.createDecryptionCipher(T,128);return I.start(A,x),I},f.rc2.createDecryptionCipher=function(T,A){return B(T,A,!1)}},5517:(rt,ge,z)=>{var f=z(8659);if(z(7791),z(730),z(6078),z(7246),z(9709),z(8365),z(4747),typeof c>"u")var c=f.jsbn.BigInteger;var w=f.util.isNodejs?z(5819):null,m=f.asn1,F=f.util;f.pki=f.pki||{},rt.exports=f.pki.rsa=f.rsa=f.rsa||{};var B=f.pki,T=[6,4,2,4,2,4,6,2],A={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},I={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},M=f.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},J={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},R=function(g){if(!(g.algorithm in B.oids)){var se=new Error("Unknown message digest algorithm.");throw se.algorithm=g.algorithm,se}var ne=m.oidToDer(B.oids[g.algorithm]).getBytes(),xe=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),_e=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);_e.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,ne)),_e.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var Ke=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,g.digest().getBytes());return xe.value.push(_e),xe.value.push(Ke),m.toDer(xe).getBytes()},L=function(g,V,se){if(se)return g.modPow(V.e,V.n);if(!V.p||!V.q)return g.modPow(V.d,V.n);var ne;V.dP||(V.dP=V.d.mod(V.p.subtract(c.ONE))),V.dQ||(V.dQ=V.d.mod(V.q.subtract(c.ONE))),V.qInv||(V.qInv=V.q.modInverse(V.p));do{ne=new c(f.util.bytesToHex(f.random.getBytes(V.n.bitLength()/8)),16)}while(ne.compareTo(V.n)>=0||!ne.gcd(V.n).equals(c.ONE));for(var xe=(g=g.multiply(ne.modPow(V.e,V.n)).mod(V.n)).mod(V.p).modPow(V.dP,V.p),_e=g.mod(V.q).modPow(V.dQ,V.q);xe.compareTo(_e)<0;)xe=xe.add(V.p);var Ke=xe.subtract(_e).multiply(V.qInv).mod(V.p).multiply(V.q).add(_e);return Ke.multiply(ne.modInverse(V.n)).mod(V.n)};function W(g,V,se){var ne=f.util.createBuffer(),xe=Math.ceil(V.n.bitLength()/8);if(g.length>xe-11){var _e=new Error("Message is too long for PKCS#1 v1.5 padding.");throw _e.length=g.length,_e.max=xe-11,_e}ne.putByte(0),ne.putByte(se);var it,Ke=xe-3-g.length;if(0===se||1===se){it=0===se?0:255;for(var at=0;at<Ke;++at)ne.putByte(it)}else for(;Ke>0;){var Le=0,qe=f.random.getBytes(Ke);for(at=0;at<Ke;++at)0===(it=qe.charCodeAt(at))?++Le:ne.putByte(it);Ke=Le}return ne.putByte(0),ne.putBytes(g),ne}function P(g,V,se,ne){var xe=Math.ceil(V.n.bitLength()/8),_e=f.util.createBuffer(g),Ke=_e.getByte(),it=_e.getByte();if(0!==Ke||se&&0!==it&&1!==it||!se&&2!=it||se&&0===it&&typeof ne>"u")throw new Error("Encryption block is invalid.");var at=0;if(0===it){at=xe-3-ne;for(var Le=0;Le<at;++Le)if(0!==_e.getByte())throw new Error("Encryption block is invalid.")}else if(1===it)for(at=0;_e.length()>1;){if(255!==_e.getByte()){--_e.read;break}++at}else if(2===it)for(at=0;_e.length()>1;){if(0===_e.getByte()){--_e.read;break}++at}if(0!==_e.getByte()||at!==xe-3-_e.length())throw new Error("Encryption block is invalid.");return _e.getBytes()}function K(g,V,se){"function"==typeof V&&(se=V,V={});var ne={algorithm:{name:(V=V||{}).algorithm||"PRIMEINC",options:{workers:V.workers||2,workLoad:V.workLoad||100,workerScript:V.workerScript}}};function xe(){_e(g.pBits,function(it,at){return it?se(it):(g.p=at,null!==g.q?Ke(it,g.q):void _e(g.qBits,Ke))})}function _e(it,at){f.prime.generateProbablePrime(it,ne,at)}function Ke(it,at){if(it)return se(it);if(g.q=at,g.p.compareTo(g.q)<0){var Le=g.p;g.p=g.q,g.q=Le}if(0!==g.p.subtract(c.ONE).gcd(g.e).compareTo(c.ONE))return g.p=null,void xe();if(0!==g.q.subtract(c.ONE).gcd(g.e).compareTo(c.ONE))return g.q=null,void _e(g.qBits,Ke);if(g.p1=g.p.subtract(c.ONE),g.q1=g.q.subtract(c.ONE),g.phi=g.p1.multiply(g.q1),0!==g.phi.gcd(g.e).compareTo(c.ONE))return g.p=g.q=null,void xe();if(g.n=g.p.multiply(g.q),g.n.bitLength()!==g.bits)return g.q=null,void _e(g.qBits,Ke);var qe=g.e.modInverse(g.phi);g.keys={privateKey:B.rsa.setPrivateKey(g.n,g.e,qe,g.p,g.q,qe.mod(g.p1),qe.mod(g.q1),g.q.modInverse(g.p)),publicKey:B.rsa.setPublicKey(g.n,g.e)},se(null,g.keys)}"prng"in V&&(ne.prng=V.prng),xe()}function E(g){var V=g.toString(16);V[0]>="8"&&(V="00"+V);var se=f.util.hexToBytes(V);return se.length>1&&(0===se.charCodeAt(0)&&0==(128&se.charCodeAt(1))||255===se.charCodeAt(0)&&128==(128&se.charCodeAt(1)))?se.substr(1):se}function S(g){return g<=100?27:g<=150?18:g<=200?15:g<=250?12:g<=300?9:g<=350?8:g<=400?7:g<=500?6:g<=600?5:g<=800?4:g<=1250?3:2}function _(g){return f.util.isNodejs&&"function"==typeof w[g]}function Q(g){return typeof F.globalScope<"u"&&"object"==typeof F.globalScope.crypto&&"object"==typeof F.globalScope.crypto.subtle&&"function"==typeof F.globalScope.crypto.subtle[g]}function j(g){return typeof F.globalScope<"u"&&"object"==typeof F.globalScope.msCrypto&&"object"==typeof F.globalScope.msCrypto.subtle&&"function"==typeof F.globalScope.msCrypto.subtle[g]}function ie(g){for(var V=f.util.hexToBytes(g.toString(16)),se=new Uint8Array(V.length),ne=0;ne<V.length;++ne)se[ne]=V.charCodeAt(ne);return se}B.rsa.encrypt=function(g,V,se){var xe,ne=se,_e=Math.ceil(V.n.bitLength()/8);!1!==se&&!0!==se?(ne=2===se,xe=W(g,V,se)):(xe=f.util.createBuffer()).putBytes(g);for(var Ke=new c(xe.toHex(),16),at=L(Ke,V,ne).toString(16),Le=f.util.createBuffer(),qe=_e-Math.ceil(at.length/2);qe>0;)Le.putByte(0),--qe;return Le.putBytes(f.util.hexToBytes(at)),Le.getBytes()},B.rsa.decrypt=function(g,V,se,ne){var xe=Math.ceil(V.n.bitLength()/8);if(g.length!==xe){var _e=new Error("Encrypted message length is invalid.");throw _e.length=g.length,_e.expected=xe,_e}var Ke=new c(f.util.createBuffer(g).toHex(),16);if(Ke.compareTo(V.n)>=0)throw new Error("Encrypted message is invalid.");for(var at=L(Ke,V,se).toString(16),Le=f.util.createBuffer(),qe=xe-Math.ceil(at.length/2);qe>0;)Le.putByte(0),--qe;return Le.putBytes(f.util.hexToBytes(at)),!1!==ne?P(Le.getBytes(),V,se):Le.getBytes()},B.rsa.createKeyPairGenerationState=function(g,V,se){"string"==typeof g&&(g=parseInt(g,10)),g=g||2048;var Ke,ne=(se=se||{}).prng||f.random,xe={nextBytes:function(it){for(var at=ne.getBytesSync(it.length),Le=0;Le<it.length;++Le)it[Le]=at.charCodeAt(Le)}},_e=se.algorithm||"PRIMEINC";if("PRIMEINC"!==_e)throw new Error("Invalid key generation algorithm: "+_e);return(Ke={algorithm:_e,state:0,bits:g,rng:xe,eInt:V||65537,e:new c(null),p:null,q:null,qBits:g>>1,pBits:g-(g>>1),pqState:0,num:null,keys:null}).e.fromInt(Ke.eInt),Ke},B.rsa.stepKeyPairGenerationState=function(g,V){"algorithm"in g||(g.algorithm="PRIMEINC");var se=new c(null);se.fromInt(30);for(var Ke,ne=0,xe=function(ft,Je){return ft|Je},_e=+new Date,it=0;null===g.keys&&(V<=0||it<V);){if(0===g.state){var at=null===g.p?g.pBits:g.qBits,Le=at-1;0===g.pqState?(g.num=new c(at,g.rng),g.num.testBit(Le)||g.num.bitwiseTo(c.ONE.shiftLeft(Le),xe,g.num),g.num.dAddOffset(31-g.num.mod(se).byteValue(),0),ne=0,++g.pqState):1===g.pqState?g.num.bitLength()>at?g.pqState=0:g.num.isProbablePrime(S(g.num.bitLength()))?++g.pqState:g.num.dAddOffset(T[ne++%8],0):2===g.pqState?g.pqState=0===g.num.subtract(c.ONE).gcd(g.e).compareTo(c.ONE)?3:0:3===g.pqState&&(g.pqState=0,null===g.p?g.p=g.num:g.q=g.num,null!==g.p&&null!==g.q&&++g.state,g.num=null)}else if(1===g.state)g.p.compareTo(g.q)<0&&(g.num=g.p,g.p=g.q,g.q=g.num),++g.state;else if(2===g.state)g.p1=g.p.subtract(c.ONE),g.q1=g.q.subtract(c.ONE),g.phi=g.p1.multiply(g.q1),++g.state;else if(3===g.state)0===g.phi.gcd(g.e).compareTo(c.ONE)?++g.state:(g.p=null,g.q=null,g.state=0);else if(4===g.state)g.n=g.p.multiply(g.q),g.n.bitLength()===g.bits?++g.state:(g.q=null,g.state=0);else if(5===g.state){var qe=g.e.modInverse(g.phi);g.keys={privateKey:B.rsa.setPrivateKey(g.n,g.e,qe,g.p,g.q,qe.mod(g.p1),qe.mod(g.q1),g.q.modInverse(g.p)),publicKey:B.rsa.setPublicKey(g.n,g.e)}}it+=(Ke=+new Date)-_e,_e=Ke}return null!==g.keys},B.rsa.generateKeyPair=function(g,V,se,ne){if(1===arguments.length?"object"==typeof g?(se=g,g=void 0):"function"==typeof g&&(ne=g,g=void 0):2===arguments.length?"number"==typeof g?"function"==typeof V?(ne=V,V=void 0):"number"!=typeof V&&(se=V,V=void 0):(se=g,ne=V,g=void 0,V=void 0):3===arguments.length&&("number"==typeof V?"function"==typeof se&&(ne=se,se=void 0):(ne=se,se=V,V=void 0)),se=se||{},void 0===g&&(g=se.bits||2048),void 0===V&&(V=se.e||65537),!f.options.usePureJavaScript&&!se.prng&&g>=256&&g<=16384&&(65537===V||3===V))if(ne){if(_("generateKeyPair"))return w.generateKeyPair("rsa",{modulusLength:g,publicExponent:V,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(it,at,Le){if(it)return ne(it);ne(null,{privateKey:B.privateKeyFromPem(Le),publicKey:B.publicKeyFromPem(at)})});if(Q("generateKey")&&Q("exportKey"))return F.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:ie(V),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(it){return F.globalScope.crypto.subtle.exportKey("pkcs8",it.privateKey)}).then(void 0,function(it){ne(it)}).then(function(it){if(it){var at=B.privateKeyFromAsn1(m.fromDer(f.util.createBuffer(it)));ne(null,{privateKey:at,publicKey:B.setRsaPublicKey(at.n,at.e)})}});if(j("generateKey")&&j("exportKey")){var xe=F.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:ie(V),hash:{name:"SHA-256"}},!0,["sign","verify"]);return xe.oncomplete=function(it){var Le=F.globalScope.msCrypto.subtle.exportKey("pkcs8",it.target.result.privateKey);Le.oncomplete=function(qe){var Je=B.privateKeyFromAsn1(m.fromDer(f.util.createBuffer(qe.target.result)));ne(null,{privateKey:Je,publicKey:B.setRsaPublicKey(Je.n,Je.e)})},Le.onerror=function(qe){ne(qe)}},void(xe.onerror=function(it){ne(it)})}}else if(_("generateKeyPairSync")){var _e=w.generateKeyPairSync("rsa",{modulusLength:g,publicExponent:V,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:B.privateKeyFromPem(_e.privateKey),publicKey:B.publicKeyFromPem(_e.publicKey)}}var Ke=B.rsa.createKeyPairGenerationState(g,V,se);if(!ne)return B.rsa.stepKeyPairGenerationState(Ke,0),Ke.keys;K(Ke,se,ne)},B.setRsaPublicKey=B.rsa.setPublicKey=function(g,V){var se={n:g,e:V,encrypt:function(ne,xe,_e){if("string"==typeof xe?xe=xe.toUpperCase():void 0===xe&&(xe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===xe)xe={encode:function(it,at,Le){return W(it,at,2).getBytes()}};else if("RSA-OAEP"===xe||"RSAES-OAEP"===xe)xe={encode:function(it,at){return f.pkcs1.encode_rsa_oaep(at,it,_e)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(xe))xe={encode:function(it){return it}};else if("string"==typeof xe)throw new Error('Unsupported encryption scheme: "'+xe+'".');var Ke=xe.encode(ne,se,!0);return B.rsa.encrypt(Ke,se,!0)},verify:function(ne,xe,_e,Ke){"string"==typeof _e?_e=_e.toUpperCase():void 0===_e&&(_e="RSASSA-PKCS1-V1_5"),void 0===Ke&&(Ke={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in Ke||(Ke._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===_e?_e={verify:function(at,Le){Le=P(Le,se,!0);var qe=m.fromDer(Le,{parseAllBytes:Ke._parseAllDigestBytes}),ft={},Je=[];if(!m.validate(qe,J,ft,Je))throw(Yt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Je,Yt;var Yt,ht=m.derToOid(ft.algorithmIdentifier);if(ht!==f.oids.md2&&ht!==f.oids.md5&&ht!==f.oids.sha1&&ht!==f.oids.sha224&&ht!==f.oids.sha256&&ht!==f.oids.sha384&&ht!==f.oids.sha512&&ht!==f.oids["sha512-224"]&&ht!==f.oids["sha512-256"])throw(Yt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=ht,Yt;if((ht===f.oids.md2||ht===f.oids.md5)&&!("parameters"in ft))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return at===ft.digest}}:("NONE"===_e||"NULL"===_e||null===_e)&&(_e={verify:function(at,Le){return at===P(Le,se,!0)}});var it=B.rsa.decrypt(xe,se,!0,!1);return _e.verify(ne,it,se.n.bitLength())}};return se},B.setRsaPrivateKey=B.rsa.setPrivateKey=function(g,V,se,ne,xe,_e,Ke,it){var at={n:g,e:V,d:se,p:ne,q:xe,dP:_e,dQ:Ke,qInv:it,decrypt:function(Le,qe,ft){"string"==typeof qe?qe=qe.toUpperCase():void 0===qe&&(qe="RSAES-PKCS1-V1_5");var Je=B.rsa.decrypt(Le,at,!1,!1);if("RSAES-PKCS1-V1_5"===qe)qe={decode:P};else if("RSA-OAEP"===qe||"RSAES-OAEP"===qe)qe={decode:function(Yt,ht){return f.pkcs1.decode_rsa_oaep(ht,Yt,ft)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(qe))throw new Error('Unsupported encryption scheme: "'+qe+'".');qe={decode:function(Yt){return Yt}}}return qe.decode(Je,at,!1)},sign:function(Le,qe){var ft=!1;"string"==typeof qe&&(qe=qe.toUpperCase()),void 0===qe||"RSASSA-PKCS1-V1_5"===qe?(qe={encode:R},ft=1):("NONE"===qe||"NULL"===qe||null===qe)&&(qe={encode:function(){return Le}},ft=1);var Je=qe.encode(Le,at.n.bitLength());return B.rsa.encrypt(Je,at,ft)}};return at},B.wrapRsaPrivateKey=function(g){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(B.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(g).getBytes())])},B.privateKeyFromAsn1=function(g){var xe,_e,Ke,it,at,Le,qe,ft,V={},se=[];if(m.validate(g,A,V,se)&&(g=m.fromDer(f.util.createBuffer(V.privateKey))),!m.validate(g,x,V={},se=[])){var ne=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw ne.errors=se,ne}return xe=f.util.createBuffer(V.privateKeyModulus).toHex(),_e=f.util.createBuffer(V.privateKeyPublicExponent).toHex(),Ke=f.util.createBuffer(V.privateKeyPrivateExponent).toHex(),it=f.util.createBuffer(V.privateKeyPrime1).toHex(),at=f.util.createBuffer(V.privateKeyPrime2).toHex(),Le=f.util.createBuffer(V.privateKeyExponent1).toHex(),qe=f.util.createBuffer(V.privateKeyExponent2).toHex(),ft=f.util.createBuffer(V.privateKeyCoefficient).toHex(),B.setRsaPrivateKey(new c(xe,16),new c(_e,16),new c(Ke,16),new c(it,16),new c(at,16),new c(Le,16),new c(qe,16),new c(ft,16))},B.privateKeyToAsn1=B.privateKeyToRSAPrivateKey=function(g){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.qInv))])},B.publicKeyFromAsn1=function(g){var V={},se=[];if(m.validate(g,M,V,se)){var xe,ne=m.derToOid(V.publicKeyOid);if(ne!==B.oids.rsaEncryption)throw(xe=new Error("Cannot read public key. Unknown OID.")).oid=ne,xe;g=V.rsaPublicKey}if(!m.validate(g,I,V,se=[]))throw(xe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=se,xe;var _e=f.util.createBuffer(V.publicKeyModulus).toHex(),Ke=f.util.createBuffer(V.publicKeyExponent).toHex();return B.setRsaPublicKey(new c(_e,16),new c(Ke,16))},B.publicKeyToAsn1=B.publicKeyToSubjectPublicKeyInfo=function(g){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(B.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[B.publicKeyToRSAPublicKey(g)])])},B.publicKeyToRSAPublicKey=function(g){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,E(g.e))])}},7690:(rt,ge,z)=>{var f=z(8659);z(979),z(4747);var c=rt.exports=f.sha1=f.sha1||{};f.md.sha1=f.md.algorithms.sha1=c,c.create=function(){m||function F(){w=String.fromCharCode(128),w+=f.util.fillString(String.fromCharCode(0),64),m=!0}();var T=null,A=f.util.createBuffer(),x=new Array(80),I={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){I.messageLength=0,I.fullMessageLength=I.messageLength64=[];for(var M=I.messageLengthSize/4,J=0;J<M;++J)I.fullMessageLength.push(0);return A=f.util.createBuffer(),T={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},I}};return I.start(),I.update=function(M,J){"utf8"===J&&(M=f.util.encodeUtf8(M));var R=M.length;I.messageLength+=R,R=[R/4294967296>>>0,R>>>0];for(var L=I.fullMessageLength.length-1;L>=0;--L)I.fullMessageLength[L]+=R[1],R[1]=R[0]+(I.fullMessageLength[L]/4294967296>>>0),I.fullMessageLength[L]=I.fullMessageLength[L]>>>0,R[0]=R[1]/4294967296>>>0;return A.putBytes(M),B(T,x,A),(A.read>2048||0===A.length())&&A.compact(),I},I.digest=function(){var M=f.util.createBuffer();M.putBytes(A.bytes()),M.putBytes(w.substr(0,I.blockLength-(I.fullMessageLength[I.fullMessageLength.length-1]+I.messageLengthSize&I.blockLength-1)));for(var L,P=8*I.fullMessageLength[0],K=0;K<I.fullMessageLength.length-1;++K)M.putInt32((P+=(L=8*I.fullMessageLength[K+1])/4294967296>>>0)>>>0),P=L>>>0;M.putInt32(P);var E={h0:T.h0,h1:T.h1,h2:T.h2,h3:T.h3,h4:T.h4};B(E,x,M);var S=f.util.createBuffer();return S.putInt32(E.h0),S.putInt32(E.h1),S.putInt32(E.h2),S.putInt32(E.h3),S.putInt32(E.h4),S},I};var w=null,m=!1;function B(T,A,x){for(var I,M,J,R,L,W,K,E=x.length();E>=64;){for(M=T.h0,J=T.h1,R=T.h2,L=T.h3,W=T.h4,K=0;K<16;++K)I=x.getInt32(),A[K]=I,I=(M<<5|M>>>27)+(L^J&(R^L))+W+1518500249+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<20;++K)A[K]=I=(I=A[K-3]^A[K-8]^A[K-14]^A[K-16])<<1|I>>>31,I=(M<<5|M>>>27)+(L^J&(R^L))+W+1518500249+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<32;++K)A[K]=I=(I=A[K-3]^A[K-8]^A[K-14]^A[K-16])<<1|I>>>31,I=(M<<5|M>>>27)+(J^R^L)+W+1859775393+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<40;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J^R^L)+W+1859775393+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<60;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J&R|L&(J^R))+W+2400959708+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<80;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J^R^L)+W+3395469782+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;T.h0=T.h0+M|0,T.h1=T.h1+J|0,T.h2=T.h2+R|0,T.h3=T.h3+L|0,T.h4=T.h4+W|0,E-=64}}},1594:(rt,ge,z)=>{var f=z(8659);z(979),z(4747);var c=rt.exports=f.sha256=f.sha256||{};f.md.sha256=f.md.algorithms.sha256=c,c.create=function(){m||function B(){w=String.fromCharCode(128),w+=f.util.fillString(String.fromCharCode(0),64),F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=!0}();var A=null,x=f.util.createBuffer(),I=new Array(64),M={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){M.messageLength=0,M.fullMessageLength=M.messageLength64=[];for(var J=M.messageLengthSize/4,R=0;R<J;++R)M.fullMessageLength.push(0);return x=f.util.createBuffer(),A={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},M}};return M.start(),M.update=function(J,R){"utf8"===R&&(J=f.util.encodeUtf8(J));var L=J.length;M.messageLength+=L,L=[L/4294967296>>>0,L>>>0];for(var W=M.fullMessageLength.length-1;W>=0;--W)M.fullMessageLength[W]+=L[1],L[1]=L[0]+(M.fullMessageLength[W]/4294967296>>>0),M.fullMessageLength[W]=M.fullMessageLength[W]>>>0,L[0]=L[1]/4294967296>>>0;return x.putBytes(J),T(A,I,x),(x.read>2048||0===x.length())&&x.compact(),M},M.digest=function(){var J=f.util.createBuffer();J.putBytes(x.bytes()),J.putBytes(w.substr(0,M.blockLength-(M.fullMessageLength[M.fullMessageLength.length-1]+M.messageLengthSize&M.blockLength-1)));for(var W,K=8*M.fullMessageLength[0],E=0;E<M.fullMessageLength.length-1;++E)J.putInt32((K+=(W=8*M.fullMessageLength[E+1])/4294967296>>>0)>>>0),K=W>>>0;J.putInt32(K);var S={h0:A.h0,h1:A.h1,h2:A.h2,h3:A.h3,h4:A.h4,h5:A.h5,h6:A.h6,h7:A.h7};T(S,I,J);var _=f.util.createBuffer();return _.putInt32(S.h0),_.putInt32(S.h1),_.putInt32(S.h2),_.putInt32(S.h3),_.putInt32(S.h4),_.putInt32(S.h5),_.putInt32(S.h6),_.putInt32(S.h7),_},M};var w=null,m=!1,F=null;function T(A,x,I){for(var M,J,P,K,E,S,_,Q,j,ie,O,N,G=I.length();G>=64;){for(K=0;K<16;++K)x[K]=I.getInt32();for(;K<64;++K)x[K]=(M=((M=x[K-2])>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)+x[K-7]+(J=((J=x[K-15])>>>7|J<<25)^(J>>>18|J<<14)^J>>>3)+x[K-16]|0;for(E=A.h0,S=A.h1,_=A.h2,Q=A.h3,j=A.h4,ie=A.h5,O=A.h6,N=A.h7,K=0;K<64;++K)P=E&S|_&(E^S),M=N+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(O^j&(ie^O))+F[K]+x[K],N=O,O=ie,ie=j,j=Q+M>>>0,Q=_,_=S,S=E,E=M+(J=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+P)>>>0;A.h0=A.h0+E|0,A.h1=A.h1+S|0,A.h2=A.h2+_|0,A.h3=A.h3+Q|0,A.h4=A.h4+j|0,A.h5=A.h5+ie|0,A.h6=A.h6+O|0,A.h7=A.h7+N|0,G-=64}}},8985:(rt,ge,z)=>{var f=z(8659);z(979),z(4747);var c=rt.exports=f.sha512=f.sha512||{};f.md.sha512=f.md.algorithms.sha512=c;var w=f.sha384=f.sha512.sha384=f.sha512.sha384||{};w.create=function(){return c.create("SHA-384")},f.md.sha384=f.md.algorithms.sha384=w,f.sha512.sha256=f.sha512.sha256||{create:function(){return c.create("SHA-512/256")}},f.md["sha512/256"]=f.md.algorithms["sha512/256"]=f.sha512.sha256,f.sha512.sha224=f.sha512.sha224||{create:function(){return c.create("SHA-512/224")}},f.md["sha512/224"]=f.md.algorithms["sha512/224"]=f.sha512.sha224,c.create=function(I){if(F||function A(){m=String.fromCharCode(128),m+=f.util.fillString(String.fromCharCode(0),128),B=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(T={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],T["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],T["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],T["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],F=!0}(),typeof I>"u"&&(I="SHA-512"),!(I in T))throw new Error("Invalid SHA-512 algorithm: "+I);for(var M=T[I],J=null,R=f.util.createBuffer(),L=new Array(80),W=0;W<80;++W)L[W]=new Array(2);var P=64;switch(I){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28}var K={algorithm:I.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){K.messageLength=0,K.fullMessageLength=K.messageLength128=[];for(var E=K.messageLengthSize/4,S=0;S<E;++S)K.fullMessageLength.push(0);for(R=f.util.createBuffer(),J=new Array(M.length),S=0;S<M.length;++S)J[S]=M[S].slice(0);return K}};return K.start(),K.update=function(E,S){"utf8"===S&&(E=f.util.encodeUtf8(E));var _=E.length;K.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var Q=K.fullMessageLength.length-1;Q>=0;--Q)K.fullMessageLength[Q]+=_[1],_[1]=_[0]+(K.fullMessageLength[Q]/4294967296>>>0),K.fullMessageLength[Q]=K.fullMessageLength[Q]>>>0,_[0]=_[1]/4294967296>>>0;return R.putBytes(E),x(J,L,R),(R.read>2048||0===R.length())&&R.compact(),K},K.digest=function(){var E=f.util.createBuffer();E.putBytes(R.bytes()),E.putBytes(m.substr(0,K.blockLength-(K.fullMessageLength[K.fullMessageLength.length-1]+K.messageLengthSize&K.blockLength-1)));for(var Q,ie=8*K.fullMessageLength[0],O=0;O<K.fullMessageLength.length-1;++O)E.putInt32((ie+=(Q=8*K.fullMessageLength[O+1])/4294967296>>>0)>>>0),ie=Q>>>0;E.putInt32(ie);var N=new Array(J.length);for(O=0;O<J.length;++O)N[O]=J[O].slice(0);x(N,L,E);var g,G=f.util.createBuffer();for(g="SHA-512"===I?N.length:"SHA-384"===I?N.length-2:N.length-4,O=0;O<g;++O)G.putInt32(N[O][0]),(O!==g-1||"SHA-512/224"!==I)&&G.putInt32(N[O][1]);return G},K};var m=null,F=!1,B=null,T=null;function x(I,M,J){for(var R,L,W,P,N,G,g,V,se,ne,xe,_e,Ke,it,at,Le,qe,ft,Je,Yt,ht,dr,Mt,yr,or,et,gt,X=J.length();X>=128;){for(ht=0;ht<16;++ht)M[ht][0]=J.getInt32()>>>0,M[ht][1]=J.getInt32()>>>0;for(;ht<80;++ht)L=(((dr=(yr=M[ht-2])[0])<<13|(Mt=yr[1])>>>19)^(Mt<<3|dr>>>29)^(dr<<26|Mt>>>6))>>>0,M[ht][0]=(R=((dr>>>19|Mt<<13)^(Mt>>>29|dr<<3)^dr>>>6)>>>0)+(or=M[ht-7])[0]+(W=(((dr=(et=M[ht-15])[0])>>>1|(Mt=et[1])<<31)^(dr>>>8|Mt<<24)^dr>>>7)>>>0)+(gt=M[ht-16])[0]+((Mt=L+or[1]+(P=((dr<<31|Mt>>>1)^(dr<<24|Mt>>>8)^(dr<<25|Mt>>>7))>>>0)+gt[1])/4294967296>>>0)>>>0,M[ht][1]=Mt>>>0;for(N=I[0][0],G=I[0][1],g=I[1][0],V=I[1][1],se=I[2][0],ne=I[2][1],xe=I[3][0],_e=I[3][1],Ke=I[4][0],it=I[4][1],at=I[5][0],Le=I[5][1],qe=I[6][0],ft=I[6][1],Je=I[7][0],Yt=I[7][1],ht=0;ht<80;++ht)R=Je+(((Ke>>>14|it<<18)^(Ke>>>18|it<<14)^(it>>>9|Ke<<23))>>>0)+((qe^Ke&(at^qe))>>>0)+B[ht][0]+M[ht][0]+((Mt=Yt+(((Ke<<18|it>>>14)^(Ke<<14|it>>>18)^(it<<23|Ke>>>9))>>>0)+((ft^it&(Le^ft))>>>0)+B[ht][1]+M[ht][1])/4294967296>>>0)>>>0,L=Mt>>>0,W=(((N>>>28|G<<4)^(G>>>2|N<<30)^(G>>>7|N<<25))>>>0)+((N&g|se&(N^g))>>>0)+((Mt=(((N<<4|G>>>28)^(G<<30|N>>>2)^(G<<25|N>>>7))>>>0)+((G&V|ne&(G^V))>>>0))/4294967296>>>0)>>>0,P=Mt>>>0,Je=qe,Yt=ft,qe=at,ft=Le,at=Ke,Le=it,Ke=xe+R+((Mt=_e+L)/4294967296>>>0)>>>0,it=Mt>>>0,xe=se,_e=ne,se=g,ne=V,g=N,V=G,N=R+W+((Mt=L+P)/4294967296>>>0)>>>0,G=Mt>>>0;I[0][0]=I[0][0]+N+((Mt=I[0][1]+G)/4294967296>>>0)>>>0,I[0][1]=Mt>>>0,I[1][0]=I[1][0]+g+((Mt=I[1][1]+V)/4294967296>>>0)>>>0,I[1][1]=Mt>>>0,I[2][0]=I[2][0]+se+((Mt=I[2][1]+ne)/4294967296>>>0)>>>0,I[2][1]=Mt>>>0,I[3][0]=I[3][0]+xe+((Mt=I[3][1]+_e)/4294967296>>>0)>>>0,I[3][1]=Mt>>>0,I[4][0]=I[4][0]+Ke+((Mt=I[4][1]+it)/4294967296>>>0)>>>0,I[4][1]=Mt>>>0,I[5][0]=I[5][0]+at+((Mt=I[5][1]+Le)/4294967296>>>0)>>>0,I[5][1]=Mt>>>0,I[6][0]=I[6][0]+qe+((Mt=I[6][1]+ft)/4294967296>>>0)>>>0,I[6][1]=Mt>>>0,I[7][0]=I[7][0]+Je+((Mt=I[7][1]+Yt)/4294967296>>>0)>>>0,I[7][1]=Mt>>>0,X-=128}}},1015:(rt,ge,z)=>{var f=z(8659);z(1298),z(9032),z(2687),z(7690),z(4747);var c=rt.exports=f.ssh=f.ssh||{};function w(B,T){var A=T.toString(16);A[0]>="8"&&(A="00"+A);var x=f.util.hexToBytes(A);B.putInt32(x.length),B.putBytes(x)}function m(B,T){B.putInt32(T.length),B.putString(T)}function F(){for(var B=f.md.sha1.create(),T=arguments.length,A=0;A<T;++A)B.update(arguments[A]);return B.digest()}c.privateKeyToPutty=function(B,T,A){var x="ssh-rsa",I=""===(T=T||"")?"none":"aes256-cbc",M="PuTTY-User-Key-File-2: "+x+"\r\n";M+="Encryption: "+I+"\r\n",M+="Comment: "+(A=A||"")+"\r\n";var J=f.util.createBuffer();m(J,x),w(J,B.e),w(J,B.n);var R=f.util.encode64(J.bytes(),64),L=Math.floor(R.length/66)+1;M+="Public-Lines: "+L+"\r\n",M+=R;var P,W=f.util.createBuffer();if(w(W,B.d),w(W,B.p),w(W,B.q),w(W,B.qInv),T){var K=W.length()+16-1;K-=K%16;var E=F(W.bytes());E.truncate(E.length()-K+W.length()),W.putBuffer(E);var S=f.util.createBuffer();S.putBuffer(F("\0\0\0\0",T)),S.putBuffer(F("\0\0\0\x01",T));var _=f.aes.createEncryptionCipher(S.truncate(8),"CBC");_.start(f.util.createBuffer().fillWithByte(0,16)),_.update(W.copy()),_.finish();var Q=_.output;Q.truncate(16),P=f.util.encode64(Q.bytes(),64)}else P=f.util.encode64(W.bytes(),64);M+="\r\nPrivate-Lines: "+(L=Math.floor(P.length/66)+1)+"\r\n",M+=P;var j=F("putty-private-key-file-mac-key",T),ie=f.util.createBuffer();m(ie,x),m(ie,I),m(ie,A),ie.putInt32(J.length()),ie.putBuffer(J),ie.putInt32(W.length()),ie.putBuffer(W);var O=f.hmac.create();return O.start("sha1",j),O.update(ie.bytes()),M+"\r\nPrivate-MAC: "+O.digest().toHex()+"\r\n"},c.publicKeyToOpenSSH=function(B,T){var A="ssh-rsa";T=T||"";var x=f.util.createBuffer();return m(x,A),w(x,B.e),w(x,B.n),A+" "+f.util.encode64(x.bytes())+" "+T},c.privateKeyToOpenSSH=function(B,T){return T?f.pki.encryptRsaPrivateKey(B,T,{legacy:!0,algorithm:"aes128"}):f.pki.privateKeyToPem(B)},c.getPublicKeyFingerprint=function(B,T){var A=(T=T||{}).md||f.md.md5.create(),I=f.util.createBuffer();m(I,"ssh-rsa"),w(I,B.e),w(I,B.n),A.start(),A.update(I.getBytes());var M=A.digest();if("hex"===T.encoding){var J=M.toHex();return T.delimiter?J.match(/.{2}/g).join(T.delimiter):J}if("binary"===T.encoding)return M.getBytes();if(T.encoding)throw new Error('Unknown encoding "'+T.encoding+'".');return M}},2266:(rt,ge,z)=>{var f=z(8659);z(7791),z(9032),z(2687),z(8604),z(1965),z(8365),z(7690),z(4747);var c=function(X,Z,ue,Oe){var Xe=f.util.createBuffer(),ee=X.length>>1,Pe=ee+(1&X.length),Ft=X.substr(0,Pe),ar=X.substr(ee,Pe),rr=f.util.createBuffer(),kt=f.hmac.create();ue=Z+ue;var jt=Math.ceil(Oe/16),pr=Math.ceil(Oe/20);kt.start("MD5",Ft);var Ar=f.util.createBuffer();rr.putBytes(ue);for(var re=0;re<jt;++re)kt.start(null,null),kt.update(rr.getBytes()),rr.putBuffer(kt.digest()),kt.start(null,null),kt.update(rr.bytes()+ue),Ar.putBuffer(kt.digest());kt.start("SHA1",ar);var Lt=f.util.createBuffer();for(rr.clear(),rr.putBytes(ue),re=0;re<pr;++re)kt.start(null,null),kt.update(rr.getBytes()),rr.putBuffer(kt.digest()),kt.start(null,null),kt.update(rr.bytes()+ue),Lt.putBuffer(kt.digest());return Xe.putBytes(f.util.xorBytes(Ar.getBytes(),Lt.getBytes(),Oe)),Xe},F=function(X,Z,ue){var Oe=!1;try{var Xe=X.deflate(Z.fragment.getBytes());Z.fragment=f.util.createBuffer(Xe),Z.length=Xe.length,Oe=!0}catch{}return Oe},B=function(X,Z,ue){var Oe=!1;try{var Xe=X.inflate(Z.fragment.getBytes());Z.fragment=f.util.createBuffer(Xe),Z.length=Xe.length,Oe=!0}catch{}return Oe},T=function(X,Z){var ue=0;switch(Z){case 1:ue=X.getByte();break;case 2:ue=X.getInt16();break;case 3:ue=X.getInt24();break;case 4:ue=X.getInt32()}return f.util.createBuffer(X.getBytes(ue))},A=function(X,Z,ue){X.putInt(ue.length(),Z<<3),X.putBuffer(ue)},x={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};x.SupportedVersions=[x.Versions.TLS_1_1,x.Versions.TLS_1_0],x.Version=x.SupportedVersions[0],x.MaxFragment=15360,x.ConnectionEnd={server:0,client:1},x.PRFAlgorithm={tls_prf_sha256:0},x.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},x.CipherType={stream:0,block:1,aead:2},x.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},x.CompressionMethod={none:0,deflate:1},x.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},x.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},x.Alert={},x.Alert.Level={warning:1,fatal:2},x.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},x.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},x.CipherSuites={},x.getCipherSuite=function(X){var Z=null;for(var ue in x.CipherSuites){var Oe=x.CipherSuites[ue];if(Oe.id[0]===X.charCodeAt(0)&&Oe.id[1]===X.charCodeAt(1)){Z=Oe;break}}return Z},x.handleUnexpected=function(X,Z){!X.open&&X.entity===x.ConnectionEnd.client||X.error(X,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})},x.handleHelloRequest=function(X,Z,ue){!X.handshaking&&X.handshakes>0&&(x.queue(X,x.createAlert(X,{level:x.Alert.Level.warning,description:x.Alert.Description.no_renegotiation})),x.flush(X)),X.process()},x.parseHelloMessage=function(X,Z,ue){var Oe=null,Xe=X.entity===x.ConnectionEnd.client;if(ue<38)X.error(X,{message:Xe?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});else{var ee=Z.fragment,Pe=ee.length();if(Oe={version:{major:ee.getByte(),minor:ee.getByte()},random:f.util.createBuffer(ee.getBytes(32)),session_id:T(ee,1),extensions:[]},Xe?(Oe.cipher_suite=ee.getBytes(2),Oe.compression_method=ee.getByte()):(Oe.cipher_suites=T(ee,2),Oe.compression_methods=T(ee,1)),(Pe=ue-(Pe-ee.length()))>0){for(var Ft=T(ee,2);Ft.length()>0;)Oe.extensions.push({type:[Ft.getByte(),Ft.getByte()],data:T(Ft,2)});if(!Xe)for(var ar=0;ar<Oe.extensions.length;++ar){var rr=Oe.extensions[ar];if(0===rr.type[0]&&0===rr.type[1])for(var kt=T(rr.data,2);kt.length()>0&&0===kt.getByte();)X.session.extensions.server_name.serverNameList.push(T(kt,2).getBytes())}}if(X.session.version&&(Oe.version.major!==X.session.version.major||Oe.version.minor!==X.session.version.minor))return X.error(X,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});if(Xe)X.session.cipherSuite=x.getCipherSuite(Oe.cipher_suite);else for(var pr=f.util.createBuffer(Oe.cipher_suites.bytes());pr.length()>0&&(X.session.cipherSuite=x.getCipherSuite(pr.getBytes(2)),null===X.session.cipherSuite););if(null===X.session.cipherSuite)return X.error(X,{message:"No cipher suites in common.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure},cipherSuite:f.util.bytesToHex(Oe.cipher_suite)});X.session.compressionMethod=Xe?Oe.compression_method:x.CompressionMethod.none}return Oe},x.createSecurityParameters=function(X,Z){var ue=X.entity===x.ConnectionEnd.client,Oe=Z.random.bytes(),Xe=ue?X.session.sp.client_random:Oe,ee=ue?Oe:x.createRandom().getBytes();X.session.sp={entity:X.entity,prf_algorithm:x.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:X.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Xe,server_random:ee}},x.handleServerHello=function(X,Z,ue){var Oe=x.parseHelloMessage(X,Z,ue);if(!X.fail){if(!(Oe.version.minor<=X.version.minor))return X.error(X,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});X.version.minor=Oe.version.minor,X.session.version=X.version;var Xe=Oe.session_id.bytes();Xe.length>0&&Xe===X.session.id?(X.expect=W,X.session.resuming=!0,X.session.sp.server_random=Oe.random.bytes()):(X.expect=M,X.session.resuming=!1,x.createSecurityParameters(X,Oe)),X.session.id=Xe,X.process()}},x.handleClientHello=function(X,Z,ue){var Oe=x.parseHelloMessage(X,Z,ue);if(!X.fail){var Xe=Oe.session_id.bytes(),ee=null;if(X.sessionCache&&(null===(ee=X.sessionCache.getSession(Xe))?Xe="":(ee.version.major!==Oe.version.major||ee.version.minor>Oe.version.minor)&&(ee=null,Xe="")),0===Xe.length&&(Xe=f.random.getBytes(32)),X.session.id=Xe,X.session.clientHelloVersion=Oe.version,X.session.sp={},ee)X.version=X.session.version=ee.version,X.session.sp=ee.sp;else{for(var Pe,Ft=1;Ft<x.SupportedVersions.length&&!((Pe=x.SupportedVersions[Ft]).minor<=Oe.version.minor);++Ft);X.version={major:Pe.major,minor:Pe.minor},X.session.version=X.version}null!==ee?(X.expect=ie,X.session.resuming=!0,X.session.sp.client_random=Oe.random.bytes()):(X.expect=!1!==X.verifyClient?_:Q,X.session.resuming=!1,x.createSecurityParameters(X,Oe)),X.open=!0,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerHello(X)})),X.session.resuming?(x.queue(X,x.createRecord(X,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),X.state.pending=x.createConnectionState(X),X.state.current.write=X.state.pending.write,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createFinished(X)}))):(x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificate(X)})),X.fail||(x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerKeyExchange(X)})),!1!==X.verifyClient&&x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificateRequest(X)})),x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerHelloDone(X)})))),x.flush(X),X.process()}},x.handleCertificate=function(X,Z,ue){if(ue<3)return X.error(X,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var ee,Pe,Xe={certificate_list:T(Z.fragment,3)},Ft=[];try{for(;Xe.certificate_list.length()>0;)ee=T(Xe.certificate_list,3),Pe=f.asn1.fromDer(ee),ee=f.pki.certificateFromAsn1(Pe,!0),Ft.push(ee)}catch(rr){return X.error(X,{message:"Could not parse certificate list.",cause:rr,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var ar=X.entity===x.ConnectionEnd.client;!ar&&!0!==X.verifyClient||0!==Ft.length?0===Ft.length?X.expect=ar?J:Q:(ar?X.session.serverCertificate=Ft[0]:X.session.clientCertificate=Ft[0],x.verifyCertificateChain(X,Ft)&&(X.expect=ar?J:Q)):X.error(X,{message:ar?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}}),X.process()},x.handleServerKeyExchange=function(X,Z,ue){if(ue>0)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});X.expect=R,X.process()},x.handleClientKeyExchange=function(X,Z,ue){if(ue<48)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});var Xe={enc_pre_master_secret:T(Z.fragment,2).getBytes()},ee=null;if(X.getPrivateKey)try{ee=X.getPrivateKey(X,X.session.serverCertificate),ee=f.pki.privateKeyFromPem(ee)}catch(ar){X.error(X,{message:"Could not get private key.",cause:ar,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}if(null===ee)return X.error(X,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}});try{var Pe=X.session.sp;Pe.pre_master_secret=ee.decrypt(Xe.enc_pre_master_secret);var Ft=X.session.clientHelloVersion;if(Ft.major!==Pe.pre_master_secret.charCodeAt(0)||Ft.minor!==Pe.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Pe.pre_master_secret=f.random.getBytes(48)}X.expect=ie,null!==X.session.clientCertificate&&(X.expect=j),X.process()},x.handleCertificateRequest=function(X,Z,ue){if(ue<3)return X.error(X,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var Oe=Z.fragment,Xe={certificate_types:T(Oe,1),certificate_authorities:T(Oe,2)};X.session.certificateRequest=Xe,X.expect=L,X.process()},x.handleCertificateVerify=function(X,Z,ue){if(ue<2)return X.error(X,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var Oe=Z.fragment;Oe.read-=4;var Xe=Oe.bytes();Oe.read+=4;var ee={signature:T(Oe,2).getBytes()},Pe=f.util.createBuffer();Pe.putBuffer(X.session.md5.digest()),Pe.putBuffer(X.session.sha1.digest()),Pe=Pe.getBytes();try{if(!X.session.clientCertificate.publicKey.verify(Pe,ee.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");X.session.md5.update(Xe),X.session.sha1.update(Xe)}catch{return X.error(X,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure}})}X.expect=ie,X.process()},x.handleServerHelloDone=function(X,Z,ue){if(ue>0)return X.error(X,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.record_overflow}});if(null===X.serverCertificate){var Oe={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.insufficient_security}},ee=X.verify(X,Oe.alert.description,0,[]);if(!0!==ee)return(ee||0===ee)&&("object"!=typeof ee||f.util.isArray(ee)?"number"==typeof ee&&(Oe.alert.description=ee):(ee.message&&(Oe.message=ee.message),ee.alert&&(Oe.alert.description=ee.alert))),X.error(X,Oe)}null!==X.session.certificateRequest&&(Z=x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificate(X)}),x.queue(X,Z)),Z=x.createRecord(X,{type:x.ContentType.handshake,data:x.createClientKeyExchange(X)}),x.queue(X,Z),X.expect=E;var Pe=function(Ft,ar){null!==Ft.session.certificateRequest&&null!==Ft.session.clientCertificate&&x.queue(Ft,x.createRecord(Ft,{type:x.ContentType.handshake,data:x.createCertificateVerify(Ft,ar)})),x.queue(Ft,x.createRecord(Ft,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),Ft.state.pending=x.createConnectionState(Ft),Ft.state.current.write=Ft.state.pending.write,x.queue(Ft,x.createRecord(Ft,{type:x.ContentType.handshake,data:x.createFinished(Ft)})),Ft.expect=W,x.flush(Ft),Ft.process()};if(null===X.session.certificateRequest||null===X.session.clientCertificate)return Pe(X,null);x.getClientSignature(X,Pe)},x.handleChangeCipherSpec=function(X,Z){if(1!==Z.fragment.getByte())return X.error(X,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var ue=X.entity===x.ConnectionEnd.client;(X.session.resuming&&ue||!X.session.resuming&&!ue)&&(X.state.pending=x.createConnectionState(X)),X.state.current.read=X.state.pending.read,(!X.session.resuming&&ue||X.session.resuming&&!ue)&&(X.state.pending=null),X.expect=ue?P:O,X.process()},x.handleFinished=function(X,Z,ue){var Oe=Z.fragment;Oe.read-=4;var Xe=Oe.bytes();Oe.read+=4;var ee=Z.fragment.getBytes();(Oe=f.util.createBuffer()).putBuffer(X.session.md5.digest()),Oe.putBuffer(X.session.sha1.digest());var Pe=X.entity===x.ConnectionEnd.client;if((Oe=c(X.session.sp.master_secret,Pe?"server finished":"client finished",Oe.getBytes(),12)).getBytes()!==ee)return X.error(X,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decrypt_error}});X.session.md5.update(Xe),X.session.sha1.update(Xe),(X.session.resuming&&Pe||!X.session.resuming&&!Pe)&&(x.queue(X,x.createRecord(X,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),X.state.current.write=X.state.pending.write,X.state.pending=null,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createFinished(X)}))),X.expect=Pe?K:N,X.handshaking=!1,++X.handshakes,X.peerCertificate=Pe?X.session.serverCertificate:X.session.clientCertificate,x.flush(X),X.isConnected=!0,X.connected(X),X.process()},x.handleAlert=function(X,Z){var Xe,ue=Z.fragment,Oe={level:ue.getByte(),description:ue.getByte()};switch(Oe.description){case x.Alert.Description.close_notify:Xe="Connection closed.";break;case x.Alert.Description.unexpected_message:Xe="Unexpected message.";break;case x.Alert.Description.bad_record_mac:Xe="Bad record MAC.";break;case x.Alert.Description.decryption_failed:Xe="Decryption failed.";break;case x.Alert.Description.record_overflow:Xe="Record overflow.";break;case x.Alert.Description.decompression_failure:Xe="Decompression failed.";break;case x.Alert.Description.handshake_failure:Xe="Handshake failure.";break;case x.Alert.Description.bad_certificate:Xe="Bad certificate.";break;case x.Alert.Description.unsupported_certificate:Xe="Unsupported certificate.";break;case x.Alert.Description.certificate_revoked:Xe="Certificate revoked.";break;case x.Alert.Description.certificate_expired:Xe="Certificate expired.";break;case x.Alert.Description.certificate_unknown:Xe="Certificate unknown.";break;case x.Alert.Description.illegal_parameter:Xe="Illegal parameter.";break;case x.Alert.Description.unknown_ca:Xe="Unknown certificate authority.";break;case x.Alert.Description.access_denied:Xe="Access denied.";break;case x.Alert.Description.decode_error:Xe="Decode error.";break;case x.Alert.Description.decrypt_error:Xe="Decrypt error.";break;case x.Alert.Description.export_restriction:Xe="Export restriction.";break;case x.Alert.Description.protocol_version:Xe="Unsupported protocol version.";break;case x.Alert.Description.insufficient_security:Xe="Insufficient security.";break;case x.Alert.Description.internal_error:Xe="Internal error.";break;case x.Alert.Description.user_canceled:Xe="User canceled.";break;case x.Alert.Description.no_renegotiation:Xe="Renegotiation not supported.";break;default:Xe="Unknown error."}if(Oe.description===x.Alert.Description.close_notify)return X.close();X.error(X,{message:Xe,send:!1,origin:X.entity===x.ConnectionEnd.client?"server":"client",alert:Oe}),X.process()},x.handleHandshake=function(X,Z){var ue=Z.fragment,Oe=ue.getByte(),Xe=ue.getInt24();if(Xe>ue.length())return X.fragmented=Z,Z.fragment=f.util.createBuffer(),ue.read-=4,X.process();X.fragmented=null,ue.read-=4;var ee=ue.bytes(Xe+4);ue.read+=4,Oe in ht[X.entity][X.expect]?(X.entity===x.ConnectionEnd.server&&!X.open&&!X.fail&&(X.handshaking=!0,X.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:f.md.md5.create(),sha1:f.md.sha1.create()}),Oe!==x.HandshakeType.hello_request&&Oe!==x.HandshakeType.certificate_verify&&Oe!==x.HandshakeType.finished&&(X.session.md5.update(ee),X.session.sha1.update(ee)),ht[X.entity][X.expect][Oe](X,Z,Xe)):x.handleUnexpected(X,Z)},x.handleApplicationData=function(X,Z){X.data.putBuffer(Z.fragment),X.dataReady(X),X.process()},x.handleHeartbeat=function(X,Z){var ue=Z.fragment,Oe=ue.getByte(),Xe=ue.getInt16(),ee=ue.getBytes(Xe);if(Oe===x.HeartbeatMessageType.heartbeat_request){if(X.handshaking||Xe>ee.length)return X.process();x.queue(X,x.createRecord(X,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_response,ee)})),x.flush(X)}else if(Oe===x.HeartbeatMessageType.heartbeat_response){if(ee!==X.expectedHeartbeatPayload)return X.process();X.heartbeatReceived&&X.heartbeatReceived(X,f.util.createBuffer(ee))}X.process()};var M=1,J=2,R=3,L=4,W=5,P=6,K=7,E=8,_=1,Q=2,j=3,ie=4,O=5,N=6,g=x.handleUnexpected,V=x.handleChangeCipherSpec,se=x.handleAlert,ne=x.handleHandshake,xe=x.handleApplicationData,_e=x.handleHeartbeat,Ke=[];Ke[x.ConnectionEnd.client]=[[g,se,ne,g,_e],[g,se,ne,g,_e],[g,se,ne,g,_e],[g,se,ne,g,_e],[g,se,ne,g,_e],[V,se,g,g,_e],[g,se,ne,g,_e],[g,se,ne,xe,_e],[g,se,ne,g,_e]],Ke[x.ConnectionEnd.server]=[[g,se,ne,g,_e],[g,se,ne,g,_e],[g,se,ne,g,_e],[g,se,ne,g,_e],[V,se,g,g,_e],[g,se,ne,g,_e],[g,se,ne,xe,_e],[g,se,ne,g,_e]];var it=x.handleHelloRequest,Le=x.handleCertificate,qe=x.handleServerKeyExchange,ft=x.handleCertificateRequest,Je=x.handleServerHelloDone,Yt=x.handleFinished,ht=[];ht[x.ConnectionEnd.client]=[[g,g,x.handleServerHello,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,Le,qe,ft,Je,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,qe,ft,Je,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,g,ft,Je,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,g,g,Je,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Yt],[it,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[it,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]],ht[x.ConnectionEnd.server]=[[g,x.handleClientHello,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,Le,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x.handleClientKeyExchange,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x.handleCertificateVerify,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Yt],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]],x.generateKeys=function(X,Z){var ue=c,Oe=Z.client_random+Z.server_random;X.session.resuming||(Z.master_secret=ue(Z.pre_master_secret,"master secret",Oe,48).bytes(),Z.pre_master_secret=null);var Xe=2*Z.mac_key_length+2*Z.enc_key_length,ee=X.version.major===x.Versions.TLS_1_0.major&&X.version.minor===x.Versions.TLS_1_0.minor;ee&&(Xe+=2*Z.fixed_iv_length);var Pe=ue(Z.master_secret,"key expansion",Oe=Z.server_random+Z.client_random,Xe),Ft={client_write_MAC_key:Pe.getBytes(Z.mac_key_length),server_write_MAC_key:Pe.getBytes(Z.mac_key_length),client_write_key:Pe.getBytes(Z.enc_key_length),server_write_key:Pe.getBytes(Z.enc_key_length)};return ee&&(Ft.client_write_IV=Pe.getBytes(Z.fixed_iv_length),Ft.server_write_IV=Pe.getBytes(Z.fixed_iv_length)),Ft},x.createConnectionState=function(X){var Z=X.entity===x.ConnectionEnd.client,ue=function(){var ee={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Pe){return!0},compressionState:null,compressFunction:function(Pe){return!0},updateSequenceNumber:function(){4294967295===ee.sequenceNumber[1]?(ee.sequenceNumber[1]=0,++ee.sequenceNumber[0]):++ee.sequenceNumber[1]}};return ee},Oe={read:ue(),write:ue()};if(Oe.read.update=function(ee,Pe){return Oe.read.cipherFunction(Pe,Oe.read)?Oe.read.compressFunction(ee,Pe,Oe.read)||ee.error(ee,{message:"Could not decompress record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decompression_failure}}):ee.error(ee,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_record_mac}}),!ee.fail},Oe.write.update=function(ee,Pe){return Oe.write.compressFunction(ee,Pe,Oe.write)?Oe.write.cipherFunction(Pe,Oe.write)||ee.error(ee,{message:"Could not encrypt record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):ee.error(ee,{message:"Could not compress record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}),!ee.fail},X.session){var Xe=X.session.sp;switch(X.session.cipherSuite.initSecurityParameters(Xe),Xe.keys=x.generateKeys(X,Xe),Oe.read.macKey=Z?Xe.keys.server_write_MAC_key:Xe.keys.client_write_MAC_key,Oe.write.macKey=Z?Xe.keys.client_write_MAC_key:Xe.keys.server_write_MAC_key,X.session.cipherSuite.initConnectionState(Oe,X,Xe),Xe.compression_algorithm){case x.CompressionMethod.none:break;case x.CompressionMethod.deflate:Oe.read.compressFunction=B,Oe.write.compressFunction=F;break;default:throw new Error("Unsupported compression algorithm.")}}return Oe},x.createRandom=function(){var X=new Date,Z=+X+6e4*X.getTimezoneOffset(),ue=f.util.createBuffer();return ue.putInt32(Z),ue.putBytes(f.random.getBytes(28)),ue},x.createRecord=function(X,Z){return Z.data?{type:Z.type,version:{major:X.version.major,minor:X.version.minor},length:Z.data.length(),fragment:Z.data}:null},x.createAlert=function(X,Z){var ue=f.util.createBuffer();return ue.putByte(Z.level),ue.putByte(Z.description),x.createRecord(X,{type:x.ContentType.alert,data:ue})},x.createClientHello=function(X){X.session.clientHelloVersion={major:X.version.major,minor:X.version.minor};for(var Z=f.util.createBuffer(),ue=0;ue<X.cipherSuites.length;++ue){var Oe=X.cipherSuites[ue];Z.putByte(Oe.id[0]),Z.putByte(Oe.id[1])}var Xe=Z.length(),ee=f.util.createBuffer();ee.putByte(x.CompressionMethod.none);var Pe=ee.length(),Ft=f.util.createBuffer();if(X.virtualHost){var ar=f.util.createBuffer();ar.putByte(0),ar.putByte(0);var rr=f.util.createBuffer();rr.putByte(0),A(rr,2,f.util.createBuffer(X.virtualHost));var kt=f.util.createBuffer();A(kt,2,rr),A(ar,2,kt),Ft.putBuffer(ar)}var jt=Ft.length();jt>0&&(jt+=2);var pr=X.session.id,Ar=pr.length+1+2+4+28+2+Xe+1+Pe+jt,re=f.util.createBuffer();return re.putByte(x.HandshakeType.client_hello),re.putInt24(Ar),re.putByte(X.version.major),re.putByte(X.version.minor),re.putBytes(X.session.sp.client_random),A(re,1,f.util.createBuffer(pr)),A(re,2,Z),A(re,1,ee),jt>0&&A(re,2,Ft),re},x.createServerHello=function(X){var Z=X.session.id,ue=Z.length+1+2+4+28+2+1,Oe=f.util.createBuffer();return Oe.putByte(x.HandshakeType.server_hello),Oe.putInt24(ue),Oe.putByte(X.version.major),Oe.putByte(X.version.minor),Oe.putBytes(X.session.sp.server_random),A(Oe,1,f.util.createBuffer(Z)),Oe.putByte(X.session.cipherSuite.id[0]),Oe.putByte(X.session.cipherSuite.id[1]),Oe.putByte(X.session.compressionMethod),Oe},x.createCertificate=function(X){var Z=X.entity===x.ConnectionEnd.client,ue=null;X.getCertificate&&(ue=X.getCertificate(X,Z?X.session.certificateRequest:X.session.extensions.server_name.serverNameList));var Xe=f.util.createBuffer();if(null!==ue)try{f.util.isArray(ue)||(ue=[ue]);for(var ee=null,Pe=0;Pe<ue.length;++Pe){var Ft=f.pem.decode(ue[Pe])[0];if("CERTIFICATE"!==Ft.type&&"X509 CERTIFICATE"!==Ft.type&&"TRUSTED CERTIFICATE"!==Ft.type){var ar=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ar.headerType=Ft.type,ar}if(Ft.procType&&"ENCRYPTED"===Ft.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var rr=f.util.createBuffer(Ft.body);null===ee&&(ee=f.asn1.fromDer(rr.bytes(),!1));var kt=f.util.createBuffer();A(kt,3,rr),Xe.putBuffer(kt)}ue=f.pki.certificateFromAsn1(ee),Z?X.session.clientCertificate=ue:X.session.serverCertificate=ue}catch(Ar){return X.error(X,{message:"Could not send certificate list.",cause:Ar,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var jt=3+Xe.length(),pr=f.util.createBuffer();return pr.putByte(x.HandshakeType.certificate),pr.putInt24(jt),A(pr,3,Xe),pr},x.createClientKeyExchange=function(X){var Z=f.util.createBuffer();Z.putByte(X.session.clientHelloVersion.major),Z.putByte(X.session.clientHelloVersion.minor),Z.putBytes(f.random.getBytes(46));var ue=X.session.sp;ue.pre_master_secret=Z.getBytes();var Xe=(Z=X.session.serverCertificate.publicKey.encrypt(ue.pre_master_secret)).length+2,ee=f.util.createBuffer();return ee.putByte(x.HandshakeType.client_key_exchange),ee.putInt24(Xe),ee.putInt16(Z.length),ee.putBytes(Z),ee},x.createServerKeyExchange=function(X){return f.util.createBuffer()},x.getClientSignature=function(X,Z){var ue=f.util.createBuffer();ue.putBuffer(X.session.md5.digest()),ue.putBuffer(X.session.sha1.digest()),ue=ue.getBytes(),X.getSignature=X.getSignature||function(Oe,Xe,ee){var Pe=null;if(Oe.getPrivateKey)try{Pe=Oe.getPrivateKey(Oe,Oe.session.clientCertificate),Pe=f.pki.privateKeyFromPem(Pe)}catch(Ft){Oe.error(Oe,{message:"Could not get private key.",cause:Ft,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}null===Pe?Oe.error(Oe,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):Xe=Pe.sign(Xe,null),ee(Oe,Xe)},X.getSignature(X,ue,Z)},x.createCertificateVerify=function(X,Z){var ue=Z.length+2,Oe=f.util.createBuffer();return Oe.putByte(x.HandshakeType.certificate_verify),Oe.putInt24(ue),Oe.putInt16(Z.length),Oe.putBytes(Z),Oe},x.createCertificateRequest=function(X){var Z=f.util.createBuffer();Z.putByte(1);var ue=f.util.createBuffer();for(var Oe in X.caStore.certs){var ee=f.pki.distinguishedNameToAsn1(X.caStore.certs[Oe].subject),Pe=f.asn1.toDer(ee);ue.putInt16(Pe.length()),ue.putBuffer(Pe)}var Ft=1+Z.length()+2+ue.length(),ar=f.util.createBuffer();return ar.putByte(x.HandshakeType.certificate_request),ar.putInt24(Ft),A(ar,1,Z),A(ar,2,ue),ar},x.createServerHelloDone=function(X){var Z=f.util.createBuffer();return Z.putByte(x.HandshakeType.server_hello_done),Z.putInt24(0),Z},x.createChangeCipherSpec=function(){var X=f.util.createBuffer();return X.putByte(1),X},x.createFinished=function(X){var Z=f.util.createBuffer();Z.putBuffer(X.session.md5.digest()),Z.putBuffer(X.session.sha1.digest()),Z=c(X.session.sp.master_secret,X.entity===x.ConnectionEnd.client?"client finished":"server finished",Z.getBytes(),12);var Ft=f.util.createBuffer();return Ft.putByte(x.HandshakeType.finished),Ft.putInt24(Z.length()),Ft.putBuffer(Z),Ft},x.createHeartbeat=function(X,Z,ue){typeof ue>"u"&&(ue=Z.length);var Oe=f.util.createBuffer();Oe.putByte(X),Oe.putInt16(ue),Oe.putBytes(Z);var Xe=Oe.length(),ee=Math.max(16,Xe-ue-3);return Oe.putBytes(f.random.getBytes(ee)),Oe},x.queue=function(X,Z){if(Z&&(0!==Z.fragment.length()||Z.type!==x.ContentType.handshake&&Z.type!==x.ContentType.alert&&Z.type!==x.ContentType.change_cipher_spec)){if(Z.type===x.ContentType.handshake){var ue=Z.fragment.bytes();X.session.md5.update(ue),X.session.sha1.update(ue),ue=null}var Oe;if(Z.fragment.length()<=x.MaxFragment)Oe=[Z];else{Oe=[];for(var Xe=Z.fragment.bytes();Xe.length>x.MaxFragment;)Oe.push(x.createRecord(X,{type:Z.type,data:f.util.createBuffer(Xe.slice(0,x.MaxFragment))})),Xe=Xe.slice(x.MaxFragment);Xe.length>0&&Oe.push(x.createRecord(X,{type:Z.type,data:f.util.createBuffer(Xe)}))}for(var ee=0;ee<Oe.length&&!X.fail;++ee){var Pe=Oe[ee];X.state.current.write.update(X,Pe)&&X.records.push(Pe)}}},x.flush=function(X){for(var Z=0;Z<X.records.length;++Z){var ue=X.records[Z];X.tlsData.putByte(ue.type),X.tlsData.putByte(ue.version.major),X.tlsData.putByte(ue.version.minor),X.tlsData.putInt16(ue.fragment.length()),X.tlsData.putBuffer(X.records[Z].fragment)}return X.records=[],X.tlsDataReady(X)};var or=function(X){switch(X){case!0:return!0;case f.pki.certificateError.bad_certificate:return x.Alert.Description.bad_certificate;case f.pki.certificateError.unsupported_certificate:return x.Alert.Description.unsupported_certificate;case f.pki.certificateError.certificate_revoked:return x.Alert.Description.certificate_revoked;case f.pki.certificateError.certificate_expired:return x.Alert.Description.certificate_expired;case f.pki.certificateError.certificate_unknown:return x.Alert.Description.certificate_unknown;case f.pki.certificateError.unknown_ca:return x.Alert.Description.unknown_ca;default:return x.Alert.Description.bad_certificate}};for(var gt in x.verifyCertificateChain=function(X,Z){try{var ue={};for(var Oe in X.verifyOptions)ue[Oe]=X.verifyOptions[Oe];ue.verify=function(ee,Pe,Ft){or(ee);var rr=X.verify(X,ee,Pe,Ft);if(!0!==rr){if("object"==typeof rr&&!f.util.isArray(rr)){var kt=new Error("The application rejected the certificate.");throw kt.send=!0,kt.alert={level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate},rr.message&&(kt.message=rr.message),rr.alert&&(kt.alert.description=rr.alert),kt}rr!==ee&&(rr=function(X){switch(X){case!0:return!0;case x.Alert.Description.bad_certificate:return f.pki.certificateError.bad_certificate;case x.Alert.Description.unsupported_certificate:return f.pki.certificateError.unsupported_certificate;case x.Alert.Description.certificate_revoked:return f.pki.certificateError.certificate_revoked;case x.Alert.Description.certificate_expired:return f.pki.certificateError.certificate_expired;case x.Alert.Description.certificate_unknown:return f.pki.certificateError.certificate_unknown;case x.Alert.Description.unknown_ca:return f.pki.certificateError.unknown_ca;default:return f.pki.certificateError.bad_certificate}}(rr))}return rr},f.pki.verifyCertificateChain(X.caStore,Z,ue)}catch(ee){var Xe=ee;("object"!=typeof Xe||f.util.isArray(Xe))&&(Xe={send:!0,alert:{level:x.Alert.Level.fatal,description:or(ee)}}),"send"in Xe||(Xe.send=!0),"alert"in Xe||(Xe.alert={level:x.Alert.Level.fatal,description:or(Xe.error)}),X.error(X,Xe)}return!X.fail},x.createSessionCache=function(X,Z){var ue=null;if(X&&X.getSession&&X.setSession&&X.order)ue=X;else{for(var Oe in(ue={}).cache=X||{},ue.capacity=Math.max(Z||100,1),ue.order=[],X)ue.order.length<=Z?ue.order.push(Oe):delete X[Oe];ue.getSession=function(Xe){var ee=null,Pe=null;if(Xe?Pe=f.util.bytesToHex(Xe):ue.order.length>0&&(Pe=ue.order[0]),null!==Pe&&Pe in ue.cache)for(var Ft in ee=ue.cache[Pe],delete ue.cache[Pe],ue.order)if(ue.order[Ft]===Pe){ue.order.splice(Ft,1);break}return ee},ue.setSession=function(Xe,ee){if(ue.order.length===ue.capacity){var Pe=ue.order.shift();delete ue.cache[Pe]}Pe=f.util.bytesToHex(Xe),ue.order.push(Pe),ue.cache[Pe]=ee}}return ue},x.createConnection=function(X){var Z;Z=X.caStore?f.util.isArray(X.caStore)?f.pki.createCaStore(X.caStore):X.caStore:f.pki.createCaStore();var ue=X.cipherSuites||null;if(null===ue)for(var Oe in ue=[],x.CipherSuites)ue.push(x.CipherSuites[Oe]);var Xe=X.server?x.ConnectionEnd.server:x.ConnectionEnd.client,ee=X.sessionCache?x.createSessionCache(X.sessionCache):null,Pe={version:{major:x.Version.major,minor:x.Version.minor},entity:Xe,sessionId:X.sessionId,caStore:Z,sessionCache:ee,cipherSuites:ue,connected:X.connected,virtualHost:X.virtualHost||null,verifyClient:X.verifyClient||!1,verify:X.verify||function(kt,jt,pr,Ar){return jt},verifyOptions:X.verifyOptions||{},getCertificate:X.getCertificate||null,getPrivateKey:X.getPrivateKey||null,getSignature:X.getSignature||null,input:f.util.createBuffer(),tlsData:f.util.createBuffer(),data:f.util.createBuffer(),tlsDataReady:X.tlsDataReady,dataReady:X.dataReady,heartbeatReceived:X.heartbeatReceived,closed:X.closed,error:function(kt,jt){jt.origin=jt.origin||(kt.entity===x.ConnectionEnd.client?"client":"server"),jt.send&&(x.queue(kt,x.createAlert(kt,jt.alert)),x.flush(kt));var pr=!1!==jt.fatal;pr&&(kt.fail=!0),X.error(kt,jt),pr&&kt.close(!1)},deflate:X.deflate||null,inflate:X.inflate||null,reset:function(kt){Pe.version={major:x.Version.major,minor:x.Version.minor},Pe.record=null,Pe.session=null,Pe.peerCertificate=null,Pe.state={pending:null,current:null},Pe.expect=0,Pe.fragmented=null,Pe.records=[],Pe.open=!1,Pe.handshakes=0,Pe.handshaking=!1,Pe.isConnected=!1,Pe.fail=!(kt||typeof kt>"u"),Pe.input.clear(),Pe.tlsData.clear(),Pe.data.clear(),Pe.state.current=x.createConnectionState(Pe)}};return Pe.reset(),Pe.handshake=function(kt){if(Pe.entity!==x.ConnectionEnd.client)Pe.error(Pe,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Pe.handshaking)Pe.error(Pe,{message:"Handshake already in progress.",fatal:!1});else{Pe.fail&&!Pe.open&&0===Pe.handshakes&&(Pe.fail=!1),Pe.handshaking=!0;var jt=null;(kt=kt||"").length>0&&(Pe.sessionCache&&(jt=Pe.sessionCache.getSession(kt)),null===jt&&(kt="")),0===kt.length&&Pe.sessionCache&&null!==(jt=Pe.sessionCache.getSession())&&(kt=jt.id),Pe.session={id:kt,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:f.md.md5.create(),sha1:f.md.sha1.create()},jt&&(Pe.version=jt.version,Pe.session.sp=jt.sp),Pe.session.sp.client_random=x.createRandom().getBytes(),Pe.open=!0,x.queue(Pe,x.createRecord(Pe,{type:x.ContentType.handshake,data:x.createClientHello(Pe)})),x.flush(Pe)}},Pe.process=function(kt){var jt=0;return kt&&Pe.input.putBytes(kt),Pe.fail||(null!==Pe.record&&Pe.record.ready&&Pe.record.fragment.isEmpty()&&(Pe.record=null),null===Pe.record&&(jt=function(kt){var jt=0,pr=kt.input,Ar=pr.length();if(Ar<5)jt=5-Ar;else{kt.record={type:pr.getByte(),version:{major:pr.getByte(),minor:pr.getByte()},length:pr.getInt16(),fragment:f.util.createBuffer(),ready:!1};var re=kt.record.version.major===kt.version.major;re&&kt.session&&kt.session.version&&(re=kt.record.version.minor===kt.version.minor),re||kt.error(kt,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}})}return jt}(Pe)),!Pe.fail&&null!==Pe.record&&!Pe.record.ready&&(jt=function(kt){var jt=0,pr=kt.input,Ar=pr.length();return Ar<kt.record.length?jt=kt.record.length-Ar:(kt.record.fragment.putBytes(pr.getBytes(kt.record.length)),pr.compact(),kt.state.current.read.update(kt,kt.record)&&(null!==kt.fragmented&&(kt.fragmented.type===kt.record.type?(kt.fragmented.fragment.putBuffer(kt.record.fragment),kt.record=kt.fragmented):kt.error(kt,{message:"Invalid fragmented record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})),kt.record.ready=!0)),jt}(Pe)),!Pe.fail&&null!==Pe.record&&Pe.record.ready&&function(kt,jt){var pr=jt.type-x.ContentType.change_cipher_spec,Ar=Ke[kt.entity][kt.expect];pr in Ar?Ar[pr](kt,jt):x.handleUnexpected(kt,jt)}(Pe,Pe.record)),jt},Pe.prepare=function(kt){return x.queue(Pe,x.createRecord(Pe,{type:x.ContentType.application_data,data:f.util.createBuffer(kt)})),x.flush(Pe)},Pe.prepareHeartbeatRequest=function(kt,jt){return kt instanceof f.util.ByteBuffer&&(kt=kt.bytes()),typeof jt>"u"&&(jt=kt.length),Pe.expectedHeartbeatPayload=kt,x.queue(Pe,x.createRecord(Pe,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_request,kt,jt)})),x.flush(Pe)},Pe.close=function(kt){if(!Pe.fail&&Pe.sessionCache&&Pe.session){var jt={id:Pe.session.id,version:Pe.session.version,sp:Pe.session.sp};jt.sp.keys=null,Pe.sessionCache.setSession(jt.id,jt)}Pe.open&&(Pe.open=!1,Pe.input.clear(),(Pe.isConnected||Pe.handshaking)&&(Pe.isConnected=Pe.handshaking=!1,x.queue(Pe,x.createAlert(Pe,{level:x.Alert.Level.warning,description:x.Alert.Description.close_notify})),x.flush(Pe)),Pe.closed(Pe)),Pe.reset(kt)},Pe},rt.exports=f.tls=f.tls||{},x)"function"!=typeof x[gt]&&(f.tls[gt]=x[gt]);f.tls.prf_tls1=c,f.tls.hmac_sha1=function(X,Z,ue){var Oe=f.hmac.create();Oe.start("SHA1",X);var Xe=f.util.createBuffer();return Xe.putInt32(Z[0]),Xe.putInt32(Z[1]),Xe.putByte(ue.type),Xe.putByte(ue.version.major),Xe.putByte(ue.version.minor),Xe.putInt16(ue.length),Xe.putBytes(ue.fragment.bytes()),Oe.update(Xe.getBytes()),Oe.digest().getBytes()},f.tls.createSessionCache=x.createSessionCache,f.tls.createConnection=x.createConnection},4747:(rt,ge,z)=>{var f=z(8659),c=z(2020),w=rt.exports=f.util=f.util||{};function m(E){if(8!==E&&16!==E&&24!==E&&32!==E)throw new Error("Only 8, 16, 24, or 32 bits supported: "+E)}function F(E){if(this.data="",this.read=0,"string"==typeof E)this.data=E;else if(w.isArrayBuffer(E)||w.isArrayBufferView(E))if(typeof Buffer<"u"&&E instanceof Buffer)this.data=E.toString("binary");else{var S=new Uint8Array(E);try{this.data=String.fromCharCode.apply(null,S)}catch{for(var _=0;_<S.length;++_)this.putByte(S[_])}}else(E instanceof F||"object"==typeof E&&"string"==typeof E.data&&"number"==typeof E.read)&&(this.data=E.data,this.read=E.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return w.nextTick=process.nextTick,void(w.setImmediate="function"==typeof setImmediate?setImmediate:w.nextTick);if("function"==typeof setImmediate)return w.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(w.nextTick=function(N){return setImmediate(N)});if(w.setImmediate=function(N){setTimeout(N,0)},typeof window<"u"&&"function"==typeof window.postMessage){let N=function(G){if(G.source===window&&G.data===E){G.stopPropagation();var g=S.slice();S.length=0,g.forEach(function(V){V()})}};var E="forge.setImmediate",S=[];w.setImmediate=function(G){S.push(G),1===S.length&&window.postMessage(E,"*")},window.addEventListener("message",N,!0)}if(typeof MutationObserver<"u"){var _=Date.now(),Q=!0,j=document.createElement("div");S=[],new MutationObserver(function(){var G=S.slice();S.length=0,G.forEach(function(g){g()})}).observe(j,{attributes:!0});var ie=w.setImmediate;w.setImmediate=function(G){Date.now()-_>15?(_=Date.now(),ie(G)):(S.push(G),1===S.length&&j.setAttribute("a",Q=!Q))}}w.nextTick=w.setImmediate})(),w.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,w.globalScope=w.isNodejs?global:typeof self>"u"?window:self,w.isArray=Array.isArray||function(E){return"[object Array]"===Object.prototype.toString.call(E)},w.isArrayBuffer=function(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer},w.isArrayBufferView=function(E){return E&&w.isArrayBuffer(E.buffer)&&void 0!==E.byteLength},w.ByteBuffer=F,w.ByteStringBuffer=F,w.ByteStringBuffer.prototype._optimizeConstructedString=function(E){this._constructedStringLength+=E,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},w.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},w.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},w.ByteStringBuffer.prototype.putByte=function(E){return this.putBytes(String.fromCharCode(E))},w.ByteStringBuffer.prototype.fillWithByte=function(E,S){E=String.fromCharCode(E);for(var _=this.data;S>0;)1&S&&(_+=E),(S>>>=1)>0&&(E+=E);return this.data=_,this._optimizeConstructedString(S),this},w.ByteStringBuffer.prototype.putBytes=function(E){return this.data+=E,this._optimizeConstructedString(E.length),this},w.ByteStringBuffer.prototype.putString=function(E){return this.putBytes(w.encodeUtf8(E))},w.ByteStringBuffer.prototype.putInt16=function(E){return this.putBytes(String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},w.ByteStringBuffer.prototype.putInt24=function(E){return this.putBytes(String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},w.ByteStringBuffer.prototype.putInt32=function(E){return this.putBytes(String.fromCharCode(E>>24&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},w.ByteStringBuffer.prototype.putInt16Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255))},w.ByteStringBuffer.prototype.putInt24Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255)+String.fromCharCode(E>>16&255))},w.ByteStringBuffer.prototype.putInt32Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>24&255))},w.ByteStringBuffer.prototype.putInt=function(E,S){m(S);var _="";do{S-=8,_+=String.fromCharCode(E>>S&255)}while(S>0);return this.putBytes(_)},w.ByteStringBuffer.prototype.putSignedInt=function(E,S){return E<0&&(E+=2<<S-1),this.putInt(E,S)},w.ByteStringBuffer.prototype.putBuffer=function(E){return this.putBytes(E.getBytes())},w.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},w.ByteStringBuffer.prototype.getInt16=function(){var E=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,E},w.ByteStringBuffer.prototype.getInt24=function(){var E=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,E},w.ByteStringBuffer.prototype.getInt32=function(){var E=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,E},w.ByteStringBuffer.prototype.getInt16Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,E},w.ByteStringBuffer.prototype.getInt24Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,E},w.ByteStringBuffer.prototype.getInt32Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,E},w.ByteStringBuffer.prototype.getInt=function(E){m(E);var S=0;do{S=(S<<8)+this.data.charCodeAt(this.read++),E-=8}while(E>0);return S},w.ByteStringBuffer.prototype.getSignedInt=function(E){var S=this.getInt(E),_=2<<E-2;return S>=_&&(S-=_<<1),S},w.ByteStringBuffer.prototype.getBytes=function(E){var S;return E?(E=Math.min(this.length(),E),S=this.data.slice(this.read,this.read+E),this.read+=E):0===E?S="":(S=0===this.read?this.data:this.data.slice(this.read),this.clear()),S},w.ByteStringBuffer.prototype.bytes=function(E){return typeof E>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+E)},w.ByteStringBuffer.prototype.at=function(E){return this.data.charCodeAt(this.read+E)},w.ByteStringBuffer.prototype.setAt=function(E,S){return this.data=this.data.substr(0,this.read+E)+String.fromCharCode(S)+this.data.substr(this.read+E+1),this},w.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},w.ByteStringBuffer.prototype.copy=function(){var E=w.createBuffer(this.data);return E.read=this.read,E},w.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},w.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},w.ByteStringBuffer.prototype.truncate=function(E){var S=Math.max(0,this.length()-E);return this.data=this.data.substr(this.read,S),this.read=0,this},w.ByteStringBuffer.prototype.toHex=function(){for(var E="",S=this.read;S<this.data.length;++S){var _=this.data.charCodeAt(S);_<16&&(E+="0"),E+=_.toString(16)}return E},w.ByteStringBuffer.prototype.toString=function(){return w.decodeUtf8(this.bytes())},w.DataBuffer=function T(E,S){this.read=(S=S||{}).readOffset||0,this.growSize=S.growSize||1024;var _=w.isArrayBuffer(E),Q=w.isArrayBufferView(E);if(_||Q)return this.data=_?new DataView(E):new DataView(E.buffer,E.byteOffset,E.byteLength),void(this.write="writeOffset"in S?S.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=E&&this.putBytes(E),"writeOffset"in S&&(this.write=S.writeOffset)},w.DataBuffer.prototype.length=function(){return this.write-this.read},w.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},w.DataBuffer.prototype.accommodate=function(E,S){if(this.length()>=E)return this;S=Math.max(S||this.growSize,E);var _=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),Q=new Uint8Array(this.length()+S);return Q.set(_),this.data=new DataView(Q.buffer),this},w.DataBuffer.prototype.putByte=function(E){return this.accommodate(1),this.data.setUint8(this.write++,E),this},w.DataBuffer.prototype.fillWithByte=function(E,S){this.accommodate(S);for(var _=0;_<S;++_)this.data.setUint8(E);return this},w.DataBuffer.prototype.putBytes=function(E,S){if(w.isArrayBufferView(E)){var Q=(_=new Uint8Array(E.buffer,E.byteOffset,E.byteLength)).byteLength-_.byteOffset;return this.accommodate(Q),new Uint8Array(this.data.buffer,this.write).set(_),this.write+=Q,this}if(w.isArrayBuffer(E)){var _=new Uint8Array(E);return this.accommodate(_.byteLength),new Uint8Array(this.data.buffer).set(_,this.write),this.write+=_.byteLength,this}if(E instanceof w.DataBuffer||"object"==typeof E&&"number"==typeof E.read&&"number"==typeof E.write&&w.isArrayBufferView(E.data))return _=new Uint8Array(E.data.byteLength,E.read,E.length()),this.accommodate(_.byteLength),new Uint8Array(E.data.byteLength,this.write).set(_),this.write+=_.byteLength,this;if(E instanceof w.ByteStringBuffer&&(E=E.data,S="binary"),S=S||"binary","string"==typeof E){var ie;if("hex"===S)return this.accommodate(Math.ceil(E.length/2)),ie=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.hex.decode(E,ie,this.write),this;if("base64"===S)return this.accommodate(3*Math.ceil(E.length/4)),ie=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.base64.decode(E,ie,this.write),this;if("utf8"===S&&(E=w.encodeUtf8(E),S="binary"),"binary"===S||"raw"===S)return this.accommodate(E.length),ie=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.raw.decode(ie),this;if("utf16"===S)return this.accommodate(2*E.length),ie=new Uint16Array(this.data.buffer,this.write),this.write+=w.text.utf16.encode(ie),this;throw new Error("Invalid encoding: "+S)}throw Error("Invalid parameter: "+E)},w.DataBuffer.prototype.putBuffer=function(E){return this.putBytes(E),E.clear(),this},w.DataBuffer.prototype.putString=function(E){return this.putBytes(E,"utf16")},w.DataBuffer.prototype.putInt16=function(E){return this.accommodate(2),this.data.setInt16(this.write,E),this.write+=2,this},w.DataBuffer.prototype.putInt24=function(E){return this.accommodate(3),this.data.setInt16(this.write,E>>8&65535),this.data.setInt8(this.write,E>>16&255),this.write+=3,this},w.DataBuffer.prototype.putInt32=function(E){return this.accommodate(4),this.data.setInt32(this.write,E),this.write+=4,this},w.DataBuffer.prototype.putInt16Le=function(E){return this.accommodate(2),this.data.setInt16(this.write,E,!0),this.write+=2,this},w.DataBuffer.prototype.putInt24Le=function(E){return this.accommodate(3),this.data.setInt8(this.write,E>>16&255),this.data.setInt16(this.write,E>>8&65535,!0),this.write+=3,this},w.DataBuffer.prototype.putInt32Le=function(E){return this.accommodate(4),this.data.setInt32(this.write,E,!0),this.write+=4,this},w.DataBuffer.prototype.putInt=function(E,S){m(S),this.accommodate(S/8);do{S-=8,this.data.setInt8(this.write++,E>>S&255)}while(S>0);return this},w.DataBuffer.prototype.putSignedInt=function(E,S){return m(S),this.accommodate(S/8),E<0&&(E+=2<<S-1),this.putInt(E,S)},w.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},w.DataBuffer.prototype.getInt16=function(){var E=this.data.getInt16(this.read);return this.read+=2,E},w.DataBuffer.prototype.getInt24=function(){var E=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,E},w.DataBuffer.prototype.getInt32=function(){var E=this.data.getInt32(this.read);return this.read+=4,E},w.DataBuffer.prototype.getInt16Le=function(){var E=this.data.getInt16(this.read,!0);return this.read+=2,E},w.DataBuffer.prototype.getInt24Le=function(){var E=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,E},w.DataBuffer.prototype.getInt32Le=function(){var E=this.data.getInt32(this.read,!0);return this.read+=4,E},w.DataBuffer.prototype.getInt=function(E){m(E);var S=0;do{S=(S<<8)+this.data.getInt8(this.read++),E-=8}while(E>0);return S},w.DataBuffer.prototype.getSignedInt=function(E){var S=this.getInt(E),_=2<<E-2;return S>=_&&(S-=_<<1),S},w.DataBuffer.prototype.getBytes=function(E){var S;return E?(E=Math.min(this.length(),E),S=this.data.slice(this.read,this.read+E),this.read+=E):0===E?S="":(S=0===this.read?this.data:this.data.slice(this.read),this.clear()),S},w.DataBuffer.prototype.bytes=function(E){return typeof E>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+E)},w.DataBuffer.prototype.at=function(E){return this.data.getUint8(this.read+E)},w.DataBuffer.prototype.setAt=function(E,S){return this.data.setUint8(E,S),this},w.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},w.DataBuffer.prototype.copy=function(){return new w.DataBuffer(this)},w.DataBuffer.prototype.compact=function(){if(this.read>0){var E=new Uint8Array(this.data.buffer,this.read),S=new Uint8Array(E.byteLength);S.set(E),this.data=new DataView(S),this.write-=this.read,this.read=0}return this},w.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},w.DataBuffer.prototype.truncate=function(E){return this.write=Math.max(0,this.length()-E),this.read=Math.min(this.read,this.write),this},w.DataBuffer.prototype.toHex=function(){for(var E="",S=this.read;S<this.data.byteLength;++S){var _=this.data.getUint8(S);_<16&&(E+="0"),E+=_.toString(16)}return E},w.DataBuffer.prototype.toString=function(E){var S=new Uint8Array(this.data,this.read,this.length());if("binary"===(E=E||"utf8")||"raw"===E)return w.binary.raw.encode(S);if("hex"===E)return w.binary.hex.encode(S);if("base64"===E)return w.binary.base64.encode(S);if("utf8"===E)return w.text.utf8.decode(S);if("utf16"===E)return w.text.utf16.decode(S);throw new Error("Invalid encoding: "+E)},w.createBuffer=function(E,S){return S=S||"raw",void 0!==E&&"utf8"===S&&(E=w.encodeUtf8(E)),new w.ByteBuffer(E)},w.fillString=function(E,S){for(var _="";S>0;)1&S&&(_+=E),(S>>>=1)>0&&(E+=E);return _},w.xorBytes=function(E,S,_){for(var Q="",j="",ie="",O=0,N=0;_>0;--_,++O)j=E.charCodeAt(O)^S.charCodeAt(O),N>=10&&(Q+=ie,ie="",N=0),ie+=String.fromCharCode(j),++N;return Q+ie},w.hexToBytes=function(E){var S="",_=0;for(!0&E.length&&(_=1,S+=String.fromCharCode(parseInt(E[0],16)));_<E.length;_+=2)S+=String.fromCharCode(parseInt(E.substr(_,2),16));return S},w.bytesToHex=function(E){return w.createBuffer(E).toHex()},w.int32ToBytes=function(E){return String.fromCharCode(E>>24&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E)};var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],I="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";w.encode64=function(E,S){for(var j,ie,O,_="",Q="",N=0;N<E.length;)j=E.charCodeAt(N++),ie=E.charCodeAt(N++),O=E.charCodeAt(N++),_+=A.charAt(j>>2),_+=A.charAt((3&j)<<4|ie>>4),isNaN(ie)?_+="==":(_+=A.charAt((15&ie)<<2|O>>6),_+=isNaN(O)?"=":A.charAt(63&O)),S&&_.length>S&&(Q+=_.substr(0,S)+"\r\n",_=_.substr(S));return Q+_},w.decode64=function(E){E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var _,Q,j,ie,S="",O=0;O<E.length;)_=x[E.charCodeAt(O++)-43],Q=x[E.charCodeAt(O++)-43],j=x[E.charCodeAt(O++)-43],ie=x[E.charCodeAt(O++)-43],S+=String.fromCharCode(_<<2|Q>>4),64!==j&&(S+=String.fromCharCode((15&Q)<<4|j>>2),64!==ie&&(S+=String.fromCharCode((3&j)<<6|ie)));return S},w.encodeUtf8=function(E){return unescape(encodeURIComponent(E))},w.decodeUtf8=function(E){return decodeURIComponent(escape(E))},w.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:c.encode,decode:c.decode}},w.binary.raw.encode=function(E){return String.fromCharCode.apply(null,E)},w.binary.raw.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(E.length));for(var j=_=_||0,ie=0;ie<E.length;++ie)Q[j++]=E.charCodeAt(ie);return S?j-_:Q},w.binary.hex.encode=w.bytesToHex,w.binary.hex.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(Math.ceil(E.length/2)));var j=0,ie=_=_||0;for(1&E.length&&(j=1,Q[ie++]=parseInt(E[0],16));j<E.length;j+=2)Q[ie++]=parseInt(E.substr(j,2),16);return S?ie-_:Q},w.binary.base64.encode=function(E,S){for(var j,ie,O,_="",Q="",N=0;N<E.byteLength;)j=E[N++],ie=E[N++],O=E[N++],_+=A.charAt(j>>2),_+=A.charAt((3&j)<<4|ie>>4),isNaN(ie)?_+="==":(_+=A.charAt((15&ie)<<2|O>>6),_+=isNaN(O)?"=":A.charAt(63&O)),S&&_.length>S&&(Q+=_.substr(0,S)+"\r\n",_=_.substr(S));return Q+_},w.binary.base64.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(3*Math.ceil(E.length/4))),E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var j,ie,O,N,G=0,g=_=_||0;G<E.length;)j=x[E.charCodeAt(G++)-43],ie=x[E.charCodeAt(G++)-43],O=x[E.charCodeAt(G++)-43],N=x[E.charCodeAt(G++)-43],Q[g++]=j<<2|ie>>4,64!==O&&(Q[g++]=(15&ie)<<4|O>>2,64!==N&&(Q[g++]=(3&O)<<6|N));return S?g-_:Q.subarray(0,g)},w.binary.base58.encode=function(E,S){return w.binary.baseN.encode(E,I,S)},w.binary.base58.decode=function(E,S){return w.binary.baseN.decode(E,I,S)},w.text={utf8:{},utf16:{}},w.text.utf8.encode=function(E,S,_){E=w.encodeUtf8(E);var Q=S;Q||(Q=new Uint8Array(E.length));for(var j=_=_||0,ie=0;ie<E.length;++ie)Q[j++]=E.charCodeAt(ie);return S?j-_:Q},w.text.utf8.decode=function(E){return w.decodeUtf8(String.fromCharCode.apply(null,E))},w.text.utf16.encode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(2*E.length));for(var j=new Uint16Array(Q.buffer),ie=_=_||0,O=_,N=0;N<E.length;++N)j[O++]=E.charCodeAt(N),ie+=2;return S?ie-_:Q},w.text.utf16.decode=function(E){return String.fromCharCode.apply(null,new Uint16Array(E.buffer))},w.deflate=function(E,S,_){if(S=w.decode64(E.deflate(w.encode64(S)).rval),_){var Q=2;32&S.charCodeAt(1)&&(Q=6),S=S.substring(Q,S.length-4)}return S},w.inflate=function(E,S,_){var Q=E.inflate(w.encode64(S)).rval;return null===Q?null:w.decode64(Q)};var M=function(E,S,_){if(!E)throw new Error("WebStorage not available.");var Q;if(null===_?Q=E.removeItem(S):(_=w.encode64(JSON.stringify(_)),Q=E.setItem(S,_)),typeof Q<"u"&&!0!==Q.rval){var j=new Error(Q.error.message);throw j.id=Q.error.id,j.name=Q.error.name,j}},J=function(E,S){if(!E)throw new Error("WebStorage not available.");var _=E.getItem(S);if(E.init)if(null===_.rval){if(_.error){var Q=new Error(_.error.message);throw Q.id=_.error.id,Q.name=_.error.name,Q}_=null}else _=_.rval;return null!==_&&(_=JSON.parse(w.decode64(_))),_},R=function(E,S,_,Q){var j=J(E,S);null===j&&(j={}),j[_]=Q,M(E,S,j)},L=function(E,S,_){var Q=J(E,S);return null!==Q&&(Q=_ in Q?Q[_]:null),Q},W=function(E,S,_){var Q=J(E,S);if(null!==Q&&_ in Q){delete Q[_];var j=!0;for(var ie in Q){j=!1;break}j&&(Q=null),M(E,S,Q)}},P=function(E,S){M(E,S,null)},K=function(E,S,_){var Q=null;typeof _>"u"&&(_=["web","flash"]);var j,ie=!1,O=null;for(var N in _){j=_[N];try{if("flash"===j||"both"===j){if(null===S[0])throw new Error("Flash local storage not available.");Q=E.apply(this,S),ie="flash"===j}("web"===j||"both"===j)&&(S[0]=localStorage,Q=E.apply(this,S),ie=!0)}catch(G){O=G}if(ie)break}if(!ie)throw O;return Q};w.setItem=function(E,S,_,Q,j){K(R,arguments,j)},w.getItem=function(E,S,_,Q){return K(L,arguments,Q)},w.removeItem=function(E,S,_,Q){K(W,arguments,Q)},w.clearItems=function(E,S,_){K(P,arguments,_)},w.isEmpty=function(E){for(var S in E)if(E.hasOwnProperty(S))return!1;return!0},w.format=function(E){for(var _,Q,S=/%./g,j=0,ie=[],O=0;_=S.exec(E);){(Q=E.substring(O,S.lastIndex-2)).length>0&&ie.push(Q),O=S.lastIndex;var N=_[0][1];switch(N){case"s":case"o":ie.push(j<arguments.length?arguments[1+j++]:"<?>");break;case"%":ie.push("%");break;default:ie.push("<%"+N+"?>")}}return ie.push(E.substring(O)),ie.join("")},w.formatNumber=function(E,S,_,Q){var j=E,ie=isNaN(S=Math.abs(S))?2:S,O=void 0===_?",":_,N=void 0===Q?".":Q,G=j<0?"-":"",g=parseInt(j=Math.abs(+j||0).toFixed(ie),10)+"",V=g.length>3?g.length%3:0;return G+(V?g.substr(0,V)+N:"")+g.substr(V).replace(/(\d{3})(?=\d)/g,"$1"+N)+(ie?O+Math.abs(j-g).toFixed(ie).slice(2):"")},w.formatSize=function(E){return E>=1073741824?w.formatNumber(E/1073741824,2,".","")+" GiB":E>=1048576?w.formatNumber(E/1048576,2,".","")+" MiB":E>=1024?w.formatNumber(E/1024,0)+" KiB":w.formatNumber(E,0)+" bytes"},w.bytesFromIP=function(E){return-1!==E.indexOf(".")?w.bytesFromIPv4(E):-1!==E.indexOf(":")?w.bytesFromIPv6(E):null},w.bytesFromIPv4=function(E){if(4!==(E=E.split(".")).length)return null;for(var S=w.createBuffer(),_=0;_<E.length;++_){var Q=parseInt(E[_],10);if(isNaN(Q))return null;S.putByte(Q)}return S.getBytes()},w.bytesFromIPv6=function(E){for(var S=0,_=2*(8-(E=E.split(":").filter(function(O){return 0===O.length&&++S,!0})).length+S),Q=w.createBuffer(),j=0;j<8;++j)if(E[j]&&0!==E[j].length){var ie=w.hexToBytes(E[j]);ie.length<2&&Q.putByte(0),Q.putBytes(ie)}else Q.fillWithByte(0,_),_=0;return Q.getBytes()},w.bytesToIP=function(E){return 4===E.length?w.bytesToIPv4(E):16===E.length?w.bytesToIPv6(E):null},w.bytesToIPv4=function(E){if(4!==E.length)return null;for(var S=[],_=0;_<E.length;++_)S.push(E.charCodeAt(_));return S.join(".")},w.bytesToIPv6=function(E){if(16!==E.length)return null;for(var S=[],_=[],Q=0,j=0;j<E.length;j+=2){for(var ie=w.bytesToHex(E[j]+E[j+1]);"0"===ie[0]&&"0"!==ie;)ie=ie.substr(1);if("0"===ie){var O=_[_.length-1],N=S.length;O&&N===O.end+1?(O.end=N,O.end-O.start>_[Q].end-_[Q].start&&(Q=_.length-1)):_.push({start:N,end:N})}S.push(ie)}if(_.length>0){var G=_[Q];G.end-G.start>0&&(S.splice(G.start,G.end-G.start+1,""),0===G.start&&S.unshift(""),7===G.end&&S.push(""))}return S.join(":")},w.estimateCores=function(E,S){if("function"==typeof E&&(S=E,E={}),E=E||{},"cores"in w&&!E.update)return S(null,w.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return w.cores=navigator.hardwareConcurrency,S(null,w.cores);if(typeof Worker>"u")return w.cores=1,S(null,w.cores);if(typeof Blob>"u")return w.cores=2,S(null,w.cores);var _=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(O){for(var N=Date.now(),G=N+4;Date.now()<G;);self.postMessage({st:N,et:G})})}.toString(),")()"],{type:"application/javascript"}));!function Q(O,N,G){if(0===N){var g=Math.floor(O.reduce(function(V,se){return V+se},0)/O.length);return w.cores=Math.max(1,g),URL.revokeObjectURL(_),S(null,w.cores)}!function j(O,N){for(var G=[],g=[],V=0;V<O;++V){var se=new Worker(_);se.addEventListener("message",function(ne){if(g.push(ne.data),g.length===O){for(var xe=0;xe<O;++xe)G[xe].terminate();N(null,g)}}),G.push(se)}for(V=0;V<O;++V)G[V].postMessage(V)}(G,function(V,se){O.push(function ie(O,N){for(var G=[],g=0;g<O;++g)for(var V=N[g],se=G[g]=[],ne=0;ne<O;++ne)if(g!==ne){var xe=N[ne];(V.st>xe.st&&V.st<xe.et||xe.st>V.st&&xe.st<V.et)&&se.push(ne)}return G.reduce(function(_e,Ke){return Math.max(_e,Ke.length)},0)}(G,se)),Q(O,N-1,G)})}([],5,16)}},5911:(rt,ge,z)=>{var f=z(8659);z(1298),z(7791),z(279),z(979),z(9386),z(6078),z(8604),z(7256),z(5517),z(4747);var c=f.asn1,w=rt.exports=f.pki=f.pki||{},m=w.oids,F={};F.CN=m.commonName,F.commonName="CN",F.C=m.countryName,F.countryName="C",F.L=m.localityName,F.localityName="L",F.ST=m.stateOrProvinceName,F.stateOrProvinceName="ST",F.O=m.organizationName,F.organizationName="O",F.OU=m.organizationalUnitName,F.organizationalUnitName="OU",F.E=m.emailAddress,F.emailAddress="E";var B=f.pki.rsa.publicKeyValidator,T={name:"Certificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},B,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},A={name:"rsapss",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},I={name:"CertificationRequest",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},B,{name:"CertificationRequestInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function M(O,N){"string"==typeof N&&(N={shortName:N});for(var g,G=null,V=0;null===G&&V<O.attributes.length;++V)g=O.attributes[V],(N.type&&N.type===g.type||N.name&&N.name===g.name||N.shortName&&N.shortName===g.shortName)&&(G=g);return G}w.RDNAttributesAsArray=function(O,N){for(var g,V,se,G=[],ne=0;ne<O.value.length;++ne){g=O.value[ne];for(var xe=0;xe<g.value.length;++xe)(se={}).type=c.derToOid((V=g.value[xe]).value[0].value),se.value=V.value[1].value,se.valueTagClass=V.value[1].type,se.type in m&&(se.name=m[se.type],se.name in F&&(se.shortName=F[se.name])),N&&(N.update(se.type),N.update(se.value)),G.push(se)}return G},w.CRIAttributesAsArray=function(O){for(var N=[],G=0;G<O.length;++G)for(var g=O[G],V=c.derToOid(g.value[0].value),se=g.value[1].value,ne=0;ne<se.length;++ne){var xe={};if(xe.type=V,xe.value=se[ne].value,xe.valueTagClass=se[ne].type,xe.type in m&&(xe.name=m[xe.type],xe.name in F&&(xe.shortName=F[xe.name])),xe.type===m.extensionRequest){xe.extensions=[];for(var _e=0;_e<xe.value.length;++_e)xe.extensions.push(w.certificateExtensionFromAsn1(xe.value[_e]))}N.push(xe)}return N};var J=function(O,N,G){var g={};if(O!==m["RSASSA-PSS"])return g;G&&(g={hash:{algorithmOid:m.sha1},mgf:{algorithmOid:m.mgf1,hash:{algorithmOid:m.sha1}},saltLength:20});var V={},se=[];if(!c.validate(N,A,V,se)){var ne=new Error("Cannot read RSASSA-PSS parameter block.");throw ne.errors=se,ne}return void 0!==V.hashOid&&(g.hash=g.hash||{},g.hash.algorithmOid=c.derToOid(V.hashOid)),void 0!==V.maskGenOid&&(g.mgf=g.mgf||{},g.mgf.algorithmOid=c.derToOid(V.maskGenOid),g.mgf.hash=g.mgf.hash||{},g.mgf.hash.algorithmOid=c.derToOid(V.maskGenHashOid)),void 0!==V.saltLength&&(g.saltLength=V.saltLength.charCodeAt(0)),g},R=function(O){switch(m[O.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return f.md.sha1.create();case"md5WithRSAEncryption":return f.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return f.md.sha256.create();case"sha384WithRSAEncryption":return f.md.sha384.create();case"sha512WithRSAEncryption":return f.md.sha512.create();default:var N=new Error("Could not compute "+O.type+" digest. Unknown signature OID.");throw N.signatureOid=O.signatureOid,N}},L=function(O){var G,N=O.certificate;switch(N.signatureOid){case m.sha1WithRSAEncryption:case m.sha1WithRSASignature:break;case m["RSASSA-PSS"]:var g,V,se;if(void 0===(g=m[N.signatureParameters.mgf.hash.algorithmOid])||void 0===f.md[g])throw(se=new Error("Unsupported MGF hash function.")).oid=N.signatureParameters.mgf.hash.algorithmOid,se.name=g,se;if(void 0===(V=m[N.signatureParameters.mgf.algorithmOid])||void 0===f.mgf[V])throw(se=new Error("Unsupported MGF function.")).oid=N.signatureParameters.mgf.algorithmOid,se.name=V,se;if(V=f.mgf[V].create(f.md[g].create()),void 0===(g=m[N.signatureParameters.hash.algorithmOid])||void 0===f.md[g])throw(se=new Error("Unsupported RSASSA-PSS hash function.")).oid=N.signatureParameters.hash.algorithmOid,se.name=g,se;G=f.pss.create(f.md[g].create(),V,N.signatureParameters.saltLength)}return N.publicKey.verify(O.md.digest().getBytes(),O.signature,G)};function W(O){for(var G,g,N=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),V=O.attributes,se=0;se<V.length;++se){var ne=(G=V[se]).value,xe=c.Type.PRINTABLESTRING;"valueTagClass"in G&&(xe=G.valueTagClass)===c.Type.UTF8&&(ne=f.util.encodeUtf8(ne)),g=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(G.type).getBytes()),c.create(c.Class.UNIVERSAL,xe,!1,ne)])]),N.value.push(g)}return N}function K(O){for(var N,G=0;G<O.length;++G){if(typeof(N=O[G]).name>"u"&&(N.type&&N.type in w.oids?N.name=w.oids[N.type]:N.shortName&&N.shortName in F&&(N.name=w.oids[F[N.shortName]])),typeof N.type>"u"){if(!N.name||!(N.name in w.oids))throw(g=new Error("Attribute type not specified.")).attribute=N,g;N.type=w.oids[N.name]}if(typeof N.shortName>"u"&&N.name&&N.name in F&&(N.shortName=F[N.name]),N.type===m.extensionRequest&&(N.valueConstructed=!0,N.valueTagClass=c.Type.SEQUENCE,!N.value&&N.extensions)){N.value=[];for(var V=0;V<N.extensions.length;++V)N.value.push(w.certificateExtensionToAsn1(E(N.extensions[V])))}var g;if(typeof N.value>"u")throw(g=new Error("Attribute value not specified.")).attribute=N,g}}function E(O,N){if(N=N||{},typeof O.name>"u"&&O.id&&O.id in w.oids&&(O.name=w.oids[O.id]),typeof O.id>"u"){if(!O.name||!(O.name in w.oids))throw(G=new Error("Extension ID not specified.")).extension=O,G;O.id=w.oids[O.name]}if(typeof O.value<"u")return O;if("keyUsage"===O.name){var g=0,V=0,se=0;O.digitalSignature&&(V|=128,g=7),O.nonRepudiation&&(V|=64,g=6),O.keyEncipherment&&(V|=32,g=5),O.dataEncipherment&&(V|=16,g=4),O.keyAgreement&&(V|=8,g=3),O.keyCertSign&&(V|=4,g=2),O.cRLSign&&(V|=2,g=1),O.encipherOnly&&(V|=1,g=0),O.decipherOnly&&(se|=128,g=7);var ne=String.fromCharCode(g);0!==se?ne+=String.fromCharCode(V)+String.fromCharCode(se):0!==V&&(ne+=String.fromCharCode(V)),O.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,ne)}else if("basicConstraints"===O.name)O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),O.cA&&O.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in O&&O.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.pathLenConstraint).getBytes()));else if("extKeyUsage"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);var xe=O.value.value;for(var _e in O)!0===O[_e]&&(_e in m?xe.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(m[_e]).getBytes())):-1!==_e.indexOf(".")&&xe.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(_e).getBytes())))}else if("nsCertType"===O.name)g=0,V=0,O.client&&(V|=128,g=7),O.server&&(V|=64,g=6),O.email&&(V|=32,g=5),O.objsign&&(V|=16,g=4),O.reserved&&(V|=8,g=3),O.sslCA&&(V|=4,g=2),O.emailCA&&(V|=2,g=1),O.objCA&&(V|=1,g=0),ne=String.fromCharCode(g),0!==V&&(ne+=String.fromCharCode(V)),O.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,ne);else if("subjectAltName"===O.name||"issuerAltName"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);for(var it=0;it<O.altNames.length;++it){if(ne=(Ke=O.altNames[it]).value,7===Ke.type&&Ke.ip){if(null===(ne=f.util.bytesFromIP(Ke.ip)))throw(G=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=O,G}else 8===Ke.type&&(ne=c.oidToDer(Ke.oid?c.oidToDer(Ke.oid):ne));O.value.value.push(c.create(c.Class.CONTEXT_SPECIFIC,Ke.type,!1,ne))}}else if("nsComment"===O.name&&N.cert){if(!/^[\x00-\x7F]*$/.test(O.comment)||O.comment.length<1||O.comment.length>128)throw new Error('Invalid "nsComment" content.');O.value=c.create(c.Class.UNIVERSAL,c.Type.IA5STRING,!1,O.comment)}else if("subjectKeyIdentifier"===O.name&&N.cert){var at=N.cert.generateSubjectKeyIdentifier();O.subjectKeyIdentifier=at.toHex(),O.value=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,at.getBytes())}else if("authorityKeyIdentifier"===O.name&&N.cert){if(O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),xe=O.value.value,O.keyIdentifier){var Le=!0===O.keyIdentifier?N.cert.generateSubjectKeyIdentifier().getBytes():O.keyIdentifier;xe.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!1,Le))}if(O.authorityCertIssuer){var qe=[c.create(c.Class.CONTEXT_SPECIFIC,4,!0,[W(!0===O.authorityCertIssuer?N.cert.issuer:O.authorityCertIssuer)])];xe.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,qe))}if(O.serialNumber){var ft=f.util.hexToBytes(!0===O.serialNumber?N.cert.serialNumber:O.serialNumber);xe.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!1,ft))}}else if("cRLDistributionPoints"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),xe=O.value.value;var Ke,Je=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),Yt=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);for(it=0;it<O.altNames.length;++it){if(ne=(Ke=O.altNames[it]).value,7===Ke.type&&Ke.ip){if(null===(ne=f.util.bytesFromIP(Ke.ip)))throw(G=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=O,G}else 8===Ke.type&&(ne=c.oidToDer(Ke.oid?c.oidToDer(Ke.oid):ne));Yt.value.push(c.create(c.Class.CONTEXT_SPECIFIC,Ke.type,!1,ne))}Je.value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[Yt])),xe.push(Je)}var G;if(typeof O.value>"u")throw(G=new Error("Extension value not specified.")).extension=O,G;return O}function S(O,N){if(O===m["RSASSA-PSS"]){var G=[];return void 0!==N.hash.algorithmOid&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])),void 0!==N.mgf.algorithmOid&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.mgf.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.mgf.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])])),void 0!==N.saltLength&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(N.saltLength).getBytes())])),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,G)}return c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")}function _(O){var N=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===O.attributes.length)return N;for(var G=O.attributes,g=0;g<G.length;++g){var V=G[g],se=V.value,ne=c.Type.UTF8;"valueTagClass"in V&&(ne=V.valueTagClass),ne===c.Type.UTF8&&(se=f.util.encodeUtf8(se));var xe=!1;"valueConstructed"in V&&(xe=V.valueConstructed);var _e=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(V.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,ne,xe,se)])]);N.value.push(_e)}return N}w.certificateFromPem=function(O,N,G){var g=f.pem.decode(O)[0];if("CERTIFICATE"!==g.type&&"X509 CERTIFICATE"!==g.type&&"TRUSTED CERTIFICATE"!==g.type){var V=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw V.headerType=g.type,V}if(g.procType&&"ENCRYPTED"===g.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var se=c.fromDer(g.body,G);return w.certificateFromAsn1(se,N)},w.certificateToPem=function(O,N){var G={type:"CERTIFICATE",body:c.toDer(w.certificateToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},w.publicKeyFromPem=function(O){var N=f.pem.decode(O)[0];if("PUBLIC KEY"!==N.type&&"RSA PUBLIC KEY"!==N.type){var G=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw G.headerType=N.type,G}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var g=c.fromDer(N.body);return w.publicKeyFromAsn1(g)},w.publicKeyToPem=function(O,N){var G={type:"PUBLIC KEY",body:c.toDer(w.publicKeyToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},w.publicKeyToRSAPublicKeyPem=function(O,N){var G={type:"RSA PUBLIC KEY",body:c.toDer(w.publicKeyToRSAPublicKey(O)).getBytes()};return f.pem.encode(G,{maxline:N})},w.getPublicKeyFingerprint=function(O,N){var V,G=(N=N||{}).md||f.md.sha1.create();switch(N.type||"RSAPublicKey"){case"RSAPublicKey":V=c.toDer(w.publicKeyToRSAPublicKey(O)).getBytes();break;case"SubjectPublicKeyInfo":V=c.toDer(w.publicKeyToAsn1(O)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+N.type+'".')}G.start(),G.update(V);var se=G.digest();if("hex"===N.encoding){var ne=se.toHex();return N.delimiter?ne.match(/.{2}/g).join(N.delimiter):ne}if("binary"===N.encoding)return se.getBytes();if(N.encoding)throw new Error('Unknown encoding "'+N.encoding+'".');return se},w.certificationRequestFromPem=function(O,N,G){var g=f.pem.decode(O)[0];if("CERTIFICATE REQUEST"!==g.type){var V=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw V.headerType=g.type,V}if(g.procType&&"ENCRYPTED"===g.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var se=c.fromDer(g.body,G);return w.certificationRequestFromAsn1(se,N)},w.certificationRequestToPem=function(O,N){var G={type:"CERTIFICATE REQUEST",body:c.toDer(w.certificationRequestToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},w.createCertificate=function(){var O={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return O.siginfo.algorithmOid=null,O.validity={},O.validity.notBefore=new Date,O.validity.notAfter=new Date,O.issuer={},O.issuer.getField=function(N){return M(O.issuer,N)},O.issuer.addField=function(N){K([N]),O.issuer.attributes.push(N)},O.issuer.attributes=[],O.issuer.hash=null,O.subject={},O.subject.getField=function(N){return M(O.subject,N)},O.subject.addField=function(N){K([N]),O.subject.attributes.push(N)},O.subject.attributes=[],O.subject.hash=null,O.extensions=[],O.publicKey=null,O.md=null,O.setSubject=function(N,G){K(N),O.subject.attributes=N,delete O.subject.uniqueId,G&&(O.subject.uniqueId=G),O.subject.hash=null},O.setIssuer=function(N,G){K(N),O.issuer.attributes=N,delete O.issuer.uniqueId,G&&(O.issuer.uniqueId=G),O.issuer.hash=null},O.setExtensions=function(N){for(var G=0;G<N.length;++G)E(N[G],{cert:O});O.extensions=N},O.getExtension=function(N){"string"==typeof N&&(N={name:N});for(var g,G=null,V=0;null===G&&V<O.extensions.length;++V)g=O.extensions[V],(N.id&&g.id===N.id||N.name&&g.name===N.name)&&(G=g);return G},O.sign=function(N,G){O.md=G||f.md.sha1.create();var g=m[O.md.algorithm+"WithRSAEncryption"];if(!g){var V=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw V.algorithm=O.md.algorithm,V}O.signatureOid=O.siginfo.algorithmOid=g,O.tbsCertificate=w.getTBSCertificate(O);var se=c.toDer(O.tbsCertificate);O.md.update(se.getBytes()),O.signature=N.sign(O.md)},O.verify=function(N){var G=!1;if(!O.issued(N)){var g=N.issuer,V=O.subject,se=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw se.expectedIssuer=V.attributes,se.actualIssuer=g.attributes,se}var ne=N.md;if(null===ne){ne=R({signatureOid:N.signatureOid,type:"certificate"});var xe=N.tbsCertificate||w.getTBSCertificate(N),_e=c.toDer(xe);ne.update(_e.getBytes())}return null!==ne&&(G=L({certificate:O,md:ne,signature:N.signature})),G},O.isIssuer=function(N){var G=!1,g=O.issuer,V=N.subject;if(g.hash&&V.hash)G=g.hash===V.hash;else if(g.attributes.length===V.attributes.length){G=!0;for(var se,ne,xe=0;G&&xe<g.attributes.length;++xe)((se=g.attributes[xe]).type!==(ne=V.attributes[xe]).type||se.value!==ne.value)&&(G=!1)}return G},O.issued=function(N){return N.isIssuer(O)},O.generateSubjectKeyIdentifier=function(){return w.getPublicKeyFingerprint(O.publicKey,{type:"RSAPublicKey"})},O.verifySubjectKeyIdentifier=function(){for(var N=m.subjectKeyIdentifier,G=0;G<O.extensions.length;++G){var g=O.extensions[G];if(g.id===N){var V=O.generateSubjectKeyIdentifier().getBytes();return f.util.hexToBytes(g.subjectKeyIdentifier)===V}}return!1},O},w.certificateFromAsn1=function(O,N){var G={},g=[];if(!c.validate(O,T,G,g)){var V=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw V.errors=g,V}if(c.derToOid(G.publicKeyOid)!==w.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ne=w.createCertificate();ne.version=G.certVersion?G.certVersion.charCodeAt(0):0;var xe=f.util.createBuffer(G.certSerialNumber);ne.serialNumber=xe.toHex(),ne.signatureOid=f.asn1.derToOid(G.certSignatureOid),ne.signatureParameters=J(ne.signatureOid,G.certSignatureParams,!0),ne.siginfo.algorithmOid=f.asn1.derToOid(G.certinfoSignatureOid),ne.siginfo.parameters=J(ne.siginfo.algorithmOid,G.certinfoSignatureParams,!1),ne.signature=G.certSignature;var _e=[];if(void 0!==G.certValidity1UTCTime&&_e.push(c.utcTimeToDate(G.certValidity1UTCTime)),void 0!==G.certValidity2GeneralizedTime&&_e.push(c.generalizedTimeToDate(G.certValidity2GeneralizedTime)),void 0!==G.certValidity3UTCTime&&_e.push(c.utcTimeToDate(G.certValidity3UTCTime)),void 0!==G.certValidity4GeneralizedTime&&_e.push(c.generalizedTimeToDate(G.certValidity4GeneralizedTime)),_e.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(_e.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(ne.validity.notBefore=_e[0],ne.validity.notAfter=_e[1],ne.tbsCertificate=G.tbsCertificate,N){ne.md=R({signatureOid:ne.signatureOid,type:"certificate"});var Ke=c.toDer(ne.tbsCertificate);ne.md.update(Ke.getBytes())}var it=f.md.sha1.create(),at=c.toDer(G.certIssuer);it.update(at.getBytes()),ne.issuer.getField=function(ft){return M(ne.issuer,ft)},ne.issuer.addField=function(ft){K([ft]),ne.issuer.attributes.push(ft)},ne.issuer.attributes=w.RDNAttributesAsArray(G.certIssuer),G.certIssuerUniqueId&&(ne.issuer.uniqueId=G.certIssuerUniqueId),ne.issuer.hash=it.digest().toHex();var Le=f.md.sha1.create(),qe=c.toDer(G.certSubject);return Le.update(qe.getBytes()),ne.subject.getField=function(ft){return M(ne.subject,ft)},ne.subject.addField=function(ft){K([ft]),ne.subject.attributes.push(ft)},ne.subject.attributes=w.RDNAttributesAsArray(G.certSubject),G.certSubjectUniqueId&&(ne.subject.uniqueId=G.certSubjectUniqueId),ne.subject.hash=Le.digest().toHex(),ne.extensions=G.certExtensions?w.certificateExtensionsFromAsn1(G.certExtensions):[],ne.publicKey=w.publicKeyFromAsn1(G.subjectPublicKeyInfo),ne},w.certificateExtensionsFromAsn1=function(O){for(var N=[],G=0;G<O.value.length;++G)for(var g=O.value[G],V=0;V<g.value.length;++V)N.push(w.certificateExtensionFromAsn1(g.value[V]));return N},w.certificateExtensionFromAsn1=function(O){var N={};if(N.id=c.derToOid(O.value[0].value),N.critical=!1,O.value[1].type===c.Type.BOOLEAN?(N.critical=0!==O.value[1].value.charCodeAt(0),N.value=O.value[2].value):N.value=O.value[1].value,N.id in m)if(N.name=m[N.id],"keyUsage"===N.name){var g=0,V=0;(G=c.fromDer(N.value)).value.length>1&&(g=G.value.charCodeAt(1),V=G.value.length>2?G.value.charCodeAt(2):0),N.digitalSignature=128==(128&g),N.nonRepudiation=64==(64&g),N.keyEncipherment=32==(32&g),N.dataEncipherment=16==(16&g),N.keyAgreement=8==(8&g),N.keyCertSign=4==(4&g),N.cRLSign=2==(2&g),N.encipherOnly=1==(1&g),N.decipherOnly=128==(128&V)}else if("basicConstraints"===N.name){var G=c.fromDer(N.value);N.cA=G.value.length>0&&G.value[0].type===c.Type.BOOLEAN&&0!==G.value[0].value.charCodeAt(0);var se=null;G.value.length>0&&G.value[0].type===c.Type.INTEGER?se=G.value[0].value:G.value.length>1&&(se=G.value[1].value),null!==se&&(N.pathLenConstraint=c.derToInteger(se))}else if("extKeyUsage"===N.name){G=c.fromDer(N.value);for(var ne=0;ne<G.value.length;++ne){var xe=c.derToOid(G.value[ne].value);xe in m?N[m[xe]]=!0:N[xe]=!0}}else if("nsCertType"===N.name)g=0,(G=c.fromDer(N.value)).value.length>1&&(g=G.value.charCodeAt(1)),N.client=128==(128&g),N.server=64==(64&g),N.email=32==(32&g),N.objsign=16==(16&g),N.reserved=8==(8&g),N.sslCA=4==(4&g),N.emailCA=2==(2&g),N.objCA=1==(1&g);else if("subjectAltName"===N.name||"issuerAltName"===N.name){N.altNames=[],G=c.fromDer(N.value);for(var _e,Ke=0;Ke<G.value.length;++Ke){var it={type:(_e=G.value[Ke]).type,value:_e.value};switch(N.altNames.push(it),_e.type){case 1:case 2:case 6:break;case 7:it.ip=f.util.bytesToIP(_e.value);break;case 8:it.oid=c.derToOid(_e.value)}}}else"subjectKeyIdentifier"===N.name&&(G=c.fromDer(N.value),N.subjectKeyIdentifier=f.util.bytesToHex(G.value));return N},w.certificationRequestFromAsn1=function(O,N){var G={},g=[];if(!c.validate(O,I,G,g)){var V=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw V.errors=g,V}if(c.derToOid(G.publicKeyOid)!==w.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ne=w.createCertificationRequest();if(ne.version=G.csrVersion?G.csrVersion.charCodeAt(0):0,ne.signatureOid=f.asn1.derToOid(G.csrSignatureOid),ne.signatureParameters=J(ne.signatureOid,G.csrSignatureParams,!0),ne.siginfo.algorithmOid=f.asn1.derToOid(G.csrSignatureOid),ne.siginfo.parameters=J(ne.siginfo.algorithmOid,G.csrSignatureParams,!1),ne.signature=G.csrSignature,ne.certificationRequestInfo=G.certificationRequestInfo,N){ne.md=R({signatureOid:ne.signatureOid,type:"certification request"});var xe=c.toDer(ne.certificationRequestInfo);ne.md.update(xe.getBytes())}var _e=f.md.sha1.create();return ne.subject.getField=function(Ke){return M(ne.subject,Ke)},ne.subject.addField=function(Ke){K([Ke]),ne.subject.attributes.push(Ke)},ne.subject.attributes=w.RDNAttributesAsArray(G.certificationRequestInfoSubject,_e),ne.subject.hash=_e.digest().toHex(),ne.publicKey=w.publicKeyFromAsn1(G.subjectPublicKeyInfo),ne.getAttribute=function(Ke){return M(ne,Ke)},ne.addAttribute=function(Ke){K([Ke]),ne.attributes.push(Ke)},ne.attributes=w.CRIAttributesAsArray(G.certificationRequestInfoAttributes||[]),ne},w.createCertificationRequest=function(){var O={version:0,signatureOid:null,signature:null,siginfo:{}};return O.siginfo.algorithmOid=null,O.subject={},O.subject.getField=function(N){return M(O.subject,N)},O.subject.addField=function(N){K([N]),O.subject.attributes.push(N)},O.subject.attributes=[],O.subject.hash=null,O.publicKey=null,O.attributes=[],O.getAttribute=function(N){return M(O,N)},O.addAttribute=function(N){K([N]),O.attributes.push(N)},O.md=null,O.setSubject=function(N){K(N),O.subject.attributes=N,O.subject.hash=null},O.setAttributes=function(N){K(N),O.attributes=N},O.sign=function(N,G){O.md=G||f.md.sha1.create();var g=m[O.md.algorithm+"WithRSAEncryption"];if(!g){var V=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw V.algorithm=O.md.algorithm,V}O.signatureOid=O.siginfo.algorithmOid=g,O.certificationRequestInfo=w.getCertificationRequestInfo(O);var se=c.toDer(O.certificationRequestInfo);O.md.update(se.getBytes()),O.signature=N.sign(O.md)},O.verify=function(){var N=!1,G=O.md;if(null===G){G=R({signatureOid:O.signatureOid,type:"certification request"});var g=O.certificationRequestInfo||w.getCertificationRequestInfo(O),V=c.toDer(g);G.update(V.getBytes())}return null!==G&&(N=L({certificate:O,md:G,signature:O.signature})),N},O};var Q=new Date("1950-01-01T00:00:00Z"),j=new Date("2050-01-01T00:00:00Z");function ie(O){return O>=Q&&O<j?c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(O)):c.create(c.Class.UNIVERSAL,c.Type.GENERALIZEDTIME,!1,c.dateToGeneralizedTime(O))}w.getTBSCertificate=function(O){var N=ie(O.validity.notBefore),G=ie(O.validity.notAfter),g=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.version).getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(O.serialNumber)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.siginfo.algorithmOid).getBytes()),S(O.siginfo.algorithmOid,O.siginfo.parameters)]),W(O.issuer),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,G]),W(O.subject),w.publicKeyToAsn1(O.publicKey)]);return O.issuer.uniqueId&&g.value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.issuer.uniqueId)])),O.subject.uniqueId&&g.value.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.subject.uniqueId)])),O.extensions.length>0&&g.value.push(w.certificateExtensionsToAsn1(O.extensions)),g},w.getCertificationRequestInfo=function(O){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.version).getBytes()),W(O.subject),w.publicKeyToAsn1(O.publicKey),_(O)])},w.distinguishedNameToAsn1=function(O){return W(O)},w.certificateToAsn1=function(O){var N=O.tbsCertificate||w.getTBSCertificate(O);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.signatureOid).getBytes()),S(O.signatureOid,O.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.signature)])},w.certificateExtensionsToAsn1=function(O){var N=c.create(c.Class.CONTEXT_SPECIFIC,3,!0,[]),G=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);N.value.push(G);for(var g=0;g<O.length;++g)G.value.push(w.certificateExtensionToAsn1(O[g]));return N},w.certificateExtensionToAsn1=function(O){var N=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);N.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.id).getBytes())),O.critical&&N.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255)));var G=O.value;return"string"!=typeof O.value&&(G=c.toDer(G).getBytes()),N.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,G)),N},w.certificationRequestToAsn1=function(O){var N=O.certificationRequestInfo||w.getCertificationRequestInfo(O);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.signatureOid).getBytes()),S(O.signatureOid,O.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.signature)])},w.createCaStore=function(O){var N={certs:{}};function G(ne){return g(ne),N.certs[ne.hash]||null}function g(ne){if(!ne.hash){var xe=f.md.sha1.create();ne.attributes=w.RDNAttributesAsArray(W(ne),xe),ne.hash=xe.digest().toHex()}}if(N.getIssuer=function(ne){return G(ne.issuer)},N.addCertificate=function(ne){if("string"==typeof ne&&(ne=f.pki.certificateFromPem(ne)),g(ne.subject),!N.hasCertificate(ne))if(ne.subject.hash in N.certs){var xe=N.certs[ne.subject.hash];f.util.isArray(xe)||(xe=[xe]),xe.push(ne),N.certs[ne.subject.hash]=xe}else N.certs[ne.subject.hash]=ne},N.hasCertificate=function(ne){"string"==typeof ne&&(ne=f.pki.certificateFromPem(ne));var xe=G(ne.subject);if(!xe)return!1;f.util.isArray(xe)||(xe=[xe]);for(var _e=c.toDer(w.certificateToAsn1(ne)).getBytes(),Ke=0;Ke<xe.length;++Ke)if(_e===c.toDer(w.certificateToAsn1(xe[Ke])).getBytes())return!0;return!1},N.listAllCertificates=function(){var ne=[];for(var xe in N.certs)if(N.certs.hasOwnProperty(xe)){var _e=N.certs[xe];if(f.util.isArray(_e))for(var Ke=0;Ke<_e.length;++Ke)ne.push(_e[Ke]);else ne.push(_e)}return ne},N.removeCertificate=function(ne){var xe;if("string"==typeof ne&&(ne=f.pki.certificateFromPem(ne)),g(ne.subject),!N.hasCertificate(ne))return null;var _e=G(ne.subject);if(!f.util.isArray(_e))return xe=N.certs[ne.subject.hash],delete N.certs[ne.subject.hash],xe;for(var Ke=c.toDer(w.certificateToAsn1(ne)).getBytes(),it=0;it<_e.length;++it)Ke===c.toDer(w.certificateToAsn1(_e[it])).getBytes()&&(xe=_e[it],_e.splice(it,1));return 0===_e.length&&delete N.certs[ne.subject.hash],xe},O)for(var V=0;V<O.length;++V)N.addCertificate(O[V]);return N},w.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},w.verifyCertificateChain=function(O,N,G){"function"==typeof G&&(G={verify:G}),G=G||{};var g=(N=N.slice(0)).slice(0),V=G.validityCheckDate;typeof V>"u"&&(V=new Date);var se=!0,ne=null,xe=0;do{var _e=N.shift(),Ke=null,it=!1;if(V&&(V<_e.validity.notBefore||V>_e.validity.notAfter)&&(ne={message:"Certificate is not valid yet or has expired.",error:w.certificateError.certificate_expired,notBefore:_e.validity.notBefore,notAfter:_e.validity.notAfter,now:V}),null===ne){if(null===(Ke=N[0]||O.getIssuer(_e))&&_e.isIssuer(_e)&&(it=!0,Ke=_e),Ke){var at=Ke;f.util.isArray(at)||(at=[at]);for(var Le=!1;!Le&&at.length>0;){Ke=at.shift();try{Le=Ke.verify(_e)}catch{}}Le||(ne={message:"Certificate signature is invalid.",error:w.certificateError.bad_certificate})}null===ne&&(!Ke||it)&&!O.hasCertificate(_e)&&(ne={message:"Certificate is not trusted.",error:w.certificateError.unknown_ca})}if(null===ne&&Ke&&!_e.isIssuer(Ke)&&(ne={message:"Certificate issuer is invalid.",error:w.certificateError.bad_certificate}),null===ne)for(var qe={keyUsage:!0,basicConstraints:!0},ft=0;null===ne&&ft<_e.extensions.length;++ft){var Je=_e.extensions[ft];Je.critical&&!(Je.name in qe)&&(ne={message:"Certificate has an unsupported critical extension.",error:w.certificateError.unsupported_certificate})}if(null===ne&&(!se||0===N.length&&(!Ke||it))){var Yt=_e.getExtension("basicConstraints"),ht=_e.getExtension("keyUsage");null!==ht&&(!ht.keyCertSign||null===Yt)&&(ne={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:w.certificateError.bad_certificate}),null===ne&&null!==Yt&&!Yt.cA&&(ne={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:w.certificateError.bad_certificate}),null===ne&&null!==ht&&"pathLenConstraint"in Yt&&xe-1>Yt.pathLenConstraint&&(ne={message:"Certificate basicConstraints pathLenConstraint violated.",error:w.certificateError.bad_certificate})}var Mt=null===ne||ne.error,yr=G.verify?G.verify(Mt,xe,g):Mt;if(!0!==yr)throw!0===Mt&&(ne={message:"The application rejected the certificate.",error:w.certificateError.bad_certificate}),(yr||0===yr)&&("object"!=typeof yr||f.util.isArray(yr)?"string"==typeof yr&&(ne.error=yr):(yr.message&&(ne.message=yr.message),yr.error&&(ne.error=yr.error))),ne;ne=null,se=!1,++xe}while(N.length>0);return!0}},3259:(rt,ge,z)=>{const c=z(8695),w=z(1465),m=z(3210),F=z(2334);function B(T,A,x,I,M){const J=[].slice.call(arguments,1),R=J.length,L="function"==typeof J[R-1];if(!L&&!c())throw new Error("Callback required as last argument");if(!L){if(R<1)throw new Error("Too few arguments provided");return 1===R?(x=A,A=I=void 0):2===R&&!A.getContext&&(I=x,x=A,A=void 0),new Promise(function(W,P){try{const K=w.create(x,I);W(T(K,A,I))}catch(K){P(K)}})}if(R<2)throw new Error("Too few arguments provided");2===R?(M=x,x=A,A=I=void 0):3===R&&(A.getContext&&typeof M>"u"?(M=I,I=void 0):(M=I,I=x,x=A,A=void 0));try{const W=w.create(x,I);M(null,T(W,A,I))}catch(W){M(W)}}B.bind(null,m.render),ge.hz=B.bind(null,m.renderToDataURL),B.bind(null,function(T,A,x){return F.render(T,x)})},8695:rt=>{rt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(rt,ge,z)=>{const f=z(4792).getSymbolSize;ge.getRowColCoords=function(w){if(1===w)return[];const m=Math.floor(w/7)+2,F=f(w),B=145===F?26:2*Math.ceil((F-13)/(2*m-2)),T=[F-7];for(let A=1;A<m-1;A++)T[A]=T[A-1]-B;return T.push(6),T.reverse()},ge.getPositions=function(w){const m=[],F=ge.getRowColCoords(w),B=F.length;for(let T=0;T<B;T++)for(let A=0;A<B;A++)0===T&&0===A||0===T&&A===B-1||T===B-1&&0===A||m.push([F[T],F[A]]);return m}},2424:(rt,ge,z)=>{const f=z(4016),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function w(m){this.mode=f.ALPHANUMERIC,this.data=m}w.getBitsLength=function(F){return 11*Math.floor(F/2)+F%2*6},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(F){let B;for(B=0;B+2<=this.data.length;B+=2){let T=45*c.indexOf(this.data[B]);T+=c.indexOf(this.data[B+1]),F.put(T,11)}this.data.length%2&&F.put(c.indexOf(this.data[B]),6)},rt.exports=w},2118:rt=>{function ge(){this.buffer=[],this.length=0}ge.prototype={get:function(z){const f=Math.floor(z/8);return 1==(this.buffer[f]>>>7-z%8&1)},put:function(z,f){for(let c=0;c<f;c++)this.putBit(1==(z>>>f-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(z){const f=Math.floor(this.length/8);this.buffer.length<=f&&this.buffer.push(0),z&&(this.buffer[f]|=128>>>this.length%8),this.length++}},rt.exports=ge},4425:rt=>{function ge(z){if(!z||z<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=z,this.data=new Uint8Array(z*z),this.reservedBit=new Uint8Array(z*z)}ge.prototype.set=function(z,f,c,w){const m=z*this.size+f;this.data[m]=c,w&&(this.reservedBit[m]=!0)},ge.prototype.get=function(z,f){return this.data[z*this.size+f]},ge.prototype.xor=function(z,f,c){this.data[z*this.size+f]^=c},ge.prototype.isReserved=function(z,f){return this.reservedBit[z*this.size+f]},rt.exports=ge},5663:(rt,ge,z)=>{const f=z(8419),c=z(4016);function w(m){this.mode=c.BYTE,"string"==typeof m&&(m=f(m)),this.data=new Uint8Array(m)}w.getBitsLength=function(F){return 8*F},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(m){for(let F=0,B=this.data.length;F<B;F++)m.put(this.data[F],8)},rt.exports=w},4655:(rt,ge,z)=>{const f=z(2259),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],w=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ge.getBlocksCount=function(F,B){switch(B){case f.L:return c[4*(F-1)+0];case f.M:return c[4*(F-1)+1];case f.Q:return c[4*(F-1)+2];case f.H:return c[4*(F-1)+3];default:return}},ge.getTotalCodewordsCount=function(F,B){switch(B){case f.L:return w[4*(F-1)+0];case f.M:return w[4*(F-1)+1];case f.Q:return w[4*(F-1)+2];case f.H:return w[4*(F-1)+3];default:return}}},2259:(rt,ge)=>{ge.L={bit:1},ge.M={bit:0},ge.Q={bit:3},ge.H={bit:2},ge.isValid=function(c){return c&&typeof c.bit<"u"&&c.bit>=0&&c.bit<4},ge.from=function(c,w){if(ge.isValid(c))return c;try{return function z(f){if("string"!=typeof f)throw new Error("Param is not a string");switch(f.toLowerCase()){case"l":case"low":return ge.L;case"m":case"medium":return ge.M;case"q":case"quartile":return ge.Q;case"h":case"high":return ge.H;default:throw new Error("Unknown EC Level: "+f)}}(c)}catch{return w}}},3114:(rt,ge,z)=>{const f=z(4792).getSymbolSize;ge.getPositions=function(m){const F=f(m);return[[0,0],[F-7,0],[0,F-7]]}},7078:(rt,ge,z)=>{const f=z(4792),m=f.getBCHDigit(1335);ge.getEncodedBits=function(B,T){const A=B.bit<<3|T;let x=A<<10;for(;f.getBCHDigit(x)-m>=0;)x^=1335<<f.getBCHDigit(x)-m;return 21522^(A<<10|x)}},5339:(rt,ge)=>{const z=new Uint8Array(512),f=new Uint8Array(256);(function(){let w=1;for(let m=0;m<255;m++)z[m]=w,f[w]=m,w<<=1,256&w&&(w^=285);for(let m=255;m<512;m++)z[m]=z[m-255]})(),ge.log=function(w){if(w<1)throw new Error("log("+w+")");return f[w]},ge.exp=function(w){return z[w]},ge.mul=function(w,m){return 0===w||0===m?0:z[f[w]+f[m]]}},449:(rt,ge,z)=>{const f=z(4016),c=z(4792);function w(m){this.mode=f.KANJI,this.data=m}w.getBitsLength=function(F){return 13*F},w.prototype.getLength=function(){return this.data.length},w.prototype.getBitsLength=function(){return w.getBitsLength(this.data.length)},w.prototype.write=function(m){let F;for(F=0;F<this.data.length;F++){let B=c.toSJIS(this.data[F]);if(B>=33088&&B<=40956)B-=33088;else{if(!(B>=57408&&B<=60351))throw new Error("Invalid SJIS character: "+this.data[F]+"\nMake sure your charset is UTF-8");B-=49472}B=192*(B>>>8&255)+(255&B),m.put(B,13)}},rt.exports=w},3667:(rt,ge)=>{ge.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function f(c,w,m){switch(c){case ge.Patterns.PATTERN000:return(w+m)%2==0;case ge.Patterns.PATTERN001:return w%2==0;case ge.Patterns.PATTERN010:return m%3==0;case ge.Patterns.PATTERN011:return(w+m)%3==0;case ge.Patterns.PATTERN100:return(Math.floor(w/2)+Math.floor(m/3))%2==0;case ge.Patterns.PATTERN101:return w*m%2+w*m%3==0;case ge.Patterns.PATTERN110:return(w*m%2+w*m%3)%2==0;case ge.Patterns.PATTERN111:return(w*m%3+(w+m)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}}ge.isValid=function(w){return null!=w&&""!==w&&!isNaN(w)&&w>=0&&w<=7},ge.from=function(w){return ge.isValid(w)?parseInt(w,10):void 0},ge.getPenaltyN1=function(w){const m=w.size;let F=0,B=0,T=0,A=null,x=null;for(let I=0;I<m;I++){B=T=0,A=x=null;for(let M=0;M<m;M++){let J=w.get(I,M);J===A?B++:(B>=5&&(F+=B-5+3),A=J,B=1),J=w.get(M,I),J===x?T++:(T>=5&&(F+=T-5+3),x=J,T=1)}B>=5&&(F+=B-5+3),T>=5&&(F+=T-5+3)}return F},ge.getPenaltyN2=function(w){const m=w.size;let F=0;for(let B=0;B<m-1;B++)for(let T=0;T<m-1;T++){const A=w.get(B,T)+w.get(B,T+1)+w.get(B+1,T)+w.get(B+1,T+1);(4===A||0===A)&&F++}return 3*F},ge.getPenaltyN3=function(w){const m=w.size;let F=0,B=0,T=0;for(let A=0;A<m;A++){B=T=0;for(let x=0;x<m;x++)B=B<<1&2047|w.get(A,x),x>=10&&(1488===B||93===B)&&F++,T=T<<1&2047|w.get(x,A),x>=10&&(1488===T||93===T)&&F++}return 40*F},ge.getPenaltyN4=function(w){let m=0;const F=w.data.length;for(let T=0;T<F;T++)m+=w.data[T];return 10*Math.abs(Math.ceil(100*m/F/5)-10)},ge.applyMask=function(w,m){const F=m.size;for(let B=0;B<F;B++)for(let T=0;T<F;T++)m.isReserved(T,B)||m.xor(T,B,f(w,T,B))},ge.getBestMask=function(w,m){const F=Object.keys(ge.Patterns).length;let B=0,T=1/0;for(let A=0;A<F;A++){m(A),ge.applyMask(A,w);const x=ge.getPenaltyN1(w)+ge.getPenaltyN2(w)+ge.getPenaltyN3(w)+ge.getPenaltyN4(w);ge.applyMask(A,w),x<T&&(T=x,B=A)}return B}},4016:(rt,ge,z)=>{const f=z(4406),c=z(2699);ge.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ge.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ge.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ge.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ge.MIXED={bit:-1},ge.getCharCountIndicator=function(F,B){if(!F.ccBits)throw new Error("Invalid mode: "+F);if(!f.isValid(B))throw new Error("Invalid version: "+B);return B>=1&&B<10?F.ccBits[0]:B<27?F.ccBits[1]:F.ccBits[2]},ge.getBestModeForData=function(F){return c.testNumeric(F)?ge.NUMERIC:c.testAlphanumeric(F)?ge.ALPHANUMERIC:c.testKanji(F)?ge.KANJI:ge.BYTE},ge.toString=function(F){if(F&&F.id)return F.id;throw new Error("Invalid mode")},ge.isValid=function(F){return F&&F.bit&&F.ccBits},ge.from=function(F,B){if(ge.isValid(F))return F;try{return function w(m){if("string"!=typeof m)throw new Error("Param is not a string");switch(m.toLowerCase()){case"numeric":return ge.NUMERIC;case"alphanumeric":return ge.ALPHANUMERIC;case"kanji":return ge.KANJI;case"byte":return ge.BYTE;default:throw new Error("Unknown mode: "+m)}}(F)}catch{return B}}},7783:(rt,ge,z)=>{const f=z(4016);function c(w){this.mode=f.NUMERIC,this.data=w.toString()}c.getBitsLength=function(m){return 10*Math.floor(m/3)+(m%3?m%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(m){let F,B,T;for(F=0;F+3<=this.data.length;F+=3)B=this.data.substr(F,3),T=parseInt(B,10),m.put(T,10);const A=this.data.length-F;A>0&&(B=this.data.substr(F),T=parseInt(B,10),m.put(T,3*A+1))},rt.exports=c},1106:(rt,ge,z)=>{const f=z(5339);ge.mul=function(w,m){const F=new Uint8Array(w.length+m.length-1);for(let B=0;B<w.length;B++)for(let T=0;T<m.length;T++)F[B+T]^=f.mul(w[B],m[T]);return F},ge.mod=function(w,m){let F=new Uint8Array(w);for(;F.length-m.length>=0;){const B=F[0];for(let A=0;A<m.length;A++)F[A]^=f.mul(m[A],B);let T=0;for(;T<F.length&&0===F[T];)T++;F=F.slice(T)}return F},ge.generateECPolynomial=function(w){let m=new Uint8Array([1]);for(let F=0;F<w;F++)m=ge.mul(m,new Uint8Array([1,f.exp(F)]));return m}},1465:(rt,ge,z)=>{const f=z(4792),c=z(2259),w=z(2118),m=z(4425),F=z(6221),B=z(3114),T=z(3667),A=z(4655),x=z(2636),I=z(2088),M=z(7078),J=z(4016),R=z(2033);function E(ie,O,N){const G=ie.size,g=M.getEncodedBits(O,N);let V,se;for(V=0;V<15;V++)se=1==(g>>V&1),ie.set(V<6?V:V<8?V+1:G-15+V,8,se,!0),ie.set(8,V<8?G-V-1:V<9?15-V-1+1:15-V-1,se,!0);ie.set(G-8,8,1,!0)}function j(ie,O,N,G){let g;if(Array.isArray(ie))g=R.fromArray(ie);else{if("string"!=typeof ie)throw new Error("Invalid data");{let _e=O;if(!_e){const Ke=R.rawSplit(ie);_e=I.getBestVersionForData(Ke,N)}g=R.fromString(ie,_e||40)}}const V=I.getBestVersionForData(g,N);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<V)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+V+".\n")}else O=V;const se=function _(ie,O,N){const G=new w;N.forEach(function(xe){G.put(xe.mode.bit,4),G.put(xe.getLength(),J.getCharCountIndicator(xe.mode,ie)),xe.write(G)});const se=8*(f.getSymbolTotalCodewords(ie)-A.getTotalCodewordsCount(ie,O));for(G.getLengthInBits()+4<=se&&G.put(0,4);G.getLengthInBits()%8!=0;)G.putBit(0);const ne=(se-G.getLengthInBits())/8;for(let xe=0;xe<ne;xe++)G.put(xe%2?17:236,8);return function Q(ie,O,N){const G=f.getSymbolTotalCodewords(O),V=G-A.getTotalCodewordsCount(O,N),se=A.getBlocksCount(O,N),xe=se-G%se,_e=Math.floor(G/se),Ke=Math.floor(V/se),it=Ke+1,at=_e-Ke,Le=new x(at);let qe=0;const ft=new Array(se),Je=new Array(se);let Yt=0;const ht=new Uint8Array(ie.buffer);for(let et=0;et<se;et++){const gt=et<xe?Ke:it;ft[et]=ht.slice(qe,qe+gt),Je[et]=Le.encode(ft[et]),qe+=gt,Yt=Math.max(Yt,gt)}const dr=new Uint8Array(G);let yr,or,Mt=0;for(yr=0;yr<Yt;yr++)for(or=0;or<se;or++)yr<ft[or].length&&(dr[Mt++]=ft[or][yr]);for(yr=0;yr<at;yr++)for(or=0;or<se;or++)dr[Mt++]=Je[or][yr];return dr}(G,ie,O)}(O,N,g),ne=f.getSymbolSize(O),xe=new m(ne);return function L(ie,O){const N=ie.size,G=B.getPositions(O);for(let g=0;g<G.length;g++){const V=G[g][0],se=G[g][1];for(let ne=-1;ne<=7;ne++)if(!(V+ne<=-1||N<=V+ne))for(let xe=-1;xe<=7;xe++)se+xe<=-1||N<=se+xe||ie.set(V+ne,se+xe,ne>=0&&ne<=6&&(0===xe||6===xe)||xe>=0&&xe<=6&&(0===ne||6===ne)||ne>=2&&ne<=4&&xe>=2&&xe<=4,!0)}}(xe,O),function W(ie){const O=ie.size;for(let N=8;N<O-8;N++){const G=N%2==0;ie.set(N,6,G,!0),ie.set(6,N,G,!0)}}(xe),function P(ie,O){const N=F.getPositions(O);for(let G=0;G<N.length;G++){const g=N[G][0],V=N[G][1];for(let se=-2;se<=2;se++)for(let ne=-2;ne<=2;ne++)ie.set(g+se,V+ne,-2===se||2===se||-2===ne||2===ne||0===se&&0===ne,!0)}}(xe,O),E(xe,N,0),O>=7&&function K(ie,O){const N=ie.size,G=I.getEncodedBits(O);let g,V,se;for(let ne=0;ne<18;ne++)g=Math.floor(ne/3),V=ne%3+N-8-3,se=1==(G>>ne&1),ie.set(g,V,se,!0),ie.set(V,g,se,!0)}(xe,O),function S(ie,O){const N=ie.size;let G=-1,g=N-1,V=7,se=0;for(let ne=N-1;ne>0;ne-=2)for(6===ne&&ne--;;){for(let xe=0;xe<2;xe++)if(!ie.isReserved(g,ne-xe)){let _e=!1;se<O.length&&(_e=1==(O[se]>>>V&1)),ie.set(g,ne-xe,_e),V--,-1===V&&(se++,V=7)}if(g+=G,g<0||N<=g){g-=G,G=-G;break}}}(xe,se),isNaN(G)&&(G=T.getBestMask(xe,E.bind(null,xe,N))),T.applyMask(G,xe),E(xe,N,G),{modules:xe,version:O,errorCorrectionLevel:N,maskPattern:G,segments:g}}ge.create=function(O,N){if(typeof O>"u"||""===O)throw new Error("No input text");let g,V,G=c.M;return typeof N<"u"&&(G=c.from(N.errorCorrectionLevel,c.M),g=I.from(N.version),V=T.from(N.maskPattern),N.toSJISFunc&&f.setToSJISFunction(N.toSJISFunc)),j(O,g,G,V)}},2636:(rt,ge,z)=>{const f=z(1106);function c(w){this.genPoly=void 0,this.degree=w,this.degree&&this.initialize(this.degree)}c.prototype.initialize=function(m){this.degree=m,this.genPoly=f.generateECPolynomial(this.degree)},c.prototype.encode=function(m){if(!this.genPoly)throw new Error("Encoder not initialized");const F=new Uint8Array(m.length+this.degree);F.set(m);const B=f.mod(F,this.genPoly),T=this.degree-B.length;if(T>0){const A=new Uint8Array(this.degree);return A.set(B,T),A}return B},rt.exports=c},2699:(rt,ge)=>{const z="[0-9]+";let c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";c=c.replace(/u/g,"\\u");const w="(?:(?![A-Z0-9 $%*+\\-./:]|"+c+")(?:.|[\r\n]))+";ge.KANJI=new RegExp(c,"g"),ge.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ge.BYTE=new RegExp(w,"g"),ge.NUMERIC=new RegExp(z,"g"),ge.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const m=new RegExp("^"+c+"$"),F=new RegExp("^"+z+"$"),B=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ge.testKanji=function(A){return m.test(A)},ge.testNumeric=function(A){return F.test(A)},ge.testAlphanumeric=function(A){return B.test(A)}},2033:(rt,ge,z)=>{const f=z(4016),c=z(7783),w=z(2424),m=z(5663),F=z(449),B=z(2699),T=z(4792),A=z(4901);function x(K){return unescape(encodeURIComponent(K)).length}function I(K,E,S){const _=[];let Q;for(;null!==(Q=K.exec(S));)_.push({data:Q[0],index:Q.index,mode:E,length:Q[0].length});return _}function M(K){const E=I(B.NUMERIC,f.NUMERIC,K),S=I(B.ALPHANUMERIC,f.ALPHANUMERIC,K);let _,Q;return T.isKanjiModeEnabled()?(_=I(B.BYTE,f.BYTE,K),Q=I(B.KANJI,f.KANJI,K)):(_=I(B.BYTE_KANJI,f.BYTE,K),Q=[]),E.concat(S,_,Q).sort(function(ie,O){return ie.index-O.index}).map(function(ie){return{data:ie.data,mode:ie.mode,length:ie.length}})}function J(K,E){switch(E){case f.NUMERIC:return c.getBitsLength(K);case f.ALPHANUMERIC:return w.getBitsLength(K);case f.KANJI:return F.getBitsLength(K);case f.BYTE:return m.getBitsLength(K)}}function P(K,E){let S;const _=f.getBestModeForData(K);if(S=f.from(E,_),S!==f.BYTE&&S.bit<_.bit)throw new Error('"'+K+'" cannot be encoded with mode '+f.toString(S)+".\n Suggested mode is: "+f.toString(_));switch(S===f.KANJI&&!T.isKanjiModeEnabled()&&(S=f.BYTE),S){case f.NUMERIC:return new c(K);case f.ALPHANUMERIC:return new w(K);case f.KANJI:return new F(K);case f.BYTE:return new m(K)}}ge.fromArray=function(E){return E.reduce(function(S,_){return"string"==typeof _?S.push(P(_,null)):_.data&&S.push(P(_.data,_.mode)),S},[])},ge.fromString=function(E,S){const Q=function L(K){const E=[];for(let S=0;S<K.length;S++){const _=K[S];switch(_.mode){case f.NUMERIC:E.push([_,{data:_.data,mode:f.ALPHANUMERIC,length:_.length},{data:_.data,mode:f.BYTE,length:_.length}]);break;case f.ALPHANUMERIC:E.push([_,{data:_.data,mode:f.BYTE,length:_.length}]);break;case f.KANJI:E.push([_,{data:_.data,mode:f.BYTE,length:x(_.data)}]);break;case f.BYTE:E.push([{data:_.data,mode:f.BYTE,length:x(_.data)}])}}return E}(M(E,T.isKanjiModeEnabled())),j=function W(K,E){const S={},_={start:{}};let Q=["start"];for(let j=0;j<K.length;j++){const ie=K[j],O=[];for(let N=0;N<ie.length;N++){const G=ie[N],g=""+j+N;O.push(g),S[g]={node:G,lastCount:0},_[g]={};for(let V=0;V<Q.length;V++){const se=Q[V];S[se]&&S[se].node.mode===G.mode?(_[se][g]=J(S[se].lastCount+G.length,G.mode)-J(S[se].lastCount,G.mode),S[se].lastCount+=G.length):(S[se]&&(S[se].lastCount=G.length),_[se][g]=J(G.length,G.mode)+4+f.getCharCountIndicator(G.mode,E))}}Q=O}for(let j=0;j<Q.length;j++)_[Q[j]].end=0;return{map:_,table:S}}(Q,S),ie=A.find_path(j.map,"start","end"),O=[];for(let N=1;N<ie.length-1;N++)O.push(j.table[ie[N]].node);return ge.fromArray(function R(K){return K.reduce(function(E,S){const _=E.length-1>=0?E[E.length-1]:null;return _&&_.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}(O))},ge.rawSplit=function(E){return ge.fromArray(M(E,T.isKanjiModeEnabled()))}},4792:(rt,ge)=>{let z;const f=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ge.getSymbolSize=function(w){if(!w)throw new Error('"version" cannot be null or undefined');if(w<1||w>40)throw new Error('"version" should be in range from 1 to 40');return 4*w+17},ge.getSymbolTotalCodewords=function(w){return f[w]},ge.getBCHDigit=function(c){let w=0;for(;0!==c;)w++,c>>>=1;return w},ge.setToSJISFunction=function(w){if("function"!=typeof w)throw new Error('"toSJISFunc" is not a valid function.');z=w},ge.isKanjiModeEnabled=function(){return typeof z<"u"},ge.toSJIS=function(w){return z(w)}},4406:(rt,ge)=>{ge.isValid=function(f){return!isNaN(f)&&f>=1&&f<=40}},2088:(rt,ge,z)=>{const f=z(4792),c=z(4655),w=z(2259),m=z(4016),F=z(4406),T=f.getBCHDigit(7973);function x(J,R){return m.getCharCountIndicator(J,R)+4}function I(J,R){let L=0;return J.forEach(function(W){L+=x(W.mode,R)+W.getBitsLength()}),L}ge.from=function(R,L){return F.isValid(R)?parseInt(R,10):L},ge.getCapacity=function(R,L,W){if(!F.isValid(R))throw new Error("Invalid QR Code version");typeof W>"u"&&(W=m.BYTE);const E=8*(f.getSymbolTotalCodewords(R)-c.getTotalCodewordsCount(R,L));if(W===m.MIXED)return E;const S=E-x(W,R);switch(W){case m.NUMERIC:return Math.floor(S/10*3);case m.ALPHANUMERIC:return Math.floor(S/11*2);case m.KANJI:return Math.floor(S/13);default:return Math.floor(S/8)}},ge.getBestVersionForData=function(R,L){let W;const P=w.from(L,w.M);if(Array.isArray(R)){if(R.length>1)return function M(J,R){for(let L=1;L<=40;L++)if(I(J,L)<=ge.getCapacity(L,R,m.MIXED))return L}(R,P);if(0===R.length)return 1;W=R[0]}else W=R;return function A(J,R,L){for(let W=1;W<=40;W++)if(R<=ge.getCapacity(W,L,J))return W}(W.mode,W.getLength(),P)},ge.getEncodedBits=function(R){if(!F.isValid(R)||R<7)throw new Error("Invalid QR Code version");let L=R<<12;for(;f.getBCHDigit(L)-T>=0;)L^=7973<<f.getBCHDigit(L)-T;return R<<12|L}},3210:(rt,ge,z)=>{const f=z(6355);ge.render=function(F,B,T){let A=T,x=B;typeof A>"u"&&(!B||!B.getContext)&&(A=B,B=void 0),B||(x=function w(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),A=f.getOptions(A);const I=f.getImageWidth(F.modules.size,A),M=x.getContext("2d"),J=M.createImageData(I,I);return f.qrToImageData(J.data,F,A),function c(m,F,B){m.clearRect(0,0,F.width,F.height),F.style||(F.style={}),F.height=B,F.width=B,F.style.height=B+"px",F.style.width=B+"px"}(M,x,I),M.putImageData(J,0,0),x},ge.renderToDataURL=function(F,B,T){let A=T;return typeof A>"u"&&(!B||!B.getContext)&&(A=B,B=void 0),A||(A={}),ge.render(F,B,A).toDataURL(A.type||"image/png",(A.rendererOpts||{}).quality)}},2334:(rt,ge,z)=>{const f=z(6355);function c(F,B){const T=F.a/255,A=B+'="'+F.hex+'"';return T<1?A+" "+B+'-opacity="'+T.toFixed(2).slice(1)+'"':A}function w(F,B,T){let A=F+B;return typeof T<"u"&&(A+=" "+T),A}ge.render=function(B,T,A){const x=f.getOptions(T),I=B.modules.size,M=B.modules.data,J=I+2*x.margin,R=x.color.light.a?"<path "+c(x.color.light,"fill")+' d="M0 0h'+J+"v"+J+'H0z"/>':"",L="<path "+c(x.color.dark,"stroke")+' d="'+function m(F,B,T){let A="",x=0,I=!1,M=0;for(let J=0;J<F.length;J++){const R=Math.floor(J%B),L=Math.floor(J/B);!R&&!I&&(I=!0),F[J]?(M++,J>0&&R>0&&F[J-1]||(A+=I?w("M",R+T,.5+L+T):w("m",x,0),x=0,I=!1),R+1<B&&F[J+1]||(A+=w("h",M),M=0)):x++}return A}(M,I,x.margin)+'"/>',K='<svg xmlns="http://www.w3.org/2000/svg" '+(x.width?'width="'+x.width+'" height="'+x.width+'" ':"")+'viewBox="0 0 '+J+" "+J+'" shape-rendering="crispEdges">'+R+L+"</svg>\n";return"function"==typeof A&&A(null,K),K}},6355:(rt,ge)=>{function z(f){if("number"==typeof f&&(f=f.toString()),"string"!=typeof f)throw new Error("Color should be defined as hex string");let c=f.slice().replace("#","").split("");if(c.length<3||5===c.length||c.length>8)throw new Error("Invalid hex color: "+f);(3===c.length||4===c.length)&&(c=Array.prototype.concat.apply([],c.map(function(m){return[m,m]}))),6===c.length&&c.push("F","F");const w=parseInt(c.join(""),16);return{r:w>>24&255,g:w>>16&255,b:w>>8&255,a:255&w,hex:"#"+c.slice(0,6).join("")}}ge.getOptions=function(c){c||(c={}),c.color||(c.color={});const m=c.width&&c.width>=21?c.width:void 0;return{width:m,scale:m?4:c.scale||4,margin:typeof c.margin>"u"||null===c.margin||c.margin<0?4:c.margin,color:{dark:z(c.color.dark||"#000000ff"),light:z(c.color.light||"#ffffffff")},type:c.type,rendererOpts:c.rendererOpts||{}}},ge.getScale=function(c,w){return w.width&&w.width>=c+2*w.margin?w.width/(c+2*w.margin):w.scale},ge.getImageWidth=function(c,w){const m=ge.getScale(c,w);return Math.floor((c+2*w.margin)*m)},ge.qrToImageData=function(c,w,m){const F=w.modules.size,B=w.modules.data,T=ge.getScale(F,m),A=Math.floor((F+2*m.margin)*T),x=m.margin*T,I=[m.color.light,m.color.dark];for(let M=0;M<A;M++)for(let J=0;J<A;J++){let R=4*(M*A+J),L=m.color.light;M>=x&&J>=x&&M<A-x&&J<A-x&&(L=I[B[Math.floor((M-x)/T)*F+Math.floor((J-x)/T)]?1:0]),c[R++]=L.r,c[R++]=L.g,c[R++]=L.b,c[R]=L.a}}},2480:()=>{},5819:()=>{},7156:rt=>{function ge(f,c,w,m,F,B,T){try{var A=f[B](T),x=A.value}catch(I){return void w(I)}A.done?c(x):Promise.resolve(x).then(m,F)}rt.exports=function z(f){return function(){var c=this,w=arguments;return new Promise(function(m,F){var B=f.apply(c,w);function T(x){ge(B,m,F,T,A,"next",x)}function A(x){ge(B,m,F,T,A,"throw",x)}T(void 0)})}},rt.exports.__esModule=!0,rt.exports.default=rt.exports},4585:(rt,ge,z)=>{"use strict";z.d(ge,{HI:()=>Fl,IM:()=>Ul,Lo:()=>kl,Rk:()=>Pl,_:()=>oa,a:()=>Dr,b:()=>sr,c:()=>Xr,d:()=>Kt,e:()=>cs,f:()=>bt,g:()=>Di,i:()=>qr,k$:()=>Ll,m:()=>Dt,pe:()=>Kl,r:()=>Tr,tn:()=>Ml,u:()=>Ce,xh:()=>Bl});var f=z(5861);const c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w=Symbol("doneWritingPromise"),m=Symbol("doneWritingResolve"),F=Symbol("doneWritingReject"),B=Symbol("readingIndex");class T extends Array{constructor(){super(),this[w]=new Promise((n,t)=>{this[m]=n,this[F]=t}),this[w].catch(()=>{})}}function A(i){return i&&i.getReader&&Array.isArray(i)}function x(i){if(!A(i)){const n=i.getWriter(),t=n.releaseLock;return n.releaseLock=()=>{n.closed.catch(function(){}),t.call(n)},n}this.stream=i}T.prototype.getReader=function(){var n,i=this;return void 0===this[B]&&(this[B]=0),{read:(n=(0,f.Z)(function*(){return yield i[w],i[B]===i.length?{value:void 0,done:!0}:{value:i[i[B]++],done:!1}}),function(){return n.apply(this,arguments)})}},T.prototype.readToEnd=function(){var i=(0,f.Z)(function*(n){yield this[w];const t=n(this.slice(this[B]));return this.length=0,t});return function(n){return i.apply(this,arguments)}}(),T.prototype.clone=function(){const i=new T;return i[w]=this[w].then(()=>{i.push(...this)}),i},x.prototype.write=function(){var i=(0,f.Z)(function*(n){this.stream.push(n)});return function(n){return i.apply(this,arguments)}}(),x.prototype.close=(0,f.Z)(function*(){this.stream[m]()}),x.prototype.abort=function(){var i=(0,f.Z)(function*(n){return this.stream[F](n),n});return function(n){return i.apply(this,arguments)}}(),x.prototype.releaseLock=function(){};const I="object"==typeof c.process&&"object"==typeof c.process.versions,M=I&&void 0;function J(i){return A(i)?"array":c.ReadableStream&&c.ReadableStream.prototype.isPrototypeOf(i)?"web":O&&O.prototype.isPrototypeOf(i)?"ponyfill":M&&M.prototype.isPrototypeOf(i)?"node":!(!i||!i.getReader)&&"web-like"}function R(i){return Uint8Array.prototype.isPrototypeOf(i)}function L(i){if(1===i.length)return i[0];let n=0;for(let u=0;u<i.length;u++){if(!R(i[u]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");n+=i[u].length}const t=new Uint8Array(n);let s=0;return i.forEach(function(u){t.set(u,s),s+=u.length}),t}const W=I&&void 0,P=I&&void 0;let K,E;if(P){K=function(n){let t=!1;return new O({start(s){n.pause(),n.on("data",u=>{t||(W.isBuffer(u)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),s.enqueue(u),n.pause())}),n.on("end",()=>{t||s.close()}),n.on("error",u=>s.error(u))},pull(){n.resume()},cancel(s){t=!0,n.destroy(s)}})};class i extends P{constructor(t,s){super(s),this._reader=Ke(t)}_read(t){var s=this;return(0,f.Z)(function*(){try{for(;;){const{done:u,value:h}=yield s._reader.read();if(u){s.push(null);break}if(!s.push(h)||s._cancelling){s._reading=!1;break}}}catch(u){s.emit("error",u)}})()}_destroy(t){this._reader.cancel(t)}}E=function(n,t){return new i(n,t)}}const S=new WeakSet,_=Symbol("externalBuffer");function Q(i){if(this.stream=i,i[_]&&(this[_]=i[_].slice()),A(i)){const s=i.getReader();return this._read=s.read.bind(s),this._releaseLock=()=>{},void(this._cancel=()=>{})}let n=J(i);if("node"===n&&(i=K(i)),n){const s=i.getReader();return this._read=s.read.bind(s),this._releaseLock=()=>{s.closed.catch(function(){}),s.releaseLock()},void(this._cancel=s.cancel.bind(s))}let t=!1;this._read=(0,f.Z)(function*(){return t||S.has(i)?{value:void 0,done:!0}:(t=!0,{value:i,done:!1})}),this._releaseLock=()=>{if(t)try{S.add(i)}catch{}}}Q.prototype.read=(0,f.Z)(function*(){return this[_]&&this[_].length?{done:!1,value:this[_].shift()}:this._read()}),Q.prototype.releaseLock=function(){this[_]&&(this.stream[_]=this[_]),this._releaseLock()},Q.prototype.cancel=function(i){return this._cancel(i)},Q.prototype.readLine=(0,f.Z)(function*(){let i,n=[];for(;!i;){let{done:t,value:s}=yield this.read();if(s+="",t)return n.length?_e(n):void 0;const u=s.indexOf("\n")+1;u&&(i=_e(n.concat(s.substr(0,u))),n=[]),u!==s.length&&n.push(s.substr(u))}return this.unshift(...n),i}),Q.prototype.readByte=(0,f.Z)(function*(){const{done:i,value:n}=yield this.read();if(i)return;const t=n[0];return this.unshift(or(n,1)),t}),Q.prototype.readBytes=function(){var i=(0,f.Z)(function*(n){const t=[];let s=0;for(;;){const{done:u,value:h}=yield this.read();if(u)return t.length?_e(t):void 0;if(t.push(h),s+=h.length,s>=n){const y=_e(t);return this.unshift(or(y,n)),or(y,0,n)}}});return function(n){return i.apply(this,arguments)}}(),Q.prototype.peekBytes=function(){var i=(0,f.Z)(function*(n){const t=yield this.readBytes(n);return this.unshift(t),t});return function(n){return i.apply(this,arguments)}}(),Q.prototype.unshift=function(...i){this[_]||(this[_]=[]),1===i.length&&R(i[0])&&this[_].length&&i[0].length&&this[_][0].byteOffset>=i[0].length?this[_][0]=new Uint8Array(this[_][0].buffer,this[_][0].byteOffset-i[0].length,this[_][0].byteLength+i[0].length):this[_].unshift(...i.filter(n=>n&&n.length))},Q.prototype.readToEnd=(0,f.Z)(function*(i=_e){const n=[];for(;;){const{done:t,value:s}=yield this.read();if(t)break;n.push(s)}return i(n)});let j,ie,{ReadableStream:O,WritableStream:N,TransformStream:G}=c;function g(){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(){if(G)return;const[i,n]=yield Promise.all([z.e(7648).then(z.bind(z,7648)),z.e(1241).then(z.bind(z,1241))]);({ReadableStream:O,WritableStream:N,TransformStream:G}=i);const{createReadableStreamWrapper:t}=n;c.ReadableStream&&O!==c.ReadableStream&&(j=t(O),ie=t(c.ReadableStream))})).apply(this,arguments)}const se=I&&void 0;function ne(i){let n=J(i);return"node"===n?K(i):"web"===n&&j?j(i):n?i:new O({start(t){t.enqueue(i),t.close()}})}function xe(i){if(J(i))return i;const n=new T;return(0,f.Z)(function*(){const t=it(n);yield t.write(i),yield t.close()})(),n}function _e(i){return i.some(n=>J(n)&&!A(n))?function(n){n=n.map(ne);const t=ft(function(){var h=(0,f.Z)(function*(y){yield Promise.all(u.map(v=>X(v,y)))});return function(y){return h.apply(this,arguments)}}());let s=Promise.resolve();const u=n.map((h,y)=>Yt(h,(v,D)=>(s=s.then(()=>at(v,t.writable,{preventClose:y!==n.length-1})),s)));return t.readable}(i):i.some(n=>A(n))?function(n){const t=new T;let s=Promise.resolve();return n.forEach((u,h)=>(s=s.then(()=>at(u,t,{preventClose:h!==n.length-1})),s)),t}(i):"string"==typeof i[0]?i.join(""):se&&se.isBuffer(i[0])?se.concat(i):L(i)}function Ke(i){return new Q(i)}function it(i){return new x(i)}function at(i,n){return Le.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(i,n,{preventClose:t=!1,preventAbort:s=!1,preventCancel:u=!1}={}){if(J(i)&&!A(i)){i=ne(i);try{if(i[_]){const v=it(n);for(let D=0;D<i[_].length;D++)yield v.ready,yield v.write(i[_][D]);v.releaseLock()}yield i.pipeTo(n,{preventClose:t,preventAbort:s,preventCancel:u})}catch{}return}const h=Ke(i=xe(i)),y=it(n);try{for(;;){yield y.ready;const{done:v,value:D}=yield h.read();if(v){t||(yield y.close());break}yield y.write(D)}}catch(v){s||(yield y.abort(v))}finally{h.releaseLock(),y.releaseLock()}})).apply(this,arguments)}function qe(i,n){const t=new G(n);return at(i,t.writable),t.readable}function ft(i){let n,t,s=!1;return{readable:new O({start(u){t=u},pull(){n?n():s=!0},cancel:i},{highWaterMark:0}),writable:new N({write:(u=(0,f.Z)(function*(h){t.enqueue(h),s?s=!1:(yield new Promise(y=>{n=y}),n=null)}),function(y){return u.apply(this,arguments)}),close:t.close.bind(t),abort:t.error.bind(t)})};var u}function Je(i,n=(()=>{}),t=(()=>{})){if(A(i)){const h=new T;return(0,f.Z)(function*(){const y=it(h);try{const v=yield et(i),D=n(v),C=t();let k;k=void 0!==D&&void 0!==C?_e([D,C]):void 0!==D?D:C,yield y.write(k),yield y.close()}catch(v){yield y.abort(v)}})(),h}if(J(i))return qe(i,{transform:(h,y)=>(0,f.Z)(function*(){try{const v=yield n(h);void 0!==v&&y.enqueue(v)}catch(v){y.error(v)}})(),flush:h=>(0,f.Z)(function*(){try{const y=yield t();void 0!==y&&h.enqueue(y)}catch(y){h.error(y)}})()});const s=n(i),u=t();return void 0!==s&&void 0!==u?_e([s,u]):void 0!==s?s:u}function Yt(i,n){if(J(i)&&!A(i)){let s;const u=new G({start(v){s=v}}),h=at(i,u.writable),y=ft(function(){var v=(0,f.Z)(function*(D){s.error(D),yield h,yield new Promise(setTimeout)});return function(D){return v.apply(this,arguments)}}());return n(u.readable,y.writable),y.readable}i=xe(i);const t=new T;return n(i,t),t}function ht(i,n){let t;const s=Yt(i,(u,h)=>{const y=Ke(u);y.remainder=()=>(y.releaseLock(),at(u,h),s),t=n(y)});return t}function dr(i){if(A(i))return i.clone();if(J(i)){const n=function(t){if(A(t))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(J(t)){const s=ne(t).tee();return s[0][_]=s[1][_]=t[_],s}return[or(t),or(t)]}(i);return yr(i,n[0]),n[1]}return or(i)}function Mt(i){return A(i)?dr(i):J(i)?new O({start(n){const t=Yt(i,function(){var s=(0,f.Z)(function*(u,h){const y=Ke(u),v=it(h);try{for(;;){yield v.ready;const{done:D,value:C}=yield y.read();if(D){try{n.close()}catch{}return void(yield v.close())}try{n.enqueue(C)}catch{}yield v.write(C)}}catch(D){n.error(D),yield v.abort(D)}});return function(u,h){return s.apply(this,arguments)}}());yr(i,t)}}):or(i)}function yr(i,n){Object.entries(Object.getOwnPropertyDescriptors(i.constructor.prototype)).forEach(([t,s])=>{"constructor"!==t&&(s.value?s.value=s.value.bind(n):s.get=s.get.bind(n),Object.defineProperty(i,t,s))})}function or(i,n=0,t=1/0){if(A(i))throw Error("Not implemented");if(J(i)){if(n>=0&&t>=0){let s=0;return qe(i,{transform(u,h){s<t?(s+u.length>=n&&h.enqueue(or(u,Math.max(n-s,0),t-s)),s+=u.length):h.terminate()}})}if(n<0&&(t<0||t===1/0)){let s=[];return Je(i,u=>{u.length>=-n?s=[u]:s.push(u)},()=>or(_e(s),n,t))}if(0===n&&t<0){let s;return Je(i,u=>{const h=s?_e([s,u]):u;if(h.length>=-t)return s=or(h,t),or(h,n,t);s=h})}return console.warn(`stream.slice(input, ${n}, ${t}) not implemented efficiently.`),ue((0,f.Z)(function*(){return or(yield et(i),n,t)}))}return i[_]&&(i=_e(i[_].concat([i]))),!R(i)||se&&se.isBuffer(i)?i.slice(n,t):(t===1/0&&(t=i.length),i.subarray(n,t))}function et(i){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(i,n=_e){return A(i)?i.readToEnd(n):J(i)?Ke(i).readToEnd(n):i})).apply(this,arguments)}function X(i,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(i,n){if(J(i)){if(i.cancel)return i.cancel(n);if(i.destroy)return i.destroy(n),yield new Promise(setTimeout),n}})).apply(this,arguments)}function ue(i){const n=new T;return(0,f.Z)(function*(){const t=it(n);try{yield t.write(yield i()),yield t.close()}catch(s){yield t.abort(s)}})(),n}class Oe{constructor(n){if(void 0===n)throw Error("Invalid BigInteger input");if(n instanceof Uint8Array){const t=n,s=Array(t.length);for(let u=0;u<t.length;u++){const h=t[u].toString(16);s[u]=t[u]<=15?"0"+h:h}this.value=BigInt("0x0"+s.join(""))}else this.value=BigInt(n)}clone(){return new Oe(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(n){return this.value+=n.value,this}add(n){return this.clone().iadd(n)}isub(n){return this.value-=n.value,this}sub(n){return this.clone().isub(n)}imul(n){return this.value*=n.value,this}mul(n){return this.clone().imul(n)}imod(n){return this.value%=n.value,this.isNegative()&&this.iadd(n),this}mod(n){return this.clone().imod(n)}modExp(n,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new Oe(0);if(n.isNegative())throw Error("Unsopported negative exponent");let s=n.value,u=this.value;u%=t.value;let h=BigInt(1);for(;s>BigInt(0);){const y=s&BigInt(1);s>>=BigInt(1);const v=h*u%t.value;h=y?v:h,u=u*u%t.value}return new Oe(h)}modInv(n){const{gcd:t,x:s}=this._egcd(n);if(!t.isOne())throw Error("Inverse does not exist");return s.add(n).mod(n)}_egcd(n){let t=BigInt(0),s=BigInt(1),u=BigInt(1),h=BigInt(0),y=this.value;for(n=n.value;n!==BigInt(0);){const v=y/n;let D=t;t=u-v*t,u=D,D=s,s=h-v*s,h=D,D=n,n=y%n,y=D}return{x:new Oe(u),y:new Oe(h),gcd:new Oe(y)}}gcd(n){let t=this.value;for(n=n.value;n!==BigInt(0);){const s=n;n=t%n,t=s}return new Oe(t)}ileftShift(n){return this.value<<=n.value,this}leftShift(n){return this.clone().ileftShift(n)}irightShift(n){return this.value>>=n.value,this}rightShift(n){return this.clone().irightShift(n)}equal(n){return this.value===n.value}lt(n){return this.value<n.value}lte(n){return this.value<=n.value}gt(n){return this.value>n.value}gte(n){return this.value>=n.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const n=this.clone();return this.isNegative()&&(n.value=-n.value),n}toString(){return this.value.toString()}toNumber(){const n=Number(this.value);if(n>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return n}getBit(n){return(this.value>>BigInt(n)&BigInt(1))===BigInt(0)?0:1}bitLength(){const n=new Oe(0),t=new Oe(1),s=new Oe(-1),u=this.isNegative()?s:n;let h=1;const y=this.clone();for(;!y.irightShift(t).equal(u);)h++;return h}byteLength(){const n=new Oe(0),t=new Oe(-1),s=this.isNegative()?t:n,u=new Oe(8);let h=1;const y=this.clone();for(;!y.irightShift(u).equal(s);)h++;return h}toUint8Array(n="be",t){let s=this.value.toString(16);s.length%2==1&&(s="0"+s);const u=s.length/2,h=new Uint8Array(t||u),y=t?t-u:0;let v=0;for(;v<u;)h[v+y]=parseInt(s.slice(2*v,2*v+2),16),v++;return"be"!==n&&h.reverse(),h}}const Xe=(()=>{try{return!1}catch{}return!1})(),ee={isString:function(i){return"string"==typeof i||String.prototype.isPrototypeOf(i)},isArray:function(i){return Array.prototype.isPrototypeOf(i)},isUint8Array:R,isStream:J,readNumber:function(i){let n=0;for(let t=0;t<i.length;t++)n+=256**t*i[i.length-1-t];return n},writeNumber:function(i,n){const t=new Uint8Array(n);for(let s=0;s<n;s++)t[s]=i>>8*(n-s-1)&255;return t},readDate:function(i){const n=ee.readNumber(i);return new Date(1e3*n)},writeDate:function(i){const n=Math.floor(i.getTime()/1e3);return ee.writeNumber(n,4)},normalizeDate:function(i=Date.now()){return null===i||i===1/0?i:new Date(1e3*Math.floor(+i/1e3))},readMPI:function(i){return i.subarray(2,2+(7+(i[0]<<8|i[1])>>>3))},leftPad(i,n){const t=new Uint8Array(n);return t.set(i,n-i.length),t},uint8ArrayToMPI:function(i){const n=ee.uint8ArrayBitLength(i);if(0===n)throw Error("Zero MPI");const t=i.subarray(i.length-Math.ceil(n/8)),s=new Uint8Array([(65280&n)>>8,255&n]);return ee.concatUint8Array([s,t])},uint8ArrayBitLength:function(i){let n;for(n=0;n<i.length&&0===i[n];n++);if(n===i.length)return 0;const t=i.subarray(n);return 8*(t.length-1)+ee.nbits(t[0])},hexToUint8Array:function(i){const n=new Uint8Array(i.length>>1);for(let t=0;t<i.length>>1;t++)n[t]=parseInt(i.substr(t<<1,2),16);return n},uint8ArrayToHex:function(i){const n=[],t=i.length;let s,u=0;for(;u<t;){for(s=i[u++].toString(16);s.length<2;)s="0"+s;n.push(""+s)}return n.join("")},stringToUint8Array:function(i){return Je(i,n=>{if(!ee.isString(n))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(n.length);for(let s=0;s<n.length;s++)t[s]=n.charCodeAt(s);return t})},uint8ArrayToString:function(i){const n=[],s=(i=new Uint8Array(i)).length;for(let u=0;u<s;u+=16384)n.push(String.fromCharCode.apply(String,i.subarray(u,u+16384<s?u+16384:s)));return n.join("")},encodeUTF8:function(i){const n=new TextEncoder("utf-8");function t(s,u=!1){return n.encode(s,{stream:!u})}return Je(i,t,()=>t("",!0))},decodeUTF8:function(i){const n=new TextDecoder("utf-8");function t(s,u=!1){return n.decode(s,{stream:!u})}return Je(i,t,()=>t(new Uint8Array,!0))},concat:_e,concatUint8Array:L,equalsUint8Array:function(i,n){if(!ee.isUint8Array(i)||!ee.isUint8Array(n))throw Error("Data must be in the form of a Uint8Array");if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==n[t])return!1;return!0},writeChecksum:function(i){let n=0;for(let t=0;t<i.length;t++)n=n+i[t]&65535;return ee.writeNumber(n,2)},printDebug:function(i){Xe&&console.log(i)},printDebugError:function(i){Xe&&console.error(i)},nbits:function(i){let n=1,t=i>>>16;return 0!==t&&(i=t,n+=16),t=i>>8,0!==t&&(i=t,n+=8),t=i>>4,0!==t&&(i=t,n+=4),t=i>>2,0!==t&&(i=t,n+=2),t=i>>1,0!==t&&(i=t,n+=1),n},double:function(i){const n=new Uint8Array(i.length),t=i.length-1;for(let s=0;s<t;s++)n[s]=i[s]<<1^i[s+1]>>7;return n[t]=i[t]<<1^135*(i[0]>>7),n},shiftRight:function(i,n){if(n)for(let t=i.length-1;t>=0;t--)i[t]>>=n,t>0&&(i[t]|=i[t-1]<<8-n);return i},getWebCrypto:function(){return void 0!==c&&c.crypto&&c.crypto.subtle},detectBigInt:()=>typeof BigInt<"u",getBigInteger:(i=(0,f.Z)(function*(){if(ee.detectBigInt())return Oe;{const{default:n}=yield Promise.all([z.e(2983),z.e(5058)]).then(z.bind(z,5058));return n}}),function(){return i.apply(this,arguments)}),getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(i){return!!ee.isString(i)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(i)},canonicalizeEOL:function(i){let n=!1;return Je(i,t=>{let s;n&&(t=ee.concatUint8Array([new Uint8Array([13]),t])),13===t[t.length-1]?(n=!0,t=t.subarray(0,-1)):n=!1;const u=[];for(let v=0;s=t.indexOf(10,v)+1,s;v=s)13!==t[s-2]&&u.push(s);if(!u.length)return t;const h=new Uint8Array(t.length+u.length);let y=0;for(let v=0;v<u.length;v++){const D=t.subarray(u[v-1]||0,u[v]);h.set(D,y),y+=D.length,h[y-1]=13,h[y]=10,y++}return h.set(t.subarray(u[u.length-1]||0),y),h},()=>n?new Uint8Array([13]):void 0)},nativeEOL:function(i){let n=!1;return Je(i,t=>{let s;13===(t=n&&10!==t[0]?ee.concatUint8Array([new Uint8Array([13]),t]):new Uint8Array(t))[t.length-1]?(n=!0,t=t.subarray(0,-1)):n=!1;let u=0;for(let h=0;h!==t.length;h=s){s=t.indexOf(13,h)+1,s||(s=t.length);const y=s-(10===t[s]?1:0);h&&t.copyWithin(u,h,y),u+=y-h}return t.subarray(0,u)},()=>n?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(i){return i.split("\n").map(n=>{let t=n.length-1;for(;t>=0&&(" "===n[t]||"\t"===n[t]||"\r"===n[t]);t--);return n.substr(0,t+1)}).join("\n")},wrapError:function(i,n){if(!n)return Error(i);try{n.message=i+": "+n.message}catch{}return n},constructAllowedPackets:function(i){const n={};return i.forEach(t=>{if(!t.tag)throw Error("Invalid input: expected a packet class");n[t.tag]=t}),n},anyPromise:function(i){return new Promise(function(){var n=(0,f.Z)(function*(t,s){let u;yield Promise.all(i.map(function(){var h=(0,f.Z)(function*(y){try{t(yield y)}catch(v){u=v}});return function(y){return h.apply(this,arguments)}}())),s(u)});return function(t,s){return n.apply(this,arguments)}}())},selectUint8Array:function(i,n,t){const s=Math.max(n.length,t.length),u=new Uint8Array(s);let h=0;for(let y=0;y<u.length;y++)u[y]=n[y]&256-i|t[y]&255+i,h+=i&y<n.length|1-i&y<t.length;return u.subarray(0,h)},selectUint8:function(i,n,t){return n&256-i|t&255+i}},Pe=ee.getNodeBuffer();var i;let Ft,ar;function rr(i){let n=new Uint8Array;return Je(i,t=>{n=ee.concatUint8Array([n,t]);const s=[],u=Math.floor(n.length/45),h=45*u,y=Ft(n.subarray(0,h));for(let v=0;v<u;v++)s.push(y.substr(60*v,60)),s.push("\n");return n=n.subarray(h),s.join("")},()=>n.length?Ft(n)+"\n":"")}function kt(i){let n="";return Je(i,t=>{n+=t;let s=0;const u=[" ","\t","\r","\n"];for(let v=0;v<u.length;v++){const D=u[v];for(let C=n.indexOf(D);-1!==C;C=n.indexOf(D,C+1))s++}let h=n.length;for(;h>0&&(h-s)%4!=0;h--)u.includes(n[h])&&s--;const y=ar(n.substr(0,h));return n=n.substr(h),y},()=>ar(n))}function jt(i){return kt(i.replace(/-/g,"+").replace(/_/g,"/"))}function pr(i,n){let t=rr(i).replace(/[\r\n]/g,"");return n&&(t=t.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),t}Pe?(Ft=i=>Pe.from(i).toString("base64"),ar=i=>{const n=Pe.from(i,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}):(Ft=i=>btoa(ee.uint8ArrayToString(i)),ar=i=>ee.stringToUint8Array(atob(i)));const Ar=Symbol("byValue");var re={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(i,n){if("number"==typeof n&&(n=this.read(i,n)),void 0!==i[n])return i[n];throw Error("Invalid enum value.")},read:function(i,n){if(i[Ar]||(i[Ar]=[],Object.entries(i).forEach(([t,s])=>{i[Ar][s]=t})),void 0!==i[Ar][n])return i[Ar][n];throw Error("Invalid enum value.")}},Lt={preferredHashAlgorithm:re.hash.sha256,preferredSymmetricAlgorithm:re.symmetric.aes256,preferredCompressionAlgorithm:re.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:re.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([re.symmetric.aes128,re.symmetric.aes192,re.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.4.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([re.hash.md5,re.hash.ripemd]),rejectMessageHashAlgorithms:new Set([re.hash.md5,re.hash.ripemd,re.hash.sha1]),rejectPublicKeyAlgorithms:new Set([re.publicKey.elgamal,re.publicKey.dsa]),rejectCurves:new Set([re.curve.brainpoolP256r1,re.curve.brainpoolP384r1,re.curve.brainpoolP512r1,re.curve.secp256k1])};function sn(i){const n=i.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!n)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(n[1])?re.armor.multipartSection:/MESSAGE, PART \d+/.test(n[1])?re.armor.multipartLast:/SIGNED MESSAGE/.test(n[1])?re.armor.signed:/MESSAGE/.test(n[1])?re.armor.message:/PUBLIC KEY BLOCK/.test(n[1])?re.armor.publicKey:/PRIVATE KEY BLOCK/.test(n[1])?re.armor.privateKey:/SIGNATURE/.test(n[1])?re.armor.signature:void 0}function Yr(i,n){let t="";return n.showVersion&&(t+="Version: "+n.versionString+"\n"),n.showComment&&(t+="Comment: "+n.commentString+"\n"),i&&(t+="Comment: "+i+"\n"),t+="\n",t}function wr(i){return rr(function(n){let t=13501623;return Je(n,s=>{const u=jr?Math.floor(s.length/4):0,h=new Uint32Array(s.buffer,s.byteOffset,u);for(let y=0;y<u;y++)t^=h[y],t=Nt[0][t>>24&255]^Nt[1][t>>16&255]^Nt[2][t>>8&255]^Nt[3][t>>0&255];for(let y=4*u;y<s.length;y++)t=t>>8^Nt[0][255&t^s[y]]},()=>new Uint8Array([t,t>>8,t>>16]))}(i))}const Nt=[Array(255),Array(255),Array(255),Array(255)];for(let i=0;i<=255;i++){let n=i<<16;for(let t=0;t<8;t++)n=n<<1^(0!=(8388608&n)?8801531:0);Nt[0][i]=(16711680&n)>>16|65280&n|(255&n)<<16}for(let i=0;i<=255;i++)Nt[1][i]=Nt[0][i]>>8^Nt[0][255&Nt[0][i]];for(let i=0;i<=255;i++)Nt[2][i]=Nt[1][i]>>8^Nt[0][255&Nt[1][i]];for(let i=0;i<=255;i++)Nt[3][i]=Nt[2][i]>>8^Nt[0][255&Nt[2][i]];const jr=function(){const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,255,!0),255===new Int16Array(i)[0]}();function Ir(i){for(let n=0;n<i.length;n++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(i[n]))throw Error("Improperly formatted armor header: "+i[n]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(i[n])||ee.printDebugError(Error("Unknown header: "+i[n]))}}function Rr(i){let n=i,t="";const s=i.lastIndexOf("=");return s>=0&&s!==i.length-1&&(n=i.slice(0,s),t=i.slice(s+1).substr(0,4)),{body:n,checksum:t}}function on(i,n=Lt){return new Promise(function(){var t=(0,f.Z)(function*(s,u){try{const h=/^-----[^-]+-----$/m,y=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let v;const D=[];let C,k,q,le=D,ae=[],Ae=kt(Yt(i,function(){var Ne=(0,f.Z)(function*(Fe,ot){const yt=Ke(Fe);try{for(;;){let Ie=yield yt.readLine();if(void 0===Ie)throw Error("Misformed armored text");if(Ie=ee.removeTrailingSpaces(Ie.replace(/[\r\n]/g,"")),v)if(C)k||2!==v||(h.test(Ie)?(ae=ae.join("\r\n"),k=!0,Ir(le),le=[],C=!1):ae.push(Ie.replace(/^- /,"")));else if(h.test(Ie)&&u(Error("Mandatory blank line missing between armor headers and armor data")),y.test(Ie)){if(Ir(le),C=!0,k||2!==v){s({text:ae,data:Ae,headers:D,type:v});break}}else le.push(Ie);else h.test(Ie)&&(v=sn(Ie))}}catch(Ie){return void u(Ie)}const $e=it(ot);try{for(;;){yield $e.ready;const{done:Ie,value:vt}=yield yt.read();if(Ie)throw Error("Misformed armored text");const ut=vt+"";if(-1!==ut.indexOf("=")||-1!==ut.indexOf("-")){let xt=yield yt.readToEnd();xt.length||(xt=""),xt=ut+xt,xt=ee.removeTrailingSpaces(xt.replace(/\r/g,""));const St=xt.split(h);if(1===St.length)throw Error("Misformed armored text");const Ct=Rr(St[0].slice(0,-1));q=Ct.checksum,yield $e.write(Ct.body);break}yield $e.write(ut)}yield $e.ready,yield $e.close()}catch(Ie){yield $e.abort(Ie)}});return function(Fe,ot){return Ne.apply(this,arguments)}}()));Ae=Yt(Ae,function(){var Ne=(0,f.Z)(function*(Fe,ot){const yt=et(wr(Mt(Fe)));yt.catch(()=>{}),yield at(Fe,ot,{preventClose:!0});const $e=it(ot);try{const Ie=(yield yt).replace("\n","");if(q!==Ie&&(q||n.checksumRequired))throw Error("Ascii armor integrity check failed");yield $e.ready,yield $e.close()}catch(Ie){yield $e.abort(Ie)}});return function(Fe,ot){return Ne.apply(this,arguments)}}())}catch(h){u(h)}});return function(s,u){return t.apply(this,arguments)}}()).then(function(){var t=(0,f.Z)(function*(s){return A(s.data)&&(s.data=yield et(s.data)),s});return function(s){return t.apply(this,arguments)}}())}function In(i,n,t,s,u,h=Lt){let y,v;i===re.armor.signed&&(y=n.text,v=n.hash,n=n.data);const D=Mt(n),C=[];switch(i){case re.armor.multipartSection:C.push("-----BEGIN PGP MESSAGE, PART "+t+"/"+s+"-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP MESSAGE, PART "+t+"/"+s+"-----\n");break;case re.armor.multipartLast:C.push("-----BEGIN PGP MESSAGE, PART "+t+"-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP MESSAGE, PART "+t+"-----\n");break;case re.armor.signed:C.push("\n-----BEGIN PGP SIGNED MESSAGE-----\n"),C.push("Hash: "+v+"\n\n"),C.push(y.replace(/^-/gm,"- -")),C.push("\n-----BEGIN PGP SIGNATURE-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP SIGNATURE-----\n");break;case re.armor.message:C.push("-----BEGIN PGP MESSAGE-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP MESSAGE-----\n");break;case re.armor.publicKey:C.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case re.armor.privateKey:C.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case re.armor.signature:C.push("-----BEGIN PGP SIGNATURE-----\n"),C.push(Yr(u,h)),C.push(rr(n)),C.push("=",wr(D)),C.push("-----END PGP SIGNATURE-----\n")}return ee.concat(C)}class fn{constructor(){this.bytes=""}read(n){this.bytes=ee.uint8ArrayToString(n.subarray(0,8))}write(){return ee.stringToUint8Array(this.bytes)}toHex(){return ee.uint8ArrayToHex(ee.stringToUint8Array(this.bytes))}equals(n,t=!1){return t&&(n.isWildcard()||this.isWildcard())||this.bytes===n.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(n){return n.toHex()}static fromID(n){const t=new fn;return t.read(ee.hexToUint8Array(n)),t}static wildcard(){const n=new fn;return n.read(new Uint8Array(8)),n}}var qt=function(){var i,n,t=!1;function s(q,le){var ae=i[(n[q]+n[le])%255];return 0!==q&&0!==le||(ae=0),ae}var u,h,y,v,D=!1,k=function(q,le){D||function C(){function q(Ne){var Fe,ot,yt,$e,Ie;for(Ie=void 0,Ie=i[255-n[$e=Ne]],0===$e&&(Ie=0),ot=yt=Ie,Fe=0;Fe<4;Fe++)yt^=ot=255&(ot<<1|ot>>>7);return 99^yt}t||function(){i=[],n=[];var Ne,Fe,ot=1;for(Ne=0;Ne<255;Ne++)i[Ne]=ot,Fe=128&ot,ot<<=1,ot&=255,128===Fe&&(ot^=27),ot^=i[Ne],n[i[Ne]]=Ne;i[255]=i[0],n[0]=0,t=!0}(),u=[],h=[],y=[[],[],[],[]],v=[[],[],[],[]];for(var le=0;le<256;le++){var ae=q(le);u[le]=ae,h[ae]=le,y[0][le]=s(2,ae)<<24|ae<<16|ae<<8|s(3,ae),v[0][ae]=s(14,le)<<24|s(9,le)<<16|s(13,le)<<8|s(11,le);for(var Ae=1;Ae<4;Ae++)y[Ae][le]=y[Ae-1][le]>>>8|y[Ae-1][le]<<24,v[Ae][ae]=v[Ae-1][ae]>>>8|v[Ae-1][ae]<<24}D=!0}();var ae=new Uint32Array(le);ae.set(u,512),ae.set(h,768);for(var Ae=0;Ae<4;Ae++)ae.set(y[Ae],4096+1024*Ae>>2),ae.set(v[Ae],8192+1024*Ae>>2);var Ne=function(Fe,ot,yt){var $e=0,Ie=0,vt=0,ut=0,xt=0,St=0,Ct=0,zt=0,lr=0,ur=0,vr=0,Gt=0,mt=0,zr=0,dt=0,Zt=0,xr=0,Er=0,gr=0,fr=0,Sr=0,Jt=new Fe.Uint32Array(yt),Me=new Fe.Uint8Array(yt);function st(Ee,we,Te,Xt,Hr,an,ln,$r){we|=0,Xt|=0,Hr|=0,an|=0,ln|=0,$r|=0;var Fn,Gn,Wn,Qr=0,En=0,yn=0,Kr=0;for(Fn=1024|(Te|=0),Gn=2048|Te,Wn=3072|Te,Hr^=Jt[(0|(Ee|=0))>>2],an^=Jt[(4|Ee)>>2],ln^=Jt[(8|Ee)>>2],$r^=Jt[(12|Ee)>>2],Kr=16;(0|Kr)<=Xt<<4;Kr=Kr+16|0)Qr=Jt[(Te|an>>22&1020)>>2]^Jt[(Fn|ln>>14&1020)>>2]^Jt[(Gn|$r>>6&1020)>>2]^Jt[(Wn|Hr<<2&1020)>>2]^Jt[(Ee|Kr|4)>>2],En=Jt[(Te|ln>>22&1020)>>2]^Jt[(Fn|$r>>14&1020)>>2]^Jt[(Gn|Hr>>6&1020)>>2]^Jt[(Wn|an<<2&1020)>>2]^Jt[(Ee|Kr|8)>>2],yn=Jt[(Te|$r>>22&1020)>>2]^Jt[(Fn|Hr>>14&1020)>>2]^Jt[(Gn|an>>6&1020)>>2]^Jt[(Wn|ln<<2&1020)>>2]^Jt[(Ee|Kr|12)>>2],Hr=Jt[(Te|Hr>>22&1020)>>2]^Jt[(Fn|an>>14&1020)>>2]^Jt[(Gn|ln>>6&1020)>>2]^Jt[(Wn|$r<<2&1020)>>2]^Jt[(Ee|Kr|0)>>2],an=Qr,ln=En,$r=yn;$e=Jt[(we|Hr>>22&1020)>>2]<<24^Jt[(we|an>>14&1020)>>2]<<16^Jt[(we|ln>>6&1020)>>2]<<8^Jt[(we|$r<<2&1020)>>2]^Jt[(Ee|Kr|0)>>2],Ie=Jt[(we|an>>22&1020)>>2]<<24^Jt[(we|ln>>14&1020)>>2]<<16^Jt[(we|$r>>6&1020)>>2]<<8^Jt[(we|Hr<<2&1020)>>2]^Jt[(Ee|Kr|4)>>2],vt=Jt[(we|ln>>22&1020)>>2]<<24^Jt[(we|$r>>14&1020)>>2]<<16^Jt[(we|Hr>>6&1020)>>2]<<8^Jt[(we|an<<2&1020)>>2]^Jt[(Ee|Kr|8)>>2],ut=Jt[(we|$r>>22&1020)>>2]<<24^Jt[(we|Hr>>14&1020)>>2]<<16^Jt[(we|an>>6&1020)>>2]<<8^Jt[(we|ln<<2&1020)>>2]^Jt[(Ee|Kr|12)>>2]}function lt(Ee,we,Te,Xt){st(0,2048,4096,Sr,Ee|=0,we|=0,Te|=0,Xt|=0)}function Re(Ee,we,Te,Xt){st(0,2048,4096,Sr,xt^(Ee|=0),St^(we|=0),Ct^(Te|=0),zt^(Xt|=0)),xt=$e,St=Ie,Ct=vt,zt=ut}var je=[lt,function Y(Ee,we,Te,Xt){var Hr;st(1024,3072,8192,Sr,Ee|=0,Xt|=0,Te|=0,we|=0),Hr=Ie,Ie=ut,ut=Hr},Re,function wt(Ee,we,Te,Xt){var Hr;st(1024,3072,8192,Sr,Ee|=0,Xt|=0,Te|=0,we|=0),Hr=Ie,Ie=ut,ut=Hr,$e^=xt,Ie^=St,vt^=Ct,ut^=zt,xt=Ee,St=we,Ct=Te,zt=Xt},function It(Ee,we,Te,Xt){Ee|=0,we|=0,Te|=0,Xt|=0,st(0,2048,4096,Sr,xt,St,Ct,zt),xt=$e^=Ee,St=Ie^=we,Ct=vt^=Te,zt=ut^=Xt},function _t(Ee,we,Te,Xt){Ee|=0,we|=0,Te|=0,Xt|=0,st(0,2048,4096,Sr,xt,St,Ct,zt),$e^=Ee,Ie^=we,vt^=Te,ut^=Xt,xt=Ee,St=we,Ct=Te,zt=Xt},function pe(Ee,we,Te,Xt){Ee|=0,we|=0,Te|=0,Xt|=0,st(0,2048,4096,Sr,xt,St,Ct,zt),xt=$e,St=Ie,Ct=vt,zt=ut,$e^=Ee,Ie^=we,vt^=Te,ut^=Xt},function oe(Ee,we,Te,Xt){Ee|=0,we|=0,Te|=0,Xt|=0,st(0,2048,4096,Sr,lr,ur,vr,Gt),lr=~mt&lr|mt&lr+(0==(0|(ur=~zr&ur|zr&ur+(0==(0|(vr=~dt&vr|dt&vr+(0==(0|(Gt=~Zt&Gt|Zt&Gt+1))))))))),$e^=Ee,Ie^=we,vt^=Te,ut^=Xt}],We=[Re,function ye(Ee,we,Te,Xt){Ee|=0,we|=0,Te|=0,Xt|=0;var Hr=0,an=0,ln=0,$r=0,Fn=0,Gn=0,Wn=0,si=0,Qr=0,En=0;for(Ee^=xt,we^=St,Te^=Ct,Xt^=zt,Hr=0|xr,an=0|Er,ln=0|gr,$r=0|fr;(0|Qr)<128;Qr=Qr+1|0)Hr>>>31&&(Fn^=Ee,Gn^=we,Wn^=Te,si^=Xt),Hr=Hr<<1|an>>>31,an=an<<1|ln>>>31,ln=ln<<1|$r>>>31,$r<<=1,En=1&Xt,Xt=Xt>>>1|Te<<31,Te=Te>>>1|we<<31,we=we>>>1|Ee<<31,Ee>>>=1,En&&(Ee^=3774873600);xt=Fn,St=Gn,Ct=Wn,zt=si}];return{set_rounds:function be(Ee){Sr=Ee|=0},set_state:function Ge(Ee,we,Te,Xt){$e=Ee|=0,Ie=we|=0,vt=Te|=0,ut=Xt|=0},set_iv:function Ue(Ee,we,Te,Xt){xt=Ee|=0,St=we|=0,Ct=Te|=0,zt=Xt|=0},set_nonce:function Ye(Ee,we,Te,Xt){lr=Ee|=0,ur=we|=0,vr=Te|=0,Gt=Xt|=0},set_mask:function ir(Ee,we,Te,Xt){mt=Ee|=0,zr=we|=0,dt=Te|=0,Zt=Xt|=0},set_counter:function $t(Ee,we,Te,Xt){Gt=~Zt&Gt|Zt&(Xt|=0),vr=~dt&vr|dt&(Te|=0),ur=~zr&ur|zr&(we|=0),lr=~mt&lr|mt&(Ee|=0)},get_state:function nr(Ee){return 15&(Ee|=0)?-1:(Me[0|Ee]=$e>>>24,Me[1|Ee]=$e>>>16&255,Me[2|Ee]=$e>>>8&255,Me[3|Ee]=255&$e,Me[4|Ee]=Ie>>>24,Me[5|Ee]=Ie>>>16&255,Me[6|Ee]=Ie>>>8&255,Me[7|Ee]=255&Ie,Me[8|Ee]=vt>>>24,Me[9|Ee]=vt>>>16&255,Me[10|Ee]=vt>>>8&255,Me[11|Ee]=255&vt,Me[12|Ee]=ut>>>24,Me[13|Ee]=ut>>>16&255,Me[14|Ee]=ut>>>8&255,Me[15|Ee]=255&ut,16)},get_iv:function er(Ee){return 15&(Ee|=0)?-1:(Me[0|Ee]=xt>>>24,Me[1|Ee]=xt>>>16&255,Me[2|Ee]=xt>>>8&255,Me[3|Ee]=255&xt,Me[4|Ee]=St>>>24,Me[5|Ee]=St>>>16&255,Me[6|Ee]=St>>>8&255,Me[7|Ee]=255&St,Me[8|Ee]=Ct>>>24,Me[9|Ee]=Ct>>>16&255,Me[10|Ee]=Ct>>>8&255,Me[11|Ee]=255&Ct,Me[12|Ee]=zt>>>24,Me[13|Ee]=zt>>>16&255,Me[14|Ee]=zt>>>8&255,Me[15|Ee]=255&zt,16)},gcm_init:function He(){lt(0,0,0,0),xr=$e,Er=Ie,gr=vt,fr=ut},cipher:function ze(Ee,we,Te){Ee|=0,Te|=0;var Xt=0;if(15&(we|=0))return-1;for(;(0|Te)>=16;)je[7&Ee](Me[0|we]<<24|Me[1|we]<<16|Me[2|we]<<8|Me[3|we],Me[4|we]<<24|Me[5|we]<<16|Me[6|we]<<8|Me[7|we],Me[8|we]<<24|Me[9|we]<<16|Me[10|we]<<8|Me[11|we],Me[12|we]<<24|Me[13|we]<<16|Me[14|we]<<8|Me[15|we]),Me[0|we]=$e>>>24,Me[1|we]=$e>>>16&255,Me[2|we]=$e>>>8&255,Me[3|we]=255&$e,Me[4|we]=Ie>>>24,Me[5|we]=Ie>>>16&255,Me[6|we]=Ie>>>8&255,Me[7|we]=255&Ie,Me[8|we]=vt>>>24,Me[9|we]=vt>>>16&255,Me[10|we]=vt>>>8&255,Me[11|we]=255&vt,Me[12|we]=ut>>>24,Me[13|we]=ut>>>16&255,Me[14|we]=ut>>>8&255,Me[15|we]=255&ut,Xt=Xt+16|0,we=we+16|0,Te=Te-16|0;return 0|Xt},mac:function Ze(Ee,we,Te){Ee|=0,Te|=0;var Xt=0;if(15&(we|=0))return-1;for(;(0|Te)>=16;)We[1&Ee](Me[0|we]<<24|Me[1|we]<<16|Me[2|we]<<8|Me[3|we],Me[4|we]<<24|Me[5|we]<<16|Me[6|we]<<8|Me[7|we],Me[8|we]<<24|Me[9|we]<<16|Me[10|we]<<8|Me[11|we],Me[12|we]<<24|Me[13|we]<<16|Me[14|we]<<8|Me[15|we]),Xt=Xt+16|0,we=we+16|0,Te=Te-16|0;return 0|Xt}}}({Uint8Array,Uint32Array},0,le);return Ne.set_key=function(Fe,ot,yt,$e,Ie,vt,ut,xt,St){var Ct=ae.subarray(0,60),zt=ae.subarray(256,316);Ct.set([ot,yt,$e,Ie,vt,ut,xt,St]);for(var lr=Fe,ur=1;lr<4*Fe+28;lr++){var vr=Ct[lr-1];(lr%Fe==0||8===Fe&&lr%Fe==4)&&(vr=u[vr>>>24]<<24^u[vr>>>16&255]<<16^u[vr>>>8&255]<<8^u[255&vr]),lr%Fe==0&&(vr=vr<<8^vr>>>24^ur<<24,ur=ur<<1^(128&ur?27:0)),Ct[lr]=Ct[lr-Fe]^vr}for(var Gt=0;Gt<lr;Gt+=4)for(var mt=0;mt<4;mt++)vr=Ct[lr-(4+Gt)+(4-mt)%4],zt[Gt+mt]=Gt<4||Gt>=lr-4?vr:v[0][u[vr>>>24]]^v[1][u[vr>>>16&255]]^v[2][u[vr>>>8&255]]^v[3][u[255&vr]];Ne.set_rounds(Fe+5)},Ne};return k.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},k.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},k.MAC={CBC:0,GCM:1},k.HEAP_DATA=16384,k}();function Vn(i){return i instanceof Uint8Array}function Yn(i,n){const t=i?i.byteLength:n||65536;if(4095&t||t<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return i||new Uint8Array(new ArrayBuffer(t))}function Hn(i,n,t,s,u){const h=i.length-n,y=h<u?h:u;return i.set(t.subarray(s,s+y),n),y}function hn(...i){const n=i.reduce((u,h)=>u+h.length,0),t=new Uint8Array(n);let s=0;for(let u=0;u<i.length;u++)t.set(i[u],s),s+=i[u].length;return t}class ei extends Error{constructor(...n){super(...n)}}class Bn extends Error{constructor(...n){super(...n)}}class Xn extends Error{constructor(...n){super(...n)}}const An=[],en=[];class xn{constructor(n,t,s=!0,u,h,y){this.pos=0,this.len=0,this.mode=u,this.pos=0,this.len=0,this.key=n,this.iv=t,this.padding=s,this.acquire_asm(h,y)}acquire_asm(n,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=n||An.pop()||Yn().subarray(qt.HEAP_DATA),this.asm=t||en.pop()||new qt(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(An.push(this.heap),en.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(n,t){const{asm:s}=this.acquire_asm(),u=n.length;if(16!==u&&24!==u&&32!==u)throw new Bn("illegal key size");const h=new DataView(n.buffer,n.byteOffset,n.byteLength);if(s.set_key(u>>2,h.getUint32(0),h.getUint32(4),h.getUint32(8),h.getUint32(12),u>16?h.getUint32(16):0,u>16?h.getUint32(20):0,u>24?h.getUint32(24):0,u>24?h.getUint32(28):0),void 0!==t){if(16!==t.length)throw new Bn("illegal iv size");let y=new DataView(t.buffer,t.byteOffset,t.byteLength);s.set_iv(y.getUint32(0),y.getUint32(4),y.getUint32(8),y.getUint32(12))}else s.set_iv(0,0,0,0)}AES_Encrypt_process(n){if(!Vn(n))throw new TypeError("data isn't of expected type");let{heap:t,asm:s}=this.acquire_asm(),u=qt.ENC[this.mode],h=qt.HEAP_DATA,y=this.pos,v=this.len,D=0,C=n.length||0,k=0,q=0,le=new Uint8Array(v+C&-16);for(;C>0;)q=Hn(t,y+v,n,D,C),v+=q,D+=q,C-=q,q=s.cipher(u,h+y,v),q&&le.set(t.subarray(y,y+q),k),k+=q,q<v?(y+=q,v-=q):(y=0,v=0);return this.pos=y,this.len=v,le}AES_Encrypt_finish(){let{heap:n,asm:t}=this.acquire_asm(),s=qt.ENC[this.mode],u=qt.HEAP_DATA,h=this.pos,y=this.len,v=16-y%16,D=y;if(this.hasOwnProperty("padding")){if(this.padding){for(let k=0;k<v;++k)n[h+y+k]=v;y+=v,D=y}else if(y%16)throw new Bn("data length must be a multiple of the block size")}else y+=v;const C=new Uint8Array(D);return y&&t.cipher(s,u+h,y),D&&C.set(n.subarray(h,h+D)),this.pos=0,this.len=0,this.release_asm(),C}AES_Decrypt_process(n){if(!Vn(n))throw new TypeError("data isn't of expected type");let{heap:t,asm:s}=this.acquire_asm(),u=qt.DEC[this.mode],h=qt.HEAP_DATA,y=this.pos,v=this.len,D=0,C=n.length||0,k=0,q=v+C&-16,le=0,ae=0;this.padding&&(le=v+C-q||16,q-=le);const Ae=new Uint8Array(q);for(;C>0;)ae=Hn(t,y+v,n,D,C),v+=ae,D+=ae,C-=ae,ae=s.cipher(u,h+y,v-(C?0:le)),ae&&Ae.set(t.subarray(y,y+ae),k),k+=ae,ae<v?(y+=ae,v-=ae):(y=0,v=0);return this.pos=y,this.len=v,Ae}AES_Decrypt_finish(){let{heap:n,asm:t}=this.acquire_asm(),s=qt.DEC[this.mode],u=qt.HEAP_DATA,h=this.pos,y=this.len,v=y;if(y>0){if(y%16){if(this.hasOwnProperty("padding"))throw new Bn("data length must be a multiple of the block size");y+=16-y%16}if(t.cipher(s,u+h,y),this.hasOwnProperty("padding")&&this.padding){let C=n[h+v-1];if(C<1||C>16||C>v)throw new Xn("bad padding");let k=0;for(let q=C;q>1;q--)k|=C^n[h+v-q];if(k)throw new Xn("bad padding");v-=C}}const D=new Uint8Array(v);return v>0&&D.set(n.subarray(h,h+v)),this.pos=0,this.len=0,this.release_asm(),D}}class nn{static encrypt(n,t,s=!1){return new nn(t,s).encrypt(n)}static decrypt(n,t,s=!1){return new nn(t,s).decrypt(n)}constructor(n,t=!1,s){this.aes=s||new xn(n,void 0,t,"ECB")}encrypt(n){return hn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return hn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}function mn(i){const n=function(t){const s=new nn(t);this.encrypt=function(u){return s.encrypt(u)},this.decrypt=function(u){return s.decrypt(u)}};return n.blockSize=n.prototype.blockSize=16,n.keySize=n.prototype.keySize=i/8,n}function _r(i,n,t,s,u,h){const y=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],v=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],D=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],C=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],k=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],q=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],le=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],ae=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let Ae,Ne,Fe,ot,yt,$e,Ie,vt,ut,xt,St,Ct,zt,lr,ur=0,vr=n.length;const Gt=32===i.length?3:9;vt=3===Gt?t?[0,32,2]:[30,-2,-2]:t?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],t&&(vr=(n=function(dt,Zt){const xr=8-dt.length%8;let Er;if(2===Zt&&xr<8)Er=32;else if(1===Zt)Er=xr;else{if(Zt||!(xr<8)){if(8===xr)return dt;throw Error("des: invalid padding")}Er=0}const gr=new Uint8Array(dt.length+xr);for(let fr=0;fr<dt.length;fr++)gr[fr]=dt[fr];for(let fr=0;fr<xr;fr++)gr[dt.length+fr]=Er;return gr}(n,h)).length);let mt=new Uint8Array(vr),zr=0;for(1===s&&(ut=u[ur++]<<24|u[ur++]<<16|u[ur++]<<8|u[ur++],St=u[ur++]<<24|u[ur++]<<16|u[ur++]<<8|u[ur++],ur=0);ur<vr;){for($e=n[ur++]<<24|n[ur++]<<16|n[ur++]<<8|n[ur++],Ie=n[ur++]<<24|n[ur++]<<16|n[ur++]<<8|n[ur++],1===s&&(t?($e^=ut,Ie^=St):(xt=ut,Ct=St,ut=$e,St=Ie)),Fe=252645135&($e>>>4^Ie),Ie^=Fe,$e^=Fe<<4,Fe=65535&($e>>>16^Ie),Ie^=Fe,$e^=Fe<<16,Fe=858993459&(Ie>>>2^$e),$e^=Fe,Ie^=Fe<<2,Fe=16711935&(Ie>>>8^$e),$e^=Fe,Ie^=Fe<<8,Fe=1431655765&($e>>>1^Ie),Ie^=Fe,$e^=Fe<<1,$e=$e<<1|$e>>>31,Ie=Ie<<1|Ie>>>31,Ne=0;Ne<Gt;Ne+=3){for(zt=vt[Ne+1],lr=vt[Ne+2],Ae=vt[Ne];Ae!==zt;Ae+=lr)ot=Ie^i[Ae],yt=(Ie>>>4|Ie<<28)^i[Ae+1],Fe=$e,$e=Ie,Ie=Fe^(v[ot>>>24&63]|C[ot>>>16&63]|q[ot>>>8&63]|ae[63&ot]|y[yt>>>24&63]|D[yt>>>16&63]|k[yt>>>8&63]|le[63&yt]);Fe=$e,$e=Ie,Ie=Fe}$e=$e>>>1|$e<<31,Ie=Ie>>>1|Ie<<31,Fe=1431655765&($e>>>1^Ie),Ie^=Fe,$e^=Fe<<1,Fe=16711935&(Ie>>>8^$e),$e^=Fe,Ie^=Fe<<8,Fe=858993459&(Ie>>>2^$e),$e^=Fe,Ie^=Fe<<2,Fe=65535&($e>>>16^Ie),Ie^=Fe,$e^=Fe<<16,Fe=252645135&($e>>>4^Ie),Ie^=Fe,$e^=Fe<<4,1===s&&(t?(ut=$e,St=Ie):($e^=xt,Ie^=Ct)),mt[zr++]=$e>>>24,mt[zr++]=$e>>>16&255,mt[zr++]=$e>>>8&255,mt[zr++]=255&$e,mt[zr++]=Ie>>>24,mt[zr++]=Ie>>>16&255,mt[zr++]=Ie>>>8&255,mt[zr++]=255&Ie}return t||(mt=function(dt,Zt){let xr,Er=null;if(2===Zt)xr=32;else if(1===Zt)Er=dt[dt.length-1];else{if(Zt)throw Error("des: invalid padding");xr=0}if(!Er){for(Er=1;dt[dt.length-Er]===xr;)Er++;Er--}return dt.subarray(0,dt.length-Er)}(mt,h)),mt}function Lr(i){const n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],t=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],s=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],u=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],h=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],y=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],v=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],D=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],C=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],k=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],q=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],le=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],ae=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],Ae=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Ne=i.length>8?3:1,Fe=Array(32*Ne),ot=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let yt,$e,Ie,vt=0,ut=0;for(let xt=0;xt<Ne;xt++){let St=i[vt++]<<24|i[vt++]<<16|i[vt++]<<8|i[vt++],Ct=i[vt++]<<24|i[vt++]<<16|i[vt++]<<8|i[vt++];Ie=252645135&(St>>>4^Ct),Ct^=Ie,St^=Ie<<4,Ie=65535&(Ct>>>-16^St),St^=Ie,Ct^=Ie<<-16,Ie=858993459&(St>>>2^Ct),Ct^=Ie,St^=Ie<<2,Ie=65535&(Ct>>>-16^St),St^=Ie,Ct^=Ie<<-16,Ie=1431655765&(St>>>1^Ct),Ct^=Ie,St^=Ie<<1,Ie=16711935&(Ct>>>8^St),St^=Ie,Ct^=Ie<<8,Ie=1431655765&(St>>>1^Ct),Ct^=Ie,St^=Ie<<1,Ie=St<<8|Ct>>>20&240,St=Ct<<24|Ct<<8&16711680|Ct>>>8&65280|Ct>>>24&240,Ct=Ie;for(let zt=0;zt<16;zt++)ot[zt]?(St=St<<2|St>>>26,Ct=Ct<<2|Ct>>>26):(St=St<<1|St>>>27,Ct=Ct<<1|Ct>>>27),St&=-15,Ct&=-15,yt=n[St>>>28]|t[St>>>24&15]|s[St>>>20&15]|u[St>>>16&15]|h[St>>>12&15]|y[St>>>8&15]|v[St>>>4&15],$e=D[Ct>>>28]|C[Ct>>>24&15]|k[Ct>>>20&15]|q[Ct>>>16&15]|le[Ct>>>12&15]|ae[Ct>>>8&15]|Ae[Ct>>>4&15],Ie=65535&($e>>>16^yt),Fe[ut++]=yt^Ie,Fe[ut++]=$e^Ie<<16}return Fe}function tn(i){this.key=[];for(let n=0;n<3;n++)this.key.push(new Uint8Array(i.subarray(8*n,8*n+8)));this.encrypt=function(n){return _r(Lr(this.key[2]),_r(Lr(this.key[1]),_r(Lr(this.key[0]),n,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Qt(){this.BlockSize=8,this.KeySize=16,this.setKey=function(y){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),y.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(y),!0},this.reset=function(){for(let y=0;y<16;y++)this.masking[y]=0,this.rotate[y]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(y){const v=Array(y.length);for(let D=0;D<y.length;D+=8){let C,k=y[D]<<24|y[D+1]<<16|y[D+2]<<8|y[D+3],q=y[D+4]<<24|y[D+5]<<16|y[D+6]<<8|y[D+7];C=q,q=k^t(q,this.masking[0],this.rotate[0]),k=C,C=q,q=k^s(q,this.masking[1],this.rotate[1]),k=C,C=q,q=k^u(q,this.masking[2],this.rotate[2]),k=C,C=q,q=k^t(q,this.masking[3],this.rotate[3]),k=C,C=q,q=k^s(q,this.masking[4],this.rotate[4]),k=C,C=q,q=k^u(q,this.masking[5],this.rotate[5]),k=C,C=q,q=k^t(q,this.masking[6],this.rotate[6]),k=C,C=q,q=k^s(q,this.masking[7],this.rotate[7]),k=C,C=q,q=k^u(q,this.masking[8],this.rotate[8]),k=C,C=q,q=k^t(q,this.masking[9],this.rotate[9]),k=C,C=q,q=k^s(q,this.masking[10],this.rotate[10]),k=C,C=q,q=k^u(q,this.masking[11],this.rotate[11]),k=C,C=q,q=k^t(q,this.masking[12],this.rotate[12]),k=C,C=q,q=k^s(q,this.masking[13],this.rotate[13]),k=C,C=q,q=k^u(q,this.masking[14],this.rotate[14]),k=C,C=q,q=k^t(q,this.masking[15],this.rotate[15]),k=C,v[D]=q>>>24&255,v[D+1]=q>>>16&255,v[D+2]=q>>>8&255,v[D+3]=255&q,v[D+4]=k>>>24&255,v[D+5]=k>>>16&255,v[D+6]=k>>>8&255,v[D+7]=255&k}return v},this.decrypt=function(y){const v=Array(y.length);for(let D=0;D<y.length;D+=8){let C,k=y[D]<<24|y[D+1]<<16|y[D+2]<<8|y[D+3],q=y[D+4]<<24|y[D+5]<<16|y[D+6]<<8|y[D+7];C=q,q=k^t(q,this.masking[15],this.rotate[15]),k=C,C=q,q=k^u(q,this.masking[14],this.rotate[14]),k=C,C=q,q=k^s(q,this.masking[13],this.rotate[13]),k=C,C=q,q=k^t(q,this.masking[12],this.rotate[12]),k=C,C=q,q=k^u(q,this.masking[11],this.rotate[11]),k=C,C=q,q=k^s(q,this.masking[10],this.rotate[10]),k=C,C=q,q=k^t(q,this.masking[9],this.rotate[9]),k=C,C=q,q=k^u(q,this.masking[8],this.rotate[8]),k=C,C=q,q=k^s(q,this.masking[7],this.rotate[7]),k=C,C=q,q=k^t(q,this.masking[6],this.rotate[6]),k=C,C=q,q=k^u(q,this.masking[5],this.rotate[5]),k=C,C=q,q=k^s(q,this.masking[4],this.rotate[4]),k=C,C=q,q=k^t(q,this.masking[3],this.rotate[3]),k=C,C=q,q=k^u(q,this.masking[2],this.rotate[2]),k=C,C=q,q=k^s(q,this.masking[1],this.rotate[1]),k=C,C=q,q=k^t(q,this.masking[0],this.rotate[0]),k=C,v[D]=q>>>24&255,v[D+1]=q>>>16&255,v[D+2]=q>>>8&255,v[D+3]=255&q,v[D+4]=k>>>24&255,v[D+5]=k>>16&255,v[D+6]=k>>8&255,v[D+7]=255&k}return v};const i=[,,,,];i[0]=[,,,,],i[0][0]=[4,0,13,15,12,14,8],i[0][1]=[5,2,16,18,17,19,10],i[0][2]=[6,3,23,22,21,20,9],i[0][3]=[7,1,26,25,27,24,11],i[1]=[,,,,],i[1][0]=[0,6,21,23,20,22,16],i[1][1]=[1,4,0,2,1,3,18],i[1][2]=[2,5,7,6,5,4,17],i[1][3]=[3,7,10,9,11,8,19],i[2]=[,,,,],i[2][0]=[4,0,13,15,12,14,8],i[2][1]=[5,2,16,18,17,19,10],i[2][2]=[6,3,23,22,21,20,9],i[2][3]=[7,1,26,25,27,24,11],i[3]=[,,,,],i[3][0]=[0,6,21,23,20,22,16],i[3][1]=[1,4,0,2,1,3,18],i[3][2]=[2,5,7,6,5,4,17],i[3][3]=[3,7,10,9,11,8,19];const n=[,,,,];function t(y,v,D){const C=v+y,k=C<<D|C>>>32-D;return(h[0][k>>>24]^h[1][k>>>16&255])-h[2][k>>>8&255]+h[3][255&k]}function s(y,v,D){const C=v^y,k=C<<D|C>>>32-D;return h[0][k>>>24]-h[1][k>>>16&255]+h[2][k>>>8&255]^h[3][255&k]}function u(y,v,D){const C=v-y,k=C<<D|C>>>32-D;return(h[0][k>>>24]+h[1][k>>>16&255]^h[2][k>>>8&255])-h[3][255&k]}n[0]=[,,,,],n[0][0]=[24,25,23,22,18],n[0][1]=[26,27,21,20,22],n[0][2]=[28,29,19,18,25],n[0][3]=[30,31,17,16,28],n[1]=[,,,,],n[1][0]=[3,2,12,13,8],n[1][1]=[1,0,14,15,13],n[1][2]=[7,6,8,9,3],n[1][3]=[5,4,10,11,7],n[2]=[,,,,],n[2][0]=[19,18,28,29,25],n[2][1]=[17,16,30,31,28],n[2][2]=[23,22,24,25,18],n[2][3]=[21,20,26,27,22],n[3]=[,,,,],n[3][0]=[8,9,7,6,3],n[3][1]=[10,11,5,4,7],n[3][2]=[12,13,3,2,8],n[3][3]=[14,15,1,0,13],this.keySchedule=function(y){const v=[,,,,,,,,],D=Array(32);let C;for(let ae=0;ae<4;ae++)C=4*ae,v[ae]=y[C]<<24|y[C+1]<<16|y[C+2]<<8|y[C+3];const k=[6,7,4,5];let q,le=0;for(let ae=0;ae<2;ae++)for(let Ae=0;Ae<4;Ae++){for(C=0;C<4;C++){const Ne=i[Ae][C];q=v[Ne[1]],q^=h[4][v[Ne[2]>>>2]>>>24-8*(3&Ne[2])&255],q^=h[5][v[Ne[3]>>>2]>>>24-8*(3&Ne[3])&255],q^=h[6][v[Ne[4]>>>2]>>>24-8*(3&Ne[4])&255],q^=h[7][v[Ne[5]>>>2]>>>24-8*(3&Ne[5])&255],q^=h[k[C]][v[Ne[6]>>>2]>>>24-8*(3&Ne[6])&255],v[Ne[0]]=q}for(C=0;C<4;C++){const Ne=n[Ae][C];q=h[4][v[Ne[0]>>>2]>>>24-8*(3&Ne[0])&255],q^=h[5][v[Ne[1]>>>2]>>>24-8*(3&Ne[1])&255],q^=h[6][v[Ne[2]>>>2]>>>24-8*(3&Ne[2])&255],q^=h[7][v[Ne[3]>>>2]>>>24-8*(3&Ne[3])&255],q^=h[4+C][v[Ne[4]>>>2]>>>24-8*(3&Ne[4])&255],D[le]=q,le++}}for(let ae=0;ae<16;ae++)this.masking[ae]=D[ae],this.rotate[ae]=31&D[16+ae]};const h=[,,,,,,,,];h[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],h[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],h[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],h[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],h[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],h[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],h[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],h[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function un(i){this.cast5=new Qt,this.cast5.setKey(i),this.encrypt=function(n){return this.cast5.encrypt(n)}}tn.keySize=tn.prototype.keySize=24,tn.blockSize=tn.prototype.blockSize=8,un.blockSize=un.prototype.blockSize=8,un.keySize=un.prototype.keySize=16;const rn=4294967295;function Ur(i,n){return(i<<n|i>>>32-n)&rn}function dn(i,n){return i[n]|i[n+1]<<8|i[n+2]<<16|i[n+3]<<24}function gn(i,n,t){i.splice(n,4,255&t,t>>>8&255,t>>>16&255,t>>>24&255)}function hr(i,n){return i>>>8*n&255}function Cn(i){this.tf=function(){let n=null,t=null,s=-1,u=[],h=[[],[],[],[]];function y(k){return h[0][hr(k,0)]^h[1][hr(k,1)]^h[2][hr(k,2)]^h[3][hr(k,3)]}function v(k){return h[0][hr(k,3)]^h[1][hr(k,0)]^h[2][hr(k,1)]^h[3][hr(k,2)]}function D(k,q){let le=y(q[0]),ae=v(q[1]);q[2]=Ur(q[2]^le+ae+u[4*k+8]&rn,31),q[3]=Ur(q[3],1)^le+2*ae+u[4*k+9]&rn,le=y(q[2]),ae=v(q[3]),q[0]=Ur(q[0]^le+ae+u[4*k+10]&rn,31),q[1]=Ur(q[1],1)^le+2*ae+u[4*k+11]&rn}function C(k,q){let le=y(q[0]),ae=v(q[1]);q[2]=Ur(q[2],1)^le+ae+u[4*k+10]&rn,q[3]=Ur(q[3]^le+2*ae+u[4*k+11]&rn,31),le=y(q[2]),ae=v(q[3]),q[0]=Ur(q[0],1)^le+ae+u[4*k+8]&rn,q[1]=Ur(q[1]^le+2*ae+u[4*k+9]&rn,31)}return{name:"twofish",blocksize:16,open:function(k){let q,le,ae,Ae,Ne;n=k;const Fe=[],ot=[],yt=[];let $e;const Ie=[];let vt,ut,xt;const St=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],Ct=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],zt=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],lr=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],ur=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],vr=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],Gt=[[],[]],mt=[[],[],[],[]];function zr(gr){return gr^gr>>2^[0,90,180,238][3&gr]}function dt(gr){return gr^gr>>1^gr>>2^[0,238,180,90][3&gr]}function Zt(gr,fr){let Sr,Jt,Me;for(Sr=0;Sr<8;Sr++)Jt=fr>>>24,fr=fr<<8&rn|gr>>>24,gr=gr<<8&rn,Me=Jt<<1,128&Jt&&(Me^=333),fr^=Jt^Me<<16,Me^=Jt>>>1,1&Jt&&(Me^=166),fr^=Me<<24|Me<<8;return fr}function xr(gr,fr){const Sr=fr>>4,Jt=15&fr,Me=St[gr][Sr^Jt],st=Ct[gr][ur[Jt]^vr[Sr]];return lr[gr][ur[st]^vr[Me]]<<4|zt[gr][Me^st]}function Er(gr,fr){let Sr=hr(gr,0),Jt=hr(gr,1),Me=hr(gr,2),st=hr(gr,3);switch($e){case 4:Sr=Gt[1][Sr]^hr(fr[3],0),Jt=Gt[0][Jt]^hr(fr[3],1),Me=Gt[0][Me]^hr(fr[3],2),st=Gt[1][st]^hr(fr[3],3);case 3:Sr=Gt[1][Sr]^hr(fr[2],0),Jt=Gt[1][Jt]^hr(fr[2],1),Me=Gt[0][Me]^hr(fr[2],2),st=Gt[0][st]^hr(fr[2],3);case 2:Sr=Gt[0][Gt[0][Sr]^hr(fr[1],0)]^hr(fr[0],0),Jt=Gt[0][Gt[1][Jt]^hr(fr[1],1)]^hr(fr[0],1),Me=Gt[1][Gt[0][Me]^hr(fr[1],2)]^hr(fr[0],2),st=Gt[1][Gt[1][st]^hr(fr[1],3)]^hr(fr[0],3)}return mt[0][Sr]^mt[1][Jt]^mt[2][Me]^mt[3][st]}for(n=n.slice(0,32),q=n.length;16!==q&&24!==q&&32!==q;)n[q++]=0;for(q=0;q<n.length;q+=4)yt[q>>2]=dn(n,q);for(q=0;q<256;q++)Gt[0][q]=xr(0,q),Gt[1][q]=xr(1,q);for(q=0;q<256;q++)vt=Gt[1][q],ut=zr(vt),xt=dt(vt),mt[0][q]=vt+(ut<<8)+(xt<<16)+(xt<<24),mt[2][q]=ut+(xt<<8)+(vt<<16)+(xt<<24),vt=Gt[0][q],ut=zr(vt),xt=dt(vt),mt[1][q]=xt+(xt<<8)+(ut<<16)+(vt<<24),mt[3][q]=ut+(vt<<8)+(xt<<16)+(ut<<24);for($e=yt.length/2,q=0;q<$e;q++)le=yt[q+q],Fe[q]=le,ae=yt[q+q+1],ot[q]=ae,Ie[$e-q-1]=Zt(le,ae);for(q=0;q<40;q+=2)le=16843009*q,ae=le+16843009,le=Er(le,Fe),ae=Ur(Er(ae,ot),8),u[q]=le+ae&rn,u[q+1]=Ur(le+2*ae,9);for(q=0;q<256;q++)switch(le=ae=Ae=Ne=q,$e){case 4:le=Gt[1][le]^hr(Ie[3],0),ae=Gt[0][ae]^hr(Ie[3],1),Ae=Gt[0][Ae]^hr(Ie[3],2),Ne=Gt[1][Ne]^hr(Ie[3],3);case 3:le=Gt[1][le]^hr(Ie[2],0),ae=Gt[1][ae]^hr(Ie[2],1),Ae=Gt[0][Ae]^hr(Ie[2],2),Ne=Gt[0][Ne]^hr(Ie[2],3);case 2:h[0][q]=mt[0][Gt[0][Gt[0][le]^hr(Ie[1],0)]^hr(Ie[0],0)],h[1][q]=mt[1][Gt[0][Gt[1][ae]^hr(Ie[1],1)]^hr(Ie[0],1)],h[2][q]=mt[2][Gt[1][Gt[0][Ae]^hr(Ie[1],2)]^hr(Ie[0],2)],h[3][q]=mt[3][Gt[1][Gt[1][Ne]^hr(Ie[1],3)]^hr(Ie[0],3)]}},close:function(){u=[],h=[[],[],[],[]]},encrypt:function(k,q){t=k,s=q;const le=[dn(t,s)^u[0],dn(t,s+4)^u[1],dn(t,s+8)^u[2],dn(t,s+12)^u[3]];for(let ae=0;ae<8;ae++)D(ae,le);return gn(t,s,le[2]^u[4]),gn(t,s+4,le[3]^u[5]),gn(t,s+8,le[0]^u[6]),gn(t,s+12,le[1]^u[7]),s+=16,t},decrypt:function(k,q){t=k,s=q;const le=[dn(t,s)^u[4],dn(t,s+4)^u[5],dn(t,s+8)^u[6],dn(t,s+12)^u[7]];for(let ae=7;ae>=0;ae--)C(ae,le);gn(t,s,le[2]^u[0]),gn(t,s+4,le[3]^u[1]),gn(t,s+8,le[0]^u[2]),gn(t,s+12,le[1]^u[3]),s+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(i),0),this.encrypt=function(n){return this.tf.encrypt(Array.from(n),0)}}function oi(){}function ki(i){this.bf=new oi,this.bf.init(i),this.encrypt=function(n){return this.bf.encryptBlock(n)}}Cn.keySize=Cn.prototype.keySize=32,Cn.blockSize=Cn.prototype.blockSize=16,oi.prototype.BLOCKSIZE=8,oi.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],oi.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],oi.prototype.NN=16,oi.prototype._clean=function(i){return i<0&&(i=2147483648+(2147483647&i)),i},oi.prototype._F=function(i){let n;const t=255&i,s=255&(i>>>=8),u=255&(i>>>=8),h=255&(i>>>=8);return n=this.sboxes[0][h]+this.sboxes[1][u],n^=this.sboxes[2][s],n+=this.sboxes[3][t],n},oi.prototype._encryptBlock=function(i){let n,t=i[0],s=i[1];for(n=0;n<this.NN;++n){t^=this.parray[n],s=this._F(t)^s;const u=t;t=s,s=u}t^=this.parray[this.NN+0],s^=this.parray[this.NN+1],i[0]=this._clean(s),i[1]=this._clean(t)},oi.prototype.encryptBlock=function(i){let n;const t=[0,0],s=this.BLOCKSIZE/2;for(n=0;n<this.BLOCKSIZE/2;++n)t[0]=t[0]<<8|255&i[n+0],t[1]=t[1]<<8|255&i[n+s];this._encryptBlock(t);const u=[];for(n=0;n<this.BLOCKSIZE/2;++n)u[n+0]=t[0]>>>24-8*n&255,u[n+s]=t[1]>>>24-8*n&255;return u},oi.prototype._decryptBlock=function(i){let n,t=i[0],s=i[1];for(n=this.NN+1;n>1;--n){t^=this.parray[n],s=this._F(t)^s;const u=t;t=s,s=u}t^=this.parray[1],s^=this.parray[0],i[0]=this._clean(s),i[1]=this._clean(t)},oi.prototype.init=function(i){let n,t=0;for(this.parray=[],n=0;n<this.NN+2;++n){let u=0;for(let h=0;h<4;++h)u=u<<8|255&i[t],++t>=i.length&&(t=0);this.parray[n]=this.PARRAY[n]^u}for(this.sboxes=[],n=0;n<4;++n)for(this.sboxes[n]=[],t=0;t<256;++t)this.sboxes[n][t]=this.SBOXES[n][t];const s=[0,0];for(n=0;n<this.NN+2;n+=2)this._encryptBlock(s),this.parray[n+0]=s[0],this.parray[n+1]=s[1];for(n=0;n<4;++n)for(t=0;t<256;t+=2)this._encryptBlock(s),this.sboxes[n][t+0]=s[0],this.sboxes[n][t+1]=s[1]},ki.keySize=ki.prototype.keySize=16,ki.blockSize=ki.prototype.blockSize=8;const Pa=mn(128),Ea=mn(192),mi=mn(256);var ti=Object.freeze({__proto__:null,aes128:Pa,aes192:Ea,aes256:mi,des:function(i){this.key=i,this.encrypt=function(n,t){return _r(Lr(this.key),n,!0,0,null,t)},this.decrypt=function(n,t){return _r(Lr(this.key),n,!1,0,null,t)}},tripledes:tn,cast5:un,twofish:Cn,blowfish:ki,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),fe=function(i,n,t){var s=0,u=0,h=0,y=0,v=0,D=0,C=0,k=0,q=0,le=0,ae=0,Ae=0,Ne=0,Fe=0,ot=0,yt=0,$e=0,Ie=new i.Uint8Array(t);function vt(dt,Zt,xr,Er,gr,fr,Sr,Jt,Me,st,lt,Y,Re,wt,It,_t){var ir,$t,nr,er,He,ze,Ze,je,We,Ee,we,Te,Xt,Hr,an,ln,$r,Fn,Gn,Wn,si,Qr,En,yn,Kr,Pn,_n,Dn,Pt,Ot,tr,Br,Nr,Gr,Or,Sn,Mn,Hi,zi,Gi,Ji,ts,rs,ns,is,as,ss,os,Us,Fs,w0,E0,A0,C0,b0,S0,t1,r1,n1,i1,a1,pe=0,oe=0,ye=0,be=0,Ge=0,Ue=0,Ye=0;Ye=(dt|=0)+((pe=s)<<5|pe>>>27)+(Ge=v)+((oe=u)&(ye=h)|~oe&(be=y))+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Zt|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(xr|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Er|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(gr|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(fr|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Sr|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Jt|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Me|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(st|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(lt|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Y|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Re|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(wt|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(It|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(_t|=0)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ir=(Ue=wt^Me^xr^dt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=($t=(Ue=It^st^Er^Zt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(nr=(Ue=_t^lt^gr^xr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(er=(Ue=ir^Y^fr^Er)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|~oe&be)+1518500249|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(He=(Ue=$t^Re^Sr^gr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ze=(Ue=nr^wt^Jt^fr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Ze=(Ue=er^It^Me^Sr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(je=(Ue=He^_t^st^Jt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(We=(Ue=ze^ir^lt^Me)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Ee=(Ue=Ze^$t^Y^st)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(we=(Ue=je^nr^Re^lt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Te=(Ue=We^er^wt^Y)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Xt=(Ue=Ee^He^It^Re)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Hr=(Ue=we^ze^_t^wt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(an=(Ue=Te^Ze^ir^It)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ln=(Ue=Xt^je^$t^_t)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=($r=(Ue=Hr^We^nr^ir)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Fn=(Ue=an^Ee^er^$t)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Gn=(Ue=ln^we^He^nr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Wn=(Ue=$r^Te^ze^er)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(si=(Ue=Fn^Xt^Ze^He)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Qr=(Ue=Gn^Hr^je^ze)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(En=(Ue=Wn^an^We^Ze)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(yn=(Ue=si^ln^Ee^je)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)+1859775393|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Kr=(Ue=Qr^$r^we^We)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Pn=(Ue=En^Fn^Te^Ee)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(_n=(Ue=yn^Gn^Xt^we)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Dn=(Ue=Kr^Wn^Hr^Te)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Pt=(Ue=Pn^si^an^Xt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Ot=(Ue=_n^Qr^ln^Hr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(tr=(Ue=Dn^En^$r^an)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Br=(Ue=Pt^yn^Fn^ln)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Nr=(Ue=Ot^Kr^Gn^$r)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Gr=(Ue=tr^Pn^Wn^Fn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Or=(Ue=Br^_n^si^Gn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Sn=(Ue=Nr^Dn^Qr^Wn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Mn=(Ue=Gr^Pt^En^si)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Hi=(Ue=Or^Ot^yn^Qr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(zi=(Ue=Sn^tr^Kr^En)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Gi=(Ue=Mn^Br^Pn^yn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Ji=(Ue=Hi^Nr^_n^Kr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ts=(Ue=zi^Gr^Dn^Pn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(rs=(Ue=Gi^Or^Pt^_n)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ns=(Ue=Ji^Sn^Ot^Dn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe&ye|oe&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(is=(Ue=ts^Mn^tr^Pt)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(as=(Ue=rs^Hi^Br^Ot)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(ss=(Ue=ns^zi^Nr^tr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(os=(Ue=is^Gi^Gr^Br)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Us=(Ue=as^Ji^Or^Nr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(Fs=(Ue=ss^ts^Sn^Gr)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(w0=(Ue=os^rs^Mn^Or)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(E0=(Ue=Us^ns^Hi^Sn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(A0=(Ue=Fs^is^zi^Mn)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(C0=(Ue=w0^as^Gi^Hi)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(b0=(Ue=E0^ss^Ji^zi)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(S0=(Ue=A0^os^ts^Gi)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(t1=(Ue=C0^Us^rs^Ji)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(r1=(Ue=b0^Fs^ns^ts)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(n1=(Ue=S0^w0^is^rs)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(i1=(Ue=t1^E0^as^ns)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=(a1=(Ue=r1^A0^ss^is)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=((Ue=n1^C0^os^as)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=((Ue=i1^b0^Us^ss)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,Ye=((Ue=a1^S0^Fs^os)<<1|Ue>>>31)+((pe=Ye)<<5|pe>>>27)+Ge+(oe^ye^be)-899497514|0,Ge=be,be=ye,ye=oe<<30|oe>>>2,oe=pe,s=s+(pe=Ye)|0,u=u+oe|0,h=h+ye|0,y=y+be|0,v=v+Ge|0}function ut(dt){vt(Ie[0|(dt|=0)]<<24|Ie[1|dt]<<16|Ie[2|dt]<<8|Ie[3|dt],Ie[4|dt]<<24|Ie[5|dt]<<16|Ie[6|dt]<<8|Ie[7|dt],Ie[8|dt]<<24|Ie[9|dt]<<16|Ie[10|dt]<<8|Ie[11|dt],Ie[12|dt]<<24|Ie[13|dt]<<16|Ie[14|dt]<<8|Ie[15|dt],Ie[16|dt]<<24|Ie[17|dt]<<16|Ie[18|dt]<<8|Ie[19|dt],Ie[20|dt]<<24|Ie[21|dt]<<16|Ie[22|dt]<<8|Ie[23|dt],Ie[24|dt]<<24|Ie[25|dt]<<16|Ie[26|dt]<<8|Ie[27|dt],Ie[28|dt]<<24|Ie[29|dt]<<16|Ie[30|dt]<<8|Ie[31|dt],Ie[32|dt]<<24|Ie[33|dt]<<16|Ie[34|dt]<<8|Ie[35|dt],Ie[36|dt]<<24|Ie[37|dt]<<16|Ie[38|dt]<<8|Ie[39|dt],Ie[40|dt]<<24|Ie[41|dt]<<16|Ie[42|dt]<<8|Ie[43|dt],Ie[44|dt]<<24|Ie[45|dt]<<16|Ie[46|dt]<<8|Ie[47|dt],Ie[48|dt]<<24|Ie[49|dt]<<16|Ie[50|dt]<<8|Ie[51|dt],Ie[52|dt]<<24|Ie[53|dt]<<16|Ie[54|dt]<<8|Ie[55|dt],Ie[56|dt]<<24|Ie[57|dt]<<16|Ie[58|dt]<<8|Ie[59|dt],Ie[60|dt]<<24|Ie[61|dt]<<16|Ie[62|dt]<<8|Ie[63|dt])}function xt(dt){Ie[0|(dt|=0)]=s>>>24,Ie[1|dt]=s>>>16&255,Ie[2|dt]=s>>>8&255,Ie[3|dt]=255&s,Ie[4|dt]=u>>>24,Ie[5|dt]=u>>>16&255,Ie[6|dt]=u>>>8&255,Ie[7|dt]=255&u,Ie[8|dt]=h>>>24,Ie[9|dt]=h>>>16&255,Ie[10|dt]=h>>>8&255,Ie[11|dt]=255&h,Ie[12|dt]=y>>>24,Ie[13|dt]=y>>>16&255,Ie[14|dt]=y>>>8&255,Ie[15|dt]=255&y,Ie[16|dt]=v>>>24,Ie[17|dt]=v>>>16&255,Ie[18|dt]=v>>>8&255,Ie[19|dt]=255&v}function St(){s=1732584193,u=4023233417,h=2562383102,y=271733878,v=3285377520,D=C=0}function zt(dt,Zt){Zt|=0;var xr=0;if(63&(dt|=0))return-1;for(;(0|Zt)>=64;)ut(dt),dt=dt+64|0,Zt=Zt-64|0,xr=xr+64|0;return(D=D+xr|0)>>>0<xr>>>0&&(C=C+1|0),0|xr}function lr(dt,Zt,xr){xr|=0;var Er=0,gr=0;if(63&(dt|=0)||~xr&&31&xr)return-1;if((0|(Zt|=0))>=64){if(-1==(0|(Er=0|zt(dt,Zt))))return-1;dt=dt+Er|0,Zt=Zt-Er|0}if(Er=Er+Zt|0,(D=D+Zt|0)>>>0<Zt>>>0&&(C=C+1|0),Ie[dt|Zt]=128,(0|Zt)>=56){for(gr=Zt+1|0;(0|gr)<64;gr=gr+1|0)Ie[dt|gr]=0;ut(dt),Zt=0,Ie[0|dt]=0}for(gr=Zt+1|0;(0|gr)<59;gr=gr+1|0)Ie[dt|gr]=0;return Ie[56|dt]=C>>>21&255,Ie[57|dt]=C>>>13&255,Ie[58|dt]=C>>>5&255,Ie[59|dt]=C<<3&255|D>>>29,Ie[60|dt]=D>>>21&255,Ie[61|dt]=D>>>13&255,Ie[62|dt]=D>>>5&255,Ie[63|dt]=D<<3&255,ut(dt),~xr&&xt(xr),0|Er}function ur(){s=k,u=q,h=le,y=ae,v=Ae,D=64,C=0}function vr(){s=Ne,u=Fe,h=ot,y=yt,v=$e,D=64,C=0}function mt(dt,Zt,xr){xr|=0;var Er=0,gr=0,fr=0,Sr=0,Jt=0,Me=0;return 63&(dt|=0)||~xr&&31&xr?-1:(Me=0|lr(dt,Zt|=0,-1),Er=s,gr=u,fr=h,Sr=y,Jt=v,vr(),vt(Er,gr,fr,Sr,Jt,2147483648,0,0,0,0,0,0,0,0,0,672),~xr&&xt(xr),0|Me)}return{reset:St,init:function Ct(dt,Zt,xr,Er,gr,fr,Sr){s=dt|=0,u=Zt|=0,h=xr|=0,y=Er|=0,v=gr|=0,D=fr|=0,C=Sr|=0},process:zt,finish:lr,hmac_reset:ur,hmac_init:function Gt(dt,Zt,xr,Er,gr,fr,Sr,Jt,Me,st,lt,Y,Re,wt,It,_t){dt|=0,Zt|=0,xr|=0,Er|=0,gr|=0,fr|=0,Sr|=0,Jt|=0,Me|=0,st|=0,lt|=0,Y|=0,Re|=0,wt|=0,It|=0,_t|=0,St(),vt(1549556828^dt,1549556828^Zt,1549556828^xr,1549556828^Er,1549556828^gr,1549556828^fr,1549556828^Sr,1549556828^Jt,1549556828^Me,1549556828^st,1549556828^lt,1549556828^Y,1549556828^Re,1549556828^wt,1549556828^It,1549556828^_t),Ne=s,Fe=u,ot=h,yt=y,$e=v,St(),vt(909522486^dt,909522486^Zt,909522486^xr,909522486^Er,909522486^gr,909522486^fr,909522486^Sr,909522486^Jt,909522486^Me,909522486^st,909522486^lt,909522486^Y,909522486^Re,909522486^wt,909522486^It,909522486^_t),k=s,q=u,le=h,ae=y,Ae=v,D=64,C=0},hmac_finish:mt,pbkdf2_generate_block:function zr(dt,Zt,xr,Er,gr){Er|=0,gr|=0;var fr=0,Sr=0,Jt=0,Me=0,st=0,lt=0,Y=0,Re=0,wt=0,It=0;if(63&(dt|=0)||~gr&&31&gr)return-1;for(Ie[dt+(Zt|=0)|0]=(xr|=0)>>>24,Ie[dt+Zt+1|0]=xr>>>16&255,Ie[dt+Zt+2|0]=xr>>>8&255,Ie[dt+Zt+3|0]=255&xr,mt(dt,Zt+4|0,-1),fr=lt=s,Sr=Y=u,Jt=Re=h,Me=wt=y,st=It=v,Er=Er-1|0;(0|Er)>0;)ur(),vt(lt,Y,Re,wt,It,2147483648,0,0,0,0,0,0,0,0,0,672),lt=s,Y=u,Re=h,wt=y,It=v,vr(),vt(lt,Y,Re,wt,It,2147483648,0,0,0,0,0,0,0,0,0,672),lt=s,Y=u,Re=h,wt=y,It=v,fr^=s,Sr^=u,Jt^=h,Me^=y,st^=v,Er=Er-1|0;return s=fr,u=Sr,h=Jt,y=Me,v=st,~gr&&xt(gr),0}}};class ce{constructor(){this.pos=0,this.len=0}reset(){const{asm:n}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,n.reset(),this}process(n){if(null!==this.result)throw new ei("state must be reset before processing new data");const{asm:t,heap:s}=this.acquire_asm();let u=this.pos,h=this.len,y=0,v=n.length,D=0;for(;v>0;)D=Hn(s,u+h,n,y,v),h+=D,y+=D,v-=D,D=t.process(u,h),u+=D,h-=D,h||(u=0);return this.pos=u,this.len=h,this}finish(){if(null!==this.result)throw new ei("state must be reset before processing new data");const{asm:n,heap:t}=this.acquire_asm();return n.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const te=[],me=[];class Be extends ce{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=te.pop()||Yn(),this.asm=me.pop()||fe({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(te.push(this.heap),me.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(n){return(new Be).process(n).finish().result}}Be.NAME="sha1",Be.heap_pool=[],Be.asm_pool=[],Be.asm_function=fe;const Ve=[],Tt=[];let Bt=(()=>{class i extends ce{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Ve.pop()||Yn(),this.asm=Tt.pop()||function(t,s,u){var h=0,y=0,v=0,D=0,C=0,k=0,q=0,le=0,ae=0,Ae=0,Ne=0,Fe=0,ot=0,yt=0,$e=0,Ie=0,vt=0,ut=0,xt=0,St=0,Ct=0,zt=0,lr=0,ur=0,vr=0,Gt=0,mt=new t.Uint8Array(u);function zr(Y,Re,wt,It,_t,pe,oe,ye,be,Ge,Ue,Ye,ir,$t,nr,er){var He=0,ze=0,Ze=0,je=0,We=0,Ee=0,we=0,Te=0;je=(je=D)+(Te=(Y|=0)+(Te=le)+((We=C)>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+((we=q)^We&((Ee=k)^we))+1116352408|0)|0,Te=Te+((He=h)&(ze=y)^(Ze=v)&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Re|=0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+1899447441|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(wt|=0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+3049323471|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(It|=0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+3921009573|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(_t|=0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+961987163|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=(pe|=0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+1508970993|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(oe|=0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+2453635748|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(ye|=0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+2870763221|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(be|=0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+3624381080|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Ge|=0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+310598401|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(Ue|=0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+607225278|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(Ye|=0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+1426881987|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(ir|=0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+1925078388|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=($t|=0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+2162078206|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(nr|=0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+2614888103|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(er|=0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+3248222580|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+3835390401|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Ue|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+4022224774|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(wt=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+264347078|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(It=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+It+ir|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+604807628|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(_t=(pe>>>7^pe>>>18^pe>>>3^pe<<25^pe<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+_t+$t|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+770255983|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=(pe=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+pe+nr|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+1249150122|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(oe=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+oe+er|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+1555081692|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(pe>>>17^pe>>>19^pe>>>10^pe<<15^pe<<13)+ye+Y|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+1996064986|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+be+Re|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+2554220882|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Ge=(Ue>>>7^Ue>>>18^Ue>>>3^Ue<<25^Ue<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2821834349|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(Ue=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ue+It|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+2952996808|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+_t|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+3210313671|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Ue>>>17^Ue>>>19^Ue>>>10^Ue<<15^Ue<<13)+ir+pe|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+3336571891|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+oe|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+3584528711|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+113926993|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+338241895|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+666307205|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Ue|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+773529912|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(wt=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+1294757372|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(It=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+It+ir|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+1396182291|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(_t=(pe>>>7^pe>>>18^pe>>>3^pe<<25^pe<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+_t+$t|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+1695183700|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=(pe=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+pe+nr|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+1986661051|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(oe=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+oe+er|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+2177026350|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(pe>>>17^pe>>>19^pe>>>10^pe<<15^pe<<13)+ye+Y|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+2456956037|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+be+Re|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+2730485921|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Ge=(Ue>>>7^Ue>>>18^Ue>>>3^Ue<<25^Ue<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2820302411|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(Ue=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ue+It|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+3259730800|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+_t|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+3345764771|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Ue>>>17^Ue>>>19^Ue>>>10^Ue<<15^Ue<<13)+ir+pe|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+3516065817|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+oe|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+3600352804|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+4094571909|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+275423344|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+430227734|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Ue|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+506948616|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(wt=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+659060556|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(It=(_t>>>7^_t>>>18^_t>>>3^_t<<25^_t<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+It+ir|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+883997877|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(_t=(pe>>>7^pe>>>18^pe>>>3^pe<<25^pe<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+_t+$t|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+958139571|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=(pe=(oe>>>7^oe>>>18^oe>>>3^oe<<25^oe<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+pe+nr|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+1322822218|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(oe=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(_t>>>17^_t>>>19^_t>>>10^_t<<15^_t<<13)+oe+er|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+1537002063|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(pe>>>17^pe>>>19^pe>>>10^pe<<15^pe<<13)+ye+Y|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+1747873779|0)|0,He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,je=je+(Te=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(oe>>>17^oe>>>19^oe>>>10^oe<<15^oe<<13)+be+Re|0)+Te+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(we^We&(Ee^we))+1955562222|0)|0,Te=Te+(He&ze^Ze&(He^ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,Ze=Ze+(we=(Ge=(Ue>>>7^Ue>>>18^Ue>>>3^Ue<<25^Ue<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+we+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2024104815|0)|0,we=we+(Te&He^ze&(Te^He))+(Te>>>2^Te>>>13^Te>>>22^Te<<30^Te<<19^Te<<10)|0,ze=ze+(Ee=(Ue=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Ue+It|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+2227730452|0)|0,Ee=Ee+(we&Te^He&(we^Te))+(we>>>2^we>>>13^we>>>22^we<<30^we<<19^we<<10)|0,He=He+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+_t|0)+We+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(je^ze&(Ze^je))+2361852424|0)|0,We=We+(Ee&we^Te&(Ee^we))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,Te=Te+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Ue>>>17^Ue>>>19^Ue>>>10^Ue<<15^Ue<<13)+ir+pe|0)+je+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(Ze^He&(ze^Ze))+2428436474|0)|0,je=je+(We&Ee^we&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,we=we+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+oe|0)+Ze+(Te>>>6^Te>>>11^Te>>>25^Te<<26^Te<<21^Te<<7)+(ze^Te&(He^ze))+2756734187|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(ze=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+ze+(we>>>6^we>>>11^we>>>25^we<<26^we<<21^we<<7)+(He^we&(Te^He))+3204031479|0)|0,ze=ze+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(He=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+He+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(Te^Ee&(we^Te))+3329325298|0)|0,h=h+(He=He+(ze&Ze^je&(ze^Ze))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0)|0,y=y+ze|0,v=v+Ze|0,D=D+je|0,C=C+We|0,k=k+Ee|0,q=q+we|0,le=le+Te|0}function dt(Y){zr(mt[0|(Y|=0)]<<24|mt[1|Y]<<16|mt[2|Y]<<8|mt[3|Y],mt[4|Y]<<24|mt[5|Y]<<16|mt[6|Y]<<8|mt[7|Y],mt[8|Y]<<24|mt[9|Y]<<16|mt[10|Y]<<8|mt[11|Y],mt[12|Y]<<24|mt[13|Y]<<16|mt[14|Y]<<8|mt[15|Y],mt[16|Y]<<24|mt[17|Y]<<16|mt[18|Y]<<8|mt[19|Y],mt[20|Y]<<24|mt[21|Y]<<16|mt[22|Y]<<8|mt[23|Y],mt[24|Y]<<24|mt[25|Y]<<16|mt[26|Y]<<8|mt[27|Y],mt[28|Y]<<24|mt[29|Y]<<16|mt[30|Y]<<8|mt[31|Y],mt[32|Y]<<24|mt[33|Y]<<16|mt[34|Y]<<8|mt[35|Y],mt[36|Y]<<24|mt[37|Y]<<16|mt[38|Y]<<8|mt[39|Y],mt[40|Y]<<24|mt[41|Y]<<16|mt[42|Y]<<8|mt[43|Y],mt[44|Y]<<24|mt[45|Y]<<16|mt[46|Y]<<8|mt[47|Y],mt[48|Y]<<24|mt[49|Y]<<16|mt[50|Y]<<8|mt[51|Y],mt[52|Y]<<24|mt[53|Y]<<16|mt[54|Y]<<8|mt[55|Y],mt[56|Y]<<24|mt[57|Y]<<16|mt[58|Y]<<8|mt[59|Y],mt[60|Y]<<24|mt[61|Y]<<16|mt[62|Y]<<8|mt[63|Y])}function Zt(Y){mt[0|(Y|=0)]=h>>>24,mt[1|Y]=h>>>16&255,mt[2|Y]=h>>>8&255,mt[3|Y]=255&h,mt[4|Y]=y>>>24,mt[5|Y]=y>>>16&255,mt[6|Y]=y>>>8&255,mt[7|Y]=255&y,mt[8|Y]=v>>>24,mt[9|Y]=v>>>16&255,mt[10|Y]=v>>>8&255,mt[11|Y]=255&v,mt[12|Y]=D>>>24,mt[13|Y]=D>>>16&255,mt[14|Y]=D>>>8&255,mt[15|Y]=255&D,mt[16|Y]=C>>>24,mt[17|Y]=C>>>16&255,mt[18|Y]=C>>>8&255,mt[19|Y]=255&C,mt[20|Y]=k>>>24,mt[21|Y]=k>>>16&255,mt[22|Y]=k>>>8&255,mt[23|Y]=255&k,mt[24|Y]=q>>>24,mt[25|Y]=q>>>16&255,mt[26|Y]=q>>>8&255,mt[27|Y]=255&q,mt[28|Y]=le>>>24,mt[29|Y]=le>>>16&255,mt[30|Y]=le>>>8&255,mt[31|Y]=255&le}function xr(){h=1779033703,y=3144134277,v=1013904242,D=2773480762,C=1359893119,k=2600822924,q=528734635,le=1541459225,ae=Ae=0}function gr(Y,Re){Re|=0;var wt=0;if(63&(Y|=0))return-1;for(;(0|Re)>=64;)dt(Y),Y=Y+64|0,Re=Re-64|0,wt=wt+64|0;return(ae=ae+wt|0)>>>0<wt>>>0&&(Ae=Ae+1|0),0|wt}function fr(Y,Re,wt){wt|=0;var It=0,_t=0;if(63&(Y|=0)||~wt&&31&wt)return-1;if((0|(Re|=0))>=64){if(-1==(0|(It=0|gr(Y,Re))))return-1;Y=Y+It|0,Re=Re-It|0}if(It=It+Re|0,(ae=ae+Re|0)>>>0<Re>>>0&&(Ae=Ae+1|0),mt[Y|Re]=128,(0|Re)>=56){for(_t=Re+1|0;(0|_t)<64;_t=_t+1|0)mt[Y|_t]=0;dt(Y),Re=0,mt[0|Y]=0}for(_t=Re+1|0;(0|_t)<59;_t=_t+1|0)mt[Y|_t]=0;return mt[56|Y]=Ae>>>21&255,mt[57|Y]=Ae>>>13&255,mt[58|Y]=Ae>>>5&255,mt[59|Y]=Ae<<3&255|ae>>>29,mt[60|Y]=ae>>>21&255,mt[61|Y]=ae>>>13&255,mt[62|Y]=ae>>>5&255,mt[63|Y]=ae<<3&255,dt(Y),~wt&&Zt(wt),0|It}function Sr(){h=Ne,y=Fe,v=ot,D=yt,C=$e,k=Ie,q=vt,le=ut,ae=64,Ae=0}function Jt(){h=xt,y=St,v=Ct,D=zt,C=lr,k=ur,q=vr,le=Gt,ae=64,Ae=0}function st(Y,Re,wt){wt|=0;var It=0,_t=0,pe=0,oe=0,ye=0,be=0,Ge=0,Ue=0,Ye=0;return 63&(Y|=0)||~wt&&31&wt?-1:(Ye=0|fr(Y,Re|=0,-1),It=h,_t=y,pe=v,oe=D,ye=C,be=k,Ge=q,Ue=le,Jt(),zr(It,_t,pe,oe,ye,be,Ge,Ue,2147483648,0,0,0,0,0,0,768),~wt&&Zt(wt),0|Ye)}return{reset:xr,init:function Er(Y,Re,wt,It,_t,pe,oe,ye,be,Ge){h=Y|=0,y=Re|=0,v=wt|=0,D=It|=0,C=_t|=0,k=pe|=0,q=oe|=0,le=ye|=0,ae=be|=0,Ae=Ge|=0},process:gr,finish:fr,hmac_reset:Sr,hmac_init:function Me(Y,Re,wt,It,_t,pe,oe,ye,be,Ge,Ue,Ye,ir,$t,nr,er){Y|=0,Re|=0,wt|=0,It|=0,_t|=0,pe|=0,oe|=0,ye|=0,be|=0,Ge|=0,Ue|=0,Ye|=0,ir|=0,$t|=0,nr|=0,er|=0,xr(),zr(1549556828^Y,1549556828^Re,1549556828^wt,1549556828^It,1549556828^_t,1549556828^pe,1549556828^oe,1549556828^ye,1549556828^be,1549556828^Ge,1549556828^Ue,1549556828^Ye,1549556828^ir,1549556828^$t,1549556828^nr,1549556828^er),xt=h,St=y,Ct=v,zt=D,lr=C,ur=k,vr=q,Gt=le,xr(),zr(909522486^Y,909522486^Re,909522486^wt,909522486^It,909522486^_t,909522486^pe,909522486^oe,909522486^ye,909522486^be,909522486^Ge,909522486^Ue,909522486^Ye,909522486^ir,909522486^$t,909522486^nr,909522486^er),Ne=h,Fe=y,ot=v,yt=D,$e=C,Ie=k,vt=q,ut=le,ae=64,Ae=0},hmac_finish:st,pbkdf2_generate_block:function lt(Y,Re,wt,It,_t){It|=0,_t|=0;var pe=0,oe=0,ye=0,be=0,Ge=0,Ue=0,Ye=0,ir=0,$t=0,nr=0,er=0,He=0,ze=0,Ze=0,je=0,We=0;if(63&(Y|=0)||~_t&&31&_t)return-1;for(mt[Y+(Re|=0)|0]=(wt|=0)>>>24,mt[Y+Re+1|0]=wt>>>16&255,mt[Y+Re+2|0]=wt>>>8&255,mt[Y+Re+3|0]=255&wt,st(Y,Re+4|0,-1),pe=$t=h,oe=nr=y,ye=er=v,be=He=D,Ge=ze=C,Ue=Ze=k,Ye=je=q,ir=We=le,It=It-1|0;(0|It)>0;)Sr(),zr($t,nr,er,He,ze,Ze,je,We,2147483648,0,0,0,0,0,0,768),$t=h,nr=y,er=v,He=D,ze=C,Ze=k,je=q,We=le,Jt(),zr($t,nr,er,He,ze,Ze,je,We,2147483648,0,0,0,0,0,0,768),$t=h,nr=y,er=v,He=D,ze=C,Ze=k,je=q,We=le,pe^=h,oe^=y,ye^=v,be^=D,Ge^=C,Ue^=k,Ye^=q,ir^=le,It=It-1|0;return h=pe,y=oe,v=ye,D=be,C=Ge,k=Ue,q=Ye,le=ir,~_t&&Zt(_t),0}}}({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ve.push(this.heap),Tt.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return(new i).process(t).finish().result}}return i.NAME="sha256",i})();var Dt=Et;function Et(i,n){if(!i)throw Error(n||"Assertion failed")}Et.equal=function(i,n,t){if(i!=n)throw Error(t||"Assertion failed: "+i+" != "+n)};var Dr=void 0!==c?c:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(i,n){return i(n={exports:{}},n.exports),n.exports}var qr=Xr(function(i){i.exports="function"==typeof Object.create?function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var s=function(){};s.prototype=t.prototype,n.prototype=new s,n.prototype.constructor=n}});function Vr(i){return(i>>>24|i>>>8&65280|i<<8&16711680|(255&i)<<24)>>>0}function he(i){return 1===i.length?"0"+i:i}function ve(i){return 7===i.length?"0"+i:6===i.length?"00"+i:5===i.length?"000"+i:4===i.length?"0000"+i:3===i.length?"00000"+i:2===i.length?"000000"+i:1===i.length?"0000000"+i:i}var Ce={inherits:qr,toArray:function(i,n){if(Array.isArray(i))return i.slice();if(!i)return[];var t=[];if("string"==typeof i)if(n){if("hex"===n)for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),s=0;s<i.length;s+=2)t.push(parseInt(i[s]+i[s+1],16))}else for(var s=0;s<i.length;s++){var u=i.charCodeAt(s),h=u>>8,y=255&u;h?t.push(h,y):t.push(y)}else for(s=0;s<i.length;s++)t[s]=0|i[s];return t},toHex:function(i){for(var n="",t=0;t<i.length;t++)n+=he(i[t].toString(16));return n},htonl:Vr,toHex32:function(i,n){for(var t="",s=0;s<i.length;s++){var u=i[s];"little"===n&&(u=Vr(u)),t+=ve(u.toString(16))}return t},zero2:he,zero8:ve,join32:function(i,n,t,s){var u=t-n;Dt(u%4==0);for(var h=Array(u/4),y=0,v=n;y<h.length;y++,v+=4)h[y]=("big"===s?i[v]<<24|i[v+1]<<16|i[v+2]<<8|i[v+3]:i[v+3]<<24|i[v+2]<<16|i[v+1]<<8|i[v])>>>0;return h},split32:function(i,n){for(var t=Array(4*i.length),s=0,u=0;s<i.length;s++,u+=4){var h=i[s];"big"===n?(t[u]=h>>>24,t[u+1]=h>>>16&255,t[u+2]=h>>>8&255,t[u+3]=255&h):(t[u+3]=h>>>24,t[u+2]=h>>>16&255,t[u+1]=h>>>8&255,t[u]=255&h)}return t},rotr32:function(i,n){return i>>>n|i<<32-n},rotl32:function(i,n){return i<<n|i>>>32-n},sum32:function(i,n){return i+n>>>0},sum32_3:function(i,n,t){return i+n+t>>>0},sum32_4:function(i,n,t,s){return i+n+t+s>>>0},sum32_5:function(i,n,t,s,u){return i+n+t+s+u>>>0},sum64:function(i,n,t,s){var h=s+i[n+1]>>>0;i[n]=(h<s?1:0)+t+i[n]>>>0,i[n+1]=h},sum64_hi:function(i,n,t,s){return(n+s>>>0<n?1:0)+i+t>>>0},sum64_lo:function(i,n,t,s){return n+s>>>0},sum64_4_hi:function(i,n,t,s,u,h,y,v){var D=0,C=n;return D+=(C=C+s>>>0)<n?1:0,D+=(C=C+h>>>0)<h?1:0,i+t+u+y+(D+=(C=C+v>>>0)<v?1:0)>>>0},sum64_4_lo:function(i,n,t,s,u,h,y,v){return n+s+h+v>>>0},sum64_5_hi:function(i,n,t,s,u,h,y,v,D,C){var k=0,q=n;return k+=(q=q+s>>>0)<n?1:0,k+=(q=q+h>>>0)<h?1:0,k+=(q=q+v>>>0)<v?1:0,i+t+u+y+D+(k+=(q=q+C>>>0)<C?1:0)>>>0},sum64_5_lo:function(i,n,t,s,u,h,y,v,D,C){return n+s+h+v+C>>>0},rotr64_hi:function(i,n,t){return(n<<32-t|i>>>t)>>>0},rotr64_lo:function(i,n,t){return(i<<32-t|n>>>t)>>>0},shr64_hi:function(i,n,t){return i>>>t},shr64_lo:function(i,n,t){return(i<<32-t|n>>>t)>>>0}};function tt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Ut=tt;tt.prototype.update=function(i,n){if(i=Ce.toArray(i,n),this.pending=this.pending?this.pending.concat(i):i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var t=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-t,i.length),0===this.pending.length&&(this.pending=null),i=Ce.join32(i,0,i.length-t,this.endian);for(var s=0;s<i.length;s+=this._delta32)this._update(i,s,s+this._delta32)}return this},tt.prototype.digest=function(i){return this.update(this._pad()),Dt(null===this.pending),this._digest(i)},tt.prototype._pad=function(){var i=this.pendingTotal,n=this._delta8,t=n-(i+this.padLength)%n,s=Array(t+this.padLength);s[0]=128;for(var u=1;u<t;u++)s[u]=0;if(i<<=3,"big"===this.endian){for(var h=8;h<this.padLength;h++)s[u++]=0;s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=i>>>24&255,s[u++]=i>>>16&255,s[u++]=i>>>8&255,s[u++]=255&i}else for(s[u++]=255&i,s[u++]=i>>>8&255,s[u++]=i>>>16&255,s[u++]=i>>>24&255,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,h=8;h<this.padLength;h++)s[u++]=0;return s};var Kt={BlockHash:Ut},Vt=Ce.rotr32;function Wt(i,n,t){return i&n^~i&t}function ct(i,n,t){return i&n^i&t^n&t}function ke(i,n,t){return i^n^t}var sr={ft_1:function(i,n,t,s){return 0===i?Wt(n,t,s):1===i||3===i?ke(n,t,s):2===i?ct(n,t,s):void 0},ch32:Wt,maj32:ct,p32:ke,s0_256:function(i){return Vt(i,2)^Vt(i,13)^Vt(i,22)},s1_256:function(i){return Vt(i,6)^Vt(i,11)^Vt(i,25)},g0_256:function(i){return Vt(i,7)^Vt(i,18)^i>>>3},g1_256:function(i){return Vt(i,17)^Vt(i,19)^i>>>10}},kr=Ce.sum32,kn=Ce.sum32_4,aa=Ce.sum32_5,ci=sr.ch32,Nn=sr.maj32,Cr=sr.s0_256,Ci=sr.s1_256,sa=sr.g0_256,I0=sr.g1_256,Ma=Kt.BlockHash,Oa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vi(){if(!(this instanceof vi))return new vi;Ma.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Oa,this.W=Array(64)}Ce.inherits(vi,Ma);var cs=vi;function Ni(){if(!(this instanceof Ni))return new Ni;cs.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}vi.blockSize=512,vi.outSize=256,vi.hmacStrength=192,vi.padLength=64,vi.prototype._update=function(i,n){for(var t=this.W,s=0;s<16;s++)t[s]=i[n+s];for(;s<t.length;s++)t[s]=kn(I0(t[s-2]),t[s-7],sa(t[s-15]),t[s-16]);var u=this.h[0],h=this.h[1],y=this.h[2],v=this.h[3],D=this.h[4],C=this.h[5],k=this.h[6],q=this.h[7];for(Dt(this.k.length===t.length),s=0;s<t.length;s++){var le=aa(q,Ci(D),ci(D,C,k),this.k[s],t[s]),ae=kr(Cr(u),Nn(u,h,y));q=k,k=C,C=D,D=kr(v,le),v=y,y=h,h=u,u=kr(le,ae)}this.h[0]=kr(this.h[0],u),this.h[1]=kr(this.h[1],h),this.h[2]=kr(this.h[2],y),this.h[3]=kr(this.h[3],v),this.h[4]=kr(this.h[4],D),this.h[5]=kr(this.h[5],C),this.h[6]=kr(this.h[6],k),this.h[7]=kr(this.h[7],q)},vi.prototype._digest=function(i){return"hex"===i?Ce.toHex32(this.h,"big"):Ce.split32(this.h,"big")},Ce.inherits(Ni,cs);var oa=Ni;Ni.blockSize=512,Ni.outSize=224,Ni.hmacStrength=192,Ni.padLength=64,Ni.prototype._digest=function(i){return"hex"===i?Ce.toHex32(this.h.slice(0,7),"big"):Ce.split32(this.h.slice(0,7),"big")};var qn=Ce.rotr64_hi,br=Ce.rotr64_lo,Ks=Ce.shr64_hi,Fr=Ce.shr64_lo,Rn=Ce.sum64,ls=Ce.sum64_hi,Aa=Ce.sum64_lo,Vs=Ce.sum64_4_hi,$i=Ce.sum64_4_lo,T0=Ce.sum64_5_hi,Ca=Ce.sum64_5_lo,us=Kt.BlockHash,ba=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wi(){if(!(this instanceof wi))return new wi;us.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ba,this.W=Array(160)}Ce.inherits(wi,us);var Di=wi;function _0(i,n,t,s,u){var h=i&t^~i&u;return h<0&&(h+=4294967296),h}function di(i,n,t,s,u,h){var y=n&s^~n&h;return y<0&&(y+=4294967296),y}function Hs(i,n,t,s,u){var h=i&t^i&u^t&u;return h<0&&(h+=4294967296),h}function zs(i,n,t,s,u,h){var y=n&s^n&h^s&h;return y<0&&(y+=4294967296),y}function B0(i,n){var t=qn(i,n,28)^qn(n,i,2)^qn(n,i,7);return t<0&&(t+=4294967296),t}function k0(i,n){var t=br(i,n,28)^br(n,i,2)^br(n,i,7);return t<0&&(t+=4294967296),t}function N0(i,n){var t=qn(i,n,14)^qn(i,n,18)^qn(n,i,9);return t<0&&(t+=4294967296),t}function D0(i,n){var t=br(i,n,14)^br(i,n,18)^br(n,i,9);return t<0&&(t+=4294967296),t}function vn(i,n){var t=qn(i,n,1)^qn(i,n,8)^Ks(i,n,7);return t<0&&(t+=4294967296),t}function Gs(i,n){var t=br(i,n,1)^br(i,n,8)^Fr(i,n,7);return t<0&&(t+=4294967296),t}function La(i,n){var t=qn(i,n,19)^qn(n,i,29)^Ks(i,n,6);return t<0&&(t+=4294967296),t}function Zi(i,n){var t=br(i,n,19)^br(n,i,29)^Fr(i,n,6);return t<0&&(t+=4294967296),t}function Ri(){if(!(this instanceof Ri))return new Ri;Di.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}wi.blockSize=1024,wi.outSize=512,wi.hmacStrength=192,wi.padLength=128,wi.prototype._prepareBlock=function(i,n){for(var t=this.W,s=0;s<32;s++)t[s]=i[n+s];for(;s<t.length;s+=2){var u=La(t[s-4],t[s-3]),h=Zi(t[s-4],t[s-3]),y=t[s-14],v=t[s-13],D=vn(t[s-30],t[s-29]),C=Gs(t[s-30],t[s-29]),k=t[s-32],q=t[s-31];t[s]=Vs(u,h,y,v,D,C,k,q),t[s+1]=$i(u,h,y,v,D,C,k,q)}},wi.prototype._update=function(i,n){this._prepareBlock(i,n);var t=this.W,s=this.h[0],u=this.h[1],h=this.h[2],y=this.h[3],v=this.h[4],D=this.h[5],C=this.h[6],k=this.h[7],q=this.h[8],le=this.h[9],ae=this.h[10],Ae=this.h[11],Ne=this.h[12],Fe=this.h[13],ot=this.h[14],yt=this.h[15];Dt(this.k.length===t.length);for(var $e=0;$e<t.length;$e+=2){var Ie=ot,vt=yt,ut=N0(q,le),xt=D0(q,le),St=_0(q,0,ae,0,Ne),Ct=di(0,le,0,Ae,0,Fe),zt=this.k[$e],lr=this.k[$e+1],ur=t[$e],vr=t[$e+1],Gt=T0(Ie,vt,ut,xt,St,Ct,zt,lr,ur,vr),mt=Ca(Ie,vt,ut,xt,St,Ct,zt,lr,ur,vr);Ie=B0(s,u),vt=k0(s,u),ut=Hs(s,0,h,0,v),xt=zs(0,u,0,y,0,D);var zr=ls(Ie,vt,ut,xt),dt=Aa(Ie,vt,ut,xt);ot=Ne,yt=Fe,Ne=ae,Fe=Ae,ae=q,Ae=le,q=ls(C,k,Gt,mt),le=Aa(k,k,Gt,mt),C=v,k=D,v=h,D=y,h=s,y=u,s=ls(Gt,mt,zr,dt),u=Aa(Gt,mt,zr,dt)}Rn(this.h,0,s,u),Rn(this.h,2,h,y),Rn(this.h,4,v,D),Rn(this.h,6,C,k),Rn(this.h,8,q,le),Rn(this.h,10,ae,Ae),Rn(this.h,12,Ne,Fe),Rn(this.h,14,ot,yt)},wi.prototype._digest=function(i){return"hex"===i?Ce.toHex32(this.h,"big"):Ce.split32(this.h,"big")},Ce.inherits(Ri,Di);var bt=Ri;Ri.blockSize=1024,Ri.outSize=384,Ri.hmacStrength=192,Ri.padLength=128,Ri.prototype._digest=function(i){return"hex"===i?Ce.toHex32(this.h.slice(0,12),"big"):Ce.split32(this.h.slice(0,12),"big")};var Mr=Ce.rotl32,Qn=Ce.sum32,ea=Ce.sum32_3,fs=Ce.sum32_4,Zs=Kt.BlockHash;function Si(){if(!(this instanceof Si))return new Si;Zs.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ce.inherits(Si,Zs);var js=Si;function Sa(i,n,t,s){return i<=15?n^t^s:i<=31?n&t|~n&s:i<=47?(n|~t)^s:i<=63?n&s|t&~s:n^(t|~s)}function Zn(i){return i<=15?0:i<=31?1518500249:i<=47?1859775393:i<=63?2400959708:2840853838}function hs(i){return i<=15?1352829926:i<=31?1548603684:i<=47?1836072691:i<=63?2053994217:0}Si.blockSize=512,Si.outSize=160,Si.hmacStrength=192,Si.padLength=64,Si.prototype._update=function(i,n){for(var t=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],y=this.h[4],v=t,D=s,C=u,k=h,q=y,le=0;le<80;le++){var ae=Qn(Mr(fs(t,Sa(le,s,u,h),i[ca[le]+n],Zn(le)),Fa[le]),y);t=y,y=h,h=Mr(u,10),u=s,s=ae,ae=Qn(Mr(fs(v,Sa(79-le,D,C,k),i[Ua[le]+n],hs(le)),Tn[le]),q),v=q,q=k,k=Mr(C,10),C=D,D=ae}ae=ea(this.h[1],u,k),this.h[1]=ea(this.h[2],h,q),this.h[2]=ea(this.h[3],y,v),this.h[3]=ea(this.h[4],t,D),this.h[4]=ea(this.h[0],s,C),this.h[0]=ae},Si.prototype._digest=function(i){return"hex"===i?Ce.toHex32(this.h,"little"):Ce.split32(this.h,"little")};var ca=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ua=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Fa=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Tn=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Tr={ripemd160:js};function ds(i,n){let t=i[0],s=i[1],u=i[2],h=i[3];t=ri(t,s,u,h,n[0],7,-680876936),h=ri(h,t,s,u,n[1],12,-389564586),u=ri(u,h,t,s,n[2],17,606105819),s=ri(s,u,h,t,n[3],22,-1044525330),t=ri(t,s,u,h,n[4],7,-176418897),h=ri(h,t,s,u,n[5],12,1200080426),u=ri(u,h,t,s,n[6],17,-1473231341),s=ri(s,u,h,t,n[7],22,-45705983),t=ri(t,s,u,h,n[8],7,1770035416),h=ri(h,t,s,u,n[9],12,-1958414417),u=ri(u,h,t,s,n[10],17,-42063),s=ri(s,u,h,t,n[11],22,-1990404162),t=ri(t,s,u,h,n[12],7,1804603682),h=ri(h,t,s,u,n[13],12,-40341101),u=ri(u,h,t,s,n[14],17,-1502002290),s=ri(s,u,h,t,n[15],22,1236535329),t=Jn(t,s,u,h,n[1],5,-165796510),h=Jn(h,t,s,u,n[6],9,-1069501632),u=Jn(u,h,t,s,n[11],14,643717713),s=Jn(s,u,h,t,n[0],20,-373897302),t=Jn(t,s,u,h,n[5],5,-701558691),h=Jn(h,t,s,u,n[10],9,38016083),u=Jn(u,h,t,s,n[15],14,-660478335),s=Jn(s,u,h,t,n[4],20,-405537848),t=Jn(t,s,u,h,n[9],5,568446438),h=Jn(h,t,s,u,n[14],9,-1019803690),u=Jn(u,h,t,s,n[3],14,-187363961),s=Jn(s,u,h,t,n[8],20,1163531501),t=Jn(t,s,u,h,n[13],5,-1444681467),h=Jn(h,t,s,u,n[2],9,-51403784),u=Jn(u,h,t,s,n[7],14,1735328473),s=Jn(s,u,h,t,n[12],20,-1926607734),t=ni(t,s,u,h,n[5],4,-378558),h=ni(h,t,s,u,n[8],11,-2022574463),u=ni(u,h,t,s,n[11],16,1839030562),s=ni(s,u,h,t,n[14],23,-35309556),t=ni(t,s,u,h,n[1],4,-1530992060),h=ni(h,t,s,u,n[4],11,1272893353),u=ni(u,h,t,s,n[7],16,-155497632),s=ni(s,u,h,t,n[10],23,-1094730640),t=ni(t,s,u,h,n[13],4,681279174),h=ni(h,t,s,u,n[0],11,-358537222),u=ni(u,h,t,s,n[3],16,-722521979),s=ni(s,u,h,t,n[6],23,76029189),t=ni(t,s,u,h,n[9],4,-640364487),h=ni(h,t,s,u,n[12],11,-421815835),u=ni(u,h,t,s,n[15],16,530742520),s=ni(s,u,h,t,n[2],23,-995338651),t=ii(t,s,u,h,n[0],6,-198630844),h=ii(h,t,s,u,n[7],10,1126891415),u=ii(u,h,t,s,n[14],15,-1416354905),s=ii(s,u,h,t,n[5],21,-57434055),t=ii(t,s,u,h,n[12],6,1700485571),h=ii(h,t,s,u,n[3],10,-1894986606),u=ii(u,h,t,s,n[10],15,-1051523),s=ii(s,u,h,t,n[1],21,-2054922799),t=ii(t,s,u,h,n[8],6,1873313359),h=ii(h,t,s,u,n[15],10,-30611744),u=ii(u,h,t,s,n[6],15,-1560198380),s=ii(s,u,h,t,n[13],21,1309151649),t=ii(t,s,u,h,n[4],6,-145523070),h=ii(h,t,s,u,n[11],10,-1120210379),u=ii(u,h,t,s,n[2],15,718787259),s=ii(s,u,h,t,n[9],21,-343485551),i[0]=Pi(t,i[0]),i[1]=Pi(s,i[1]),i[2]=Pi(u,i[2]),i[3]=Pi(h,i[3])}function bn(i,n,t,s,u,h){return n=Pi(Pi(n,i),Pi(s,h)),Pi(n<<u|n>>>32-u,t)}function ri(i,n,t,s,u,h,y){return bn(n&t|~n&s,i,n,u,h,y)}function Jn(i,n,t,s,u,h,y){return bn(n&s|t&~s,i,n,u,h,y)}function ni(i,n,t,s,u,h,y){return bn(n^t^s,i,n,u,h,y)}function ii(i,n,t,s,u,h,y){return bn(t^(n|~s),i,n,u,h,y)}function gs(i){const n=[];let t;for(t=0;t<64;t+=4)n[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return n}const ps="0123456789abcdef".split("");function ys(i){let n="",t=0;for(;t<4;t++)n+=ps[i>>8*t+4&15]+ps[i>>8*t&15];return n}function Pi(i,n){return i+n&4294967295}const Ia=ee.getWebCrypto(),Ka=ee.getNodeCrypto(),la=Ka&&Ka.getHashes();function Mi(i){if(Ka&&la.includes(i))return function(){var n=(0,f.Z)(function*(t){const s=Ka.createHash(i);return Je(t,u=>{s.update(u)},()=>new Uint8Array(s.digest()))});return function(t){return n.apply(this,arguments)}}()}function Va(i,n){return function(){var t=(0,f.Z)(function*(s,u=Lt){if(A(s)&&(s=yield et(s)),!ee.isStream(s)&&Ia&&n&&s.length>=u.minBytesForWebCrypto)return new Uint8Array(yield Ia.digest(n,s));const h=i();return Je(s,y=>{h.update(y)},()=>new Uint8Array(h.digest()))});return function(s){return t.apply(this,arguments)}}()}function ua(i,n){return function(){var t=(0,f.Z)(function*(s,u=Lt){if(A(s)&&(s=yield et(s)),ee.isStream(s)){const h=new i;return Je(s,y=>{h.process(y)},()=>h.finish().result)}return Ia&&n&&s.length>=u.minBytesForWebCrypto?new Uint8Array(yield Ia.digest(n,s)):i.bytes(s)});return function(s){return t.apply(this,arguments)}}()}const ta={md5:Mi("md5")||function(){var i=(0,f.Z)(function*(n){const t=function(s){const u=s.length,h=[1732584193,-271733879,-1732584194,271733878];let y;for(y=64;y<=s.length;y+=64)ds(h,gs(s.substring(y-64,y)));s=s.substring(y-64);const v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<s.length;y++)v[y>>2]|=s.charCodeAt(y)<<(y%4<<3);if(v[y>>2]|=128<<(y%4<<3),y>55)for(ds(h,v),y=0;y<16;y++)v[y]=0;return v[14]=8*u,ds(h,v),h}(ee.uint8ArrayToString(n));return ee.hexToUint8Array(function(s){for(let u=0;u<s.length;u++)s[u]=ys(s[u]);return s.join("")}(t))});return function(n){return i.apply(this,arguments)}}(),sha1:Mi("sha1")||ua(Be,"SHA-1"),sha224:Mi("sha224")||Va(oa),sha256:Mi("sha256")||ua(Bt,"SHA-256"),sha384:Mi("sha384")||Va(bt,"SHA-384"),sha512:Mi("sha512")||Va(Di,"SHA-512"),ripemd:Mi("ripemd160")||Va(js)};var yi={md5:ta.md5,sha1:ta.sha1,sha224:ta.sha224,sha256:ta.sha256,sha384:ta.sha384,sha512:ta.sha512,ripemd:ta.ripemd,digest:function(i,n){switch(i){case re.hash.md5:return this.md5(n);case re.hash.sha1:return this.sha1(n);case re.hash.ripemd:return this.ripemd(n);case re.hash.sha256:return this.sha256(n);case re.hash.sha384:return this.sha384(n);case re.hash.sha512:return this.sha512(n);case re.hash.sha224:return this.sha224(n);default:throw Error("Invalid hash function.")}},getHashByteLength:function(i){switch(i){case re.hash.md5:return 16;case re.hash.sha1:case re.hash.ripemd:return 20;case re.hash.sha256:return 32;case re.hash.sha384:return 48;case re.hash.sha512:return 64;case re.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class Oi{static encrypt(n,t,s){return new Oi(t,s).encrypt(n)}static decrypt(n,t,s){return new Oi(t,s).decrypt(n)}constructor(n,t,s){this.aes=s||new xn(n,t,!0,"CFB"),delete this.aes.padding}encrypt(n){return hn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return hn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}var zn=Xr(function(i){!function(n){var t=function(Me){var st,lt=new Float64Array(16);if(Me)for(st=0;st<Me.length;st++)lt[st]=Me[st];return lt},s=function(){throw Error("no PRNG")},u=new Uint8Array(32);u[0]=9;var h=t(),y=t([1]),v=t([56129,1]),D=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),q=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),le=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ae(Me,st,lt,Y){return function(Re,wt,It,_t,pe){var oe,ye=0;for(oe=0;oe<32;oe++)ye|=Re[wt+oe]^It[_t+oe];return(1&ye-1>>>8)-1}(Me,st,lt,Y)}function Ae(Me,st){var lt;for(lt=0;lt<16;lt++)Me[lt]=0|st[lt]}function Ne(Me){var st,lt,Y=1;for(st=0;st<16;st++)lt=Me[st]+Y+65535,Y=Math.floor(lt/65536),Me[st]=lt-65536*Y;Me[0]+=Y-1+37*(Y-1)}function Fe(Me,st,lt){for(var Y,Re=~(lt-1),wt=0;wt<16;wt++)Me[wt]^=Y=Re&(Me[wt]^st[wt]),st[wt]^=Y}function ot(Me,st){var lt,Y,Re,wt=t(),It=t();for(lt=0;lt<16;lt++)It[lt]=st[lt];for(Ne(It),Ne(It),Ne(It),Y=0;Y<2;Y++){for(wt[0]=It[0]-65517,lt=1;lt<15;lt++)wt[lt]=It[lt]-65535-(wt[lt-1]>>16&1),wt[lt-1]&=65535;wt[15]=It[15]-32767-(wt[14]>>16&1),Re=wt[15]>>16&1,wt[14]&=65535,Fe(It,wt,1-Re)}for(lt=0;lt<16;lt++)Me[2*lt]=255&It[lt],Me[2*lt+1]=It[lt]>>8}function yt(Me,st){var lt=new Uint8Array(32),Y=new Uint8Array(32);return ot(lt,Me),ot(Y,st),ae(lt,0,Y,0)}function $e(Me){var st=new Uint8Array(32);return ot(st,Me),1&st[0]}function Ie(Me,st){var lt;for(lt=0;lt<16;lt++)Me[lt]=st[2*lt]+(st[2*lt+1]<<8);Me[15]&=32767}function vt(Me,st,lt){for(var Y=0;Y<16;Y++)Me[Y]=st[Y]+lt[Y]}function ut(Me,st,lt){for(var Y=0;Y<16;Y++)Me[Y]=st[Y]-lt[Y]}function xt(Me,st,lt){var Y,Re,wt=0,It=0,_t=0,pe=0,oe=0,ye=0,be=0,Ge=0,Ue=0,Ye=0,ir=0,$t=0,nr=0,er=0,He=0,ze=0,Ze=0,je=0,We=0,Ee=0,we=0,Te=0,Xt=0,Hr=0,an=0,ln=0,$r=0,Fn=0,Gn=0,Wn=0,si=0,Qr=lt[0],En=lt[1],yn=lt[2],Kr=lt[3],Pn=lt[4],_n=lt[5],Dn=lt[6],Pt=lt[7],Ot=lt[8],tr=lt[9],Br=lt[10],Nr=lt[11],Gr=lt[12],Or=lt[13],Sn=lt[14],Mn=lt[15];wt+=(Y=st[0])*Qr,It+=Y*En,_t+=Y*yn,pe+=Y*Kr,oe+=Y*Pn,ye+=Y*_n,be+=Y*Dn,Ge+=Y*Pt,Ue+=Y*Ot,Ye+=Y*tr,ir+=Y*Br,$t+=Y*Nr,nr+=Y*Gr,er+=Y*Or,He+=Y*Sn,ze+=Y*Mn,It+=(Y=st[1])*Qr,_t+=Y*En,pe+=Y*yn,oe+=Y*Kr,ye+=Y*Pn,be+=Y*_n,Ge+=Y*Dn,Ue+=Y*Pt,Ye+=Y*Ot,ir+=Y*tr,$t+=Y*Br,nr+=Y*Nr,er+=Y*Gr,He+=Y*Or,ze+=Y*Sn,Ze+=Y*Mn,_t+=(Y=st[2])*Qr,pe+=Y*En,oe+=Y*yn,ye+=Y*Kr,be+=Y*Pn,Ge+=Y*_n,Ue+=Y*Dn,Ye+=Y*Pt,ir+=Y*Ot,$t+=Y*tr,nr+=Y*Br,er+=Y*Nr,He+=Y*Gr,ze+=Y*Or,Ze+=Y*Sn,je+=Y*Mn,pe+=(Y=st[3])*Qr,oe+=Y*En,ye+=Y*yn,be+=Y*Kr,Ge+=Y*Pn,Ue+=Y*_n,Ye+=Y*Dn,ir+=Y*Pt,$t+=Y*Ot,nr+=Y*tr,er+=Y*Br,He+=Y*Nr,ze+=Y*Gr,Ze+=Y*Or,je+=Y*Sn,We+=Y*Mn,oe+=(Y=st[4])*Qr,ye+=Y*En,be+=Y*yn,Ge+=Y*Kr,Ue+=Y*Pn,Ye+=Y*_n,ir+=Y*Dn,$t+=Y*Pt,nr+=Y*Ot,er+=Y*tr,He+=Y*Br,ze+=Y*Nr,Ze+=Y*Gr,je+=Y*Or,We+=Y*Sn,Ee+=Y*Mn,ye+=(Y=st[5])*Qr,be+=Y*En,Ge+=Y*yn,Ue+=Y*Kr,Ye+=Y*Pn,ir+=Y*_n,$t+=Y*Dn,nr+=Y*Pt,er+=Y*Ot,He+=Y*tr,ze+=Y*Br,Ze+=Y*Nr,je+=Y*Gr,We+=Y*Or,Ee+=Y*Sn,we+=Y*Mn,be+=(Y=st[6])*Qr,Ge+=Y*En,Ue+=Y*yn,Ye+=Y*Kr,ir+=Y*Pn,$t+=Y*_n,nr+=Y*Dn,er+=Y*Pt,He+=Y*Ot,ze+=Y*tr,Ze+=Y*Br,je+=Y*Nr,We+=Y*Gr,Ee+=Y*Or,we+=Y*Sn,Te+=Y*Mn,Ge+=(Y=st[7])*Qr,Ue+=Y*En,Ye+=Y*yn,ir+=Y*Kr,$t+=Y*Pn,nr+=Y*_n,er+=Y*Dn,He+=Y*Pt,ze+=Y*Ot,Ze+=Y*tr,je+=Y*Br,We+=Y*Nr,Ee+=Y*Gr,we+=Y*Or,Te+=Y*Sn,Xt+=Y*Mn,Ue+=(Y=st[8])*Qr,Ye+=Y*En,ir+=Y*yn,$t+=Y*Kr,nr+=Y*Pn,er+=Y*_n,He+=Y*Dn,ze+=Y*Pt,Ze+=Y*Ot,je+=Y*tr,We+=Y*Br,Ee+=Y*Nr,we+=Y*Gr,Te+=Y*Or,Xt+=Y*Sn,Hr+=Y*Mn,Ye+=(Y=st[9])*Qr,ir+=Y*En,$t+=Y*yn,nr+=Y*Kr,er+=Y*Pn,He+=Y*_n,ze+=Y*Dn,Ze+=Y*Pt,je+=Y*Ot,We+=Y*tr,Ee+=Y*Br,we+=Y*Nr,Te+=Y*Gr,Xt+=Y*Or,Hr+=Y*Sn,an+=Y*Mn,ir+=(Y=st[10])*Qr,$t+=Y*En,nr+=Y*yn,er+=Y*Kr,He+=Y*Pn,ze+=Y*_n,Ze+=Y*Dn,je+=Y*Pt,We+=Y*Ot,Ee+=Y*tr,we+=Y*Br,Te+=Y*Nr,Xt+=Y*Gr,Hr+=Y*Or,an+=Y*Sn,ln+=Y*Mn,$t+=(Y=st[11])*Qr,nr+=Y*En,er+=Y*yn,He+=Y*Kr,ze+=Y*Pn,Ze+=Y*_n,je+=Y*Dn,We+=Y*Pt,Ee+=Y*Ot,we+=Y*tr,Te+=Y*Br,Xt+=Y*Nr,Hr+=Y*Gr,an+=Y*Or,ln+=Y*Sn,$r+=Y*Mn,nr+=(Y=st[12])*Qr,er+=Y*En,He+=Y*yn,ze+=Y*Kr,Ze+=Y*Pn,je+=Y*_n,We+=Y*Dn,Ee+=Y*Pt,we+=Y*Ot,Te+=Y*tr,Xt+=Y*Br,Hr+=Y*Nr,an+=Y*Gr,ln+=Y*Or,$r+=Y*Sn,Fn+=Y*Mn,er+=(Y=st[13])*Qr,He+=Y*En,ze+=Y*yn,Ze+=Y*Kr,je+=Y*Pn,We+=Y*_n,Ee+=Y*Dn,we+=Y*Pt,Te+=Y*Ot,Xt+=Y*tr,Hr+=Y*Br,an+=Y*Nr,ln+=Y*Gr,$r+=Y*Or,Fn+=Y*Sn,Gn+=Y*Mn,He+=(Y=st[14])*Qr,ze+=Y*En,Ze+=Y*yn,je+=Y*Kr,We+=Y*Pn,Ee+=Y*_n,we+=Y*Dn,Te+=Y*Pt,Xt+=Y*Ot,Hr+=Y*tr,an+=Y*Br,ln+=Y*Nr,$r+=Y*Gr,Fn+=Y*Or,Gn+=Y*Sn,Wn+=Y*Mn,ze+=(Y=st[15])*Qr,It+=38*(je+=Y*yn),_t+=38*(We+=Y*Kr),pe+=38*(Ee+=Y*Pn),oe+=38*(we+=Y*_n),ye+=38*(Te+=Y*Dn),be+=38*(Xt+=Y*Pt),Ge+=38*(Hr+=Y*Ot),Ue+=38*(an+=Y*tr),Ye+=38*(ln+=Y*Br),ir+=38*($r+=Y*Nr),$t+=38*(Fn+=Y*Gr),nr+=38*(Gn+=Y*Or),er+=38*(Wn+=Y*Sn),He+=38*(si+=Y*Mn),wt=(Y=(wt+=38*(Ze+=Y*En))+(Re=1)+65535)-65536*(Re=Math.floor(Y/65536)),It=(Y=It+Re+65535)-65536*(Re=Math.floor(Y/65536)),_t=(Y=_t+Re+65535)-65536*(Re=Math.floor(Y/65536)),pe=(Y=pe+Re+65535)-65536*(Re=Math.floor(Y/65536)),oe=(Y=oe+Re+65535)-65536*(Re=Math.floor(Y/65536)),ye=(Y=ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),be=(Y=be+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ge=(Y=Ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ue=(Y=Ue+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ye=(Y=Ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),ir=(Y=ir+Re+65535)-65536*(Re=Math.floor(Y/65536)),$t=(Y=$t+Re+65535)-65536*(Re=Math.floor(Y/65536)),nr=(Y=nr+Re+65535)-65536*(Re=Math.floor(Y/65536)),er=(Y=er+Re+65535)-65536*(Re=Math.floor(Y/65536)),He=(Y=He+Re+65535)-65536*(Re=Math.floor(Y/65536)),ze=(Y=ze+Re+65535)-65536*(Re=Math.floor(Y/65536)),wt=(Y=(wt+=Re-1+37*(Re-1))+(Re=1)+65535)-65536*(Re=Math.floor(Y/65536)),It=(Y=It+Re+65535)-65536*(Re=Math.floor(Y/65536)),_t=(Y=_t+Re+65535)-65536*(Re=Math.floor(Y/65536)),pe=(Y=pe+Re+65535)-65536*(Re=Math.floor(Y/65536)),oe=(Y=oe+Re+65535)-65536*(Re=Math.floor(Y/65536)),ye=(Y=ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),be=(Y=be+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ge=(Y=Ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ue=(Y=Ue+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ye=(Y=Ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),ir=(Y=ir+Re+65535)-65536*(Re=Math.floor(Y/65536)),$t=(Y=$t+Re+65535)-65536*(Re=Math.floor(Y/65536)),nr=(Y=nr+Re+65535)-65536*(Re=Math.floor(Y/65536)),er=(Y=er+Re+65535)-65536*(Re=Math.floor(Y/65536)),He=(Y=He+Re+65535)-65536*(Re=Math.floor(Y/65536)),ze=(Y=ze+Re+65535)-65536*(Re=Math.floor(Y/65536)),Me[0]=wt+=Re-1+37*(Re-1),Me[1]=It,Me[2]=_t,Me[3]=pe,Me[4]=oe,Me[5]=ye,Me[6]=be,Me[7]=Ge,Me[8]=Ue,Me[9]=Ye,Me[10]=ir,Me[11]=$t,Me[12]=nr,Me[13]=er,Me[14]=He,Me[15]=ze}function St(Me,st){xt(Me,st,st)}function Ct(Me,st){var lt,Y=t();for(lt=0;lt<16;lt++)Y[lt]=st[lt];for(lt=253;lt>=0;lt--)St(Y,Y),2!==lt&&4!==lt&&xt(Y,Y,st);for(lt=0;lt<16;lt++)Me[lt]=Y[lt]}function zt(Me,st,lt){var Y,Re,wt=new Uint8Array(32),It=new Float64Array(80),_t=t(),pe=t(),oe=t(),ye=t(),be=t(),Ge=t();for(Re=0;Re<31;Re++)wt[Re]=st[Re];for(wt[31]=127&st[31]|64,wt[0]&=248,Ie(It,lt),Re=0;Re<16;Re++)pe[Re]=It[Re],ye[Re]=_t[Re]=oe[Re]=0;for(_t[0]=ye[0]=1,Re=254;Re>=0;--Re)Fe(_t,pe,Y=wt[Re>>>3]>>>(7&Re)&1),Fe(oe,ye,Y),vt(be,_t,oe),ut(_t,_t,oe),vt(oe,pe,ye),ut(pe,pe,ye),St(ye,be),St(Ge,_t),xt(_t,oe,_t),xt(oe,pe,be),vt(be,_t,oe),ut(_t,_t,oe),St(pe,_t),ut(oe,ye,Ge),xt(_t,oe,v),vt(_t,_t,ye),xt(oe,oe,_t),xt(_t,ye,Ge),xt(ye,pe,It),St(pe,be),Fe(_t,pe,Y),Fe(oe,ye,Y);for(Re=0;Re<16;Re++)It[Re+16]=_t[Re],It[Re+32]=oe[Re],It[Re+48]=pe[Re],It[Re+64]=ye[Re];var Ue=It.subarray(32),Ye=It.subarray(16);return Ct(Ue,Ue),xt(Ye,Ye,Ue),ot(Me,Ye),0}function lr(Me,st){return zt(Me,st,u)}function ur(Me,st){var lt=t(),Y=t(),Re=t(),wt=t(),It=t(),_t=t(),pe=t(),oe=t(),ye=t();ut(lt,Me[1],Me[0]),ut(ye,st[1],st[0]),xt(lt,lt,ye),vt(Y,Me[0],Me[1]),vt(ye,st[0],st[1]),xt(Y,Y,ye),xt(Re,Me[3],st[3]),xt(Re,Re,C),xt(wt,Me[2],st[2]),vt(wt,wt,wt),ut(It,Y,lt),ut(_t,wt,Re),vt(pe,wt,Re),vt(oe,Y,lt),xt(Me[0],It,_t),xt(Me[1],oe,pe),xt(Me[2],pe,_t),xt(Me[3],It,oe)}function vr(Me,st,lt){var Y;for(Y=0;Y<4;Y++)Fe(Me[Y],st[Y],lt)}function Gt(Me,st){var lt=t(),Y=t(),Re=t();Ct(Re,st[2]),xt(lt,st[0],Re),xt(Y,st[1],Re),ot(Me,Y),Me[31]^=$e(lt)<<7}function mt(Me,st,lt){var Y,Re;for(Ae(Me[0],h),Ae(Me[1],y),Ae(Me[2],y),Ae(Me[3],h),Re=255;Re>=0;--Re)vr(Me,st,Y=lt[Re/8|0]>>(7&Re)&1),ur(st,Me),ur(Me,Me),vr(Me,st,Y)}function zr(Me,st){var lt=[t(),t(),t(),t()];Ae(lt[0],k),Ae(lt[1],q),Ae(lt[2],y),xt(lt[3],k,q),mt(Me,lt,st)}function dt(Me,st,lt){var Y,Re,wt=[t(),t(),t(),t()];for(lt||s(st,32),(Y=n.hash(st.subarray(0,32)))[0]&=248,Y[31]&=127,Y[31]|=64,zr(wt,Y),Gt(Me,wt),Re=0;Re<32;Re++)st[Re+32]=Me[Re];return 0}var Me,Zt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function xr(Me,st){var lt,Y,Re,wt;for(Y=63;Y>=32;--Y){for(lt=0,Re=Y-32,wt=Y-12;Re<wt;++Re)st[Re]+=lt-16*st[Y]*Zt[Re-(Y-32)],lt=Math.floor((st[Re]+128)/256),st[Re]-=256*lt;st[Re]+=lt,st[Y]=0}for(lt=0,Re=0;Re<32;Re++)st[Re]+=lt-(st[31]>>4)*Zt[Re],lt=st[Re]>>8,st[Re]&=255;for(Re=0;Re<32;Re++)st[Re]-=lt*Zt[Re];for(Y=0;Y<32;Y++)st[Y+1]+=st[Y]>>8,Me[Y]=255&st[Y]}function Er(Me){var st,lt=new Float64Array(64);for(st=0;st<64;st++)lt[st]=Me[st];for(st=0;st<64;st++)Me[st]=0;xr(Me,lt)}function Sr(){for(var Me=0;Me<arguments.length;Me++)if(!(arguments[Me]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Jt(Me){for(var st=0;st<Me.length;st++)Me[st]=0}n.scalarMult=function(Me,st){if(Sr(Me,st),32!==Me.length)throw Error("bad n size");if(32!==st.length)throw Error("bad p size");var lt=new Uint8Array(32);return zt(lt,Me,st),lt},n.box={},n.box.keyPair=function(){var Me,st,lt=new Uint8Array(32),Y=new Uint8Array(32);return Me=lt,s(st=Y,32),lr(Me,st),{publicKey:lt,secretKey:Y}},n.box.keyPair.fromSecretKey=function(Me){if(Sr(Me),32!==Me.length)throw Error("bad secret key size");var st=new Uint8Array(32);return lr(st,Me),{publicKey:st,secretKey:new Uint8Array(Me)}},n.sign=function(Me,st){if(Sr(Me,st),64!==st.length)throw Error("bad secret key size");var lt=new Uint8Array(64+Me.length);return function(Y,Re,wt,It){var _t,pe,oe,ye,be,Ge=new Float64Array(64),Ue=[t(),t(),t(),t()];(_t=n.hash(It.subarray(0,32)))[0]&=248,_t[31]&=127,_t[31]|=64;var Ye=wt+64;for(ye=0;ye<wt;ye++)Y[64+ye]=Re[ye];for(ye=0;ye<32;ye++)Y[32+ye]=_t[32+ye];for(Er(oe=n.hash(Y.subarray(32,Ye))),zr(Ue,oe),Gt(Y,Ue),ye=32;ye<64;ye++)Y[ye]=It[ye];for(Er(pe=n.hash(Y.subarray(0,Ye))),ye=0;ye<64;ye++)Ge[ye]=0;for(ye=0;ye<32;ye++)Ge[ye]=oe[ye];for(ye=0;ye<32;ye++)for(be=0;be<32;be++)Ge[ye+be]+=pe[ye]*_t[be];xr(Y.subarray(32),Ge)}(lt,Me,Me.length,st),lt},n.sign.detached=function(Me,st){for(var lt=n.sign(Me,st),Y=new Uint8Array(64),Re=0;Re<Y.length;Re++)Y[Re]=lt[Re];return Y},n.sign.detached.verify=function(Me,st,lt){if(Sr(Me,st,lt),64!==st.length)throw Error("bad signature size");if(32!==lt.length)throw Error("bad public key size");var Y,Re=new Uint8Array(64+Me.length),wt=new Uint8Array(64+Me.length);for(Y=0;Y<64;Y++)Re[Y]=st[Y];for(Y=0;Y<Me.length;Y++)Re[Y+64]=Me[Y];return function(It,_t,pe,oe){var ye,be,Ge=new Uint8Array(32),Ue=[t(),t(),t(),t()],Ye=[t(),t(),t(),t()];if(pe<64||function gr(Me,st){var lt=t(),Y=t(),Re=t(),wt=t(),It=t(),_t=t(),pe=t();return Ae(Me[2],y),Ie(Me[1],st),St(Re,Me[1]),xt(wt,Re,D),ut(Re,Re,Me[2]),vt(wt,Me[2],wt),St(It,wt),St(_t,It),xt(pe,_t,It),xt(lt,pe,Re),xt(lt,lt,wt),function(oe,ye){var be,Ge=t();for(be=0;be<16;be++)Ge[be]=ye[be];for(be=250;be>=0;be--)St(Ge,Ge),1!==be&&xt(Ge,Ge,ye);for(be=0;be<16;be++)oe[be]=Ge[be]}(lt,lt),xt(lt,lt,Re),xt(lt,lt,wt),xt(lt,lt,wt),xt(Me[0],lt,wt),St(Y,Me[0]),xt(Y,Y,wt),yt(Y,Re)&&xt(Me[0],Me[0],le),St(Y,Me[0]),xt(Y,Y,wt),yt(Y,Re)?-1:($e(Me[0])===st[31]>>7&&ut(Me[0],h,Me[0]),xt(Me[3],Me[0],Me[1]),0)}(Ye,oe))return-1;for(ye=0;ye<pe;ye++)It[ye]=_t[ye];for(ye=0;ye<32;ye++)It[ye+32]=oe[ye];if(Er(be=n.hash(It.subarray(0,pe))),mt(Ue,Ye,be),zr(Ye,_t.subarray(32)),ur(Ue,Ye),Gt(Ge,Ue),pe-=64,ae(_t,0,Ge,0)){for(ye=0;ye<pe;ye++)It[ye]=0;return-1}for(ye=0;ye<pe;ye++)It[ye]=_t[ye+64];return pe}(wt,Re,Re.length,lt)>=0},n.sign.keyPair=function(){var Me=new Uint8Array(32),st=new Uint8Array(64);return dt(Me,st),{publicKey:Me,secretKey:st}},n.sign.keyPair.fromSecretKey=function(Me){if(Sr(Me),64!==Me.length)throw Error("bad secret key size");for(var st=new Uint8Array(32),lt=0;lt<st.length;lt++)st[lt]=Me[32+lt];return{publicKey:st,secretKey:new Uint8Array(Me)}},n.sign.keyPair.fromSeed=function(Me){if(Sr(Me),32!==Me.length)throw Error("bad seed size");for(var st=new Uint8Array(32),lt=new Uint8Array(64),Y=0;Y<32;Y++)lt[Y]=Me[Y];return dt(st,lt,!0),{publicKey:st,secretKey:lt}},n.setPRNG=function(Me){s=Me},(Me=typeof self<"u"?self.crypto||self.msCrypto:null)&&Me.getRandomValues?n.setPRNG(function(st,lt){var Y,Re=new Uint8Array(lt);for(Y=0;Y<lt;Y+=65536)Me.getRandomValues(Re.subarray(Y,Y+Math.min(lt-Y,65536)));for(Y=0;Y<lt;Y++)st[Y]=Re[Y];Jt(Re)}):(Me=void 0)&&Me.randomBytes&&n.setPRNG(function(st,lt){var Y,Re=Me.randomBytes(lt);for(Y=0;Y<lt;Y++)st[Y]=Re[Y];Jt(Re)})}(i.exports?i.exports:self.nacl=self.nacl||{})});const xs=ee.getNodeCrypto();function jn(i){return ms.apply(this,arguments)}function ms(){return ms=(0,f.Z)(function*(i){const n=new Uint8Array(i);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(n);else if(xs){const t=xs.randomBytes(n.length);n.set(t)}else{if(!Ha.buffer)throw Error("No secure random number generator available.");yield Ha.get(n)}return n}),ms.apply(this,arguments)}function bi(i,n){return vs.apply(this,arguments)}function vs(){return vs=(0,f.Z)(function*(i,n){const t=yield ee.getBigInteger();if(n.lt(i))throw Error("Illegal parameter value: max <= min");const s=n.sub(i),u=s.byteLength();return new t(yield jn(u+8)).mod(s).add(i)}),vs.apply(this,arguments)}const Ha=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(i,n){this.buffer=new Uint8Array(i),this.size=0,this.callback=n}set(i){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(i instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const n=this.buffer.length-this.size;i.length>n&&(i=i.subarray(0,n)),this.buffer.set(i,this.size),this.size+=i.length}get(i){var n=this;return(0,f.Z)(function*(){if(!n.buffer)throw Error("RandomBuffer is not initialized");if(!(i instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(n.size<i.length){if(!n.callback)throw Error("Random number buffer depleted");return yield n.callback(),n.get(i)}for(let t=0;t<i.length;t++)i[t]=n.buffer[--n.size],n.buffer[n.size]=0})()}};var Ii=Object.freeze({__proto__:null,getRandomBytes:jn,getRandomBigInteger:bi,randomBuffer:Ha});function Ws(i,n,t){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,f.Z)(function*(i,n,t){const s=yield ee.getBigInteger(),u=new s(1),h=u.leftShift(new s(i-1)),y=new s(30),v=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],D=yield bi(h,h.leftShift(u));let C=D.mod(y).toNumber();do{D.iadd(new s(v[C])),C=(C+v[C])%v.length,D.bitLength()>i&&(D.imod(h.leftShift(u)).iadd(h),C=D.mod(y).toNumber())}while(!(yield fa(D,n,t)));return D}),Ta.apply(this,arguments)}function fa(i,n,t){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,f.Z)(function*(i,n,t){return!(n&&!i.dec().gcd(n).isOne()||!(yield(s=(0,f.Z)(function*(u){const h=yield ee.getBigInteger();return za.every(y=>0!==u.mod(new h(y)))}),function(u){return s.apply(this,arguments)})(i))||!(yield function(){var s=(0,f.Z)(function*(u,h){const y=yield ee.getBigInteger();return(h=h||new y(2)).modExp(u.dec(),u).isOne()});return function(u,h){return s.apply(this,arguments)}}()(i))||!(yield function(){var s=(0,f.Z)(function*(u,h,y){const v=yield ee.getBigInteger(),D=u.bitLength();h||(h=Math.max(1,D/48|0));const C=u.dec();let k=0;for(;!C.getBit(k);)k++;const q=u.rightShift(new v(k));for(;h>0;h--){let le,ae=(y?y():yield bi(new v(2),C)).modExp(q,u);if(!ae.isOne()&&!ae.equal(C)){for(le=1;le<k;le++){if(ae=ae.mul(ae).mod(u),ae.isOne())return!1;if(ae.equal(C))break}if(le===k)return!1}}return!0});return function(u,h,y){return s.apply(this,arguments)}}()(i,t)));var s}),Jr.apply(this,arguments)}const za=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],H=[];function e(i,n){return r.apply(this,arguments)}function r(){return r=(0,f.Z)(function*(i,n){const t=i.length;if(t>n-11)throw Error("Message too long");const s=yield(h=(0,f.Z)(function*(y){const v=new Uint8Array(y);let D=0;for(;D<y;){const C=yield jn(y-D);for(let k=0;k<C.length;k++)0!==C[k]&&(v[D++]=C[k])}return v}),function(y){return h.apply(this,arguments)})(n-t-3),u=new Uint8Array(n);var h;return u[1]=2,u.set(s,2),u.set(i,n-t),u}),r.apply(this,arguments)}function a(i,n){let t=2,s=1;for(let v=t;v<i.length;v++)s&=0!==i[v],t+=s;const u=t-2,h=i.subarray(t+1),y=0===i[0]&2===i[1]&u>=8&!s;if(n)return ee.selectUint8Array(y,h,n);if(y)return h;throw Error("Decryption error")}function o(i,n,t){return l.apply(this,arguments)}function l(){return l=(0,f.Z)(function*(i,n,t){let s;if(n.length!==yi.getHashByteLength(i))throw Error("Invalid hash length");const u=new Uint8Array(H[i].length);for(s=0;s<H[i].length;s++)u[s]=H[i][s];const h=u.length+n.length;if(t<h+11)throw Error("Intended encoded message length too short");const y=new Uint8Array(t-h-3).fill(255),v=new Uint8Array(t);return v[1]=1,v.set(y,2),v.set(u,t-h),v.set(n,t-n.length),v}),l.apply(this,arguments)}H[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],H[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],H[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],H[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],H[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],H[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],H[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var d=Object.freeze({__proto__:null,emeEncode:e,emeDecode:a,emsaEncode:o});const p=ee.getWebCrypto(),b=ee.getNodeCrypto(),U=void 0,$=b?U.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,de=b?U.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var Se=Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,v,D,C){if(t&&!ee.isStream(t))if(ee.getWebCrypto())try{return yield(k=(0,f.Z)(function*(q,le,ae,Ae,Ne,Fe,ot,yt){const $e=yield(ut=(0,f.Z)(function*(xt,St,Ct,zt,lr,ur){const vr=yield ee.getBigInteger(),Gt=new vr(zt),mt=new vr(lr),zr=new vr(Ct);let dt=zr.mod(mt.dec()),Zt=zr.mod(Gt.dec());return Zt=Zt.toUint8Array(),dt=dt.toUint8Array(),{kty:"RSA",n:pr(xt,!0),e:pr(St,!0),d:pr(Ct,!0),p:pr(lr,!0),q:pr(zt,!0),dp:pr(dt,!0),dq:pr(Zt,!0),qi:pr(ur,!0),ext:!0}}),function(xt,St,Ct,zt,lr,ur){return ut.apply(this,arguments)})(ae,Ae,Ne,Fe,ot,yt),Ie={name:"RSASSA-PKCS1-v1_5",hash:{name:q}},vt=yield p.importKey("jwk",$e,Ie,!1,["sign"]);var ut;return new Uint8Array(yield p.sign("RSASSA-PKCS1-v1_5",vt,le))}),function(q,le,ae,Ae,Ne,Fe,ot,yt){return k.apply(this,arguments)})(re.read(re.webHash,n),t,s,u,h,y,v,D)}catch(k){ee.printDebugError(k)}else if(ee.getNodeCrypto())return function(){var k=(0,f.Z)(function*(q,le,ae,Ae,Ne,Fe,ot,yt){const{default:$e}=yield z.e(2983).then(z.bind(z,2983)),Ie=new $e(Fe),vt=new $e(ot),ut=new $e(Ne),xt=ut.mod(vt.subn(1)),St=ut.mod(Ie.subn(1)),Ct=b.createSign(re.read(re.hash,q));Ct.write(le),Ct.end();const zt={version:0,modulus:new $e(ae),publicExponent:new $e(Ae),privateExponent:new $e(Ne),prime1:new $e(ot),prime2:new $e(Fe),exponent1:xt,exponent2:St,coefficient:new $e(yt)};if(void 0!==b.createPrivateKey){const ur=$.encode(zt,"der");return new Uint8Array(Ct.sign({key:ur,format:"der",type:"pkcs1"}))}const lr=$.encode(zt,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(Ct.sign(lr))});return function(q,le,ae,Ae,Ne,Fe,ot,yt){return k.apply(this,arguments)}}()(n,t,s,u,h,y,v,D);var k;return function(){var k=(0,f.Z)(function*(q,le,ae,Ae){const Ne=yield ee.getBigInteger();le=new Ne(le);const Fe=new Ne(yield o(q,Ae,le.byteLength()));if(ae=new Ne(ae),Fe.gte(le))throw Error("Message size cannot exceed modulus size");return Fe.modExp(ae,le).toUint8Array("be",le.byteLength())});return function(q,le,ae,Ae){return k.apply(this,arguments)}}()(n,s,h,C)});return function(t,s,u,h,y,v,D,C,k){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(t&&!ee.isStream(t))if(ee.getWebCrypto())try{return yield(v=(0,f.Z)(function*(D,C,k,q,le){const ae=(Fe=le,{kty:"RSA",n:pr(q,!0),e:pr(Fe,!0),ext:!0}),Ae=yield p.importKey("jwk",ae,{name:"RSASSA-PKCS1-v1_5",hash:{name:D}},!1,["verify"]);var Fe;return p.verify("RSASSA-PKCS1-v1_5",Ae,k,C)}),function(D,C,k,q,le){return v.apply(this,arguments)})(re.read(re.webHash,n),t,s,u,h)}catch(v){ee.printDebugError(v)}else if(ee.getNodeCrypto())return function(){var v=(0,f.Z)(function*(D,C,k,q,le){const{default:ae}=yield z.e(2983).then(z.bind(z,2983)),Ae=b.createVerify(re.read(re.hash,D));Ae.write(C),Ae.end();const Ne={modulus:new ae(q),publicExponent:new ae(le)};let Fe;Fe=void 0!==b.createPrivateKey?{key:de.encode(Ne,"der"),format:"der",type:"pkcs1"}:de.encode(Ne,"pem",{label:"RSA PUBLIC KEY"});try{return yield Ae.verify(Fe,k)}catch{return!1}});return function(D,C,k,q,le){return v.apply(this,arguments)}}()(n,t,s,u,h);var v;return function(){var v=(0,f.Z)(function*(D,C,k,q,le){const ae=yield ee.getBigInteger();if(k=new ae(k),C=new ae(C),q=new ae(q),C.gte(k))throw Error("Signature size cannot exceed modulus size");const Ae=C.modExp(q,k).toUint8Array("be",k.byteLength()),Ne=yield o(D,le,k.byteLength());return ee.equalsUint8Array(Ae,Ne)});return function(D,C,k,q,le){return v.apply(this,arguments)}}()(n,s,u,h,y)});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),encrypt:function(){var i=(0,f.Z)(function*(n,t,s){return ee.getNodeCrypto()?(u=(0,f.Z)(function*(h,y,v){const{default:D}=yield z.e(2983).then(z.bind(z,2983)),C={modulus:new D(y),publicExponent:new D(v)};let k;return k=void 0!==b.createPrivateKey?{key:de.encode(C,"der"),format:"der",type:"pkcs1",padding:b.constants.RSA_PKCS1_PADDING}:{key:de.encode(C,"pem",{label:"RSA PUBLIC KEY"}),padding:b.constants.RSA_PKCS1_PADDING},new Uint8Array(b.publicEncrypt(k,h))}),function(h,y,v){return u.apply(this,arguments)})(n,t,s):function(){var u=(0,f.Z)(function*(h,y,v){const D=yield ee.getBigInteger();if(y=new D(y),h=new D(yield e(h,y.byteLength())),v=new D(v),h.gte(y))throw Error("Message size cannot exceed modulus size");return h.modExp(v,y).toUint8Array("be",y.byteLength())});return function(h,y,v){return u.apply(this,arguments)}}()(n,t,s);var u});return function(t,s,u){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,v,D){return ee.getNodeCrypto()?(C=(0,f.Z)(function*(k,q,le,ae,Ae,Ne,Fe,ot){const{default:yt}=yield z.e(2983).then(z.bind(z,2983)),$e=new yt(Ae),Ie=new yt(Ne),vt=new yt(ae),ut=vt.mod(Ie.subn(1)),xt=vt.mod($e.subn(1)),St={version:0,modulus:new yt(q),publicExponent:new yt(le),privateExponent:new yt(ae),prime1:new yt(Ne),prime2:new yt(Ae),exponent1:ut,exponent2:xt,coefficient:new yt(Fe)};let Ct;Ct=void 0!==b.createPrivateKey?{key:$.encode(St,"der"),format:"der",type:"pkcs1",padding:b.constants.RSA_PKCS1_PADDING}:{key:$.encode(St,"pem",{label:"RSA PRIVATE KEY"}),padding:b.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(b.privateDecrypt(Ct,k))}catch{if(ot)return ot;throw Error("Decryption error")}}),function(k,q,le,ae,Ae,Ne,Fe,ot){return C.apply(this,arguments)})(n,t,s,u,h,y,v,D):function(){var C=(0,f.Z)(function*(k,q,le,ae,Ae,Ne,Fe,ot){const yt=yield ee.getBigInteger();if(k=new yt(k),q=new yt(q),le=new yt(le),ae=new yt(ae),Ae=new yt(Ae),Ne=new yt(Ne),Fe=new yt(Fe),k.gte(q))throw Error("Data too large.");const $e=ae.mod(Ne.dec()),Ie=ae.mod(Ae.dec()),vt=(yield bi(new yt(2),q)).mod(q),ut=vt.modInv(q).modExp(le,q),xt=(k=k.mul(ut).mod(q)).modExp(Ie,Ae),St=k.modExp($e,Ne);let Ct=Fe.mul(St.sub(xt)).mod(Ne).mul(Ae).add(xt);return Ct=Ct.mul(vt).mod(q),a(Ct.toUint8Array("be",q.byteLength()),ot)});return function(k,q,le,ae,Ae,Ne,Fe,ot){return C.apply(this,arguments)}}()(n,t,s,u,h,y,v,D);var C});return function(t,s,u,h,y,v,D,C){return i.apply(this,arguments)}}(),generate:function(){var i=(0,f.Z)(function*(n,t){if(t=new(yield ee.getBigInteger())(t),ee.getWebCrypto()){const v={name:"RSASSA-PKCS1-v1_5",modulusLength:n,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},D=yield p.generateKey(v,!0,["sign","verify"]),C=yield p.exportKey("jwk",D.privateKey);return{n:jt(C.n),e:t.toUint8Array(),d:jt(C.d),p:jt(C.q),q:jt(C.p),u:jt(C.qi)}}if(ee.getNodeCrypto()&&b.generateKeyPair&&$){const v={modulusLength:n,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},D=yield new Promise((C,k)=>b.generateKeyPair("rsa",v,(q,le,ae)=>{q?k(q):C($.decode(ae,"der"))}));return{n:D.modulus.toArrayLike(Uint8Array),e:D.publicExponent.toArrayLike(Uint8Array),d:D.privateExponent.toArrayLike(Uint8Array),p:D.prime2.toArrayLike(Uint8Array),q:D.prime1.toArrayLike(Uint8Array),u:D.coefficient.toArrayLike(Uint8Array)}}let s,u,h;do{u=yield Ws(n-(n>>1),t,40),s=yield Ws(n>>1,t,40),h=s.mul(u)}while(h.bitLength()!==n);const y=s.dec().imul(u.dec());return u.lt(s)&&([s,u]=[u,s]),{n:h.toUint8Array(),e:t.toUint8Array(),d:t.modInv(y).toUint8Array(),p:s.toUint8Array(),q:u.toUint8Array(),u:s.modInv(u).toUint8Array()}});return function(t,s){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){const v=yield ee.getBigInteger();if(n=new v(n),u=new v(u),h=new v(h),!u.mul(h).equal(n))return!1;const D=new v(2);if(y=new v(y),!u.mul(y).mod(h).isOne())return!1;t=new v(t),s=new v(s);const C=new v(Math.floor(n.bitLength()/3)),k=yield bi(D,D.leftShift(C)),q=k.mul(s).mul(t);return!(!q.mod(u.dec()).equal(k)||!q.mod(h.dec()).equal(k))});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}()}),De=Object.freeze({__proto__:null,encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=yield ee.getBigInteger();t=new h(t),s=new h(s),u=new h(u);const y=new h(yield e(n,t.byteLength())),v=yield bi(new h(1),t.dec());return{c1:s.modExp(v,t).toUint8Array(),c2:u.modExp(v,t).imul(y).imod(t).toUint8Array()}});return function(t,s,u,h){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=yield ee.getBigInteger();return n=new y(n),t=new y(t),s=new y(s),u=new y(u),a(n.modExp(u,s).modInv(s).imul(t).imod(s).toUint8Array("be",s.byteLength()),h)});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=yield ee.getBigInteger();n=new h(n),t=new h(t),s=new h(s);const y=new h(1);if(t.lte(y)||t.gte(n))return!1;const v=new h(n.bitLength()),D=new h(1023);if(v.lt(D)||!t.modExp(n.dec(),n).isOne())return!1;let C=t;const k=new h(1),q=new h(2).leftShift(new h(17));for(;k.lt(q);){if(C=C.mul(t).imod(n),C.isOne())return!1;k.iinc()}u=new h(u);const le=new h(2),ae=yield bi(le.leftShift(v.dec()),le.leftShift(v)),Ae=n.dec().imul(ae).iadd(u);return!!s.equal(t.modExp(Ae,n))});return function(t,s,u,h){return i.apply(this,arguments)}}()});class Qe{constructor(n){if(n instanceof Qe)this.oid=n.oid;else if(ee.isArray(n)||ee.isUint8Array(n)){if(6===(n=new Uint8Array(n))[0]){if(n[1]!==n.length-2)throw Error("Length mismatch in DER encoded oid");n=n.subarray(2)}this.oid=n}else this.oid=""}read(n){if(n.length>=1){const t=n[0];if(n.length>=1+t)return this.oid=n.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return ee.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return ee.uint8ArrayToHex(this.oid)}getName(){const n=this.toHex();if(re.curve[n])return re.write(re.curve,n);throw Error("Unknown curve object identifier.")}}function nt(i,n){return i.keyPair({priv:n})}function pt(i,n){const t=i.keyPair({pub:n});if(!0!==t.validate().result)throw Error("Invalid elliptic public key");return t}function At(i){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,f.Z)(function*(i){if(!Lt.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:n}=yield Promise.all([z.e(2983),z.e(9222)]).then(z.bind(z,9222));return new n.ec(i)}),Ht.apply(this,arguments)}function cr(i){let n,t=0;const s=i[0];return s<192?([t]=i,n=1):s<255?(t=(i[0]-192<<8)+i[1]+192,n=2):255===s&&(t=ee.readNumber(i.subarray(1,5)),n=5),{len:t,offset:n}}function Rt(i){return i<192?new Uint8Array([i]):i>191&&i<8384?new Uint8Array([192+(i-192>>8),i-192&255]):ee.concatUint8Array([new Uint8Array([255]),ee.writeNumber(i,4)])}function Zr(i){if(i<0||i>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+i])}function Pr(i){return new Uint8Array([192|i])}function li(i,n){return ee.concatUint8Array([Pr(i),Rt(n)])}function gi(i){return[re.packet.literalData,re.packet.compressedData,re.packet.symmetricallyEncryptedData,re.packet.symEncryptedIntegrityProtectedData,re.packet.aeadEncryptedData].includes(i)}function pi(i,n){return wn.apply(this,arguments)}function wn(){return wn=(0,f.Z)(function*(i,n){const t=Ke(i);let s,u;try{const h=yield t.peekBytes(2);if(!h||h.length<2||0==(128&h[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const y=yield t.readByte();let v,D,C=-1,k=-1;k=0,0!=(64&y)&&(k=1),k?C=63&y:(C=(63&y)>>2,D=3&y);const q=gi(C);let le,ae=null;if(q){if("array"===ee.isStream(i)){const Ne=new T;s=it(Ne),ae=Ne}else{const Ne=new G;s=it(Ne.writable),ae=Ne.readable}u=n({tag:C,packet:ae})}else ae=[];do{if(k){const Ne=yield t.readByte();if(le=!1,Ne<192)v=Ne;else if(Ne>=192&&Ne<224)v=(Ne-192<<8)+(yield t.readByte())+192;else if(Ne>223&&Ne<255){if(v=1<<(31&Ne),le=!0,!q)throw new TypeError("This packet type does not support partial lengths.")}else v=(yield t.readByte())<<24|(yield t.readByte())<<16|(yield t.readByte())<<8|(yield t.readByte())}else switch(D){case 0:v=yield t.readByte();break;case 1:v=(yield t.readByte())<<8|(yield t.readByte());break;case 2:v=(yield t.readByte())<<24|(yield t.readByte())<<16|(yield t.readByte())<<8|(yield t.readByte());break;default:v=1/0}if(v>0){let Ne=0;for(;;){s&&(yield s.ready);const{done:Fe,value:ot}=yield t.read();if(Fe){if(v===1/0)break;throw Error("Unexpected end of packet")}const yt=v===1/0?ot:ot.subarray(0,v-Ne);if(s?yield s.write(yt):ae.push(yt),Ne+=ot.length,Ne>=v){t.unshift(ot.subarray(v-Ne+ot.length));break}}}}while(le);const Ae=yield t.peekBytes(q?1/0:2);return s?(yield s.ready,yield s.close()):(ae=ee.concatUint8Array(ae),yield n({tag:C,packet:ae})),!Ae||!Ae.length}catch(h){if(s)return yield s.abort(h),!0;throw h}finally{s&&(yield u),t.releaseLock()}}),wn.apply(this,arguments)}class Wr extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,Wr),this.name="UnsupportedError"}}class ui{constructor(n,t){this.tag=n,this.rawContent=t}write(){return this.rawContent}}const ji=ee.getWebCrypto(),Li=ee.getNodeCrypto(),Ti={p256:"P-256",p384:"P-384",p521:"P-521"},Ui=Li?Li.getCurves():[],ha=Li?{secp256k1:Ui.includes("secp256k1")?"secp256k1":void 0,p256:Ui.includes("prime256v1")?"prime256v1":void 0,p384:Ui.includes("secp384r1")?"secp384r1":void 0,p521:Ui.includes("secp521r1")?"secp521r1":void 0,ed25519:Ui.includes("ED25519")?"ED25519":void 0,curve25519:Ui.includes("X25519")?"X25519":void 0,brainpoolP256r1:Ui.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:Ui.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:Ui.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Ys={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:ha.p256,web:Ti.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:re.publicKey.ecdsa,hash:re.hash.sha384,cipher:re.symmetric.aes192,node:ha.p384,web:Ti.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:re.publicKey.ecdsa,hash:re.hash.sha512,cipher:re.symmetric.aes256,node:ha.p521,web:Ti.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:ha.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:re.publicKey.eddsa,hash:re.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:re.publicKey.ecdh,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:ha.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:re.publicKey.ecdsa,hash:re.hash.sha384,cipher:re.symmetric.aes192,node:ha.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:re.publicKey.ecdsa,hash:re.hash.sha512,cipher:re.symmetric.aes256,node:ha.brainpoolP512r1,payloadSize:64}};class ra{constructor(n,t){try{(ee.isArray(n)||ee.isUint8Array(n))&&(n=new Qe(n)),n instanceof Qe&&(n=n.getName()),this.name=re.write(re.curve,n)}catch{throw new Wr("Unknown curve")}this.keyType=(t=t||Ys[this.name]).keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&Ys[this.name],this.web=t.web&&Ys[this.name],this.payloadSize=t.payloadSize,this.web&&ee.getWebCrypto()?this.type="web":this.node&&ee.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}genKeyPair(){var n=this;return(0,f.Z)(function*(){let t;switch(n.type){case"web":try{return yield(u=(0,f.Z)(function*(h){const y=yield ji.generateKey({name:"ECDSA",namedCurve:Ti[h]},!0,["sign","verify"]),v=yield ji.exportKey("jwk",y.privateKey);return{publicKey:o1(yield ji.exportKey("jwk",y.publicKey)),privateKey:jt(v.d)}}),function(h){return u.apply(this,arguments)})(n.name)}catch(u){ee.printDebugError("Browser did not support generating ec key "+u.message);break}case"node":return function(){var u=(0,f.Z)(function*(h){const y=Li.createECDH(ha[h]);return yield y.generateKeys(),{publicKey:new Uint8Array(y.getPublicKey()),privateKey:new Uint8Array(y.getPrivateKey())}});return function(h){return u.apply(this,arguments)}}()(n.name);case"curve25519":{const u=yield jn(32);u[0]=127&u[0]|64,u[31]&=248;const h=u.slice().reverse();return t=zn.box.keyPair.fromSecretKey(h),{publicKey:ee.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:u}}case"ed25519":{const u=yield jn(32),h=zn.sign.keyPair.fromSeed(u);return{publicKey:ee.concatUint8Array([new Uint8Array([64]),h.publicKey]),privateKey:u}}}var u;return t=yield(yield At(n.name)).genKeyPair({entropy:ee.uint8ArrayToString(yield jn(32))}),{publicKey:new Uint8Array(t.getPublic("array",!1)),privateKey:t.getPrivate().toArrayLike(Uint8Array)}})()}}function s1(i,n,t,s){return R0.apply(this,arguments)}function R0(){return R0=(0,f.Z)(function*(i,n,t,s){const u={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:i===re.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},h=n.getName();if(!u[h])return!1;if("curve25519"===h){s=s.slice().reverse();const{publicKey:v}=zn.box.keyPair.fromSecretKey(s);t=new Uint8Array(t);const D=new Uint8Array([64,...v]);return!!ee.equalsUint8Array(D,t)}const y=yield At(h);try{t=pt(y,t).getPublic()}catch{return!1}return!!nt(y,s).getPublic().eq(t)}),R0.apply(this,arguments)}function o1(i){const n=jt(i.x),t=jt(i.y),s=new Uint8Array(n.length+t.length+1);return s[0]=4,s.set(n,1),s.set(t,n.length+1),s}function Xs(i,n,t){const s=i,u=t.slice(1,s+1),h=t.slice(s+1,2*s+1);return{kty:"EC",crv:n,x:pr(u,!0),y:pr(h,!0),ext:!0}}function c1(i,n,t,s){const u=Xs(i,n,t);return u.d=pr(s,!0),u}const Qs=ee.getWebCrypto(),Ga=ee.getNodeCrypto();function l1(i,n,t,s,u,h){return P0.apply(this,arguments)}function P0(){return P0=(0,f.Z)(function*(i,n,t,s,u,h){const y=new ra(i);if(t&&!ee.isStream(t)){const v={publicKey:s,privateKey:u};switch(y.type){case"web":try{return yield(D=(0,f.Z)(function*(C,k,q,le){const ae=C.payloadSize,Ae=c1(C.payloadSize,Ti[C.name],le.publicKey,le.privateKey),Ne=yield Qs.importKey("jwk",Ae,{name:"ECDSA",namedCurve:Ti[C.name],hash:{name:re.read(re.webHash,C.hash)}},!1,["sign"]),Fe=new Uint8Array(yield Qs.sign({name:"ECDSA",namedCurve:Ti[C.name],hash:{name:re.read(re.webHash,k)}},Ne,q));return{r:Fe.slice(0,ae),s:Fe.slice(ae,ae<<1)}}),function(C,k,q,le){return D.apply(this,arguments)})(y,n,t,v)}catch(D){if("p521"!==y.name&&("DataError"===D.name||"OperationError"===D.name))throw D;ee.printDebugError("Browser did not support signing: "+D.message)}break;case"node":{const D=yield(C=(0,f.Z)(function*(k,q,le,ae){const Ae=Ga.createSign(re.read(re.hash,q));Ae.write(le),Ae.end();const Ne=Tc.encode({version:1,parameters:k.oid,privateKey:Array.from(ae.privateKey),publicKey:{unused:0,data:Array.from(ae.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return f1.decode(Ae.sign(Ne),"der")}),function(k,q,le,ae){return C.apply(this,arguments)})(y,n,t,v);return{r:D.r.toArrayLike(Uint8Array),s:D.s.toArrayLike(Uint8Array)}}}}var C,D,v;return(v=(0,f.Z)(function*(D,C,k){const le=nt(yield At(D.name),k).sign(C);return{r:le.r.toArrayLike(Uint8Array),s:le.s.toArrayLike(Uint8Array)}}),function(D,C,k){return v.apply(this,arguments)})(y,h,u)}),P0.apply(this,arguments)}function u1(i,n,t,s,u,h){return M0.apply(this,arguments)}function M0(){return M0=(0,f.Z)(function*(i,n,t,s,u,h){const y=new ra(i);if(s&&!ee.isStream(s))switch(y.type){case"web":try{return yield(v=(0,f.Z)(function*(D,C,{r:k,s:q},le,ae){const Ae=Xs(D.payloadSize,Ti[D.name],ae),Ne=yield Qs.importKey("jwk",Ae,{name:"ECDSA",namedCurve:Ti[D.name],hash:{name:re.read(re.webHash,D.hash)}},!1,["verify"]),Fe=ee.concatUint8Array([k,q]).buffer;return Qs.verify({name:"ECDSA",namedCurve:Ti[D.name],hash:{name:re.read(re.webHash,C)}},Ne,Fe,le)}),function(D,C,k,q,le){return v.apply(this,arguments)})(y,n,t,s,u)}catch(v){if("p521"!==y.name&&("DataError"===v.name||"OperationError"===v.name))throw v;ee.printDebugError("Browser did not support verifying: "+v.message)}break;case"node":return function(){var v=(0,f.Z)(function*(D,C,{r:k,s:q},le,ae){const{default:Ae}=yield z.e(2983).then(z.bind(z,2983)),Ne=Ga.createVerify(re.read(re.hash,C));Ne.write(le),Ne.end();const Fe=Bc.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:D.oid},subjectPublicKey:{unused:0,data:Array.from(ae)}},"pem",{label:"PUBLIC KEY"}),ot=f1.encode({r:new Ae(k),s:new Ae(q)},"der");try{return Ne.verify(Fe,ot)}catch{return!1}});return function(D,C,k,q,le){return v.apply(this,arguments)}}()(y,n,t,s,u)}var v;return function(){var v=(0,f.Z)(function*(D,C,k,q){return pt(yield At(D.name),q).verify(k,C)});return function(D,C,k,q){return v.apply(this,arguments)}}()(y,t,void 0===n?s:h,u)}),M0.apply(this,arguments)}const qs=void 0,f1=Ga?qs.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,Tc=Ga?qs.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,_c=Ga?qs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,Bc=Ga?qs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_c),this.key("subjectPublicKey").bitstr())}):void 0;var kc=Object.freeze({__proto__:null,sign:l1,verify:u1,validateParams:function(){var i=(0,f.Z)(function*(n,t,s){const u=new ra(n);if(u.keyType!==re.publicKey.ecdsa)return!1;switch(u.type){case"web":case"node":{const h=yield jn(8),y=re.hash.sha256,v=yield yi.digest(y,h);try{const D=yield l1(n,y,h,t,s,v);return yield u1(n,y,D,h,t,v)}catch{return!1}}default:return s1(re.publicKey.ecdsa,n,t,s)}});return function(t,s,u){return i.apply(this,arguments)}}()});zn.hash=i=>new Uint8Array(Di().update(i).digest());var Nc=Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(yi.getHashByteLength(t)<yi.getHashByteLength(re.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const v=ee.concatUint8Array([h,u.subarray(1)]),D=zn.sign.detached(y,v);return{r:D.subarray(0,32),s:D.subarray(32)}});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,{r:s,s:u},h,y,v){const D=ee.concatUint8Array([s,u]);return zn.sign.detached.verify(v,D,y.subarray(1))});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s){if("ed25519"!==n.getName())return!1;const{publicKey:u}=zn.sign.keyPair.fromSeed(s),h=new Uint8Array([64,...u]);return ee.equalsUint8Array(t,h)});return function(t,s,u){return i.apply(this,arguments)}}()});function h1(i,n){const t=new ti["aes"+8*i.length](i),s=new Uint32Array([2795939494,2795939494]),u=Js(n);let h=s;const y=u,v=u.length/2,D=new Uint32Array([0,0]);let C=new Uint32Array(4);for(let k=0;k<=5;++k)for(let q=0;q<v;++q)D[1]=v*k+(1+q),C[0]=h[0],C[1]=h[1],C[2]=y[2*q],C[3]=y[2*q+1],C=Js(t.encrypt($s(C))),h=C.subarray(0,2),h[0]^=D[0],h[1]^=D[1],y[2*q]=C[2],y[2*q+1]=C[3];return $s(h,y)}function d1(i,n){const t=new ti["aes"+8*i.length](i),s=new Uint32Array([2795939494,2795939494]),u=Js(n);let h=u.subarray(0,2);const y=u.subarray(2),v=u.length/2-1,D=new Uint32Array([0,0]);let C=new Uint32Array(4);for(let k=5;k>=0;--k)for(let q=v-1;q>=0;--q)D[1]=v*k+(q+1),C[0]=h[0]^D[0],C[1]=h[1]^D[1],C[2]=y[2*q],C[3]=y[2*q+1],C=Js(t.decrypt($s(C))),h=C.subarray(0,2),y[2*q]=C[2],y[2*q+1]=C[3];if(h[0]===s[0]&&h[1]===s[1])return $s(y);throw Error("Key Data Integrity failed")}function Js(i){const{length:n}=i,t=function(h){if(ee.isString(h)){const{length:y}=h,v=new ArrayBuffer(y),D=new Uint8Array(v);for(let C=0;C<y;++C)D[C]=h.charCodeAt(C);return v}return new Uint8Array(h).buffer}(i),s=new DataView(t),u=new Uint32Array(n/4);for(let h=0;h<n/4;++h)u[h]=s.getUint32(4*h);return u}function $s(){let i=0;for(let u=0;u<arguments.length;++u)i+=4*arguments[u].length;const n=new ArrayBuffer(i),t=new DataView(n);let s=0;for(let u=0;u<arguments.length;++u){for(let h=0;h<arguments[u].length;++h)t.setUint32(s+4*h,arguments[u][h]);s+=4*arguments[u].length}return new Uint8Array(n)}var Dc=Object.freeze({__proto__:null,wrap:h1,unwrap:d1});function g1(i){const n=8-i.length%8,t=new Uint8Array(i.length+n).fill(n);return t.set(i),t}function p1(i){const n=i.length;if(n>0){const t=i[n-1];if(t>=1){const s=i.subarray(n-t),u=new Uint8Array(t).fill(t);if(ee.equalsUint8Array(s,u))return i.subarray(0,n-t)}}throw Error("Invalid padding")}var Rc=Object.freeze({__proto__:null,encode:g1,decode:p1});const da=ee.getWebCrypto(),y1=ee.getNodeCrypto();function x1(i,n,t,s){return ee.concatUint8Array([n.write(),new Uint8Array([i]),t.write(),ee.stringToUint8Array("Anonymous Sender    "),s.subarray(0,20)])}function m1(i,n,t,s){return O0.apply(this,arguments)}function O0(){return O0=(0,f.Z)(function*(i,n,t,s,u=!1,h=!1){let y;if(u){for(y=0;y<n.length&&0===n[y];y++);n=n.subarray(y)}if(h){for(y=n.length-1;y>=0&&0===n[y];y--);n=n.subarray(0,y+1)}return(yield yi.digest(i,ee.concatUint8Array([new Uint8Array([0,0,0,1]),n,s]))).subarray(0,t)}),O0.apply(this,arguments)}function L0(){return L0=(0,f.Z)(function*(i,n){switch(i.type){case"curve25519":{const t=yield jn(32),{secretKey:s,sharedKey:u}=yield v1(i,n,null,t);let{publicKey:h}=zn.box.keyPair.fromSecretKey(s);return h=ee.concatUint8Array([new Uint8Array([64]),h]),{publicKey:h,sharedKey:u}}case"web":if(i.web&&ee.getWebCrypto())try{return yield(t=(0,f.Z)(function*(s,u){const h=Xs(s.payloadSize,s.web.web,u);let y=da.generateKey({name:"ECDH",namedCurve:s.web.web},!0,["deriveKey","deriveBits"]),v=da.importKey("jwk",h,{name:"ECDH",namedCurve:s.web.web},!1,[]);[y,v]=yield Promise.all([y,v]);let D=da.deriveBits({name:"ECDH",namedCurve:s.web.web,public:v},y.privateKey,s.web.sharedSize),C=da.exportKey("jwk",y.publicKey);[D,C]=yield Promise.all([D,C]);const k=new Uint8Array(D);return{publicKey:new Uint8Array(o1(C)),sharedKey:k}}),function(s,u){return t.apply(this,arguments)})(i,n)}catch(t){ee.printDebugError(t)}break;case"node":return function(){var t=(0,f.Z)(function*(s,u){const h=y1.createECDH(s.node.node);h.generateKeys();const y=new Uint8Array(h.computeSecret(u));return{publicKey:new Uint8Array(h.getPublicKey()),sharedKey:y}});return function(s,u){return t.apply(this,arguments)}}()(i,n)}var t;return function(){var t=(0,f.Z)(function*(s,u){const h=yield At(s.name),y=yield s.genKeyPair();u=pt(h,u);const v=nt(h,y.privateKey),D=y.publicKey,C=v.derive(u.getPublic()),k=h.curve.p.byteLength();return{publicKey:D,sharedKey:C.toArrayLike(Uint8Array,"be",k)}});return function(s,u){return t.apply(this,arguments)}}()(i,n)}),L0.apply(this,arguments)}function v1(i,n,t,s){return U0.apply(this,arguments)}function U0(){return U0=(0,f.Z)(function*(i,n,t,s){if(s.length!==i.payloadSize){const u=new Uint8Array(i.payloadSize);u.set(s,i.payloadSize-s.length),s=u}switch(i.type){case"curve25519":{const u=s.slice().reverse();return{secretKey:u,sharedKey:zn.scalarMult(u,n.subarray(1))}}case"web":if(i.web&&ee.getWebCrypto())try{return yield(u=(0,f.Z)(function*(h,y,v,D){const C=c1(h.payloadSize,h.web.web,v,D);let k=da.importKey("jwk",C,{name:"ECDH",namedCurve:h.web.web},!0,["deriveKey","deriveBits"]);const q=Xs(h.payloadSize,h.web.web,y);let le=da.importKey("jwk",q,{name:"ECDH",namedCurve:h.web.web},!0,[]);[k,le]=yield Promise.all([k,le]);let ae=da.deriveBits({name:"ECDH",namedCurve:h.web.web,public:le},k,h.web.sharedSize),Ae=da.exportKey("jwk",k);[ae,Ae]=yield Promise.all([ae,Ae]);const Ne=new Uint8Array(ae);return{secretKey:jt(Ae.d),sharedKey:Ne}}),function(h,y,v,D){return u.apply(this,arguments)})(i,n,t,s)}catch(u){ee.printDebugError(u)}break;case"node":return function(){var u=(0,f.Z)(function*(h,y,v){const D=y1.createECDH(h.node.node);D.setPrivateKey(v);const C=new Uint8Array(D.computeSecret(y));return{secretKey:new Uint8Array(D.getPrivateKey()),sharedKey:C}});return function(h,y,v){return u.apply(this,arguments)}}()(i,n,s)}var u;return function(){var u=(0,f.Z)(function*(h,y,v){const D=yield At(h.name);y=pt(D,y),v=nt(D,v);const C=new Uint8Array(v.getPrivate()),k=v.derive(y.getPublic()),q=D.curve.p.byteLength();return{secretKey:C,sharedKey:k.toArrayLike(Uint8Array,"be",q)}});return function(h,y,v){return u.apply(this,arguments)}}()(i,n,s)}),U0.apply(this,arguments)}var Mc=Object.freeze({__proto__:null,validateParams:function(){var i=(0,f.Z)(function*(n,t,s){return s1(re.publicKey.ecdh,n,t,s)});return function(t,s,u){return i.apply(this,arguments)}}(),encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=g1(s),v=new ra(n),{publicKey:D,sharedKey:C}=yield function Pc(i,n){return L0.apply(this,arguments)}(v,u),k=x1(re.publicKey.ecdh,n,t,h),{keySize:q}=Za(t.cipher);return{publicKey:D,wrappedKey:h1(yield m1(t.hash,C,q,k),y)}});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,v){const D=new ra(n),{sharedKey:C}=yield v1(D,s,h,y),k=x1(re.publicKey.ecdh,n,t,v),{keySize:q}=Za(t.cipher);let le;for(let ae=0;ae<3;ae++)try{return p1(d1(yield m1(t.hash,C,q,k,1===ae,2===ae),u))}catch(Ae){le=Ae}throw le});return function(t,s,u,h,y,v,D){return i.apply(this,arguments)}}()}),On={rsa:Se,elgamal:De,elliptic:Object.freeze({__proto__:null,Curve:ra,ecdh:Mc,ecdsa:kc,eddsa:Nc,generate:function(){var i=(0,f.Z)(function*(n){const t=yield ee.getBigInteger();n=new ra(n);const s=yield n.genKeyPair(),u=new t(s.publicKey).toUint8Array(),h=new t(s.privateKey).toUint8Array("be",n.payloadSize);return{oid:n.oid,Q:u,secret:h,hash:n.hash,cipher:n.cipher}});return function(t){return i.apply(this,arguments)}}(),getPreferredHashAlgo:function(i){return Ys[re.write(re.curve,i.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){const v=yield ee.getBigInteger(),D=new v(1);let C,k,q,le;u=new v(u),h=new v(h),s=new v(s),y=new v(y),s=s.mod(u),y=y.mod(h);const ae=new v(t.subarray(0,h.byteLength())).mod(h);for(;;){if(C=yield bi(D,h),k=s.modExp(C,u).imod(h),k.isZero())continue;const Ae=y.mul(k).imod(h);if(le=ae.add(Ae).imod(h),q=C.modInv(h).imul(le).imod(h),!q.isZero())break}return{r:k.toUint8Array("be",h.byteLength()),s:q.toUint8Array("be",h.byteLength())}});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,v,D){const C=yield ee.getBigInteger(),k=new C(0);if(t=new C(t),s=new C(s),y=new C(y),v=new C(v),h=new C(h),D=new C(D),t.lte(k)||t.gte(v)||s.lte(k)||s.gte(v))return ee.printDebug("invalid DSA Signature"),!1;const q=new C(u.subarray(0,v.byteLength())).imod(v),le=s.modInv(v);if(le.isZero())return ee.printDebug("invalid DSA Signature"),!1;h=h.mod(y),D=D.mod(y);const ae=q.mul(le).imod(v),Ae=t.mul(le).imod(v),Ne=h.modExp(ae,y),Fe=D.modExp(Ae,y);return Ne.mul(Fe).imod(y).imod(v).equal(t)});return function(t,s,u,h,y,v,D,C){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=yield ee.getBigInteger();n=new y(n),t=new y(t),s=new y(s),u=new y(u);const v=new y(1);if(s.lte(v)||s.gte(n)||!n.dec().mod(t).isZero()||!s.modExp(t,n).isOne())return!1;const D=new y(t.bitLength()),C=new y(150);if(D.lt(C)||!(yield fa(t,null,32)))return!1;h=new y(h);const k=new y(2),q=yield bi(k.leftShift(D.dec()),k.leftShift(D)),le=t.mul(q).add(h);return!!u.equal(s.modExp(le,n))});return function(t,s,u,h,y){return i.apply(this,arguments)}}()}),nacl:zn};class w1{constructor(n){n=void 0===n?new Uint8Array([]):ee.isString(n)?ee.stringToUint8Array(n):new Uint8Array(n),this.data=n}read(n){if(n.length>=1){const t=n[0];if(n.length>=1+t)return this.data=n.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return ee.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class E1{constructor(n){if(n){const{hash:t,cipher:s}=n;this.hash=t,this.cipher=s}else this.hash=null,this.cipher=null}read(n){if(n.length<4||3!==n[0]||1!==n[1])throw Error("Cannot read KDFParams");return this.hash=n[2],this.cipher=n[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function Za(i){const n=re.read(re.symmetric,i);return ti[n]}function F0(i){try{i.getName()}catch{throw new Wr("Unknown curve OID")}}var Oc=Object.freeze({__proto__:null,publicKeyEncrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){switch(n){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:{const{n:h,e:y}=t;return{c:yield On.rsa.encrypt(s,h,y)}}case re.publicKey.elgamal:{const{p:h,g:y,y:v}=t;return On.elgamal.encrypt(s,h,y,v)}case re.publicKey.ecdh:{const{oid:h,Q:y,kdfParams:v}=t,{publicKey:D,wrappedKey:C}=yield On.elliptic.ecdh.encrypt(h,v,s,y,u);return{V:D,C:new w1(C)}}default:return[]}});return function(t,s,u,h){return i.apply(this,arguments)}}(),publicKeyDecrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){switch(n){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:{const{c:v}=u,{n:D,e:C}=t,{d:k,p:q,q:le,u:ae}=s;return On.rsa.decrypt(v,D,C,k,q,le,ae,y)}case re.publicKey.elgamal:{const{c1:v,c2:D}=u;return On.elgamal.decrypt(v,D,t.p,s.x,y)}case re.publicKey.ecdh:{const{oid:v,Q:D,kdfParams:C}=t,{d:k}=s,{V:q,C:le}=u;return On.elliptic.ecdh.decrypt(v,C,q,le.data,D,k,h)}default:throw Error("Unknown public key encryption algorithm.")}});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),parsePublicKeyParams:function(i,n){let t=0;switch(i){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));return t+=u.length+2,{read:t,publicParams:{n:s,e:u}}}case re.publicKey.dsa:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=ee.readMPI(n.subarray(t));t+=h.length+2;const y=ee.readMPI(n.subarray(t));return t+=y.length+2,{read:t,publicParams:{p:s,q:u,g:h,y}}}case re.publicKey.elgamal:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=ee.readMPI(n.subarray(t));return t+=h.length+2,{read:t,publicParams:{p:s,g:u,y:h}}}case re.publicKey.ecdsa:{const s=new Qe;t+=s.read(n),F0(s);const u=ee.readMPI(n.subarray(t));return t+=u.length+2,{read:t,publicParams:{oid:s,Q:u}}}case re.publicKey.eddsa:{const s=new Qe;t+=s.read(n),F0(s);let u=ee.readMPI(n.subarray(t));return t+=u.length+2,u=ee.leftPad(u,33),{read:t,publicParams:{oid:s,Q:u}}}case re.publicKey.ecdh:{const s=new Qe;t+=s.read(n),F0(s);const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=new E1;return t+=h.read(n.subarray(t)),{read:t,publicParams:{oid:s,Q:u,kdfParams:h}}}default:throw new Wr("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(i,n,t){let s=0;switch(i){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const u=ee.readMPI(n.subarray(s));s+=u.length+2;const h=ee.readMPI(n.subarray(s));s+=h.length+2;const y=ee.readMPI(n.subarray(s));s+=y.length+2;const v=ee.readMPI(n.subarray(s));return s+=v.length+2,{read:s,privateParams:{d:u,p:h,q:y,u:v}}}case re.publicKey.dsa:case re.publicKey.elgamal:{const u=ee.readMPI(n.subarray(s));return s+=u.length+2,{read:s,privateParams:{x:u}}}case re.publicKey.ecdsa:case re.publicKey.ecdh:{const u=new ra(t.oid);let h=ee.readMPI(n.subarray(s));return s+=h.length+2,h=ee.leftPad(h,u.payloadSize),{read:s,privateParams:{d:h}}}case re.publicKey.eddsa:{const u=new ra(t.oid);let h=ee.readMPI(n.subarray(s));return s+=h.length+2,h=ee.leftPad(h,u.payloadSize),{read:s,privateParams:{seed:h}}}default:throw new Wr("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(i,n){let t=0;switch(i){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:return{c:ee.readMPI(n.subarray(t))};case re.publicKey.elgamal:{const s=ee.readMPI(n.subarray(t));return t+=s.length+2,{c1:s,c2:ee.readMPI(n.subarray(t))}}case re.publicKey.ecdh:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=new w1;return u.read(n.subarray(t)),{V:s,C:u}}default:throw new Wr("Unknown public key encryption algorithm.")}},serializeParams:function(i,n){const t=Object.keys(n).map(s=>{const u=n[s];return ee.isUint8Array(u)?ee.uint8ArrayToMPI(u):u.write()});return ee.concatUint8Array(t)},generateParams:function(i,n,t){switch(i){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:return On.rsa.generate(n,65537).then(({n:s,e:u,d:h,p:y,q:v,u:D})=>({privateParams:{d:h,p:y,q:v,u:D},publicParams:{n:s,e:u}}));case re.publicKey.ecdsa:return On.elliptic.generate(t).then(({oid:s,Q:u,secret:h})=>({privateParams:{d:h},publicParams:{oid:new Qe(s),Q:u}}));case re.publicKey.eddsa:return On.elliptic.generate(t).then(({oid:s,Q:u,secret:h})=>({privateParams:{seed:h},publicParams:{oid:new Qe(s),Q:u}}));case re.publicKey.ecdh:return On.elliptic.generate(t).then(({oid:s,Q:u,secret:h,hash:y,cipher:v})=>({privateParams:{d:h},publicParams:{oid:new Qe(s),Q:u,kdfParams:new E1({hash:y,cipher:v})}}));case re.publicKey.dsa:case re.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:function(){var i=(0,f.Z)(function*(n,t,s){if(!t||!s)throw Error("Missing key parameters");switch(n){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const{n:u,e:h}=t,{d:y,p:v,q:D,u:C}=s;return On.rsa.validateParams(u,h,y,v,D,C)}case re.publicKey.dsa:{const{p:u,q:h,g:y,y:v}=t,{x:D}=s;return On.dsa.validateParams(u,h,y,v,D)}case re.publicKey.elgamal:{const{p:u,g:h,y}=t,{x:v}=s;return On.elgamal.validateParams(u,h,y,v)}case re.publicKey.ecdsa:case re.publicKey.ecdh:{const u=On.elliptic[re.read(re.publicKey,n)],{oid:h,Q:y}=t,{d:v}=s;return u.validateParams(h,y,v)}case re.publicKey.eddsa:{const{oid:u,Q:h}=t,{seed:y}=s;return On.elliptic.eddsa.validateParams(u,h,y)}default:throw Error("Unknown public key algorithm.")}});return function(t,s,u){return i.apply(this,arguments)}}(),getPrefixRandom:function(){var i=(0,f.Z)(function*(n){const{blockSize:t}=Za(n),s=yield jn(t),u=new Uint8Array([s[s.length-2],s[s.length-1]]);return ee.concat([s,u])});return function(t){return i.apply(this,arguments)}}(),generateSessionKey:function(i){const{keySize:n}=Za(i);return jn(n)},getAEADMode:function(i){const n=re.read(re.aead,i);return k1[n]},getCipher:Za});const A1=ee.getWebCrypto(),e0=ee.getNodeCrypto(),_a=e0?e0.getCiphers():[],t0={idea:_a.includes("idea-cfb")?"idea-cfb":void 0,tripledes:_a.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:_a.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:_a.includes("bf-cfb")?"bf-cfb":void 0,aes128:_a.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:_a.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:_a.includes("aes-256-cfb")?"aes-256-cfb":void 0};var Lc=Object.freeze({__proto__:null,encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=re.read(re.symmetric,n);if(ee.getNodeCrypto()&&t0[y])return function(le,ae,Ae,Ne){const Fe=re.read(re.symmetric,le),ot=new e0.createCipheriv(t0[Fe],ae,Ne);return Je(Ae,yt=>new Uint8Array(ot.update(yt)))}(n,t,s,u);if("aes"===y.substr(0,3))return function(le,ae,Ae,Ne,Fe){if(ee.getWebCrypto()&&24!==ae.length&&!ee.isStream(Ae)&&Ae.length>=3e3*Fe.minBytesForWebCrypto)return(yt=(0,f.Z)(function*($e,Ie,vt,ut){const xt="AES-CBC",St=yield A1.importKey("raw",Ie,{name:xt},!1,["encrypt"]),{blockSize:Ct}=Za($e),zt=ee.concatUint8Array([new Uint8Array(Ct),vt]),lr=new Uint8Array(yield A1.encrypt({name:xt,iv:ut},St,zt)).subarray(0,vt.length);return function(ur,vr){for(let Gt=0;Gt<ur.length;Gt++)ur[Gt]=ur[Gt]^vr[Gt]}(lr,vt),lr}),function($e,Ie,vt,ut){return yt.apply(this,arguments)})(le,ae,Ae,Ne);var yt;const ot=new Oi(ae,Ne);return Je(Ae,yt=>ot.aes.AES_Encrypt_process(yt),()=>ot.aes.AES_Encrypt_finish())}(n,t,s,u,h);const v=new ti[y](t),D=v.blockSize,C=u.slice();let k=new Uint8Array;const q=le=>{le&&(k=ee.concatUint8Array([k,le]));const ae=new Uint8Array(k.length);let Ae,Ne=0;for(;le?k.length>=D:k.length;){const Fe=v.encrypt(C);for(Ae=0;Ae<D;Ae++)C[Ae]=k[Ae]^Fe[Ae],ae[Ne++]=C[Ae];k=k.subarray(D)}return ae.subarray(0,Ne)};return Je(s,q,q)});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=re.read(re.symmetric,n);if(ee.getNodeCrypto()&&t0[h])return function(q,le,ae,Ae){const Ne=re.read(re.symmetric,q),Fe=new e0.createDecipheriv(t0[Ne],le,Ae);return Je(ae,ot=>new Uint8Array(Fe.update(ot)))}(n,t,s,u);if("aes"===h.substr(0,3))return function(q,le,ae,Ae){if(ee.isStream(ae)){const Ne=new Oi(le,Ae);return Je(ae,Fe=>Ne.aes.AES_Decrypt_process(Fe),()=>Ne.aes.AES_Decrypt_finish())}return Oi.decrypt(ae,le,Ae)}(0,t,s,u);const y=new ti[h](t),v=y.blockSize;let D=u,C=new Uint8Array;const k=q=>{q&&(C=ee.concatUint8Array([C,q]));const le=new Uint8Array(C.length);let ae,Ae=0;for(;q?C.length>=v:C.length;){const Ne=y.encrypt(D);for(D=C,ae=0;ae<v;ae++)le[Ae++]=D[ae]^Ne[ae];C=C.subarray(v)}return le.subarray(0,Ae)};return Je(s,k,k)});return function(t,s,u,h){return i.apply(this,arguments)}}()});class r0{static encrypt(n,t,s){return new r0(t,s).encrypt(n)}static decrypt(n,t,s){return new r0(t,s).encrypt(n)}constructor(n,t,s){this.aes=s||new xn(n,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(n){return hn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return hn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(n,t,s){let{asm:u}=this.aes.acquire_asm();if(void 0!==s){if(s<8||s>48)throw new Bn("illegal counter size");let h=Math.pow(2,s)-1;u.set_mask(0,0,h/4294967296|0,0|h)}else s=48,u.set_mask(0,0,65535,4294967295);if(void 0===n)throw Error("nonce is required");{let h=n.length;if(!h||h>16)throw new Bn("illegal nonce size");let y=new DataView(new ArrayBuffer(16));new Uint8Array(y.buffer).set(n),u.set_nonce(y.getUint32(0),y.getUint32(4),y.getUint32(8),y.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,s))throw new Bn("illegal counter value");u.set_counter(0,0,t/4294967296|0,0|t)}}}class n0{static encrypt(n,t,s=!0,u){return new n0(t,u,s).encrypt(n)}static decrypt(n,t,s=!0,u){return new n0(t,u,s).decrypt(n)}constructor(n,t,s=!0,u){this.aes=u||new xn(n,t,s,"CBC")}encrypt(n){return hn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return hn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}const C1=ee.getWebCrypto(),Uc=ee.getNodeCrypto();function b1(i,n){const t=i.length-16;for(let s=0;s<16;s++)i[s+t]^=n[s];return i}const i0=new Uint8Array(16);function Fc(i){return K0.apply(this,arguments)}function K0(){return K0=(0,f.Z)(function*(i){const n=yield(u=(0,f.Z)(function*(h){return ee.getWebCrypto()&&24!==h.length?(h=yield C1.importKey("raw",h,{name:"AES-CBC",length:8*h.length},!1,["encrypt"]),function(){var y=(0,f.Z)(function*(v){const D=yield C1.encrypt({name:"AES-CBC",iv:i0,length:128},h,v);return new Uint8Array(D).subarray(0,D.byteLength-16)});return function(v){return y.apply(this,arguments)}}()):ee.getNodeCrypto()?function(){var y=(0,f.Z)(function*(v){const D=new Uc.createCipheriv("aes-"+8*h.length+"-cbc",h,i0).update(v);return new Uint8Array(D)});return function(v){return y.apply(this,arguments)}}():function(){var y=(0,f.Z)(function*(v){return n0.encrypt(v,h,!1,i0)});return function(v){return y.apply(this,arguments)}}()}),function(h){return u.apply(this,arguments)})(i),t=ee.double(yield n(i0)),s=ee.double(t);var u;return function(){var u=(0,f.Z)(function*(h){return(yield n(function(y,v,D){if(y.length&&y.length%16==0)return b1(y,v);const C=new Uint8Array(y.length+(16-y.length%16));return C.set(y),C[y.length]=128,b1(C,D)}(h,t,s))).subarray(-16)});return function(h){return u.apply(this,arguments)}}()}),K0.apply(this,arguments)}const S1=ee.getWebCrypto(),Kc=ee.getNodeCrypto(),Vc=ee.getNodeBuffer(),I1=new Uint8Array(16),V0=new Uint8Array(16);V0[15]=1;const H0=new Uint8Array(16);function Hc(i){return z0.apply(this,arguments)}function z0(){return z0=(0,f.Z)(function*(i){const n=yield Fc(i);return function(t,s){return n(ee.concatUint8Array([t,s]))}}),z0.apply(this,arguments)}function zc(i){return G0.apply(this,arguments)}function G0(){return G0=(0,f.Z)(function*(i){return ee.getWebCrypto()&&24!==i.length?(i=yield S1.importKey("raw",i,{name:"AES-CTR",length:8*i.length},!1,["encrypt"]),function(){var n=(0,f.Z)(function*(t,s){const u=yield S1.encrypt({name:"AES-CTR",counter:s,length:128},i,t);return new Uint8Array(u)});return function(t,s){return n.apply(this,arguments)}}()):ee.getNodeCrypto()?function(){var n=(0,f.Z)(function*(t,s){const u=new Kc.createCipheriv("aes-"+8*i.length+"-ctr",i,s),h=Vc.concat([u.update(t),u.final()]);return new Uint8Array(h)});return function(t,s){return n.apply(this,arguments)}}():function(){var n=(0,f.Z)(function*(t,s){return r0.encrypt(t,i,s)});return function(t,s){return n.apply(this,arguments)}}()}),G0.apply(this,arguments)}function ws(i,n){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,f.Z)(function*(i,n){if(i!==re.symmetric.aes128&&i!==re.symmetric.aes192&&i!==re.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[t,s]=yield Promise.all([Hc(n),zc(n)]);return{encrypt:(u=(0,f.Z)(function*(h,y,v){const[D,C]=yield Promise.all([t(I1,y),t(V0,v)]),k=yield s(h,D),q=yield t(H0,k);for(let le=0;le<16;le++)q[le]^=C[le]^D[le];return ee.concatUint8Array([k,q])}),function(y,v,D){return u.apply(this,arguments)}),decrypt:function(){var u=(0,f.Z)(function*(h,y,v){if(h.length<16)throw Error("Invalid EAX ciphertext");const D=h.subarray(0,-16),C=h.subarray(-16),[k,q,le]=yield Promise.all([t(I1,y),t(V0,v),t(H0,D)]),ae=le;for(let Ae=0;Ae<16;Ae++)ae[Ae]^=q[Ae]^k[Ae];if(!ee.equalsUint8Array(C,ae))throw Error("Authentication tag mismatch");return yield s(D,k)});return function(y,v,D){return u.apply(this,arguments)}}()};var u}),Z0.apply(this,arguments)}function T1(i){let n=0;for(let t=1;0==(i&t);t<<=1)n++;return n}function Ei(i,n){for(let t=0;t<i.length;t++)i[t]^=n[t];return i}function a0(i,n){return Ei(i.slice(),n)}H0[15]=2,ws.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[8+s]^=n[s];return t},ws.blockLength=16,ws.ivLength=16,ws.tagLength=16;const j0=new Uint8Array(16),Gc=new Uint8Array([1]);function Es(i,n){return W0.apply(this,arguments)}function W0(){return W0=(0,f.Z)(function*(i,n){let t,s,u,h=0;function y(v,D,C,k){const q=D.length/16|0;!function(ut,xt){const St=ee.nbits(Math.max(ut.length,xt.length)/16|0)-1;for(let Ct=h+1;Ct<=St;Ct++)u[Ct]=ee.double(u[Ct-1]);h=St}(D,k);const le=ee.concatUint8Array([j0.subarray(0,15-C.length),Gc,C]),ae=63&le[15];le[15]&=192;const Ae=t(le),Ne=ee.concatUint8Array([Ae,a0(Ae.subarray(0,8),Ae.subarray(1,9))]),Fe=ee.shiftRight(Ne.subarray(0+(ae>>3),17+(ae>>3)),8-(7&ae)).subarray(1),ot=new Uint8Array(16),yt=new Uint8Array(D.length+16);let $e,Ie=0;for($e=0;$e<q;$e++)Ei(Fe,u[T1($e+1)]),yt.set(Ei(v(a0(Fe,D)),Fe),Ie),Ei(ot,v===t?D:yt.subarray(Ie)),D=D.subarray(16),Ie+=16;if(D.length){Ei(Fe,u.x);const ut=t(Fe);yt.set(a0(D,ut),Ie);const xt=new Uint8Array(16);xt.set(v===t?D:yt.subarray(Ie,-16),0),xt[D.length]=128,Ei(ot,xt),Ie+=D.length}const vt=Ei(t(Ei(Ei(ot,Fe),u.$)),function(ut){if(!ut.length)return j0;const xt=ut.length/16|0,St=new Uint8Array(16),Ct=new Uint8Array(16);for(let zt=0;zt<xt;zt++)Ei(St,u[T1(zt+1)]),Ei(Ct,t(a0(St,ut))),ut=ut.subarray(16);if(ut.length){Ei(St,u.x);const zt=new Uint8Array(16);zt.set(ut,0),zt[ut.length]=128,Ei(zt,St),Ei(Ct,t(zt))}return Ct}(k));return yt.set(vt,Ie),yt}return function(v,D){const C=re.read(re.symmetric,v),k=new ti[C](D);t=k.encrypt.bind(k),s=k.decrypt.bind(k);const q=t(j0),le=ee.double(q);u=[],u[0]=ee.double(le),u.x=q,u.$=le}(i,n),{encrypt:(v=(0,f.Z)(function*(D,C,k){return y(t,D,C,k)}),function(C,k,q){return v.apply(this,arguments)}),decrypt:function(){var v=(0,f.Z)(function*(D,C,k){if(D.length<16)throw Error("Invalid OCB ciphertext");const q=D.subarray(-16);D=D.subarray(0,-16);const le=y(s,D,C,k);if(ee.equalsUint8Array(q,le.subarray(-16)))return le.subarray(0,-16);throw Error("Authentication tag mismatch")});return function(C,k,q){return v.apply(this,arguments)}}()};var v}),W0.apply(this,arguments)}Es.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[7+s]^=n[s];return t},Es.blockLength=16,Es.ivLength=15,Es.tagLength=16;class Ba{constructor(n,t,s,u=16,h){this.tagSize=u,this.gamma0=0,this.counter=1,this.aes=h||new xn(n,void 0,!1,"CTR");let{asm:y,heap:v}=this.aes.acquire_asm();if(y.gcm_init(),this.tagSize<4||this.tagSize>16)throw new Bn("illegal tagSize value");const D=t.length||0,C=new Uint8Array(16);12!==D?(this._gcm_mac_process(t),v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=0,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=0,v[11]=D>>>29,v[12]=D>>>21&255,v[13]=D>>>13&255,v[14]=D>>>5&255,v[15]=D<<3&255,y.mac(qt.MAC.GCM,qt.HEAP_DATA,16),y.get_iv(qt.HEAP_DATA),y.set_iv(0,0,0,0),C.set(v.subarray(0,16))):(C.set(t),C[15]=1);const k=new DataView(C.buffer);if(this.gamma0=k.getUint32(12),y.set_nonce(k.getUint32(0),k.getUint32(4),k.getUint32(8),0),y.set_mask(0,0,0,4294967295),void 0!==s){if(s.length>68719476704)throw new Bn("illegal adata length");s.length?(this.adata=s,this._gcm_mac_process(s)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");y.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(n,t,s,u,h){return new Ba(t,s,u,h).encrypt(n)}static decrypt(n,t,s,u,h){return new Ba(t,s,u,h).decrypt(n)}encrypt(n){return this.AES_GCM_encrypt(n)}decrypt(n){return this.AES_GCM_decrypt(n)}AES_GCM_Encrypt_process(n){let t=0,s=n.length||0,{asm:u,heap:h}=this.aes.acquire_asm(),y=this.counter,v=this.aes.pos,D=this.aes.len,C=0,k=D+s&-16,q=0;if((y-1<<4)+D+s>68719476704)throw new RangeError("counter overflow");const le=new Uint8Array(k);for(;s>0;)q=Hn(h,v+D,n,t,s),D+=q,t+=q,s-=q,q=u.cipher(qt.ENC.CTR,qt.HEAP_DATA+v,D),q=u.mac(qt.MAC.GCM,qt.HEAP_DATA+v,q),q&&le.set(h.subarray(v,v+q),C),y+=q>>>4,C+=q,q<D?(v+=q,D-=q):(v=0,D=0);return this.counter=y,this.aes.pos=v,this.aes.len=D,le}AES_GCM_Encrypt_finish(){let{asm:n,heap:t}=this.aes.acquire_asm(),s=this.counter,u=this.tagSize,h=this.adata,y=this.aes.pos,v=this.aes.len;const D=new Uint8Array(v+u);n.cipher(qt.ENC.CTR,qt.HEAP_DATA+y,v+15&-16),v&&D.set(t.subarray(y,y+v));let C=v;for(;15&C;C++)t[y+C]=0;n.mac(qt.MAC.GCM,qt.HEAP_DATA+y,C);const k=void 0!==h?h.length:0,q=(s-1<<4)+v;return t[0]=0,t[1]=0,t[2]=0,t[3]=k>>>29,t[4]=k>>>21,t[5]=k>>>13&255,t[6]=k>>>5&255,t[7]=k<<3&255,t[8]=t[9]=t[10]=0,t[11]=q>>>29,t[12]=q>>>21&255,t[13]=q>>>13&255,t[14]=q>>>5&255,t[15]=q<<3&255,n.mac(qt.MAC.GCM,qt.HEAP_DATA,16),n.get_iv(qt.HEAP_DATA),n.set_counter(0,0,0,this.gamma0),n.cipher(qt.ENC.CTR,qt.HEAP_DATA,16),D.set(t.subarray(0,u),v),this.counter=1,this.aes.pos=0,this.aes.len=0,D}AES_GCM_Decrypt_process(n){let t=0,s=n.length||0,{asm:u,heap:h}=this.aes.acquire_asm(),y=this.counter,v=this.tagSize,D=this.aes.pos,C=this.aes.len,k=0,q=C+s>v?C+s-v&-16:0,le=C+s-q,ae=0;if((y-1<<4)+C+s>68719476704)throw new RangeError("counter overflow");const Ae=new Uint8Array(q);for(;s>le;)ae=Hn(h,D+C,n,t,s-le),C+=ae,t+=ae,s-=ae,ae=u.mac(qt.MAC.GCM,qt.HEAP_DATA+D,ae),ae=u.cipher(qt.DEC.CTR,qt.HEAP_DATA+D,ae),ae&&Ae.set(h.subarray(D,D+ae),k),y+=ae>>>4,k+=ae,D=0,C=0;return s>0&&(C+=Hn(h,0,n,t,s)),this.counter=y,this.aes.pos=D,this.aes.len=C,Ae}AES_GCM_Decrypt_finish(){let{asm:n,heap:t}=this.aes.acquire_asm(),s=this.tagSize,u=this.adata,h=this.counter,y=this.aes.pos,v=this.aes.len,D=v-s;if(v<s)throw new ei("authentication tag not found");const C=new Uint8Array(D),k=new Uint8Array(t.subarray(y+D,y+v));let q=D;for(;15&q;q++)t[y+q]=0;n.mac(qt.MAC.GCM,qt.HEAP_DATA+y,q),n.cipher(qt.DEC.CTR,qt.HEAP_DATA+y,q),D&&C.set(t.subarray(y,y+D));const le=void 0!==u?u.length:0,ae=(h-1<<4)+v-s;t[0]=0,t[1]=0,t[2]=0,t[3]=le>>>29,t[4]=le>>>21,t[5]=le>>>13&255,t[6]=le>>>5&255,t[7]=le<<3&255,t[8]=t[9]=t[10]=0,t[11]=ae>>>29,t[12]=ae>>>21&255,t[13]=ae>>>13&255,t[14]=ae>>>5&255,t[15]=ae<<3&255,n.mac(qt.MAC.GCM,qt.HEAP_DATA,16),n.get_iv(qt.HEAP_DATA),n.set_counter(0,0,0,this.gamma0),n.cipher(qt.ENC.CTR,qt.HEAP_DATA,16);let Ae=0;for(let Ne=0;Ne<s;++Ne)Ae|=k[Ne]^t[Ne];if(Ae)throw new Xn("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,C}AES_GCM_decrypt(n){const t=this.AES_GCM_Decrypt_process(n),s=this.AES_GCM_Decrypt_finish(),u=new Uint8Array(t.length+s.length);return t.length&&u.set(t),s.length&&u.set(s,t.length),u}AES_GCM_encrypt(n){const t=this.AES_GCM_Encrypt_process(n),s=this.AES_GCM_Encrypt_finish(),u=new Uint8Array(t.length+s.length);return t.length&&u.set(t),s.length&&u.set(s,t.length),u}_gcm_mac_process(n){let{asm:t,heap:s}=this.aes.acquire_asm(),u=0,h=n.length||0,y=0;for(;h>0;){for(y=Hn(s,0,n,u,h),u+=y,h-=y;15&y;)s[y++]=0;t.mac(qt.MAC.GCM,qt.HEAP_DATA,y)}}}const Y0=ee.getWebCrypto(),_1=ee.getNodeCrypto(),B1=ee.getNodeBuffer();function ja(i,n){return X0.apply(this,arguments)}function X0(){return X0=(0,f.Z)(function*(i,n){if(i!==re.symmetric.aes128&&i!==re.symmetric.aes192&&i!==re.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(ee.getWebCrypto()&&24!==n.length){const t=yield Y0.importKey("raw",n,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:(s=(0,f.Z)(function*(u,h,y=new Uint8Array){if(!u.length)return Ba.encrypt(u,n,h,y);const v=yield Y0.encrypt({name:"AES-GCM",iv:h,additionalData:y,tagLength:128},t,u);return new Uint8Array(v)}),function(h,y){return s.apply(this,arguments)}),decrypt:function(){var s=(0,f.Z)(function*(u,h,y=new Uint8Array){if(16===u.length)return Ba.decrypt(u,n,h,y);const v=yield Y0.decrypt({name:"AES-GCM",iv:h,additionalData:y,tagLength:128},t,u);return new Uint8Array(v)});return function(h,y){return s.apply(this,arguments)}}()}}var s,t;return ee.getNodeCrypto()?{encrypt:(t=(0,f.Z)(function*(s,u,h=new Uint8Array){const y=new _1.createCipheriv("aes-"+8*n.length+"-gcm",n,u);y.setAAD(h);const v=B1.concat([y.update(s),y.final(),y.getAuthTag()]);return new Uint8Array(v)}),function(u,h){return t.apply(this,arguments)}),decrypt:function(){var t=(0,f.Z)(function*(s,u,h=new Uint8Array){const y=new _1.createDecipheriv("aes-"+8*n.length+"-gcm",n,u);y.setAAD(h),y.setAuthTag(s.slice(s.length-16,s.length));const v=B1.concat([y.update(s.slice(0,s.length-16)),y.final()]);return new Uint8Array(v)});return function(u,h){return t.apply(this,arguments)}}()}:{encrypt:function(){var t=(0,f.Z)(function*(s,u,h){return Ba.encrypt(s,n,u,h)});return function(u,h,y){return t.apply(this,arguments)}}(),decrypt:function(){var t=(0,f.Z)(function*(s,u,h){return Ba.decrypt(s,n,u,h)});return function(u,h,y){return t.apply(this,arguments)}}()}}),X0.apply(this,arguments)}ja.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[4+s]^=n[s];return t},ja.blockLength=16,ja.ivLength=12,ja.tagLength=16;var k1={cfb:Lc,gcm:ja,experimentalGCM:ja,eax:ws,ocb:Es},Zc=Object.freeze({__proto__:null,parseSignatureParams:function(i,n){let t=0;switch(i){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:return{s:ee.readMPI(n.subarray(t))};case re.publicKey.dsa:case re.publicKey.ecdsa:{const s=ee.readMPI(n.subarray(t));return t+=s.length+2,{r:s,s:ee.readMPI(n.subarray(t))}}case re.publicKey.eddsa:{let s=ee.readMPI(n.subarray(t));t+=s.length+2,s=ee.leftPad(s,32);let u=ee.readMPI(n.subarray(t));return u=ee.leftPad(u,32),{r:s,s:u}}default:throw new Wr("Unknown signature algorithm.")}},verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){switch(n){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:{const{n:v,e:D}=u,C=ee.leftPad(s.s,v.length);return On.rsa.verify(t,h,C,v,D,y)}case re.publicKey.dsa:{const{g:v,p:D,q:C,y:k}=u,{r:q,s:le}=s;return On.dsa.verify(t,q,le,y,v,D,C,k)}case re.publicKey.ecdsa:{const{oid:v,Q:D}=u,C=new On.elliptic.Curve(v).payloadSize,k=ee.leftPad(s.r,C),q=ee.leftPad(s.s,C);return On.elliptic.ecdsa.verify(v,t,{r:k,s:q},h,D,y)}case re.publicKey.eddsa:{const{oid:v,Q:D}=u;return On.elliptic.eddsa.verify(v,t,s,h,D,y)}default:throw Error("Unknown signature algorithm.")}});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}(),sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(!s||!u)throw Error("Missing key parameters");switch(n){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:{const{n:v,e:D}=s,{d:C,p:k,q,u:le}=u;return{s:yield On.rsa.sign(t,h,v,D,C,k,q,le,y)}}case re.publicKey.dsa:{const{g:v,p:D,q:C}=s,{x:k}=u;return On.dsa.sign(t,y,v,D,C,k)}case re.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case re.publicKey.ecdsa:{const{oid:v,Q:D}=s,{d:C}=u;return On.elliptic.ecdsa.sign(v,t,h,D,C,y)}case re.publicKey.eddsa:{const{oid:v,Q:D}=s,{seed:C}=u;return On.elliptic.eddsa.sign(v,t,h,D,C,y)}default:throw Error("Unknown signature algorithm.")}});return function(t,s,u,h,y,v){return i.apply(this,arguments)}}()});const mr={cipher:ti,hash:yi,mode:k1,publicKey:On,signature:Zc,random:Ii,pkcs1:d,pkcs5:Rc,aesKW:Dc};Object.assign(mr,Oc);var As=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function N1(i,n){return i.length===n?i:i.subarray?i.subarray(0,n):(i.length=n,i)}const D1={arraySet:function(i,n,t,s,u){if(n.subarray&&i.subarray)i.set(n.subarray(t,t+s),u);else for(let h=0;h<s;h++)i[u+h]=n[t+h]},flattenChunks:function(i){let n,t,s,u,h;for(s=0,n=0,t=i.length;n<t;n++)s+=i[n].length;const y=new Uint8Array(s);for(u=0,n=0,t=i.length;n<t;n++)h=i[n],y.set(h,u),u+=h.length;return y}},R1={arraySet:function(i,n,t,s,u){for(let h=0;h<s;h++)i[u+h]=n[t+h]},flattenChunks:function(i){return[].concat.apply([],i)}};let Wi=As?Uint8Array:Array,_i=As?Uint16Array:Array,s0=As?Int32Array:Array,P1=As?D1.flattenChunks:R1.flattenChunks,Yi=As?D1.arraySet:R1.arraySet;function Wa(i){let n=i.length;for(;--n>=0;)i[n]=0}const Q0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o0=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],jc=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],na=Array(576);Wa(na);const Cs=Array(60);Wa(Cs);const bs=Array(512);Wa(bs);const Ss=Array(256);Wa(Ss);const q0=Array(29);Wa(q0);const c0=Array(30);function J0(i,n,t,s,u){this.static_tree=i,this.extra_bits=n,this.extra_base=t,this.elems=s,this.max_length=u,this.has_stree=i&&i.length}let O1,L1,U1;function $0(i,n){this.dyn_tree=i,this.max_code=0,this.stat_desc=n}function F1(i){return i<256?bs[i]:bs[256+(i>>>7)]}function Is(i,n){i.pending_buf[i.pending++]=255&n,i.pending_buf[i.pending++]=n>>>8&255}function Ai(i,n,t){i.bi_valid>16-t?(i.bi_buf|=n<<i.bi_valid&65535,Is(i,i.bi_buf),i.bi_buf=n>>16-i.bi_valid,i.bi_valid+=t-16):(i.bi_buf|=n<<i.bi_valid&65535,i.bi_valid+=t)}function Xi(i,n,t){Ai(i,t[2*n],t[2*n+1])}function K1(i,n){let t=0;do{t|=1&i,i>>>=1,t<<=1}while(--n>0);return t>>>1}function V1(i,n,t){const s=Array(16);let u,h,y=0;for(u=1;u<=15;u++)s[u]=y=y+t[u-1]<<1;for(h=0;h<=n;h++){const v=i[2*h+1];0!==v&&(i[2*h]=K1(s[v]++,v))}}function H1(i){let n;for(n=0;n<286;n++)i.dyn_ltree[2*n]=0;for(n=0;n<30;n++)i.dyn_dtree[2*n]=0;for(n=0;n<19;n++)i.bl_tree[2*n]=0;i.dyn_ltree[512]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function z1(i){i.bi_valid>8?Is(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function G1(i,n,t,s){const u=2*n,h=2*t;return i[u]<i[h]||i[u]===i[h]&&s[n]<=s[t]}function eo(i,n,t){const s=i.heap[t];let u=t<<1;for(;u<=i.heap_len&&(u<i.heap_len&&G1(n,i.heap[u+1],i.heap[u],i.depth)&&u++,!G1(n,s,i.heap[u],i.depth));)i.heap[t]=i.heap[u],t=u,u<<=1;i.heap[t]=s}function Z1(i,n,t){let s,u,h,y,v=0;if(0!==i.last_lit)do{s=i.pending_buf[i.d_buf+2*v]<<8|i.pending_buf[i.d_buf+2*v+1],u=i.pending_buf[i.l_buf+v],v++,0===s?Xi(i,u,n):(h=Ss[u],Xi(i,h+256+1,n),y=Q0[h],0!==y&&(u-=q0[h],Ai(i,u,y)),s--,h=F1(s),Xi(i,h,t),y=o0[h],0!==y&&(s-=c0[h],Ai(i,s,y)))}while(v<i.last_lit);Xi(i,256,n)}function to(i,n){const t=n.dyn_tree,s=n.stat_desc.static_tree,u=n.stat_desc.has_stree,h=n.stat_desc.elems;let y,v,D,C=-1;for(i.heap_len=0,i.heap_max=573,y=0;y<h;y++)0!==t[2*y]?(i.heap[++i.heap_len]=C=y,i.depth[y]=0):t[2*y+1]=0;for(;i.heap_len<2;)D=i.heap[++i.heap_len]=C<2?++C:0,t[2*D]=1,i.depth[D]=0,i.opt_len--,u&&(i.static_len-=s[2*D+1]);for(n.max_code=C,y=i.heap_len>>1;y>=1;y--)eo(i,t,y);D=h;do{y=i.heap[1],i.heap[1]=i.heap[i.heap_len--],eo(i,t,1),v=i.heap[1],i.heap[--i.heap_max]=y,i.heap[--i.heap_max]=v,t[2*D]=t[2*y]+t[2*v],i.depth[D]=(i.depth[y]>=i.depth[v]?i.depth[y]:i.depth[v])+1,t[2*y+1]=t[2*v+1]=D,i.heap[1]=D++,eo(i,t,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],function(k,q){const le=q.dyn_tree,ae=q.max_code,Ae=q.stat_desc.static_tree,Ne=q.stat_desc.has_stree,Fe=q.stat_desc.extra_bits,ot=q.stat_desc.extra_base,yt=q.stat_desc.max_length;let $e,Ie,vt,ut,xt,St,Ct=0;for(ut=0;ut<=15;ut++)k.bl_count[ut]=0;for(le[2*k.heap[k.heap_max]+1]=0,$e=k.heap_max+1;$e<573;$e++)Ie=k.heap[$e],ut=le[2*le[2*Ie+1]+1]+1,ut>yt&&(ut=yt,Ct++),le[2*Ie+1]=ut,Ie>ae||(k.bl_count[ut]++,xt=0,Ie>=ot&&(xt=Fe[Ie-ot]),St=le[2*Ie],k.opt_len+=St*(ut+xt),Ne&&(k.static_len+=St*(Ae[2*Ie+1]+xt)));if(0!==Ct){do{for(ut=yt-1;0===k.bl_count[ut];)ut--;k.bl_count[ut]--,k.bl_count[ut+1]+=2,k.bl_count[yt]--,Ct-=2}while(Ct>0);for(ut=yt;0!==ut;ut--)for(Ie=k.bl_count[ut];0!==Ie;)vt=k.heap[--$e],vt>ae||(le[2*vt+1]!==ut&&(k.opt_len+=(ut-le[2*vt+1])*le[2*vt],le[2*vt+1]=ut),Ie--)}}(i,n),V1(t,C,i.bl_count)}function j1(i,n,t){let s,u,h=-1,y=n[1],v=0,D=7,C=4;for(0===y&&(D=138,C=3),n[2*(t+1)+1]=65535,s=0;s<=t;s++)u=y,y=n[2*(s+1)+1],++v<D&&u===y||(v<C?i.bl_tree[2*u]+=v:0!==u?(u!==h&&i.bl_tree[2*u]++,i.bl_tree[32]++):v<=10?i.bl_tree[34]++:i.bl_tree[36]++,v=0,h=u,0===y?(D=138,C=3):u===y?(D=6,C=3):(D=7,C=4))}function W1(i,n,t){let s,u,h=-1,y=n[1],v=0,D=7,C=4;for(0===y&&(D=138,C=3),s=0;s<=t;s++)if(u=y,y=n[2*(s+1)+1],!(++v<D&&u===y)){if(v<C)do{Xi(i,u,i.bl_tree)}while(0!=--v);else 0!==u?(u!==h&&(Xi(i,u,i.bl_tree),v--),Xi(i,16,i.bl_tree),Ai(i,v-3,2)):v<=10?(Xi(i,17,i.bl_tree),Ai(i,v-3,3)):(Xi(i,18,i.bl_tree),Ai(i,v-11,7));v=0,h=u,0===y?(D=138,C=3):u===y?(D=6,C=3):(D=7,C=4)}}Wa(c0);let Y1=!1;function X1(i,n,t,s){var u,h,y;Ai(i,0+(s?1:0),3),h=n,y=t,z1(u=i),Is(u,y),Is(u,~y),Yi(u.pending_buf,u.window,h,y,u.pending),u.pending+=y}function ga(i,n,t){return i.pending_buf[i.d_buf+2*i.last_lit]=n>>>8&255,i.pending_buf[i.d_buf+2*i.last_lit+1]=255&n,i.pending_buf[i.l_buf+i.last_lit]=255&t,i.last_lit++,0===n?i.dyn_ltree[2*t]++:(i.matches++,n--,i.dyn_ltree[2*(Ss[t]+256+1)]++,i.dyn_dtree[2*F1(n)]++),i.last_lit===i.lit_bufsize-1}function Ts(i,n,t,s){let u=65535&i|0,h=i>>>16&65535|0,y=0;for(;0!==t;){y=t>2e3?2e3:t,t-=y;do{u=u+n[s++]|0,h=h+u|0}while(--y);u%=65521,h%=65521}return u|h<<16|0}const Qc=function(){let i;const n=[];for(let t=0;t<256;t++){i=t;for(let s=0;s<8;s++)i=1&i?3988292384^i>>>1:i>>>1;n[t]=i}return n}();function ai(i,n,t,s){const u=Qc,h=s+t;i^=-1;for(let y=s;y<h;y++)i=i>>>8^u[255&(i^n[y])];return-1^i}var _s={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function pa(i,n){return i.msg=_s[n],n}function Q1(i){return(i<<1)-(i>4?9:0)}function ya(i){let n=i.length;for(;--n>=0;)i[n]=0}function xa(i){const n=i.state;let t=n.pending;t>i.avail_out&&(t=i.avail_out),0!==t&&(Yi(i.output,n.pending_buf,n.pending_out,t,i.next_out),i.next_out+=t,n.pending_out+=t,i.total_out+=t,i.avail_out-=t,n.pending-=t,0===n.pending&&(n.pending_out=0))}function fi(i,n){(function Xc(i,n,t,s){let u,h,y=0;i.level>0?(2===i.strm.data_type&&(i.strm.data_type=function(v){let D,C=4093624447;for(D=0;D<=31;D++,C>>>=1)if(1&C&&0!==v.dyn_ltree[2*D])return 0;if(0!==v.dyn_ltree[18]||0!==v.dyn_ltree[20]||0!==v.dyn_ltree[26])return 1;for(D=32;D<256;D++)if(0!==v.dyn_ltree[2*D])return 1;return 0}(i)),to(i,i.l_desc),to(i,i.d_desc),y=function(v){let D;for(j1(v,v.dyn_ltree,v.l_desc.max_code),j1(v,v.dyn_dtree,v.d_desc.max_code),to(v,v.bl_desc),D=18;D>=3&&0===v.bl_tree[2*M1[D]+1];D--);return v.opt_len+=3*(D+1)+5+5+4,D}(i),u=i.opt_len+3+7>>>3,h=i.static_len+3+7>>>3,h<=u&&(u=h)):u=h=t+5,t+4<=u&&-1!==n?X1(i,n,t,s):4===i.strategy||h===u?(Ai(i,2+(s?1:0),3),Z1(i,na,Cs)):(Ai(i,4+(s?1:0),3),function(v,D,C,k){let q;for(Ai(v,D-257,5),Ai(v,C-1,5),Ai(v,k-4,4),q=0;q<k;q++)Ai(v,v.bl_tree[2*M1[q]+1],3);W1(v,v.dyn_ltree,D-1),W1(v,v.dyn_dtree,C-1)}(i,i.l_desc.max_code+1,i.d_desc.max_code+1,y+1),Z1(i,i.dyn_ltree,i.dyn_dtree)),H1(i),s&&z1(i)})(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,n),i.block_start=i.strstart,xa(i.strm)}function pn(i,n){i.pending_buf[i.pending++]=n}function Bs(i,n){i.pending_buf[i.pending++]=n>>>8&255,i.pending_buf[i.pending++]=255&n}function qc(i,n,t,s){let u=i.avail_in;return u>s&&(u=s),0===u?0:(i.avail_in-=u,Yi(n,i.input,i.next_in,u,t),1===i.state.wrap?i.adler=Ts(i.adler,n,u,t):2===i.state.wrap&&(i.adler=ai(i.adler,n,u,t)),i.next_in+=u,i.total_in+=u,u)}function q1(i,n){let t,s,u=i.max_chain_length,h=i.strstart,y=i.prev_length,v=i.nice_match;const D=i.strstart>i.w_size-262?i.strstart-(i.w_size-262):0,C=i.window,k=i.w_mask,q=i.prev,le=i.strstart+258;let ae=C[h+y-1],Ae=C[h+y];i.prev_length>=i.good_match&&(u>>=2),v>i.lookahead&&(v=i.lookahead);do{if(t=n,C[t+y]===Ae&&C[t+y-1]===ae&&C[t]===C[h]&&C[++t]===C[h+1]){h+=2,t++;do{}while(C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&C[++h]===C[++t]&&h<le);if(s=258-(le-h),h=le-258,s>y){if(i.match_start=n,y=s,s>=v)break;ae=C[h+y-1],Ae=C[h+y]}}}while((n=q[n&k])>D&&0!=--u);return y<=i.lookahead?y:i.lookahead}function ka(i){const n=i.w_size;let t,s,u,h,y;do{if(h=i.window_size-i.lookahead-i.strstart,i.strstart>=n+(n-262)){Yi(i.window,i.window,n,n,0),i.match_start-=n,i.strstart-=n,i.block_start-=n,s=i.hash_size,t=s;do{u=i.head[--t],i.head[t]=u>=n?u-n:0}while(--s);s=n,t=s;do{u=i.prev[--t],i.prev[t]=u>=n?u-n:0}while(--s);h+=n}if(0===i.strm.avail_in)break;if(s=qc(i.strm,i.window,i.strstart+i.lookahead,h),i.lookahead+=s,i.lookahead+i.insert>=3)for(y=i.strstart-i.insert,i.ins_h=i.window[y],i.ins_h=(i.ins_h<<i.hash_shift^i.window[y+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[y+3-1])&i.hash_mask,i.prev[y&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=y,y++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<262&&0!==i.strm.avail_in)}function ro(i,n){let t,s;for(;;){if(i.lookahead<262){if(ka(i),i.lookahead<262&&0===n)return 1;if(0===i.lookahead)break}if(t=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!==t&&i.strstart-t<=i.w_size-262&&(i.match_length=q1(i,t)),i.match_length>=3)if(s=ga(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){i.match_length--;do{i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart}while(0!=--i.match_length);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else s=ga(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(s&&(fi(i,!1),0===i.strm.avail_out))return 1}return i.insert=i.strstart<2?i.strstart:2,4===n?(fi(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(fi(i,!1),0===i.strm.avail_out)?1:2}function Ya(i,n){let t,s,u;for(;;){if(i.lookahead<262){if(ka(i),i.lookahead<262&&0===n)return 1;if(0===i.lookahead)break}if(t=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,0!==t&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-262&&(i.match_length=q1(i,t),i.match_length<=5&&(1===i.strategy||3===i.match_length&&i.strstart-i.match_start>4096)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){u=i.strstart+i.lookahead-3,s=ga(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;do{++i.strstart<=u&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart)}while(0!=--i.prev_length);if(i.match_available=0,i.match_length=2,i.strstart++,s&&(fi(i,!1),0===i.strm.avail_out))return 1}else if(i.match_available){if(s=ga(i,0,i.window[i.strstart-1]),s&&fi(i,!1),i.strstart++,i.lookahead--,0===i.strm.avail_out)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(s=ga(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,4===n?(fi(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(fi(i,!1),0===i.strm.avail_out)?1:2}class Qi{constructor(n,t,s,u,h){this.good_length=n,this.max_lazy=t,this.nice_length=s,this.max_chain=u,this.func=h}}const ks=[new Qi(0,0,0,0,function(i,n){let t=65535;for(t>i.pending_buf_size-5&&(t=i.pending_buf_size-5);;){if(i.lookahead<=1){if(ka(i),0===i.lookahead&&0===n)return 1;if(0===i.lookahead)break}i.strstart+=i.lookahead,i.lookahead=0;const s=i.block_start+t;if((0===i.strstart||i.strstart>=s)&&(i.lookahead=i.strstart-s,i.strstart=s,fi(i,!1),0===i.strm.avail_out)||i.strstart-i.block_start>=i.w_size-262&&(fi(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,4===n?(fi(i,!0),0===i.strm.avail_out?3:4):(i.strstart>i.block_start&&fi(i,!1),1)}),new Qi(4,4,8,4,ro),new Qi(4,5,16,8,ro),new Qi(4,6,32,32,ro),new Qi(4,4,16,16,Ya),new Qi(8,16,32,32,Ya),new Qi(8,16,128,128,Ya),new Qi(8,32,128,256,Ya),new Qi(32,128,258,1024,Ya),new Qi(32,258,258,4096,Ya)];class Jc{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _i(1146),this.dyn_dtree=new _i(122),this.bl_tree=new _i(78),ya(this.dyn_ltree),ya(this.dyn_dtree),ya(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _i(16),this.heap=new _i(573),ya(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _i(573),ya(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function el(i,n){let t,s,u,h;if(!i||!i.state||n>5||n<0)return i?pa(i,-2):-2;if(s=i.state,!i.output||!i.input&&0!==i.avail_in||666===s.status&&4!==n)return pa(i,0===i.avail_out?-5:-2);if(s.strm=i,t=s.last_flush,s.last_flush=n,42===s.status)if(2===s.wrap)i.adler=0,pn(s,31),pn(s,139),pn(s,8),s.gzhead?(pn(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),pn(s,255&s.gzhead.time),pn(s,s.gzhead.time>>8&255),pn(s,s.gzhead.time>>16&255),pn(s,s.gzhead.time>>24&255),pn(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),pn(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(pn(s,255&s.gzhead.extra.length),pn(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(i.adler=ai(i.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(pn(s,0),pn(s,0),pn(s,0),pn(s,0),pn(s,0),pn(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),pn(s,3),s.status=113);else{let v=8+(s.w_bits-8<<4)<<8,D=-1;D=s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3,v|=D<<6,0!==s.strstart&&(v|=32),v+=31-v%31,s.status=113,Bs(s,v),0!==s.strstart&&(Bs(s,i.adler>>>16),Bs(s,65535&i.adler)),i.adler=1}if(69===s.status)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),xa(i),u=s.pending,s.pending!==s.pending_buf_size));)pn(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),xa(i),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,pn(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),xa(i),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,pn(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(i.adler=ai(i.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&xa(i),s.pending+2<=s.pending_buf_size&&(pn(s,255&i.adler),pn(s,i.adler>>8&255),i.adler=0,s.status=113)):s.status=113),0!==s.pending){if(xa(i),0===i.avail_out)return s.last_flush=-1,0}else if(0===i.avail_in&&Q1(n)<=Q1(t)&&4!==n)return pa(i,-5);if(666===s.status&&0!==i.avail_in)return pa(i,-5);if(0!==i.avail_in||0!==s.lookahead||0!==n&&666!==s.status){var y=2===s.strategy?function(v,D){let C;for(;;){if(0===v.lookahead&&(ka(v),0===v.lookahead)){if(0===D)return 1;break}if(v.match_length=0,C=ga(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,C&&(fi(v,!1),0===v.strm.avail_out))return 1}return v.insert=0,4===D?(fi(v,!0),0===v.strm.avail_out?3:4):v.last_lit&&(fi(v,!1),0===v.strm.avail_out)?1:2}(s,n):3===s.strategy?function(v,D){let C,k,q,le;const ae=v.window;for(;;){if(v.lookahead<=258){if(ka(v),v.lookahead<=258&&0===D)return 1;if(0===v.lookahead)break}if(v.match_length=0,v.lookahead>=3&&v.strstart>0&&(q=v.strstart-1,k=ae[q],k===ae[++q]&&k===ae[++q]&&k===ae[++q])){le=v.strstart+258;do{}while(k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&k===ae[++q]&&q<le);v.match_length=258-(le-q),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=3?(C=ga(v,1,v.match_length-3),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(C=ga(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),C&&(fi(v,!1),0===v.strm.avail_out))return 1}return v.insert=0,4===D?(fi(v,!0),0===v.strm.avail_out?3:4):v.last_lit&&(fi(v,!1),0===v.strm.avail_out)?1:2}(s,n):ks[s.level].func(s,n);if(3!==y&&4!==y||(s.status=666),1===y||3===y)return 0===i.avail_out&&(s.last_flush=-1),0;if(2===y&&(1===n?function Yc(i){var n;Ai(i,2,3),Xi(i,256,na),16===(n=i).bi_valid?(Is(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)}(s):5!==n&&(X1(s,0,0,!1),3===n&&(ya(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),xa(i),0===i.avail_out))return s.last_flush=-1,0}return 4!==n?0:s.wrap<=0?1:(2===s.wrap?(pn(s,255&i.adler),pn(s,i.adler>>8&255),pn(s,i.adler>>16&255),pn(s,i.adler>>24&255),pn(s,255&i.total_in),pn(s,i.total_in>>8&255),pn(s,i.total_in>>16&255),pn(s,i.total_in>>24&255)):(Bs(s,i.adler>>>16),Bs(s,65535&i.adler)),xa(i),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const no=new Wi(256);for(let i=0;i<256;i++)no[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;function io(i){let n,t,s,u,h=0;const y=i.length;for(s=0;s<y;s++)n=i.charCodeAt(s),55296==(64512&n)&&s+1<y&&(t=i.charCodeAt(s+1),56320==(64512&t)&&(n=65536+(n-55296<<10)+(t-56320),s++)),h+=n<128?1:n<2048?2:n<65536?3:4;const v=new Wi(h);for(u=0,s=0;u<h;s++)n=i.charCodeAt(s),55296==(64512&n)&&s+1<y&&(t=i.charCodeAt(s+1),56320==(64512&t)&&(n=65536+(n-55296<<10)+(t-56320),s++)),n<128?v[u++]=n:n<2048?(v[u++]=192|n>>>6,v[u++]=128|63&n):n<65536?(v[u++]=224|n>>>12,v[u++]=128|n>>>6&63,v[u++]=128|63&n):(v[u++]=240|n>>>18,v[u++]=128|n>>>12&63,v[u++]=128|n>>>6&63,v[u++]=128|63&n);return v}no[254]=no[254]=1;class J1{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class ao{constructor(n){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...n||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J1,this.strm.avail_out=0;var s,h=function(y,v,D,C,k,q){if(!y)return-2;let le=1;if(-1===v&&(v=6),C<0?(le=0,C=-C):C>15&&(le=2,C-=16),k<1||k>9||8!==D||C<8||C>15||v<0||v>9||q<0||q>4)return pa(y,-2);8===C&&(C=9);const ae=new Jc;return y.state=ae,ae.strm=y,ae.wrap=le,ae.gzhead=null,ae.w_bits=C,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=k+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+3-1)/3),ae.window=new Wi(2*ae.w_size),ae.head=new _i(ae.hash_size),ae.prev=new _i(ae.w_size),ae.lit_bufsize=1<<k+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new Wi(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=v,ae.strategy=q,ae.method=D,function $c(i){const n=function(t){let s;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,s=t.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?42:113,t.adler=2===s.wrap?0:1,s.last_flush=0,function Wc(i){Y1||(function(){let n,t,s,u,h;const y=Array(16);for(s=0,u=0;u<28;u++)for(q0[u]=s,n=0;n<1<<Q0[u];n++)Ss[s++]=u;for(Ss[s-1]=u,h=0,u=0;u<16;u++)for(c0[u]=h,n=0;n<1<<o0[u];n++)bs[h++]=u;for(h>>=7;u<30;u++)for(c0[u]=h<<7,n=0;n<1<<o0[u]-7;n++)bs[256+h++]=u;for(t=0;t<=15;t++)y[t]=0;for(n=0;n<=143;)na[2*n+1]=8,n++,y[8]++;for(;n<=255;)na[2*n+1]=9,n++,y[9]++;for(;n<=279;)na[2*n+1]=7,n++,y[7]++;for(;n<=287;)na[2*n+1]=8,n++,y[8]++;for(V1(na,287,y),n=0;n<30;n++)Cs[2*n+1]=5,Cs[2*n]=K1(n,5);O1=new J0(na,Q0,257,286,15),L1=new J0(Cs,o0,0,30,15),U1=new J0([],jc,0,19,7)}(),Y1=!0),i.l_desc=new $0(i.dyn_ltree,O1),i.d_desc=new $0(i.dyn_dtree,L1),i.bl_desc=new $0(i.bl_tree,U1),i.bi_buf=0,i.bi_valid=0,H1(i)}(s),0):pa(t,-2)}(i);return 0===n&&((t=i.state).window_size=2*t.w_size,ya(t.head),t.max_lazy_match=ks[t.level].max_lazy,t.good_match=ks[t.level].good_length,t.nice_match=ks[t.level].nice_length,t.max_chain_length=ks[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n;var t}(y)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==h)throw Error(_s[h]);if(t.header&&(s=this.strm)&&s.state&&(2!==s.state.wrap||(s.state.gzhead=t.header)),t.dictionary){let y;if(y="string"==typeof t.dictionary?io(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,0!==(h=function(v,D){let C,k,q,le,ae,Ae,Ne,Fe,ot=D.length;if(!v||!v.state||(C=v.state,le=C.wrap,2===le||1===le&&42!==C.status||C.lookahead))return-2;for(1===le&&(v.adler=Ts(v.adler,D,ot,0)),C.wrap=0,ot>=C.w_size&&(0===le&&(ya(C.head),C.strstart=0,C.block_start=0,C.insert=0),Fe=new Wi(C.w_size),Yi(Fe,D,ot-C.w_size,C.w_size,0),D=Fe,ot=C.w_size),ae=v.avail_in,Ae=v.next_in,Ne=v.input,v.avail_in=ot,v.next_in=0,v.input=D,ka(C);C.lookahead>=3;){k=C.strstart,q=C.lookahead-2;do{C.ins_h=(C.ins_h<<C.hash_shift^C.window[k+3-1])&C.hash_mask,C.prev[k&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=k,k++}while(--q);C.strstart=k,C.lookahead=2,ka(C)}return C.strstart+=C.lookahead,C.block_start=C.strstart,C.insert=C.lookahead,C.lookahead=0,C.match_length=C.prev_length=2,C.match_available=0,v.next_in=Ae,v.input=Ne,v.avail_in=ae,C.wrap=le,0}(this.strm,y)))throw Error(_s[h]);this._dict_set=!0}}push(n,t){const{strm:s,options:{chunkSize:u}}=this;var h,y;if(this.ended)return!1;y=t===~~t?t:!0===t?4:0,s.input="string"==typeof n?io(n):n instanceof ArrayBuffer?new Uint8Array(n):n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new Wi(u),s.next_out=0,s.avail_out=u),1!==(h=el(s,y))&&0!==h)return this.onEnd(h),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==y&&2!==y)||this.onData(N1(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==h);return 4===y?(h=function(v){let D;return v&&v.state?(D=v.state.status,42!==D&&69!==D&&73!==D&&91!==D&&103!==D&&113!==D&&666!==D?pa(v,-2):(v.state=null,113===D?pa(v,-3):0)):-2}(this.strm),this.onEnd(h),this.ended=!0,0===h):2!==y||(this.onEnd(0),s.avail_out=0,!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result=P1(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}function tl(i,n){let t,s,u,h,y,v,D,C,k,q;const le=i.state;t=i.next_in;const ae=i.input,Ae=t+(i.avail_in-5);s=i.next_out;const Ne=i.output,Fe=s-(n-i.avail_out),ot=s+(i.avail_out-257),yt=le.dmax,$e=le.wsize,Ie=le.whave,vt=le.wnext,ut=le.window;u=le.hold,h=le.bits;const xt=le.lencode,St=le.distcode,Ct=(1<<le.lenbits)-1,zt=(1<<le.distbits)-1;e:do{h<15&&(u+=ae[t++]<<h,h+=8,u+=ae[t++]<<h,h+=8),y=xt[u&Ct];t:for(;;){if(v=y>>>24,u>>>=v,h-=v,v=y>>>16&255,0===v)Ne[s++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=xt[(65535&y)+(u&(1<<v)-1)];continue t}if(32&v){le.mode=12;break e}i.msg="invalid literal/length code",le.mode=30;break e}D=65535&y,v&=15,v&&(h<v&&(u+=ae[t++]<<h,h+=8),D+=u&(1<<v)-1,u>>>=v,h-=v),h<15&&(u+=ae[t++]<<h,h+=8,u+=ae[t++]<<h,h+=8),y=St[u&zt];r:for(;;){if(v=y>>>24,u>>>=v,h-=v,v=y>>>16&255,!(16&v)){if(0==(64&v)){y=St[(65535&y)+(u&(1<<v)-1)];continue r}i.msg="invalid distance code",le.mode=30;break e}if(C=65535&y,v&=15,h<v&&(u+=ae[t++]<<h,h+=8,h<v&&(u+=ae[t++]<<h,h+=8)),C+=u&(1<<v)-1,C>yt){i.msg="invalid distance too far back",le.mode=30;break e}if(u>>>=v,h-=v,v=s-Fe,C>v){if(v=C-v,v>Ie&&le.sane){i.msg="invalid distance too far back",le.mode=30;break e}if(k=0,q=ut,0===vt){if(k+=$e-v,v<D){D-=v;do{Ne[s++]=ut[k++]}while(--v);k=s-C,q=Ne}}else if(vt<v){if(k+=$e+vt-v,v-=vt,v<D){D-=v;do{Ne[s++]=ut[k++]}while(--v);if(k=0,vt<D){v=vt,D-=v;do{Ne[s++]=ut[k++]}while(--v);k=s-C,q=Ne}}}else if(k+=vt-v,v<D){D-=v;do{Ne[s++]=ut[k++]}while(--v);k=s-C,q=Ne}for(;D>2;)Ne[s++]=q[k++],Ne[s++]=q[k++],Ne[s++]=q[k++],D-=3;D&&(Ne[s++]=q[k++],D>1&&(Ne[s++]=q[k++]))}else{k=s-C;do{Ne[s++]=Ne[k++],Ne[s++]=Ne[k++],Ne[s++]=Ne[k++],D-=3}while(D>2);D&&(Ne[s++]=Ne[k++],D>1&&(Ne[s++]=Ne[k++]))}break}}break}}while(t<Ae&&s<ot);D=h>>3,t-=D,h-=D<<3,u&=(1<<h)-1,i.next_in=t,i.next_out=s,i.avail_in=t<Ae?Ae-t+5:5-(t-Ae),i.avail_out=s<ot?ot-s+257:257-(s-ot),le.hold=u,le.bits=h}const rl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nl=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],il=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],al=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ns(i,n,t,s,u,h,y,v){const D=v.bits;let C,k,q,le,ae,Ae=0,Ne=0,Fe=0,ot=0,yt=0,$e=0,Ie=0,vt=0,ut=0,xt=0,St=null,Ct=0;const zt=new _i(16),lr=new _i(16);let ur,vr,Gt,mt=null,zr=0;for(Ae=0;Ae<=15;Ae++)zt[Ae]=0;for(Ne=0;Ne<s;Ne++)zt[n[t+Ne]]++;for(yt=D,ot=15;ot>=1&&0===zt[ot];ot--);if(yt>ot&&(yt=ot),0===ot)return u[h++]=20971520,u[h++]=20971520,v.bits=1,0;for(Fe=1;Fe<ot&&0===zt[Fe];Fe++);for(yt<Fe&&(yt=Fe),vt=1,Ae=1;Ae<=15;Ae++)if(vt<<=1,vt-=zt[Ae],vt<0)return-1;if(vt>0&&(0===i||1!==ot))return-1;for(lr[1]=0,Ae=1;Ae<15;Ae++)lr[Ae+1]=lr[Ae]+zt[Ae];for(Ne=0;Ne<s;Ne++)0!==n[t+Ne]&&(y[lr[n[t+Ne]]++]=Ne);0===i?(St=mt=y,ae=19):1===i?(St=rl,Ct-=257,mt=nl,zr-=257,ae=256):(St=il,mt=al,ae=-1),xt=0,Ne=0,Ae=Fe,le=h,$e=yt,Ie=0,q=-1,ut=1<<yt;const dt=ut-1;if(1===i&&ut>852||2===i&&ut>592)return 1;for(;;){ur=Ae-Ie,y[Ne]<ae?(vr=0,Gt=y[Ne]):y[Ne]>ae?(vr=mt[zr+y[Ne]],Gt=St[Ct+y[Ne]]):(vr=96,Gt=0),C=1<<Ae-Ie,k=1<<$e,Fe=k;do{k-=C,u[le+(xt>>Ie)+k]=ur<<24|vr<<16|Gt|0}while(0!==k);for(C=1<<Ae-1;xt&C;)C>>=1;if(0!==C?(xt&=C-1,xt+=C):xt=0,Ne++,0==--zt[Ae]){if(Ae===ot)break;Ae=n[t+y[Ne]]}if(Ae>yt&&(xt&dt)!==q){for(0===Ie&&(Ie=yt),le+=Fe,$e=Ae-Ie,vt=1<<$e;$e+Ie<ot&&(vt-=zt[$e+Ie],!(vt<=0));)$e++,vt<<=1;if(ut+=1<<$e,1===i&&ut>852||2===i&&ut>592)return 1;q=xt&dt,u[q]=yt<<24|$e<<16|le-h|0}}return 0!==xt&&(u[le+xt]=Ae-Ie<<24|64<<16|0),v.bits=yt,0}function $1(i){return(i>>>24&255)+(i>>>8&65280)+((65280&i)<<8)+((255&i)<<24)}class sl{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _i(320),this.work=new _i(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let so,oo,ec=!0;function ll(i){if(ec){let n;for(so=new s0(512),oo=new s0(32),n=0;n<144;)i.lens[n++]=8;for(;n<256;)i.lens[n++]=9;for(;n<280;)i.lens[n++]=7;for(;n<288;)i.lens[n++]=8;for(Ns(1,i.lens,0,288,so,0,i.work,{bits:9}),n=0;n<32;)i.lens[n++]=5;Ns(2,i.lens,0,32,oo,0,i.work,{bits:5}),ec=!1}i.lencode=so,i.lenbits=9,i.distcode=oo,i.distbits=5}function tc(i,n,t,s){let u;const h=i.state;return null===h.window&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new Wi(h.wsize)),s>=h.wsize?(Yi(h.window,n,t-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):(u=h.wsize-h.wnext,u>s&&(u=s),Yi(h.window,n,t-s,u,h.wnext),(s-=u)?(Yi(h.window,n,t-s,s,0),h.wnext=s,h.whave=h.wsize):(h.wnext+=u,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=u))),0}function ul(i,n){let t,s,u,h,y,v,D,C,k,q,le,ae,Ae,Ne,Fe,ot,yt,$e,Ie,vt,ut,xt,St,Ct,zt=0,lr=new Wi(4);const ur=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&0!==i.avail_in)return-2;t=i.state,12===t.mode&&(t.mode=13),y=i.next_out,u=i.output,D=i.avail_out,h=i.next_in,s=i.input,v=i.avail_in,C=t.hold,k=t.bits,q=v,le=D,xt=0;e:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;k<16;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(2&t.wrap&&35615===C){t.check=0,lr[0]=255&C,lr[1]=C>>>8&255,t.check=ai(t.check,lr,2,0),C=0,k=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&C)<<8)+(C>>8))%31){i.msg="incorrect header check",t.mode=30;break}if(8!=(15&C)){i.msg="unknown compression method",t.mode=30;break}if(C>>>=4,k-=4,ut=8+(15&C),0===t.wbits)t.wbits=ut;else if(ut>t.wbits){i.msg="invalid window size",t.mode=30;break}t.dmax=1<<ut,i.adler=t.check=1,t.mode=512&C?10:12,C=0,k=0;break;case 2:for(;k<16;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(t.flags=C,8!=(255&t.flags)){i.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){i.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=C>>8&1),512&t.flags&&(lr[0]=255&C,lr[1]=C>>>8&255,t.check=ai(t.check,lr,2,0)),C=0,k=0,t.mode=3;case 3:for(;k<32;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.head&&(t.head.time=C),512&t.flags&&(lr[0]=255&C,lr[1]=C>>>8&255,lr[2]=C>>>16&255,lr[3]=C>>>24&255,t.check=ai(t.check,lr,4,0)),C=0,k=0,t.mode=4;case 4:for(;k<16;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.head&&(t.head.xflags=255&C,t.head.os=C>>8),512&t.flags&&(lr[0]=255&C,lr[1]=C>>>8&255,t.check=ai(t.check,lr,2,0)),C=0,k=0,t.mode=5;case 5:if(1024&t.flags){for(;k<16;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.length=C,t.head&&(t.head.extra_len=C),512&t.flags&&(lr[0]=255&C,lr[1]=C>>>8&255,t.check=ai(t.check,lr,2,0)),C=0,k=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&(ae=t.length,ae>v&&(ae=v),ae&&(t.head&&(ut=t.head.extra_len-t.length,t.head.extra||(t.head.extra=Array(t.head.extra_len)),Yi(t.head.extra,s,h,ae,ut)),512&t.flags&&(t.check=ai(t.check,s,ae,h)),v-=ae,h+=ae,t.length-=ae),t.length))break e;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===v)break e;ae=0;do{ut=s[h+ae++],t.head&&ut&&t.length<65536&&(t.head.name+=String.fromCharCode(ut))}while(ut&&ae<v);if(512&t.flags&&(t.check=ai(t.check,s,ae,h)),v-=ae,h+=ae,ut)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===v)break e;ae=0;do{ut=s[h+ae++],t.head&&ut&&t.length<65536&&(t.head.comment+=String.fromCharCode(ut))}while(ut&&ae<v);if(512&t.flags&&(t.check=ai(t.check,s,ae,h)),v-=ae,h+=ae,ut)break e}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;k<16;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(C!==(65535&t.check)){i.msg="header crc mismatch",t.mode=30;break}C=0,k=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=12;break;case 10:for(;k<32;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}i.adler=t.check=$1(C),C=0,k=0,t.mode=11;case 11:if(0===t.havedict)return i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=v,t.hold=C,t.bits=k,2;i.adler=t.check=1,t.mode=12;case 12:if(5===n||6===n)break e;case 13:if(t.last){C>>>=7&k,k-=7&k,t.mode=27;break}for(;k<3;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}switch(t.last=1&C,C>>>=1,k-=1,3&C){case 0:t.mode=14;break;case 1:if(ll(t),t.mode=20,6===n){C>>>=2,k-=2;break e}break;case 2:t.mode=17;break;case 3:i.msg="invalid block type",t.mode=30}C>>>=2,k-=2;break;case 14:for(C>>>=7&k,k-=7&k;k<32;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if((65535&C)!=(C>>>16^65535)){i.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&C,C=0,k=0,t.mode=15,6===n)break e;case 15:t.mode=16;case 16:if(ae=t.length,ae){if(ae>v&&(ae=v),ae>D&&(ae=D),0===ae)break e;Yi(u,s,h,ae,y),v-=ae,h+=ae,D-=ae,y+=ae,t.length-=ae;break}t.mode=12;break;case 17:for(;k<14;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(t.nlen=257+(31&C),C>>>=5,k-=5,t.ndist=1+(31&C),C>>>=5,k-=5,t.ncode=4+(15&C),C>>>=4,k-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;k<3;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.lens[ur[t.have++]]=7&C,C>>>=3,k-=3}for(;t.have<19;)t.lens[ur[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,St={bits:t.lenbits},xt=Ns(0,t.lens,0,19,t.lencode,0,t.work,St),t.lenbits=St.bits,xt){i.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;zt=t.lencode[C&(1<<t.lenbits)-1],Fe=zt>>>24,ot=zt>>>16&255,yt=65535&zt,!(Fe<=k);){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(yt<16)C>>>=Fe,k-=Fe,t.lens[t.have++]=yt;else{if(16===yt){for(Ct=Fe+2;k<Ct;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(C>>>=Fe,k-=Fe,0===t.have){i.msg="invalid bit length repeat",t.mode=30;break}ut=t.lens[t.have-1],ae=3+(3&C),C>>>=2,k-=2}else if(17===yt){for(Ct=Fe+3;k<Ct;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}C>>>=Fe,k-=Fe,ut=0,ae=3+(7&C),C>>>=3,k-=3}else{for(Ct=Fe+7;k<Ct;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}C>>>=Fe,k-=Fe,ut=0,ae=11+(127&C),C>>>=7,k-=7}if(t.have+ae>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=30;break}for(;ae--;)t.lens[t.have++]=ut}}if(30===t.mode)break;if(0===t.lens[256]){i.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,St={bits:t.lenbits},xt=Ns(1,t.lens,0,t.nlen,t.lencode,0,t.work,St),t.lenbits=St.bits,xt){i.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,St={bits:t.distbits},xt=Ns(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,St),t.distbits=St.bits,xt){i.msg="invalid distances set",t.mode=30;break}if(t.mode=20,6===n)break e;case 20:t.mode=21;case 21:if(v>=6&&D>=258){i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=v,t.hold=C,t.bits=k,tl(i,le),y=i.next_out,u=i.output,D=i.avail_out,h=i.next_in,s=i.input,v=i.avail_in,C=t.hold,k=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;zt=t.lencode[C&(1<<t.lenbits)-1],Fe=zt>>>24,ot=zt>>>16&255,yt=65535&zt,!(Fe<=k);){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(ot&&0==(240&ot)){for($e=Fe,Ie=ot,vt=yt;zt=t.lencode[vt+((C&(1<<$e+Ie)-1)>>$e)],Fe=zt>>>24,ot=zt>>>16&255,yt=65535&zt,!($e+Fe<=k);){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}C>>>=$e,k-=$e,t.back+=$e}if(C>>>=Fe,k-=Fe,t.back+=Fe,t.length=yt,0===ot){t.mode=26;break}if(32&ot){t.back=-1,t.mode=12;break}if(64&ot){i.msg="invalid literal/length code",t.mode=30;break}t.extra=15&ot,t.mode=22;case 22:if(t.extra){for(Ct=t.extra;k<Ct;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.length+=C&(1<<t.extra)-1,C>>>=t.extra,k-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;zt=t.distcode[C&(1<<t.distbits)-1],Fe=zt>>>24,ot=zt>>>16&255,yt=65535&zt,!(Fe<=k);){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(0==(240&ot)){for($e=Fe,Ie=ot,vt=yt;zt=t.distcode[vt+((C&(1<<$e+Ie)-1)>>$e)],Fe=zt>>>24,ot=zt>>>16&255,yt=65535&zt,!($e+Fe<=k);){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}C>>>=$e,k-=$e,t.back+=$e}if(C>>>=Fe,k-=Fe,t.back+=Fe,64&ot){i.msg="invalid distance code",t.mode=30;break}t.offset=yt,t.extra=15&ot,t.mode=24;case 24:if(t.extra){for(Ct=t.extra;k<Ct;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}t.offset+=C&(1<<t.extra)-1,C>>>=t.extra,k-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===D)break e;if(ae=le-D,t.offset>ae){if(ae=t.offset-ae,ae>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=30;break}ae>t.wnext?(ae-=t.wnext,Ae=t.wsize-ae):Ae=t.wnext-ae,ae>t.length&&(ae=t.length),Ne=t.window}else Ne=u,Ae=y-t.offset,ae=t.length;ae>D&&(ae=D),D-=ae,t.length-=ae;do{u[y++]=Ne[Ae++]}while(--ae);0===t.length&&(t.mode=21);break;case 26:if(0===D)break e;u[y++]=t.length,D--,t.mode=21;break;case 27:if(t.wrap){for(;k<32;){if(0===v)break e;v--,C|=s[h++]<<k,k+=8}if(le-=D,i.total_out+=le,t.total+=le,le&&(i.adler=t.check=t.flags?ai(t.check,u,le,y-le):Ts(t.check,u,le,y-le)),le=D,(t.flags?C:$1(C))!==t.check){i.msg="incorrect data check",t.mode=30;break}C=0,k=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;k<32;){if(0===v)break e;v--,C+=s[h++]<<k,k+=8}if(C!==(4294967295&t.total)){i.msg="incorrect length check",t.mode=30;break}C=0,k=0}t.mode=29;case 29:xt=1;break e;case 30:xt=-3;break e;default:return-2}return i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=v,t.hold=C,t.bits=k,(t.wsize||le!==i.avail_out&&t.mode<30&&(t.mode<27||4!==n))&&tc(i,i.output,i.next_out,le-i.avail_out),q-=i.avail_in,le-=i.avail_out,i.total_in+=q,i.total_out+=le,t.total+=le,t.wrap&&le&&(i.adler=t.check=t.flags?ai(t.check,u,le,i.next_out-le):Ts(t.check,u,le,i.next_out-le)),i.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===q&&0===le||4===n)&&0===xt&&(xt=-5),xt}function rc(i,n){const t=n.length;let s,u;return i&&i.state?(s=i.state,0!==s.wrap&&11!==s.mode?-2:11===s.mode&&(u=1,u=Ts(u,n,t,0),u!==s.check)?-3:(tc(i,n,t,t),s.havedict=1,0)):-2}class fl{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class nc{constructor(n){this.options={chunkSize:16384,windowBits:0,...n||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J1,this.strm.avail_out=0;let s=function cl(i,n){let t,s;return i?(s=new sl,i.state=s,s.window=null,t=function(u,h){let y,v;return u&&u.state?(v=u.state,h<0?(y=0,h=-h):(y=1+(h>>4),h<48&&(h&=15)),h&&(h<8||h>15)?-2:(null!==v.window&&v.wbits!==h&&(v.window=null),v.wrap=y,v.wbits=h,function ol(i){let n;return i&&i.state?(n=i.state,n.wsize=0,n.whave=0,n.wnext=0,function(t){let s;return t&&t.state?(s=t.state,t.total_in=t.total_out=s.total=0,t.msg="",s.wrap&&(t.adler=1&s.wrap),s.mode=1,s.last=0,s.havedict=0,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new s0(852),s.distcode=s.distdyn=new s0(592),s.sane=1,s.back=-1,0):-2}(i)):-2}(u))):-2}(i,n),0!==t&&(i.state=null),t):-2}(this.strm,t.windowBits);if(0!==s||(this.header=new fl,function(u,h){let y;u&&u.state&&(y=u.state,0==(2&y.wrap)||(y.head=h,h.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=io(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=rc(this.strm,t.dictionary),0!==s))))throw Error(_s[s])}push(n,t){const{strm:s,options:{chunkSize:u,dictionary:h}}=this;let y,v,D=!1;if(this.ended)return!1;v=t===~~t?t:!0===t?4:0,s.input="string"==typeof n?function(C){const k=new Wi(C.length);for(let q=0,le=k.length;q<le;q++)k[q]=C.charCodeAt(q);return k}(n):n instanceof ArrayBuffer?new Uint8Array(n):n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new Wi(u),s.next_out=0,s.avail_out=u),y=ul(s,0),2===y&&h&&(y=rc(this.strm,h)),-5===y&&!0===D&&(y=0,D=!1),1!==y&&0!==y)return this.onEnd(y),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&1!==y&&(0!==s.avail_in||4!==v&&2!==v)||this.onData(N1(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(D=!0)}while((s.avail_in>0||0===s.avail_out)&&1!==y);return 1===y&&(v=4),4===v?(y=function(C){if(!C||!C.state)return-2;const k=C.state;return k.window&&(k.window=null),C.state=null,0}(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==v||(this.onEnd(0),s.avail_out=0,!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result=P1(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}var ic=[0,1,3,7,15,31,63,127,255],Ds=function(i){this.stream=i,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Ds.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},Ds.prototype.read=function(i){for(var n=0;i>0;){this._ensureByte();var t=8-this.bitOffset;if(i>=t)n<<=t,n|=ic[t]&this.curByte,this.hasByte=!1,this.bitOffset=0,i-=t;else{n<<=i;var s=t-i;n|=(this.curByte&ic[i]<<s)>>s,this.bitOffset+=i,i=0}}return n},Ds.prototype.seek=function(i){var n=i%8,t=(i-n)/8;this.bitOffset=n,this.stream.seek(t),this.hasByte=!1},Ds.prototype.pi=function(){var i,n=new Uint8Array(6);for(i=0;i<n.length;i++)n[i]=this.read(8);return Array.prototype.map.call(n,s=>("00"+s.toString(16)).slice(-2)).join("")};var hl=Ds,Na=function(){};Na.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},Na.prototype.read=function(i,n,t){for(var s=0;s<t;){var u=this.readByte();if(u<0)return 0===s?-1:s;i[n++]=u,s++}return s},Na.prototype.seek=function(i){throw Error("abstract method seek() not implemented")},Na.prototype.writeByte=function(i){throw Error("abstract method readByte() not implemented")},Na.prototype.write=function(i,n,t){var s;for(s=0;s<t;s++)this.writeByte(i[n++]);return t},Na.prototype.flush=function(){};var co,ac=Na,dl=(co=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var i=4294967295;this.getCRC=function(){return~i>>>0},this.updateCRC=function(n){i=i<<8^co[255&(i>>>24^n)]},this.updateCRCRun=function(n,t){for(;t-- >0;)i=i<<8^co[255&(i>>>24^n)]}}),sc=function(i,n){var t,s=i[n];for(t=n;t>0;t--)i[t]=i[t-1];return i[0]=s,s},ma={"-1":"Bad file checksum","-2":"Not bzip data","-3":"Unexpected input EOF","-4":"Unexpected output EOF","-5":"Data error","-6":"Out of memory","-7":"Obsolete (pre 0.9.5) bzip format not supported."},hi=function(i,n){var t=ma[i]||"unknown error";n&&(t+=": "+n);var s=new TypeError(t);throw s.errorCode=i,s},Rs=function(i,n){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(i,n)};Rs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new dl,!0):(this.writeCount=-1,!1)},Rs.prototype._start_bunzip=function(i,n){var t=new Uint8Array(4);4===i.read(t,0,4)&&"BZh"===String.fromCharCode(t[0],t[1],t[2])||hi(-2,"bad magic");var s=t[3]-48;(s<1||s>9)&&hi(-2,"level out of range"),this.reader=new hl(i),this.dbufSize=1e5*s,this.nextoutput=0,this.outputStream=n,this.streamCRC=0},Rs.prototype._get_next_block=function(){var i,n,t,s=this.reader,u=s.pi();if("177245385090"===u)return!1;"314159265359"!==u&&hi(-2),this.targetBlockCRC=s.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,s.read(1)&&hi(-7);var h=s.read(24);h>this.dbufSize&&hi(-5,"initial position out of bounds");var y=s.read(16),v=new Uint8Array(256),D=0;for(i=0;i<16;i++)if(y&1<<15-i){var C=16*i;for(t=s.read(16),n=0;n<16;n++)t&1<<15-n&&(v[D++]=C+n)}var k=s.read(3);(k<2||k>6)&&hi(-5);var q=s.read(15);0===q&&hi(-5);var le=new Uint8Array(256);for(i=0;i<k;i++)le[i]=i;var ae=new Uint8Array(q);for(i=0;i<q;i++){for(n=0;s.read(1);n++)n>=k&&hi(-5);ae[i]=sc(le,n)}var Ae,Ne=D+2,Fe=[];for(n=0;n<k;n++){var ot,yt,$e=new Uint8Array(Ne),Ie=new Uint16Array(21);for(y=s.read(5),i=0;i<Ne;i++){for(;(y<1||y>20)&&hi(-5),s.read(1);)s.read(1)?y--:y++;$e[i]=y}for(ot=yt=$e[0],i=1;i<Ne;i++)$e[i]>yt?yt=$e[i]:$e[i]<ot&&(ot=$e[i]);Fe.push(Ae={}),Ae.permute=new Uint16Array(258),Ae.limit=new Uint32Array(22),Ae.base=new Uint32Array(21),Ae.minLen=ot,Ae.maxLen=yt;var vt=0;for(i=ot;i<=yt;i++)for(Ie[i]=Ae.limit[i]=0,y=0;y<Ne;y++)$e[y]===i&&(Ae.permute[vt++]=y);for(i=0;i<Ne;i++)Ie[$e[i]]++;for(vt=y=0,i=ot;i<yt;i++)Ae.limit[i]=(vt+=Ie[i])-1,Ae.base[i+1]=(vt<<=1)-(y+=Ie[i]);Ae.limit[yt+1]=Number.MAX_VALUE,Ae.limit[yt]=vt+Ie[yt]-1,Ae.base[ot]=0}var ut=new Uint32Array(256);for(i=0;i<256;i++)le[i]=i;var xt,St=0,Ct=0,zt=0,lr=this.dbuf=new Uint32Array(this.dbufSize);for(Ne=0;;){for(Ne--||(Ne=49,zt>=q&&hi(-5),Ae=Fe[ae[zt++]]),n=s.read(i=Ae.minLen);i>Ae.maxLen&&hi(-5),!(n<=Ae.limit[i]);i++)n=n<<1|s.read(1);((n-=Ae.base[i])<0||n>=258)&&hi(-5);var ur=Ae.permute[n];if(0!==ur&&1!==ur){if(St)for(St=0,Ct+y>this.dbufSize&&hi(-5),ut[xt=v[le[0]]]+=y;y--;)lr[Ct++]=xt;if(ur>D)break;Ct>=this.dbufSize&&hi(-5),ut[xt=v[xt=sc(le,i=ur-1)]]++,lr[Ct++]=xt}else St||(St=1,y=0),y+=0===ur?St:2*St,St<<=1}for((h<0||h>=Ct)&&hi(-5),n=0,i=0;i<256;i++)t=n+ut[i],ut[i]=n,n=t;for(i=0;i<Ct;i++)lr[ut[xt=255&lr[i]]]|=i<<8,ut[xt]++;var vr=0,Gt=0,mt=0;return Ct&&(Gt=255&(vr=lr[h]),vr>>=8,mt=-1),this.writePos=vr,this.writeCurrent=Gt,this.writeCount=Ct,this.writeRun=mt,!0},Rs.prototype._read_bunzip=function(i,n){var t,s,u;if(this.writeCount<0)return 0;for(var h=this.dbuf,y=this.writePos,v=this.writeCurrent,D=this.writeCount,C=this.writeRun;D;){for(D--,s=v,v=255&(y=h[y]),y>>=8,3==C++?(t=v,u=s,v=-1):(t=1,u=v),this.blockCRC.updateCRCRun(u,t);t--;)this.outputStream.writeByte(u),this.nextoutput++;v!=s&&(C=0)}return this.writeCount=D,this.blockCRC.getCRC()!==this.targetBlockCRC&&hi(-5,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var oc=function(i,n,t){for(var s=function(i){if("readByte"in i)return i;var n=new ac;return n.pos=0,n.readByte=function(){return i[this.pos++]},n.seek=function(t){this.pos=t},n.eof=function(){return this.pos>=i.length},n}(i),u=function(i){var n=new ac,t=!0;if(i)if("number"==typeof i)n.buffer=new Uint8Array(i),t=!1;else{if("writeByte"in i)return i;n.buffer=i,t=!1}else n.buffer=new Uint8Array(16384);return n.pos=0,n.writeByte=function(s){if(t&&this.pos>=this.buffer.length){var u=new Uint8Array(2*this.buffer.length);u.set(this.buffer),this.buffer=u}this.buffer[this.pos++]=s},n.getBuffer=function(){if(this.pos!==this.buffer.length){if(!t)throw new TypeError("outputsize does not match decoded input");var s=new Uint8Array(this.pos);s.set(this.buffer.subarray(0,this.pos)),this.buffer=s}return this.buffer},n._coerced=!0,n}(n),h=new Rs(s,u);!("eof"in s)||!s.eof();)if(h._init_block())h._read_bunzip();else{var y=h.reader.read(32)>>>0;if(y!==h.streamCRC&&hi(-5,"Bad stream CRC (got "+h.streamCRC.toString(16)+" expected "+y.toString(16)+")"),!t||!("eof"in s)||s.eof())break;h._start_bunzip(s,u)}if("getBuffer"in u)return u.getBuffer()};class va{static get tag(){return re.packet.literalData}constructor(n=new Date){this.format=re.literal.utf8,this.date=ee.normalizeDate(n),this.text=null,this.data=null,this.filename=""}setText(n,t=re.literal.utf8){this.format=t,this.text=n,this.data=null}getText(n=!1){return(null===this.text||ee.isStream(this.text))&&(this.text=ee.decodeUTF8(ee.nativeEOL(this.getBytes(n)))),this.text}setBytes(n,t){this.format=t,this.data=n,this.text=null}getBytes(n=!1){return null===this.data&&(this.data=ee.canonicalizeEOL(ee.encodeUTF8(this.text))),n?Mt(this.data):this.data}setFilename(n){this.filename=n}getFilename(){return this.filename}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte(),y=yield u.readByte();t.filename=ee.decodeUTF8(yield u.readBytes(y)),t.date=ee.readDate(yield u.readBytes(4));let v=u.remainder();A(v)&&(v=yield et(v)),t.setBytes(v,h)});return function(u){return s.apply(this,arguments)}}())})()}writeHeader(){const n=ee.encodeUTF8(this.filename),t=new Uint8Array([n.length]),s=new Uint8Array([this.format]),u=ee.writeDate(this.date);return ee.concatUint8Array([s,t,n,u])}write(){const n=this.writeHeader(),t=this.getBytes();return ee.concat([n,t])}}const Ps=Symbol("verified"),yl=new Set([re.signatureSubpacket.issuer,re.signatureSubpacket.issuerFingerprint,re.signatureSubpacket.embeddedSignature]);class $n{static get tag(){return re.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new fn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Ps]=null}read(n){let t=0;if(this.version=n[t++],4!==this.version&&5!==this.version)throw new Wr(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=n[t++],this.publicKeyAlgorithm=n[t++],this.hashAlgorithm=n[t++],t+=this.readSubPackets(n.subarray(t,n.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=n.subarray(0,t),t+=this.readSubPackets(n.subarray(t,n.length),!1),this.signedHashValue=n.subarray(t,t+2),t+=2,this.params=mr.signature.parseSignatureParams(this.publicKeyAlgorithm,n.subarray(t,n.length))}writeParams(){var n=this;return this.params instanceof Promise?ue((0,f.Z)(function*(){return mr.serializeParams(n.publicKeyAlgorithm,yield n.params)})):mr.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const n=[];return n.push(this.signatureData),n.push(this.writeUnhashedSubPackets()),n.push(this.signedHashValue),n.push(this.writeParams()),ee.concat(n)}sign(n,t,s=new Date,u=!1){var h=this;return(0,f.Z)(function*(){h.version=5===n.version?5:4;const y=[new Uint8Array([h.version,h.signatureType,h.publicKeyAlgorithm,h.hashAlgorithm])];h.created=ee.normalizeDate(s),h.issuerKeyVersion=n.version,h.issuerFingerprint=n.getFingerprintBytes(),h.issuerKeyID=n.getKeyID(),y.push(h.writeHashedSubPackets()),h.signatureData=ee.concat(y);const v=h.toHash(h.signatureType,t,u),D=yield h.hash(h.signatureType,t,v,u);h.signedHashValue=or(dr(D),0,2);const C=function(){var k=(0,f.Z)(function*(){return mr.signature.sign(h.publicKeyAlgorithm,h.hashAlgorithm,n.publicParams,n.privateParams,v,yield et(D))});return function(){return k.apply(this,arguments)}}();ee.isStream(D)?h.params=C():(h.params=yield C(),h[Ps]=!0)})()}writeHashedSubPackets(){const n=re.signatureSubpacket,t=[];let s;if(null===this.created)throw Error("Missing signature creation time");t.push(Ln(n.signatureCreationTime,ee.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(Ln(n.signatureExpirationTime,ee.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(Ln(n.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(s=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(Ln(n.trustSignature,s))),null!==this.regularExpression&&t.push(Ln(n.regularExpression,this.regularExpression)),null!==this.revocable&&t.push(Ln(n.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(Ln(n.keyExpirationTime,ee.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(Ln(n.preferredSymmetricAlgorithms,s))),null!==this.revocationKeyClass&&(s=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),s=ee.concat([s,this.revocationKeyFingerprint]),t.push(Ln(n.revocationKey,s))),this.rawNotations.forEach(([{name:y,value:v,humanReadable:D}])=>{s=[new Uint8Array([D?128:0,0,0,0])],s.push(ee.writeNumber(y.length,2)),s.push(ee.writeNumber(v.length,2)),s.push(ee.stringToUint8Array(y)),s.push(v),s=ee.concat(s),t.push(Ln(n.notationData,s))}),null!==this.preferredHashAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(Ln(n.preferredHashAlgorithms,s))),null!==this.preferredCompressionAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(Ln(n.preferredCompressionAlgorithms,s))),null!==this.keyServerPreferences&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyServerPreferences)),t.push(Ln(n.keyServerPreferences,s))),null!==this.preferredKeyServer&&t.push(Ln(n.preferredKeyServer,ee.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(Ln(n.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(Ln(n.policyURI,ee.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyFlags)),t.push(Ln(n.keyFlags,s))),null!==this.signersUserID&&t.push(Ln(n.signersUserID,ee.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(s=ee.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(Ln(n.reasonForRevocation,s))),null!==this.features&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.features)),t.push(Ln(n.features,s))),null!==this.signatureTargetPublicKeyAlgorithm&&(s=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],s.push(ee.stringToUint8Array(this.signatureTargetHash)),s=ee.concat(s),t.push(Ln(n.signatureTarget,s))),null!==this.preferredAEADAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(Ln(n.preferredAEADAlgorithms,s)));const u=ee.concat(t),h=ee.writeNumber(u.length,2);return ee.concat([h,u])}writeUnhashedSubPackets(){const n=re.signatureSubpacket,t=[];let s;this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(Ln(n.issuer,this.issuerKeyID.write())),null!==this.embeddedSignature&&t.push(Ln(n.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(s=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],s=ee.concat(s),t.push(Ln(n.issuerFingerprint,s))),this.unhashedSubpackets.forEach(y=>{t.push(Rt(y.length)),t.push(y)});const u=ee.concat(t),h=ee.writeNumber(u.length,2);return ee.concat([h,u])}readSubPacket(n,t=!0){let s=0;const u=128&n[s],h=127&n[s];if(t||yl.has(h))switch(s++,h){case re.signatureSubpacket.signatureCreationTime:this.created=ee.readDate(n.subarray(s,n.length));break;case re.signatureSubpacket.signatureExpirationTime:{const y=ee.readNumber(n.subarray(s,n.length));this.signatureNeverExpires=0===y,this.signatureExpirationTime=y;break}case re.signatureSubpacket.exportableCertification:this.exportable=1===n[s++];break;case re.signatureSubpacket.trustSignature:this.trustLevel=n[s++],this.trustAmount=n[s++];break;case re.signatureSubpacket.regularExpression:this.regularExpression=n[s];break;case re.signatureSubpacket.revocable:this.revocable=1===n[s++];break;case re.signatureSubpacket.keyExpirationTime:{const y=ee.readNumber(n.subarray(s,n.length));this.keyExpirationTime=y,this.keyNeverExpires=0===y;break}case re.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.revocationKey:this.revocationKeyClass=n[s++],this.revocationKeyAlgorithm=n[s++],this.revocationKeyFingerprint=n.subarray(s,s+20);break;case re.signatureSubpacket.issuer:this.issuerKeyID.read(n.subarray(s,n.length));break;case re.signatureSubpacket.notationData:{const y=!!(128&n[s]);s+=4;const v=ee.readNumber(n.subarray(s,s+2));s+=2;const D=ee.readNumber(n.subarray(s,s+2));s+=2;const C=ee.uint8ArrayToString(n.subarray(s,s+v)),k=n.subarray(s+v,s+v+D);this.rawNotations.push({name:C,humanReadable:y,value:k,critical:u}),y&&(this.notations[C]=ee.uint8ArrayToString(k));break}case re.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=ee.uint8ArrayToString(n.subarray(s,n.length));break;case re.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==n[s++];break;case re.signatureSubpacket.policyURI:this.policyURI=ee.uint8ArrayToString(n.subarray(s,n.length));break;case re.signatureSubpacket.keyFlags:this.keyFlags=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.signersUserID:this.signersUserID=ee.uint8ArrayToString(n.subarray(s,n.length));break;case re.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=n[s++],this.reasonForRevocationString=ee.uint8ArrayToString(n.subarray(s,n.length));break;case re.signatureSubpacket.features:this.features=[...n.subarray(s,n.length)];break;case re.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=n[s++],this.signatureTargetHashAlgorithm=n[s++];const y=mr.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=ee.uint8ArrayToString(n.subarray(s,s+y));break}case re.signatureSubpacket.embeddedSignature:this.embeddedSignature=new $n,this.embeddedSignature.read(n.subarray(s,n.length));break;case re.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=n[s++],this.issuerFingerprint=n.subarray(s,n.length),this.issuerKeyID.read(5===this.issuerKeyVersion?this.issuerFingerprint:this.issuerFingerprint.subarray(-8));break;case re.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...n.subarray(s,n.length)];break;default:{const y=Error("Unknown signature subpacket type "+h);if(u)throw y;ee.printDebug(y)}}else this.unhashedSubpackets.push(n.subarray(s,n.length))}readSubPackets(n,t=!0,s){const u=ee.readNumber(n.subarray(0,2));let h=2;for(;h<2+u;){const y=cr(n.subarray(h,n.length));h+=y.offset,this.readSubPacket(n.subarray(h,h+y.len),t,s),h+=y.len}return h}toSign(n,t){const s=re.signature;switch(n){case s.binary:return null!==t.text?ee.encodeUTF8(t.getText(!0)):t.getBytes(!0);case s.text:{const u=t.getBytes(!0);return ee.canonicalizeEOL(u)}case s.standalone:return new Uint8Array(0);case s.certGeneric:case s.certPersona:case s.certCasual:case s.certPositive:case s.certRevocation:{let u,h;if(t.userID)h=180,u=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");h=209,u=t.userAttribute}const y=u.write();return ee.concat([this.toSign(s.key,t),new Uint8Array([h]),ee.writeNumber(y.length,4),y])}case s.subkeyBinding:case s.subkeyRevocation:case s.keyBinding:return ee.concat([this.toSign(s.key,t),this.toSign(s.key,{key:t.bind})]);case s.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case s.keyRevocation:return this.toSign(s.key,t);case s.timestamp:return new Uint8Array(0);case s.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(n,t){let s=0;return Je(dr(this.signatureData),u=>{s+=u.length},()=>{const u=[];return 5!==this.version||this.signatureType!==re.signature.binary&&this.signatureType!==re.signature.text||u.push(t?new Uint8Array(6):n.writeHeader()),u.push(new Uint8Array([this.version,255])),5===this.version&&u.push(new Uint8Array(4)),u.push(ee.writeNumber(s,4)),ee.concat(u)})}toHash(n,t,s=!1){const u=this.toSign(n,t);return ee.concat([u,this.signatureData,this.calculateTrailer(t,s)])}hash(n,t,s,u=!1){var h=this;return(0,f.Z)(function*(){return s||(s=h.toHash(n,t,u)),mr.hash.digest(h.hashAlgorithm,s)})()}verify(n,t,s,u=new Date,h=!1,y=Lt){var v=this;return(0,f.Z)(function*(){if(!v.issuerKeyID.equals(n.getKeyID()))throw Error("Signature was not issued by the given public key");if(v.publicKeyAlgorithm!==n.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");if(!v[Ps]||t===re.signature.binary||t===re.signature.text){let k,q;if(v.hashed?q=yield v.hashed:(k=v.toHash(t,s,h),q=yield v.hash(t,s,k)),q=yield et(q),v.signedHashValue[0]!==q[0]||v.signedHashValue[1]!==q[1])throw Error("Signed digest did not match");if(v.params=yield v.params,v[Ps]=yield mr.signature.verify(v.publicKeyAlgorithm,v.hashAlgorithm,v.params,n.publicParams,k,q),!v[Ps])throw Error("Signature verification failed")}const C=ee.normalizeDate(u);if(C&&v.created>C)throw Error("Signature creation time is in the future");if(C&&C>=v.getExpirationTime())throw Error("Signature is expired");if(y.rejectHashAlgorithms.has(v.hashAlgorithm))throw Error("Insecure hash algorithm: "+re.read(re.hash,v.hashAlgorithm).toUpperCase());if(y.rejectMessageHashAlgorithms.has(v.hashAlgorithm)&&[re.signature.binary,re.signature.text].includes(v.signatureType))throw Error("Insecure message hash algorithm: "+re.read(re.hash,v.hashAlgorithm).toUpperCase());if(v.rawNotations.forEach(({name:k,critical:q})=>{if(q&&y.knownNotations.indexOf(k)<0)throw Error("Unknown critical notation: "+k)}),null!==v.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")})()}isExpired(n=new Date){const t=ee.normalizeDate(n);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function Ln(i,n){const t=[];return t.push(Rt(n.length+1)),t.push(new Uint8Array([i])),t.push(n),ee.concat(t)}class Fi{static get tag(){return re.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(n){let t=0;if(this.version=n[t++],3!==this.version)throw new Wr(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=n[t++],this.hashAlgorithm=n[t++],this.publicKeyAlgorithm=n[t++],this.issuerKeyID=new fn,this.issuerKeyID.read(n.subarray(t,t+8)),t+=8,this.flags=n[t++],this}write(){const n=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return ee.concatUint8Array([n,this.issuerKeyID.write(),t])}calculateTrailer(...n){var t=this;return ue((0,f.Z)(function*(){return $n.prototype.calculateTrailer.apply(yield t.correspondingSig,n)}))}verify(){var n=arguments,t=this;return(0,f.Z)(function*(){const s=yield t.correspondingSig;if(!s||s.constructor.tag!==re.packet.signature)throw Error("Corresponding signature packet missing");if(s.signatureType!==t.signatureType||s.hashAlgorithm!==t.hashAlgorithm||s.publicKeyAlgorithm!==t.publicKeyAlgorithm||!s.issuerKeyID.equals(t.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return s.hashed=t.hashed,s.verify.apply(s,n)})()}}function xl(i,n){if(!n[i]){let t;try{t=re.read(re.packet,i)}catch{throw new Wr("Unknown packet type with tag: "+i)}throw Error("Packet not allowed in this context: "+t)}return new n[i]}Fi.prototype.hash=$n.prototype.hash,Fi.prototype.toHash=$n.prototype.toHash,Fi.prototype.toSign=$n.prototype.toSign;class cn extends Array{static fromBinary(n,t,s=Lt){return(0,f.Z)(function*(){const u=new cn;return yield u.read(n,t,s),u})()}read(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){u.stream=Yt(n,function(){var y=(0,f.Z)(function*(v,D){const C=it(D);try{for(;;)if(yield C.ready,yield pi(v,function(){var k=(0,f.Z)(function*(q){try{if(q.tag===re.packet.marker||q.tag===re.packet.trust)return;const le=xl(q.tag,t);le.packets=new cn,le.fromStream=ee.isStream(q.packet),yield le.read(q.packet,s),yield C.write(le)}catch(le){const Ae=!(s.ignoreMalformedPackets||le instanceof Wr);if(!s.ignoreUnsupportedPackets&&le instanceof Wr||Ae||gi(q.tag))yield C.abort(le);else{const Ne=new ui(q.tag,q.packet);yield C.write(Ne)}ee.printDebugError(le)}});return function(q){return k.apply(this,arguments)}}()))return yield C.ready,void(yield C.close())}catch(k){yield C.abort(k)}});return function(v,D){return y.apply(this,arguments)}}());const h=Ke(u.stream);for(;;){const{done:y,value:v}=yield h.read();if(y?u.stream=null:u.push(v),y||gi(v.constructor.tag))break}h.releaseLock()})()}write(){const n=[];for(let t=0;t<this.length;t++){const s=this[t]instanceof ui?this[t].tag:this[t].constructor.tag,u=this[t].write();if(ee.isStream(u)&&gi(this[t].constructor.tag)){let h=[],y=0;const v=512;n.push(Pr(s)),n.push(Je(u,D=>{if(h.push(D),y+=D.length,y>=v){const C=Math.min(Math.log(y)/Math.LN2|0,30),k=2**C,q=ee.concat([Zr(C)].concat(h));return h=[q.subarray(1+k)],y=h[0].length,q.subarray(0,1+k)}},()=>ee.concat([Rt(y)].concat(h))))}else{if(ee.isStream(u)){let h=0;n.push(Je(dr(u),y=>{h+=y.length},()=>li(s,h)))}else n.push(li(s,u.length));n.push(u)}}return ee.concat(n)}filterByTag(...n){const t=new cn,s=u=>h=>u===h;for(let u=0;u<this.length;u++)n.some(s(this[u].constructor.tag))&&t.push(this[u]);return t}findPacket(n){return this.find(t=>t.constructor.tag===n)}indexOfTag(...n){const t=[],s=this,u=h=>y=>h===y;for(let h=0;h<this.length;h++)n.some(u(s[h].constructor.tag))&&t.push(h);return t}}const ml=ee.constructAllowedPackets([va,Fi,$n]);class Ms{static get tag(){return re.packet.compressedData}constructor(n=Lt){this.packets=null,this.algorithm=n.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=n.deflateLevel}read(n,t=Lt){var s=this;return(0,f.Z)(function*(){yield ht(n,function(){var u=(0,f.Z)(function*(h){s.algorithm=yield h.readByte(),s.compressed=h.remainder(),yield s.decompress(t)});return function(h){return u.apply(this,arguments)}}())})()}write(){return null===this.compressed&&this.compress(),ee.concat([new Uint8Array([this.algorithm]),this.compressed])}decompress(n=Lt){var t=this;return(0,f.Z)(function*(){const s=re.read(re.compression,t.algorithm),u=wl[s];if(!u)throw Error(s+" decompression not supported");t.packets=yield cn.fromBinary(u(t.compressed),ml,n)})()}compress(){const n=re.read(re.compression,this.algorithm),t=vl[n];if(!t)throw Error(n+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}}const qi=ee.getNodeZlib();function cc(i){return i}function l0(i,n,t={}){return function(s){return!ee.isStream(s)||A(s)?ue(()=>et(s).then(u=>new Promise((h,y)=>{i(u,t,(v,D)=>{if(v)return y(v);h(D)})}))):K(E(s).pipe(n(t)))}}function u0(i,n={}){return function(t){const s=new i(n);return Je(t,u=>{if(u.length)return s.push(u,2),s.result},()=>{if(i===ao)return s.push([],4),s.result})}}function lc(i){return function(n){return ue((0,f.Z)(function*(){return i(yield et(n))}))}}const vl=qi?{zip:(i,n)=>l0(qi.deflateRaw,qi.createDeflateRaw,{level:n})(i),zlib:(i,n)=>l0(qi.deflate,qi.createDeflate,{level:n})(i)}:{zip:(i,n)=>u0(ao,{raw:!0,level:n})(i),zlib:(i,n)=>u0(ao,{level:n})(i)},wl=qi?{uncompressed:cc,zip:l0(qi.inflateRaw,qi.createInflateRaw),zlib:l0(qi.inflate,qi.createInflate),bzip2:lc(oc)}:{uncompressed:cc,zip:u0(nc,{raw:!0}),zlib:u0(nc),bzip2:lc(oc)},El=ee.constructAllowedPackets([va,Ms,Fi,$n]);class uc{static get tag(){return re.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte();if(1!==h)throw new Wr(`Version ${h} of the SEIP packet is unsupported.`);t.encrypted=u.remainder()});return function(u){return s.apply(this,arguments)}}())})()}write(){return ee.concat([new Uint8Array([1]),this.encrypted])}encrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){const{blockSize:h}=mr.getCipher(n);let y=u.packets.write();A(y)&&(y=yield et(y));const v=yield mr.getPrefixRandom(n),D=new Uint8Array([211,20]),C=ee.concat([v,y,D]),k=yield mr.hash.sha1(Mt(C)),q=ee.concat([C,k]);return u.encrypted=yield mr.mode.cfb.encrypt(n,t,q,new Uint8Array(h),s),!0})()}decrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){const{blockSize:h}=mr.getCipher(n);let y=dr(u.encrypted);A(y)&&(y=yield et(y));const v=yield mr.mode.cfb.decrypt(n,t,y,new Uint8Array(h)),D=or(Mt(v),-20),C=or(v,0,-20),k=Promise.all([et(yield mr.hash.sha1(Mt(C))),et(D)]).then(([ae,Ae])=>{if(!ee.equalsUint8Array(ae,Ae))throw Error("Modification detected.");return new Uint8Array}),q=or(C,h+2);let le=or(q,0,-2);return le=_e([le,ue(()=>k)]),ee.isStream(y)&&s.allowUnauthenticatedStream||(le=yield et(le)),u.packets=yield cn.fromBinary(le,El,s),!0})()}}const Al=ee.constructAllowedPackets([va,Ms,Fi,$n]);class f0{static get tag(){return re.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=re.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte();if(1!==h)throw new Wr(`Version ${h} of the AEAD-encrypted data packet is not supported.`);t.cipherAlgorithm=yield u.readByte(),t.aeadAlgorithm=yield u.readByte(),t.chunkSizeByte=yield u.readByte();const y=mr.getAEADMode(t.aeadAlgorithm);t.iv=yield u.readBytes(y.ivLength),t.encrypted=u.remainder()});return function(u){return s.apply(this,arguments)}}())})()}write(){return ee.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}decrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){u.packets=yield cn.fromBinary(yield u.crypt("decrypt",t,dr(u.encrypted)),Al,s)})()}encrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){u.cipherAlgorithm=n;const{ivLength:h}=mr.getAEADMode(u.aeadAlgorithm);u.iv=yield mr.random.getRandomBytes(h),u.chunkSizeByte=s.aeadChunkSizeByte;const y=u.packets.write();u.encrypted=yield u.crypt("encrypt",t,y)})()}crypt(n,t,s){var u=this;return(0,f.Z)(function*(){const h=mr.getAEADMode(u.aeadAlgorithm),y=yield h(u.cipherAlgorithm,t),v="decrypt"===n?h.tagLength:0,D="encrypt"===n?h.tagLength:0,C=2**(u.chunkSizeByte+6)+v,k=new ArrayBuffer(21),q=new Uint8Array(k,0,13),le=new Uint8Array(k),ae=new DataView(k),Ae=new Uint8Array(k,5,8);q.set([192|f0.tag,u.version,u.cipherAlgorithm,u.aeadAlgorithm,u.chunkSizeByte],0);let Ne=0,Fe=Promise.resolve(),ot=0,yt=0;const $e=u.iv;return Yt(s,function(){var Ie=(0,f.Z)(function*(vt,ut){if("array"!==ee.isStream(vt)){const Ct=new G({},{highWaterMark:ee.getHardwareConcurrency()*2**(u.chunkSizeByte+6),size:zt=>zt.length});at(Ct.readable,ut),ut=Ct.writable}const xt=Ke(vt),St=it(ut);try{for(;;){let Ct=(yield xt.readBytes(C+v))||new Uint8Array;const zt=Ct.subarray(Ct.length-v);let lr,ur;if(Ct=Ct.subarray(0,Ct.length-v),!Ne||Ct.length?(xt.unshift(zt),lr=y[n](Ct,h.getNonce($e,Ae),q),yt+=Ct.length-v+D):(ae.setInt32(17,ot),lr=y[n](zt,h.getNonce($e,Ae),le),yt+=D,ur=!0),ot+=Ct.length-v,Fe=Fe.then(()=>lr).then(function(){var vr=(0,f.Z)(function*(Gt){yield St.ready,yield St.write(Gt),yt-=Gt.length});return function(Gt){return vr.apply(this,arguments)}}()).catch(vr=>St.abort(vr)),(ur||yt>St.desiredSize)&&(yield Fe),ur){yield St.close();break}ae.setInt32(9,++Ne)}}catch(Ct){yield St.abort(Ct)}});return function(vt,ut){return Ie.apply(this,arguments)}}())})()}}class lo{static get tag(){return re.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new fn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(n){if(this.version=n[0],3!==this.version)throw new Wr(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(n.subarray(1,n.length)),this.publicKeyAlgorithm=n[9],this.encrypted=mr.parseEncSessionKeyParams(this.publicKeyAlgorithm,n.subarray(10))}write(){const n=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),mr.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return ee.concatUint8Array(n)}encrypt(n){var t=this;return(0,f.Z)(function*(){const s=ee.concatUint8Array([new Uint8Array([re.write(re.symmetric,t.sessionKeyAlgorithm)]),t.sessionKey,ee.writeChecksum(t.sessionKey)]),u=re.write(re.publicKey,t.publicKeyAlgorithm);t.encrypted=yield mr.publicKeyEncrypt(u,n.publicParams,s,n.getFingerprintBytes())})()}decrypt(n,t){var s=this;return(0,f.Z)(function*(){if(s.publicKeyAlgorithm!==n.algorithm)throw Error("Decryption error");const u=t?ee.concatUint8Array([new Uint8Array([t.sessionKeyAlgorithm]),t.sessionKey,ee.writeChecksum(t.sessionKey)]):null,h=yield mr.publicKeyDecrypt(s.publicKeyAlgorithm,n.publicParams,n.privateParams,s.encrypted,n.getFingerprintBytes(),u),y=h[0],v=h.subarray(1,h.length-2),D=h.subarray(h.length-2),C=ee.writeChecksum(v),k=C[0]===D[0]&C[1]===D[1];if(t){const q=k&y===t.sessionKeyAlgorithm&v.length===t.sessionKey.length;s.sessionKeyAlgorithm=ee.selectUint8(q,y,t.sessionKeyAlgorithm),s.sessionKey=ee.selectUint8Array(q,v,t.sessionKey)}else{if(!k||!re.read(re.symmetric,y))throw Error("Decryption error");s.sessionKey=v,s.sessionKeyAlgorithm=y}})()}}class Os{constructor(n=Lt){this.algorithm=re.hash.sha256,this.type="iterated",this.c=n.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(n){let t=0;switch(this.type=re.read(re.s2k,n[t++]),this.algorithm=n[t++],this.type){case"simple":break;case"salted":this.salt=n.subarray(t,t+8),t+=8;break;case"iterated":this.salt=n.subarray(t,t+8),t+=8,this.c=n[t++];break;case"gnu":if("GNU"!==ee.uint8ArrayToString(n.subarray(t,t+3)))throw Error("Unknown s2k type.");if(t+=3,1e3+n[t++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...ee.stringToUint8Array("GNU"),1]);const n=[new Uint8Array([re.write(re.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":n.push(this.salt);break;case"iterated":n.push(this.salt),n.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return ee.concatUint8Array(n)}produceKey(n,t){var s=this;return(0,f.Z)(function*(){n=ee.encodeUTF8(n);const u=[];let h=0,y=0;for(;h<t;){let v;switch(s.type){case"simple":v=ee.concatUint8Array([new Uint8Array(y),n]);break;case"salted":v=ee.concatUint8Array([new Uint8Array(y),s.salt,n]);break;case"iterated":{const C=ee.concatUint8Array([s.salt,n]);let k=C.length;const q=Math.max(s.getCount(),k);v=new Uint8Array(y+q),v.set(C,y);for(let le=y+k;le<q;le+=k,k*=2)v.copyWithin(le,y,le);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const D=yield mr.hash.digest(s.algorithm,v);u.push(D),h+=D.length,y++}return ee.concatUint8Array(u).subarray(0,t)})()}}class Xa{static get tag(){return re.packet.symEncryptedSessionKey}constructor(n=Lt){this.version=n.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=re.symmetric.aes256,this.aeadAlgorithm=re.write(re.aead,n.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(n){let t=0;if(this.version=n[t++],4!==this.version&&5!==this.version)throw new Wr(`Version ${this.version} of the SKESK packet is unsupported.`);const s=n[t++];if(5===this.version&&(this.aeadAlgorithm=n[t++]),this.s2k=new Os,t+=this.s2k.read(n.subarray(t,n.length)),5===this.version){const u=mr.getAEADMode(this.aeadAlgorithm);this.iv=n.subarray(t,t+=u.ivLength)}5===this.version||t<n.length?(this.encrypted=n.subarray(t,n.length),this.sessionKeyEncryptionAlgorithm=s):this.sessionKeyAlgorithm=s}write(){const n=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=ee.concatUint8Array([new Uint8Array([this.version,n,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(t=ee.concatUint8Array([new Uint8Array([this.version,n]),this.s2k.write()]),null!==this.encrypted&&(t=ee.concatUint8Array([t,this.encrypted]))),t}decrypt(n){var t=this;return(0,f.Z)(function*(){const s=null!==t.sessionKeyEncryptionAlgorithm?t.sessionKeyEncryptionAlgorithm:t.sessionKeyAlgorithm,{blockSize:u,keySize:h}=mr.getCipher(s),y=yield t.s2k.produceKey(n,h);if(5===t.version){const v=mr.getAEADMode(t.aeadAlgorithm),D=new Uint8Array([192|Xa.tag,t.version,t.sessionKeyEncryptionAlgorithm,t.aeadAlgorithm]),C=yield v(s,y);t.sessionKey=yield C.decrypt(t.encrypted,t.iv,D)}else if(null!==t.encrypted){const v=yield mr.mode.cfb.decrypt(s,y,t.encrypted,new Uint8Array(u));t.sessionKeyAlgorithm=re.write(re.symmetric,v[0]),t.sessionKey=v.subarray(1,v.length)}else t.sessionKey=y})()}encrypt(n,t=Lt){var s=this;return(0,f.Z)(function*(){const u=null!==s.sessionKeyEncryptionAlgorithm?s.sessionKeyEncryptionAlgorithm:s.sessionKeyAlgorithm;s.sessionKeyEncryptionAlgorithm=u,s.s2k=new Os(t),s.s2k.salt=yield mr.random.getRandomBytes(8);const{blockSize:h,keySize:y}=mr.getCipher(u),v=yield s.s2k.produceKey(n,y);if(null===s.sessionKey&&(s.sessionKey=yield mr.generateSessionKey(s.sessionKeyAlgorithm)),5===s.version){const D=mr.getAEADMode(s.aeadAlgorithm);s.iv=yield mr.random.getRandomBytes(D.ivLength);const C=new Uint8Array([192|Xa.tag,s.version,s.sessionKeyEncryptionAlgorithm,s.aeadAlgorithm]),k=yield D(u,v);s.encrypted=yield k.encrypt(s.sessionKey,s.iv,C)}else{const D=ee.concatUint8Array([new Uint8Array([s.sessionKeyAlgorithm]),s.sessionKey]);s.encrypted=yield mr.mode.cfb.encrypt(u,v,D,new Uint8Array(h),t)}})()}}class Ki{static get tag(){return re.packet.publicKey}constructor(n=new Date,t=Lt){this.version=t.v5Keys?5:4,this.created=ee.normalizeDate(n),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(n){const t=new Ki,{version:s,created:u,algorithm:h,publicParams:y,keyID:v,fingerprint:D}=n;return t.version=s,t.created=u,t.algorithm=h,t.publicParams=y,t.keyID=v,t.fingerprint=D,t}read(n){var t=this;return(0,f.Z)(function*(){let s=0;if(t.version=n[s++],4===t.version||5===t.version){t.created=ee.readDate(n.subarray(s,s+4)),s+=4,t.algorithm=n[s++],5===t.version&&(s+=4);const{read:u,publicParams:h}=mr.parsePublicKeyParams(t.algorithm,n.subarray(s));return t.publicParams=h,s+=u,yield t.computeFingerprintAndKeyID(),s}throw new Wr(`Version ${t.version} of the key packet is unsupported.`)})()}write(){const n=[];n.push(new Uint8Array([this.version])),n.push(ee.writeDate(this.created)),n.push(new Uint8Array([this.algorithm]));const t=mr.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&n.push(ee.writeNumber(t.length,4)),n.push(t),ee.concatUint8Array(n)}writeForHash(n){const t=this.writePublicKey();return ee.concatUint8Array(5===n?[new Uint8Array([154]),ee.writeNumber(t.length,4),t]:[new Uint8Array([153]),ee.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}computeFingerprintAndKeyID(){var n=this;return(0,f.Z)(function*(){if(yield n.computeFingerprint(),n.keyID=new fn,5===n.version)n.keyID.read(n.fingerprint.subarray(0,8));else{if(4!==n.version)throw Error("Unsupported key version");n.keyID.read(n.fingerprint.subarray(12,20))}})()}computeFingerprint(){var n=this;return(0,f.Z)(function*(){const t=n.writeForHash(n.version);if(5===n.version)n.fingerprint=yield mr.hash.sha256(t);else{if(4!==n.version)throw Error("Unsupported key version");n.fingerprint=yield mr.hash.sha1(t)}})()}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return ee.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(n){return this.version===n.version&&ee.equalsUint8Array(this.writePublicKey(),n.writePublicKey())}getAlgorithmInfo(){const n={};n.algorithm=re.read(re.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?n.bits=ee.uint8ArrayBitLength(t):n.curve=this.publicParams.oid.getName(),n}}Ki.prototype.readPublicKey=Ki.prototype.read,Ki.prototype.writePublicKey=Ki.prototype.write;const Cl=ee.constructAllowedPackets([va,Ms,Fi,$n]);class Ls extends Ki{static get tag(){return re.packet.publicSubkey}constructor(n,t){super(n,t)}static fromSecretSubkeyPacket(n){const t=new Ls,{version:s,created:u,algorithm:h,publicParams:y,keyID:v,fingerprint:D}=n;return t.version=s,t.created=u,t.algorithm=h,t.publicParams=y,t.keyID=v,t.fingerprint=D,t}}class uo{static get tag(){return re.packet.userAttribute}constructor(){this.attributes=[]}read(n){let t=0;for(;t<n.length;){const s=cr(n.subarray(t,n.length));t+=s.offset,this.attributes.push(ee.uint8ArrayToString(n.subarray(t,t+s.len))),t+=s.len}}write(){const n=[];for(let t=0;t<this.attributes.length;t++)n.push(Rt(this.attributes[t].length)),n.push(ee.stringToUint8Array(this.attributes[t]));return ee.concatUint8Array(n)}equals(n){return!!(n&&n instanceof uo)&&this.attributes.every(function(t,s){return t===n.attributes[s]})}}class h0 extends Ki{static get tag(){return re.packet.secretKey}constructor(n=new Date,t=Lt){super(n,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}read(n){var t=this;return(0,f.Z)(function*(){let s=yield t.readPublicKey(n);if(t.s2kUsage=n[s++],5===t.version&&s++,255===t.s2kUsage||254===t.s2kUsage||253===t.s2kUsage){if(t.symmetric=n[s++],253===t.s2kUsage&&(t.aead=n[s++]),t.s2k=new Os,s+=t.s2k.read(n.subarray(s,n.length)),"gnu-dummy"===t.s2k.type)return}else t.s2kUsage&&(t.symmetric=t.s2kUsage);if(t.s2kUsage&&(t.iv=n.subarray(s,s+mr.getCipher(t.symmetric).blockSize),s+=t.iv.length),5===t.version&&(s+=4),t.keyMaterial=n.subarray(s),t.isEncrypted=!!t.s2kUsage,!t.isEncrypted){const u=t.keyMaterial.subarray(0,-2);if(!ee.equalsUint8Array(ee.writeChecksum(u),t.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:h}=mr.parsePrivateKeyParams(t.algorithm,u,t.publicParams);t.privateParams=h}catch(h){throw h instanceof Wr?h:Error("Error reading MPIs")}}})()}write(){const n=[this.writePublicKey()];n.push(new Uint8Array([this.s2kUsage]));const t=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(this.symmetric),253===this.s2kUsage&&t.push(this.aead),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&n.push(new Uint8Array([t.length])),n.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=mr.serializeParams(this.algorithm,this.privateParams)),5===this.version&&n.push(ee.writeNumber(this.keyMaterial.length,4)),n.push(this.keyMaterial),this.s2kUsage||n.push(ee.writeChecksum(this.keyMaterial))),ee.concatUint8Array(n)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(n=Lt){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Os(n),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=re.symmetric.aes256)}encrypt(n,t=Lt){var s=this;return(0,f.Z)(function*(){if(s.isDummy())return;if(!s.isDecrypted())throw Error("Key packet is already encrypted");if(!n)throw Error("A non-empty passphrase is required for key encryption.");s.s2k=new Os(t),s.s2k.salt=yield mr.random.getRandomBytes(8);const u=mr.serializeParams(s.algorithm,s.privateParams);s.symmetric=re.symmetric.aes256;const h=yield fc(s.s2k,n,s.symmetric),{blockSize:y}=mr.getCipher(s.symmetric);if(s.iv=yield mr.random.getRandomBytes(y),t.aeadProtect){s.s2kUsage=253,s.aead=re.aead.eax;const v=mr.getAEADMode(s.aead),D=yield v(s.symmetric,h);s.keyMaterial=yield D.encrypt(u,s.iv.subarray(0,v.ivLength),new Uint8Array)}else s.s2kUsage=254,s.keyMaterial=yield mr.mode.cfb.encrypt(s.symmetric,h,ee.concatUint8Array([u,yield mr.hash.sha1(u,t)]),s.iv,t)})()}decrypt(n){var t=this;return(0,f.Z)(function*(){if(t.isDummy())return!1;if(t.isDecrypted())throw Error("Key packet is already decrypted.");let s,u;if(254!==t.s2kUsage&&253!==t.s2kUsage)throw 255===t.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(s=yield fc(t.s2k,n,t.symmetric),253===t.s2kUsage){const h=mr.getAEADMode(t.aead),y=yield h(t.symmetric,s);try{u=yield y.decrypt(t.keyMaterial,t.iv.subarray(0,h.ivLength),new Uint8Array)}catch(v){throw"Authentication tag mismatch"===v.message?Error("Incorrect key passphrase: "+v.message):v}}else{const h=yield mr.mode.cfb.decrypt(t.symmetric,s,t.keyMaterial,t.iv);u=h.subarray(0,-20);const y=yield mr.hash.sha1(u);if(!ee.equalsUint8Array(y,h.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:h}=mr.parsePrivateKeyParams(t.algorithm,u,t.publicParams);t.privateParams=h}catch{throw Error("Error reading MPIs")}t.isEncrypted=!1,t.keyMaterial=null,t.s2kUsage=0})()}validate(){var n=this;return(0,f.Z)(function*(){if(n.isDummy())return;if(!n.isDecrypted())throw Error("Key is not decrypted");let t;try{t=yield mr.validateParams(n.algorithm,n.publicParams,n.privateParams)}catch{t=!1}if(!t)throw Error("Key is invalid")})()}generate(n,t){var s=this;return(0,f.Z)(function*(){const{privateParams:u,publicParams:h}=yield mr.generateParams(s.algorithm,n,t);s.privateParams=u,s.publicParams=h,s.isEncrypted=!1})()}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(n=>{this.privateParams[n].fill(0),delete this.privateParams[n]}),this.privateParams=null,this.isEncrypted=!0)}}function fc(i,n,t){return fo.apply(this,arguments)}function fo(){return fo=(0,f.Z)(function*(i,n,t){const{keySize:s}=mr.getCipher(t);return i.produceKey(n,s)}),fo.apply(this,arguments)}var Sl=Xr(function(i){!function(n){function t(u){function h(){return Kr<Pn}function y(){return Kr}function v(Pt){Kr=Pt}function D(){Kr=0,Pn=yn.length}function C(Pt,Ot){return{name:Pt,tokens:Ot||"",semantic:Ot||"",children:[]}}function k(Pt,Ot){var tr;return null===Ot?null:((tr=C(Pt)).tokens=Ot.tokens,tr.semantic=Ot.semantic,tr.children.push(Ot),tr)}function q(Pt,Ot){return null!==Ot&&(Pt.tokens+=Ot.tokens,Pt.semantic+=Ot.semantic),Pt.children.push(Ot),Pt}function le(Pt){var Ot;return h()&&Pt(Ot=yn[Kr])?(Kr+=1,C("token",Ot)):null}function ae(Pt){return function(){return k("literal",le(function(Ot){return Ot===Pt}))}}function Ae(){var Pt=arguments;return function(){var Ot,tr,Br,Nr;for(Nr=y(),tr=C("and"),Ot=0;Ot<Pt.length;Ot+=1){if(null===(Br=Pt[Ot]()))return v(Nr),null;q(tr,Br)}return tr}}function Ne(){var Pt=arguments;return function(){var Ot,tr,Br;for(Br=y(),Ot=0;Ot<Pt.length;Ot+=1){if(null!==(tr=Pt[Ot]()))return tr;v(Br)}return null}}function Fe(Pt){return function(){var Ot,tr;return tr=y(),null!==(Ot=Pt())?Ot:(v(tr),C("opt"))}}function ot(Pt){return function(){var Ot=Pt();return null!==Ot&&(Ot.semantic=""),Ot}}function yt(Pt){return function(){var Ot=Pt();return null!==Ot&&Ot.semantic.length>0&&(Ot.semantic=" "),Ot}}function $e(Pt,Ot){return function(){var tr,Br,Nr,Gr,Or;for(Gr=y(),tr=C("star"),Nr=0,Or=void 0===Ot?0:Ot;null!==(Br=Pt());)Nr+=1,q(tr,Br);return Nr>=Or?tr:(v(Gr),null)}}function Ie(Pt){return Pt.charCodeAt(0)>=128}function vt(){return k("cr",ae("\r")())}function ut(){return k("crlf",Ae(vt,Ct)())}function xt(){return k("dquote",ae('"')())}function St(){return k("htab",ae("\t")())}function Ct(){return k("lf",ae("\n")())}function zt(){return k("sp",ae(" ")())}function lr(){return k("vchar",le(function(Pt){var Ot=Pt.charCodeAt(0),tr=33<=Ot&&Ot<=126;return u.rfc6532&&(tr=tr||Ie(Pt)),tr}))}function ur(){return k("wsp",Ne(zt,St)())}function vr(){var Pt=k("quoted-pair",Ne(Ae(ae("\\"),Ne(lr,ur)),He)());return null===Pt?null:(Pt.semantic=Pt.semantic[1],Pt)}function Gt(){return k("fws",Ne(Ze,Ae(Fe(Ae($e(ur),ot(ut))),$e(ur,1)))())}function mt(){return k("ctext",Ne(function(){return le(function(Pt){var Ot=Pt.charCodeAt(0),tr=33<=Ot&&Ot<=39||42<=Ot&&Ot<=91||93<=Ot&&Ot<=126;return u.rfc6532&&(tr=tr||Ie(Pt)),tr})},nr)())}function zr(){return k("ccontent",Ne(mt,vr,dt)())}function dt(){return k("comment",Ae(ae("("),$e(Ae(Fe(Gt),zr)),Fe(Gt),ae(")"))())}function Zt(){return k("cfws",Ne(Ae($e(Ae(Fe(Gt),dt),1),Fe(Gt)),Gt)())}function xr(){return k("atext",le(function(Pt){var Ot="a"<=Pt&&Pt<="z"||"A"<=Pt&&Pt<="Z"||"0"<=Pt&&Pt<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(Pt)>=0;return u.rfc6532&&(Ot=Ot||Ie(Pt)),Ot}))}function Er(){return k("atom",Ae(yt(Fe(Zt)),$e(xr,1),yt(Fe(Zt)))())}function gr(){var Pt,Ot;return null===(Pt=k("dot-atom-text",$e(xr,1)()))||null!==(Ot=$e(Ae(ae("."),$e(xr,1)))())&&q(Pt,Ot),Pt}function fr(){return k("dot-atom",Ae(ot(Fe(Zt)),gr,ot(Fe(Zt)))())}function Sr(){return k("qtext",Ne(function(){return le(function(Pt){var Ot=Pt.charCodeAt(0),tr=33===Ot||35<=Ot&&Ot<=91||93<=Ot&&Ot<=126;return u.rfc6532&&(tr=tr||Ie(Pt)),tr})},er)())}function Jt(){return k("qcontent",Ne(Sr,vr)())}function Me(){return k("quoted-string",Ae(ot(Fe(Zt)),ot(xt),$e(Ae(Fe(yt(Gt)),Jt)),Fe(ot(Gt)),ot(xt),ot(Fe(Zt)))())}function st(){return k("word",Ne(Er,Me)())}function lt(){return k("address",Ne(Y,It)())}function Y(){return k("mailbox",Ne(Re,ir)())}function Re(){return k("name-addr",Ae(Fe(_t),wt)())}function wt(){return k("angle-addr",Ne(Ae(ot(Fe(Zt)),ae("<"),ir,ae(">"),ot(Fe(Zt))),je)())}function It(){return k("group",Ae(_t,ae(":"),Fe(ye),ae(";"),ot(Fe(Zt)))())}function _t(){return k("display-name",(null!==(Pt=k("phrase",Ne(ze,$e(st,1))()))&&(Pt.semantic=Pt.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),Pt));var Pt}function pe(){return k("mailbox-list",Ne(Ae(Y,$e(Ae(ae(","),Y))),we)())}function oe(){return k("address-list",Ne(Ae(lt,$e(Ae(ae(","),lt))),Te)())}function ye(){return k("group-list",Ne(pe,ot(Zt),Xt)())}function be(){return k("local-part",Ne(Hr,fr,Me)())}function Ge(){return k("dtext",Ne(function(){return le(function(Pt){var Ot=Pt.charCodeAt(0),tr=33<=Ot&&Ot<=90||94<=Ot&&Ot<=126;return u.rfc6532&&(tr=tr||Ie(Pt)),tr})},ln)())}function Ue(){return k("domain-literal",Ae(ot(Fe(Zt)),ae("["),$e(Ae(Fe(Gt),Ge)),Fe(Gt),ae("]"),ot(Fe(Zt)))())}function Ye(){return k("domain",(Pt=Ne(an,fr,Ue)(),u.rejectTLD&&Pt&&Pt.semantic&&Pt.semantic.indexOf(".")<0?null:(Pt&&(Pt.semantic=Pt.semantic.replace(/\s+/g,"")),Pt)));var Pt}function ir(){return k("addr-spec",Ae(be,ae("@"),Ye)())}function $t(){return u.strict?null:k("obs-NO-WS-CTL",le(function(Pt){var Ot=Pt.charCodeAt(0);return 1<=Ot&&Ot<=8||11===Ot||12===Ot||14<=Ot&&Ot<=31||127===Ot}))}function nr(){return u.strict?null:k("obs-ctext",$t())}function er(){return u.strict?null:k("obs-qtext",$t())}function He(){return u.strict?null:k("obs-qp",Ae(ae("\\"),Ne(ae("\0"),$t,Ct,vt))())}function ze(){return u.strict?null:k("obs-phrase",u.atInDisplayName?Ae(st,$e(Ne(st,ae("."),ae("@"),yt(Zt))))():Ae(st,$e(Ne(st,ae("."),yt(Zt))))())}function Ze(){return u.strict?null:k("obs-FWS",$e(Ae(ot(Fe(ut)),ur),1)())}function je(){return u.strict?null:k("obs-angle-addr",Ae(ot(Fe(Zt)),ae("<"),We,ir,ae(">"),ot(Fe(Zt)))())}function We(){return u.strict?null:k("obs-route",Ae(Ee,ae(":"))())}function Ee(){return u.strict?null:k("obs-domain-list",Ae($e(Ne(ot(Zt),ae(","))),ae("@"),Ye,$e(Ae(ae(","),ot(Fe(Zt)),Fe(Ae(ae("@"),Ye)))))())}function we(){return u.strict?null:k("obs-mbox-list",Ae($e(Ae(ot(Fe(Zt)),ae(","))),Y,$e(Ae(ae(","),Fe(Ae(Y,ot(Zt))))))())}function Te(){return u.strict?null:k("obs-addr-list",Ae($e(Ae(ot(Fe(Zt)),ae(","))),lt,$e(Ae(ae(","),Fe(Ae(lt,ot(Zt))))))())}function Xt(){return u.strict?null:k("obs-group-list",Ae($e(Ae(ot(Fe(Zt)),ae(",")),1),ot(Fe(Zt)))())}function Hr(){return u.strict?null:k("obs-local-part",Ae(st,$e(Ae(ae("."),st)))())}function an(){return u.strict?null:k("obs-domain",Ae(Er,$e(Ae(ae("."),Er)))())}function ln(){return u.strict?null:k("obs-dtext",Ne($t,vr)())}function $r(Pt,Ot){var tr,Br,Nr;if(null==Ot)return null;for(Br=[Ot];Br.length>0;){if((Nr=Br.pop()).name===Pt)return Nr;for(tr=Nr.children.length-1;tr>=0;tr-=1)Br.push(Nr.children[tr])}return null}function Fn(Pt,Ot){var tr,Br,Nr,Gr,Or;if(null==Ot)return null;for(Br=[Ot],Gr=[],Or={},tr=0;tr<Pt.length;tr+=1)Or[Pt[tr]]=!0;for(;Br.length>0;)if((Nr=Br.pop()).name in Or)Gr.push(Nr);else for(tr=Nr.children.length-1;tr>=0;tr-=1)Br.push(Nr.children[tr]);return Gr}function Gn(Pt){var Ot,tr,Br,Nr,Gr,Or;if(null===Pt)return null;for(Ot=[],tr=Fn(["group","mailbox"],Pt),Br=0;Br<tr.length;Br+=1)"group"===(Nr=tr[Br]).name?Ot.push(Wn(Nr)):"mailbox"===Nr.name&&Ot.push(si(Nr));return Gr={ast:Pt,addresses:Ot},u.simple&&(Gr=function(Or){var Sn;if(Or&&Or.addresses)for(Sn=0;Sn<Or.addresses.length;Sn+=1)delete Or.addresses[Sn].node;return Or}(Gr)),u.oneResult?!(Or=Gr)||!u.partial&&Or.addresses.length>1?null:Or.addresses&&Or.addresses[0]:u.simple?Gr&&Gr.addresses:Gr}function Wn(Pt){var Ot,tr=$r("display-name",Pt),Br=[],Nr=Fn(["mailbox"],Pt);for(Ot=0;Ot<Nr.length;Ot+=1)Br.push(si(Nr[Ot]));return{node:Pt,parts:{name:tr},type:Pt.name,name:Qr(tr),addresses:Br}}function si(Pt){var Ot=$r("display-name",Pt),tr=$r("addr-spec",Pt),Br=function(Sn,Mn){var Hi,zi,Gi,Ji;if(null==Mn)return null;for(zi=[Mn],Ji=[];zi.length>0;)for("cfws"===(Gi=zi.pop()).name&&Ji.push(Gi),Hi=Gi.children.length-1;Hi>=0;Hi-=1)zi.push(Gi.children[Hi]);return Ji}(0,Pt),Nr=Fn(["comment"],Pt),Gr=$r("local-part",tr),Or=$r("domain",tr);return{node:Pt,parts:{name:Ot,address:tr,local:Gr,domain:Or,comments:Br},type:Pt.name,name:Qr(Ot),address:Qr(tr),local:Qr(Gr),domain:Qr(Or),comments:En(Nr),groupName:Qr(Pt.groupName)}}function Qr(Pt){return null!=Pt?Pt.semantic:null}function En(Pt){var Ot="";if(Pt)for(var tr=0;tr<Pt.length;tr+=1)Ot+=Qr(Pt[tr]);return Ot}var yn,Kr,Pn,_n,Dn;if(null===(u=s(u,{})))return null;if(yn=u.input,Dn={address:lt,"address-list":oe,"angle-addr":wt,from:function(){return k("from",Ne(pe,oe)())},group:It,mailbox:Y,"mailbox-list":pe,"reply-to":function(){return k("reply-to",oe())},sender:function(){return k("sender",Ne(Y,lt)())}}[u.startAt]||oe,!u.strict){if(D(),u.strict=!0,_n=Dn(yn),u.partial||!h())return Gn(_n);u.strict=!1}return D(),_n=Dn(yn),!u.partial&&h()?null:Gn(_n)}function s(u,h){function y(k){return"[object String]"===Object.prototype.toString.call(k)}function v(k){return null==k}var D,C,k;if(y(u))u={input:u};else if((k=u)!==Object(k))return null;if(!y(u.input)||!h)return null;for(C in D={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})v(u[C])&&(u[C]=v(h[C])?D[C]:h[C]);return u}t.parseOneAddress=function(u){return t(s(u,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseAddressList=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseFrom=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"from"}))},t.parseSender=function(u){return t(s(u,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},t.parseReplyTo=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},i.exports=t}()});class d0{static get tag(){return re.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(n){if(ee.isString(n)||n.name&&!ee.isString(n.name)||n.email&&!ee.isEmailAddress(n.email)||n.comment&&!ee.isString(n.comment))throw Error("Invalid user ID format");const t=new d0;Object.assign(t,n);const s=[];return t.name&&s.push(t.name),t.comment&&s.push(`(${t.comment})`),t.email&&s.push(`<${t.email}>`),t.userID=s.join(" "),t}read(n,t=Lt){const s=ee.decodeUTF8(n);if(s.length>t.maxUserIDLength)throw Error("User ID string is too long");try{const{name:u,address:h,comments:y}=Sl.parseOneAddress({input:s,atInDisplayName:!0});this.comment=y.replace(/^\(|\)$/g,""),this.name=u,this.email=h}catch{}this.userID=s}write(){return ee.encodeUTF8(this.userID)}equals(n){return n&&n.userID===this.userID}}class ho extends h0{static get tag(){return re.packet.secretSubkey}constructor(n=new Date,t=Lt){super(n,t)}}class Da{constructor(n){this.packets=n||new cn}write(){return this.packets.write()}armor(n=Lt){return In(re.armor.signature,this.write(),void 0,void 0,void 0,n)}getSigningKeyIDs(){return this.packets.map(n=>n.issuerKeyID)}}function hc(i,n){return po.apply(this,arguments)}function po(){return po=(0,f.Z)(function*(i,n){const t=new ho(i.date,n);return t.packets=null,t.algorithm=re.write(re.publicKey,i.algorithm),yield t.generate(i.rsaBits,i.curve),yield t.computeFingerprintAndKeyID(),t}),po.apply(this,arguments)}function Tl(i,n){return yo.apply(this,arguments)}function yo(){return yo=(0,f.Z)(function*(i,n){const t=new h0(i.date,n);return t.packets=null,t.algorithm=re.write(re.publicKey,i.algorithm),yield t.generate(i.rsaBits,i.curve,i.config),yield t.computeFingerprintAndKeyID(),t}),yo.apply(this,arguments)}function Vi(i,n,t,s){return xo.apply(this,arguments)}function xo(){return xo=(0,f.Z)(function*(i,n,t,s,u=new Date,h){let y,v;for(let D=i.length-1;D>=0;D--)try{(!y||i[D].created>=y.created)&&(yield i[D].verify(n,t,s,u,void 0,h),y=i[D])}catch(C){v=C}if(!y)throw ee.wrapError(`Could not find valid ${re.read(re.signature,t)} signature in key ${n.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(D,C,k)=>C+" "+k.toLowerCase()),v);return y}),xo.apply(this,arguments)}function mo(i,n,t=new Date){const s=ee.normalizeDate(t);if(null!==s){const u=p0(i,n);return!(i.created<=s&&s<u)}return!1}function dc(i,n,t,s){return vo.apply(this,arguments)}function vo(){return vo=(0,f.Z)(function*(i,n,t,s){const u={};u.key=n,u.bind=i;const h=new $n;return h.signatureType=re.signature.subkeyBinding,h.publicKeyAlgorithm=n.algorithm,h.hashAlgorithm=yield g0(null,i,void 0,void 0,s),t.sign?(h.keyFlags=[re.keyFlags.signData],h.embeddedSignature=yield Qa(u,null,i,{signatureType:re.signature.keyBinding},t.date,void 0,void 0,s)):h.keyFlags=[re.keyFlags.encryptCommunication|re.keyFlags.encryptStorage],t.keyExpirationTime>0&&(h.keyExpirationTime=t.keyExpirationTime,h.keyNeverExpires=!1),yield h.sign(n,u,t.date),h}),vo.apply(this,arguments)}function g0(i,n){return wo.apply(this,arguments)}function wo(){return wo=(0,f.Z)(function*(i,n,t=new Date,s={},u){let h=u.preferredHashAlgorithm,y=h;if(i){const v=yield i.getPrimaryUser(t,s,u);v.selfCertification.preferredHashAlgorithms&&([y]=v.selfCertification.preferredHashAlgorithms,h=mr.hash.getHashByteLength(h)<=mr.hash.getHashByteLength(y)?y:h)}switch(Object.getPrototypeOf(n)){case h0.prototype:case Ki.prototype:case ho.prototype:case Ls.prototype:switch(n.algorithm){case re.publicKey.ecdh:case re.publicKey.ecdsa:case re.publicKey.eddsa:y=mr.publicKey.elliptic.getPreferredHashAlgo(n.publicParams.oid)}}return mr.hash.getHashByteLength(h)<=mr.hash.getHashByteLength(y)?y:h}),wo.apply(this,arguments)}function Eo(i){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,f.Z)(function*(i,n=[],t=new Date,s=[],u=Lt){const h={symmetric:re.symmetric.aes128,aead:re.aead.eax,compression:re.compression.uncompressed}[i],y={symmetric:u.preferredSymmetricAlgorithm,aead:u.preferredAEADAlgorithm,compression:u.preferredCompressionAlgorithm}[i],v={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[i];return(yield Promise.all(n.map(function(){var D=(0,f.Z)(function*(C,k){const q=(yield C.getPrimaryUser(t,s[k],u)).selfCertification[v];return!!q&&q.indexOf(y)>=0});return function(C,k){return D.apply(this,arguments)}}()))).every(Boolean)?y:h}),Ao.apply(this,arguments)}function Qa(i,n,t,s,u,h){return Co.apply(this,arguments)}function Co(){return Co=(0,f.Z)(function*(i,n,t,s,u,h,y=!1,v){if(t.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!t.isDecrypted())throw Error("Signing key is not decrypted.");const D=new $n;return Object.assign(D,s),D.publicKeyAlgorithm=t.algorithm,D.hashAlgorithm=yield g0(n,t,u,h,v),yield D.sign(t,i,u,y),D}),Co.apply(this,arguments)}function Ra(i,n,t){return bo.apply(this,arguments)}function bo(){return bo=(0,f.Z)(function*(i,n,t,s=new Date,u){(i=i[t])&&(n[t].length?yield Promise.all(i.map(function(){var h=(0,f.Z)(function*(y){y.isExpired(s)||u&&!(yield u(y))||n[t].some(function(v){return ee.equalsUint8Array(v.writeParams(),y.writeParams())})||n[t].push(y)});return function(y){return h.apply(this,arguments)}}())):n[t]=i)}),bo.apply(this,arguments)}function qa(i,n,t,s,u,h){return So.apply(this,arguments)}function So(){return So=(0,f.Z)(function*(i,n,t,s,u,h,y=new Date,v){h=h||i;const D=[];return yield Promise.all(s.map(function(){var C=(0,f.Z)(function*(k){try{u&&!k.issuerKeyID.equals(u.issuerKeyID)||(yield k.verify(h,n,t,v.revocationsExpire?y:null,!1,v),D.push(k.issuerKeyID))}catch{}});return function(k){return C.apply(this,arguments)}}())),u?(u.revoked=!!D.some(C=>C.equals(u.issuerKeyID))||u.revoked||!1,u.revoked):D.length>0}),So.apply(this,arguments)}function p0(i,n){let t;return!1===n.keyNeverExpires&&(t=i.created.getTime()+1e3*n.keyExpirationTime),t?new Date(t):1/0}function Io(i,n={}){switch(i.type=i.type||n.type,i.curve=i.curve||n.curve,i.rsaBits=i.rsaBits||n.rsaBits,i.keyExpirationTime=void 0!==i.keyExpirationTime?i.keyExpirationTime:n.keyExpirationTime,i.passphrase=ee.isString(i.passphrase)?i.passphrase:n.passphrase,i.date=i.date||n.date,i.sign=i.sign||!1,i.type){case"ecc":try{i.curve=re.write(re.curve,i.curve)}catch{throw Error("Unknown curve")}i.curve!==re.curve.ed25519&&i.curve!==re.curve.curve25519||(i.curve=i.sign?re.curve.ed25519:re.curve.curve25519),i.algorithm=i.sign?i.curve===re.curve.ed25519?re.publicKey.eddsa:re.publicKey.ecdsa:re.publicKey.ecdh;break;case"rsa":i.algorithm=re.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+i.type)}return i}function gc(i,n){const t=i.algorithm;return t!==re.publicKey.rsaEncrypt&&t!==re.publicKey.elgamal&&t!==re.publicKey.ecdh&&(!n.keyFlags||0!=(n.keyFlags[0]&re.keyFlags.signData))}function pc(i,n){const t=i.algorithm;return t!==re.publicKey.dsa&&t!==re.publicKey.rsaSign&&t!==re.publicKey.ecdsa&&t!==re.publicKey.eddsa&&(!n.keyFlags||0!=(n.keyFlags[0]&re.keyFlags.encryptCommunication)||0!=(n.keyFlags[0]&re.keyFlags.encryptStorage))}function yc(i,n){return!!n.allowInsecureDecryptionWithSigningKeys||!i.keyFlags||0!=(i.keyFlags[0]&re.keyFlags.encryptCommunication)||0!=(i.keyFlags[0]&re.keyFlags.encryptStorage)}function Ja(i,n){const t=re.write(re.publicKey,i.algorithm),s=i.getAlgorithmInfo();if(n.rejectPublicKeyAlgorithms.has(t))throw Error(s.algorithm+" keys are considered too weak.");switch(t){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:case re.publicKey.rsaEncrypt:if(s.bits<n.minRSABits)throw Error(`RSA keys shorter than ${n.minRSABits} bits are considered too weak.`);break;case re.publicKey.ecdsa:case re.publicKey.eddsa:case re.publicKey.ecdh:if(n.rejectCurves.has(s.curve))throw Error(`Support for ${s.algorithm} keys using curve ${s.curve} is disabled.`)}}class y0{constructor(n,t){this.userID=n.constructor.tag===re.packet.userID?n:null,this.userAttribute=n.constructor.tag===re.packet.userAttribute?n:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const n=new cn;return n.push(this.userID||this.userAttribute),n.push(...this.revocationSignatures),n.push(...this.selfCertifications),n.push(...this.otherCertifications),n}clone(){const n=new y0(this.userID||this.userAttribute,this.mainKey);return n.selfCertifications=[...this.selfCertifications],n.otherCertifications=[...this.otherCertifications],n.revocationSignatures=[...this.revocationSignatures],n}certify(n,t,s){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket,y={userID:u.userID,userAttribute:u.userAttribute,key:h},v=new y0(y.userID||y.userAttribute,u.mainKey);return v.otherCertifications=yield Promise.all(n.map(function(){var D=(0,f.Z)(function*(C){if(!C.isPrivate())throw Error("Need private key for signing");if(C.hasSameFingerprintAs(h))throw Error("The user's own key can only be used for self-certifications");const k=yield C.getSigningKey(void 0,t,void 0,s);return Qa(y,C,k.keyPacket,{signatureType:re.signature.certGeneric,keyFlags:[re.keyFlags.certifyKeys|re.keyFlags.signData]},t,void 0,void 0,s)});return function(C){return D.apply(this,arguments)}}())),yield v.update(u,t,s),v})()}isRevoked(n,t,s=new Date,u){var h=this;return(0,f.Z)(function*(){const y=h.mainKey.keyPacket;return qa(y,re.signature.certRevocation,{key:y,userID:h.userID,userAttribute:h.userAttribute},h.revocationSignatures,n,t,s,u)})()}verifyCertificate(n,t,s=new Date,u){var h=this;return(0,f.Z)(function*(){const y=h,D={userID:h.userID,userAttribute:h.userAttribute,key:h.mainKey.keyPacket},{issuerKeyID:C}=n,k=t.filter(q=>q.getKeys(C).length>0);return 0===k.length?null:(yield Promise.all(k.map(function(){var q=(0,f.Z)(function*(le){const ae=yield le.getSigningKey(C,n.created,void 0,u);if(n.revoked||(yield y.isRevoked(n,ae.keyPacket,s,u)))throw Error("User certificate is revoked");try{yield n.verify(ae.keyPacket,re.signature.certGeneric,D,s,void 0,u)}catch(Ae){throw ee.wrapError("User certificate is invalid",Ae)}});return function(le){return q.apply(this,arguments)}}())),!0)})()}verifyAllCertifications(n,t=new Date,s){var u=this;return(0,f.Z)(function*(){const h=u,y=u.selfCertifications.concat(u.otherCertifications);return Promise.all(y.map(function(){var v=(0,f.Z)(function*(D){return{keyID:D.issuerKeyID,valid:yield h.verifyCertificate(D,n,t,s).catch(()=>!1)}});return function(D){return v.apply(this,arguments)}}()))})()}verify(n=new Date,t){var s=this;return(0,f.Z)(function*(){if(!s.selfCertifications.length)throw Error("No self-certifications found");const u=s,h=s.mainKey.keyPacket,y={userID:s.userID,userAttribute:s.userAttribute,key:h};let v;for(let D=s.selfCertifications.length-1;D>=0;D--)try{const C=s.selfCertifications[D];if(C.revoked||(yield u.isRevoked(C,void 0,n,t)))throw Error("Self-certification is revoked");try{yield C.verify(h,re.signature.certGeneric,y,n,void 0,t)}catch(k){throw ee.wrapError("Self-certification is invalid",k)}return!0}catch(C){v=C}throw v})()}update(n,t,s){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket,y={userID:u.userID,userAttribute:u.userAttribute,key:h};yield Ra(n,u,"selfCertifications",t,function(){var v=(0,f.Z)(function*(D){try{return yield D.verify(h,re.signature.certGeneric,y,t,!1,s),!0}catch{return!1}});return function(D){return v.apply(this,arguments)}}()),yield Ra(n,u,"otherCertifications",t),yield Ra(n,u,"revocationSignatures",t,function(v){return qa(h,re.signature.certRevocation,y,[v],void 0,void 0,t,s)})})()}}class $a{constructor(n,t){this.keyPacket=n,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const n=new cn;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.bindingSignatures),n}clone(){const n=new $a(this.keyPacket,this.mainKey);return n.bindingSignatures=[...this.bindingSignatures],n.revocationSignatures=[...this.revocationSignatures],n}isRevoked(n,t,s=new Date,u=Lt){var h=this;return(0,f.Z)(function*(){const y=h.mainKey.keyPacket;return qa(y,re.signature.subkeyRevocation,{key:y,bind:h.keyPacket},h.revocationSignatures,n,t,s,u)})()}verify(n=new Date,t=Lt){var s=this;return(0,f.Z)(function*(){const u=s.mainKey.keyPacket,h={key:u,bind:s.keyPacket},y=yield Vi(s.bindingSignatures,u,re.signature.subkeyBinding,h,n,t);if(y.revoked||(yield s.isRevoked(y,null,n,t)))throw Error("Subkey is revoked");if(mo(s.keyPacket,y,n))throw Error("Subkey is expired");return y})()}getExpirationTime(n=new Date,t=Lt){var s=this;return(0,f.Z)(function*(){const u=s.mainKey.keyPacket,h={key:u,bind:s.keyPacket};let y;try{y=yield Vi(s.bindingSignatures,u,re.signature.subkeyBinding,h,n,t)}catch{return null}const v=p0(s.keyPacket,y),D=y.getExpirationTime();return v<D?v:D})()}update(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket;if(!u.hasSameFingerprintAs(n))throw Error("Subkey update method: fingerprints of subkeys not equal");u.keyPacket.constructor.tag===re.packet.publicSubkey&&n.keyPacket.constructor.tag===re.packet.secretSubkey&&(u.keyPacket=n.keyPacket);const y=u,v={key:h,bind:y.keyPacket};yield Ra(n,u,"bindingSignatures",t,function(){var D=(0,f.Z)(function*(C){for(let k=0;k<y.bindingSignatures.length;k++)if(y.bindingSignatures[k].issuerKeyID.equals(C.issuerKeyID))return C.created>y.bindingSignatures[k].created&&(y.bindingSignatures[k]=C),!1;try{return yield C.verify(h,re.signature.subkeyBinding,v,t,void 0,s),!0}catch{return!1}});return function(C){return D.apply(this,arguments)}}()),yield Ra(n,u,"revocationSignatures",t,function(D){return qa(h,re.signature.subkeyRevocation,v,[D],void 0,void 0,t,s)})})()}revoke(n,{flag:t=re.reasonForRevocation.noReason,string:s=""}={},u=new Date,h=Lt){var y=this;return(0,f.Z)(function*(){const v={key:n,bind:y.keyPacket},D=new $a(y.keyPacket,y.mainKey);return D.revocationSignatures.push(yield Qa(v,null,n,{signatureType:re.signature.subkeyRevocation,reasonForRevocationFlag:re.write(re.reasonForRevocation,t),reasonForRevocationString:s},u,void 0,!1,h)),yield D.update(y),D})()}hasSameFingerprintAs(n){return this.keyPacket.hasSameFingerprintAs(n.keyPacket||n)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(i=>{$a.prototype[i]=function(){return this.keyPacket[i]()}});const _l=ee.constructAllowedPackets([$n]),xc=new Set([re.packet.publicKey,re.packet.privateKey]),mc=new Set([re.packet.publicKey,re.packet.privateKey,re.packet.publicSubkey,re.packet.privateSubkey]);class vc{packetListToStructure(n,t=new Set){let s,u,h,y;for(const v of n){if(v instanceof ui){mc.has(v.tag)&&!y&&(y=xc.has(v.tag)?xc:mc);continue}const D=v.constructor.tag;if(y){if(!y.has(D))continue;y=null}if(t.has(D))throw Error("Unexpected packet type: "+D);switch(D){case re.packet.publicKey:case re.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=v,u=this.getKeyID(),!u)throw Error("Missing Key ID");break;case re.packet.userID:case re.packet.userAttribute:s=new y0(v,this),this.users.push(s);break;case re.packet.publicSubkey:case re.packet.secretSubkey:s=null,h=new $a(v,this),this.subkeys.push(h);break;case re.packet.signature:switch(v.signatureType){case re.signature.certGeneric:case re.signature.certPersona:case re.signature.certCasual:case re.signature.certPositive:if(!s){ee.printDebug("Dropping certification signatures without preceding user packet");continue}v.issuerKeyID.equals(u)?s.selfCertifications.push(v):s.otherCertifications.push(v);break;case re.signature.certRevocation:s?s.revocationSignatures.push(v):this.directSignatures.push(v);break;case re.signature.key:this.directSignatures.push(v);break;case re.signature.subkeyBinding:if(!h){ee.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}h.bindingSignatures.push(v);break;case re.signature.keyRevocation:this.revocationSignatures.push(v);break;case re.signature.subkeyRevocation:if(!h){ee.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}h.revocationSignatures.push(v)}}}}toPacketList(){const n=new cn;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.directSignatures),this.users.map(t=>n.push(...t.toPacketList())),this.subkeys.map(t=>n.push(...t.toPacketList())),n}clone(n=!1){const t=new this.constructor(this.toPacketList());return n&&t.getKeys().forEach(s=>{if(s.keyPacket=Object.create(Object.getPrototypeOf(s.keyPacket),Object.getOwnPropertyDescriptors(s.keyPacket)),!s.keyPacket.isDecrypted())return;const u={};Object.keys(s.keyPacket.privateParams).forEach(h=>{u[h]=new Uint8Array(s.keyPacket.privateParams[h])}),s.keyPacket.privateParams=u}),t}getSubkeys(n=null){return this.subkeys.filter(t=>!n||t.getKeyID().equals(n,!0))}getKeys(n=null){const t=[];return n&&!this.getKeyID().equals(n,!0)||t.push(this),t.concat(this.getSubkeys(n))}getKeyIDs(){return this.getKeys().map(n=>n.getKeyID())}getUserIDs(){return this.users.map(n=>n.userID?n.userID.userID:null).filter(n=>null!==n)}write(){return this.toPacketList().write()}getSigningKey(n=null,t=new Date,s={},u=Lt){var h=this;return(0,f.Z)(function*(){yield h.verifyPrimaryKey(t,s,u);const y=h.keyPacket,v=h.subkeys.slice().sort((C,k)=>k.keyPacket.created-C.keyPacket.created);let D;for(const C of v)if(!n||C.getKeyID().equals(n))try{yield C.verify(t,u);const k={key:y,bind:C.keyPacket},q=yield Vi(C.bindingSignatures,y,re.signature.subkeyBinding,k,t,u);if(!gc(C.keyPacket,q))continue;if(!q.embeddedSignature)throw Error("Missing embedded signature");return yield Vi([q.embeddedSignature],C.keyPacket,re.signature.keyBinding,k,t,u),Ja(C.keyPacket,u),C}catch(k){D=k}try{const C=yield h.getPrimaryUser(t,s,u);if((!n||y.getKeyID().equals(n))&&gc(y,C.selfCertification))return Ja(y,u),h}catch(C){D=C}throw ee.wrapError("Could not find valid signing key packet in key "+h.getKeyID().toHex(),D)})()}getEncryptionKey(n,t=new Date,s={},u=Lt){var h=this;return(0,f.Z)(function*(){yield h.verifyPrimaryKey(t,s,u);const y=h.keyPacket,v=h.subkeys.slice().sort((C,k)=>k.keyPacket.created-C.keyPacket.created);let D;for(const C of v)if(!n||C.getKeyID().equals(n))try{yield C.verify(t,u);const k={key:y,bind:C.keyPacket},q=yield Vi(C.bindingSignatures,y,re.signature.subkeyBinding,k,t,u);if(pc(C.keyPacket,q))return Ja(C.keyPacket,u),C}catch(k){D=k}try{const C=yield h.getPrimaryUser(t,s,u);if((!n||y.getKeyID().equals(n))&&pc(y,C.selfCertification))return Ja(y,u),h}catch(C){D=C}throw ee.wrapError("Could not find valid encryption key packet in key "+h.getKeyID().toHex(),D)})()}isRevoked(n,t,s=new Date,u=Lt){var h=this;return(0,f.Z)(function*(){return qa(h.keyPacket,re.signature.keyRevocation,{key:h.keyPacket},h.revocationSignatures,n,t,s,u)})()}verifyPrimaryKey(n=new Date,t={},s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket;if(yield u.isRevoked(null,null,n,s))throw Error("Primary key is revoked");const{selfCertification:y}=yield u.getPrimaryUser(n,t,s);if(mo(h,y,n))throw Error("Primary key is expired");const v=yield Vi(u.directSignatures,h,re.signature.key,{key:h},n,s).catch(()=>{});if(v&&mo(h,v,n))throw Error("Primary key is expired")})()}getExpirationTime(n,t=Lt){var s=this;return(0,f.Z)(function*(){let u;try{const{selfCertification:h}=yield s.getPrimaryUser(null,n,t),y=p0(s.keyPacket,h),v=h.getExpirationTime(),D=yield Vi(s.directSignatures,s.keyPacket,re.signature.key,{key:s.keyPacket},null,t).catch(()=>{});if(D){const C=p0(s.keyPacket,D);u=Math.min(y,v,C)}else u=y<v?y:v}catch{u=null}return ee.normalizeDate(u)})()}getPrimaryUser(n=new Date,t={},s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket,y=[];let v;for(let q=0;q<u.users.length;q++)try{const le=u.users[q];if(!le.userID)continue;if(void 0!==t.name&&le.userID.name!==t.name||void 0!==t.email&&le.userID.email!==t.email||void 0!==t.comment&&le.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const ae={userID:le.userID,key:h},Ae=yield Vi(le.selfCertifications,h,re.signature.certGeneric,ae,n,s);y.push({index:q,user:le,selfCertification:Ae})}catch(le){v=le}if(!y.length)throw v||Error("Could not find primary user");yield Promise.all(y.map(function(){var q=(0,f.Z)(function*(le){return le.user.revoked||le.user.isRevoked(le.selfCertification,null,n,s)});return function(le){return q.apply(this,arguments)}}()));const D=y.sort(function(q,le){const ae=q.selfCertification,Ae=le.selfCertification;return Ae.revoked-ae.revoked||ae.isPrimaryUserID-Ae.isPrimaryUserID||ae.created-Ae.created}).pop(),{user:C,selfCertification:k}=D;if(k.revoked||(yield C.isRevoked(k,null,n,s)))throw Error("Primary user is revoked");return D})()}update(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){if(!u.hasSameFingerprintAs(n))throw Error("Primary key fingerprints must be equal to update the key");if(!u.isPrivate()&&n.isPrivate()){if(u.subkeys.length!==n.subkeys.length||!u.subkeys.every(y=>n.subkeys.some(v=>y.hasSameFingerprintAs(v))))throw Error("Cannot update public key with private key if subkeys mismatch");return n.update(u,s)}const h=u.clone();return yield Ra(n,h,"revocationSignatures",t,y=>qa(h.keyPacket,re.signature.keyRevocation,h,[y],null,n.keyPacket,t,s)),yield Ra(n,h,"directSignatures",t),yield Promise.all(n.users.map(function(){var y=(0,f.Z)(function*(v){const D=h.users.filter(C=>v.userID&&v.userID.equals(C.userID)||v.userAttribute&&v.userAttribute.equals(C.userAttribute));if(D.length>0)yield Promise.all(D.map(C=>C.update(v,t,s)));else{const C=v.clone();C.mainKey=h,h.users.push(C)}});return function(v){return y.apply(this,arguments)}}())),yield Promise.all(n.subkeys.map(function(){var y=(0,f.Z)(function*(v){const D=h.subkeys.filter(C=>C.hasSameFingerprintAs(v));if(D.length>0)yield Promise.all(D.map(C=>C.update(v,t,s)));else{const C=v.clone();C.mainKey=h,h.subkeys.push(C)}});return function(v){return y.apply(this,arguments)}}())),h})()}getRevocationCertificate(n=new Date,t=Lt){var s=this;return(0,f.Z)(function*(){const u={key:s.keyPacket},h=yield Vi(s.revocationSignatures,s.keyPacket,re.signature.keyRevocation,u,n,t),y=new cn;return y.push(h),In(re.armor.publicKey,y.write(),null,null,"This is a revocation certificate")})()}applyRevocationCertificate(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){const h=yield on(n,s),y=(yield cn.fromBinary(h.data,_l,s)).findPacket(re.packet.signature);if(!y||y.signatureType!==re.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!y.issuerKeyID.equals(u.getKeyID()))throw Error("Revocation signature does not match key");try{yield y.verify(u.keyPacket,re.signature.keyRevocation,{key:u.keyPacket},t,void 0,s)}catch(D){throw ee.wrapError("Could not verify revocation signature",D)}const v=u.clone();return v.revocationSignatures.push(y),v})()}signPrimaryUser(n,t,s,u=Lt){var h=this;return(0,f.Z)(function*(){const{index:y,user:v}=yield h.getPrimaryUser(t,s,u),D=yield v.certify(n,t,u),C=h.clone();return C.users[y]=D,C})()}signAllUsers(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.clone();return h.users=yield Promise.all(u.users.map(function(y){return y.certify(n,t,s)})),h})()}verifyPrimaryUser(n,t=new Date,s,u=Lt){var h=this;return(0,f.Z)(function*(){const y=h.keyPacket,{user:v}=yield h.getPrimaryUser(t,s,u);return n?yield v.verifyAllCertifications(n,t,u):[{keyID:y.getKeyID(),valid:yield v.verify(t,u).catch(()=>!1)}]})()}verifyAllUsers(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket,y=[];return yield Promise.all(u.users.map(function(){var v=(0,f.Z)(function*(D){const C=n?yield D.verifyAllCertifications(n,t,s):[{keyID:h.getKeyID(),valid:yield D.verify(t,s).catch(()=>!1)}];y.push(...C.map(k=>({userID:D.userID.userID,keyID:k.keyID,valid:k.valid})))});return function(D){return v.apply(this,arguments)}}())),y})()}}function wc(i){for(const n of i)switch(n.constructor.tag){case re.packet.secretKey:return new es(i);case re.packet.publicKey:return new To(i)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(i=>{vc.prototype[i]=$a.prototype[i]});class To extends vc{constructor(n){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],n&&(this.packetListToStructure(n,new Set([re.packet.secretKey,re.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(n=Lt){return In(re.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,n)}}class es extends To{constructor(n){if(super(),this.packetListToStructure(n,new Set([re.packet.publicKey,re.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const n=new cn,t=this.toPacketList();for(const s of t)switch(s.constructor.tag){case re.packet.secretKey:{const u=Ki.fromSecretKeyPacket(s);n.push(u);break}case re.packet.secretSubkey:{const u=Ls.fromSecretSubkeyPacket(s);n.push(u);break}default:n.push(s)}return new To(n)}armor(n=Lt){return In(re.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,n)}getDecryptionKeys(n,t=new Date,s={},u=Lt){var h=this;return(0,f.Z)(function*(){const y=h.keyPacket,v=[];for(let C=0;C<h.subkeys.length;C++)if(!n||h.subkeys[C].getKeyID().equals(n,!0))try{const k={key:y,bind:h.subkeys[C].keyPacket};yc(yield Vi(h.subkeys[C].bindingSignatures,y,re.signature.subkeyBinding,k,t,u),u)&&v.push(h.subkeys[C])}catch{}const D=yield h.getPrimaryUser(t,s,u);return n&&!y.getKeyID().equals(n,!0)||!yc(D.selfCertification,u)||v.push(h),v})()}isDecrypted(){return this.getKeys().some(({keyPacket:n})=>n.isDecrypted())}validate(n=Lt){var t=this;return(0,f.Z)(function*(){if(!t.isPrivate())throw Error("Cannot validate a public key");let s;if(t.keyPacket.isDummy()){const u=yield t.getSigningKey(null,null,void 0,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0});u&&!u.keyPacket.isDummy()&&(s=u.keyPacket)}else s=t.keyPacket;if(s)return s.validate();{const u=t.getKeys();if(u.map(h=>h.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(u.map(function(){var h=(0,f.Z)(function*(y){return y.keyPacket.validate()});return function(y){return h.apply(this,arguments)}}()))}})()}clearPrivateParams(){this.getKeys().forEach(({keyPacket:n})=>{n.isDecrypted()&&n.clearPrivateParams()})}revoke({flag:n=re.reasonForRevocation.noReason,string:t=""}={},s=new Date,u=Lt){var h=this;return(0,f.Z)(function*(){if(!h.isPrivate())throw Error("Need private key for revoking");const y={key:h.keyPacket},v=h.clone();return v.revocationSignatures.push(yield Qa(y,null,h.keyPacket,{signatureType:re.signature.keyRevocation,reasonForRevocationFlag:re.write(re.reasonForRevocation,n),reasonForRevocationString:t},s,void 0,void 0,u)),v})()}addSubkey(n={}){var t=this;return(0,f.Z)(function*(){const s={...Lt,...n.config};if(n.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(n.rsaBits<s.minRSABits)throw Error(`rsaBits should be at least ${s.minRSABits}, got: ${n.rsaBits}`);const u=t.keyPacket;if(u.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!u.isDecrypted())throw Error("Key is not decrypted");const h=u.getAlgorithmInfo();h.type=h.curve?"ecc":"rsa",h.rsaBits=h.bits||4096,h.curve=h.curve||"curve25519",n=Io(n,h);const y=yield hc(n);Ja(y,s);const v=yield dc(y,u,n,s),D=t.toPacketList();return D.push(y,v),new es(D)})()}}const x0=ee.constructAllowedPackets([Ki,Ls,h0,ho,d0,uo,$n]);function Ec(i,n,t,s){return _o.apply(this,arguments)}function _o(){return _o=(0,f.Z)(function*(i,n,t,s){t.passphrase&&(yield i.encrypt(t.passphrase,s)),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(v,D){const C=t.subkeys[D].passphrase;C&&(yield v.encrypt(C,s))});return function(v,D){return y.apply(this,arguments)}}()));const u=new cn;u.push(i),yield Promise.all(t.userIDs.map(function(){var y=(0,f.Z)(function*(v,D){function C(ae,Ae){return[Ae,...ae.filter(Ne=>Ne!==Ae)]}const k=d0.fromObject(v),q={};q.userID=k,q.key=i;const le=new $n;return le.signatureType=re.signature.certGeneric,le.publicKeyAlgorithm=i.algorithm,le.hashAlgorithm=yield g0(null,i,void 0,void 0,s),le.keyFlags=[re.keyFlags.certifyKeys|re.keyFlags.signData],le.preferredSymmetricAlgorithms=C([re.symmetric.aes256,re.symmetric.aes128,re.symmetric.aes192],s.preferredSymmetricAlgorithm),s.aeadProtect&&(le.preferredAEADAlgorithms=C([re.aead.eax,re.aead.ocb],s.preferredAEADAlgorithm)),le.preferredHashAlgorithms=C([re.hash.sha256,re.hash.sha512],s.preferredHashAlgorithm),le.preferredCompressionAlgorithms=C([re.compression.zlib,re.compression.zip,re.compression.uncompressed],s.preferredCompressionAlgorithm),0===D&&(le.isPrimaryUserID=!0),le.features=[0],le.features[0]|=re.features.modificationDetection,s.aeadProtect&&(le.features[0]|=re.features.aead),s.v5Keys&&(le.features[0]|=re.features.v5Keys),t.keyExpirationTime>0&&(le.keyExpirationTime=t.keyExpirationTime,le.keyNeverExpires=!1),yield le.sign(i,q,t.date),{userIDPacket:k,signaturePacket:le}});return function(v,D){return y.apply(this,arguments)}}())).then(y=>{y.forEach(({userIDPacket:v,signaturePacket:D})=>{u.push(v),u.push(D)})}),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(v,D){const C=t.subkeys[D];return{secretSubkeyPacket:v,subkeySignaturePacket:yield dc(v,i,C,s)}});return function(v,D){return y.apply(this,arguments)}}())).then(y=>{y.forEach(({secretSubkeyPacket:v,subkeySignaturePacket:D})=>{u.push(v),u.push(D)})});const h={key:i};return u.push(yield Qa(h,null,i,{signatureType:re.signature.keyRevocation,reasonForRevocationFlag:re.reasonForRevocation.noReason,reasonForRevocationString:""},t.date,void 0,void 0,s)),t.passphrase&&i.clearPrivateParams(),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(v,D){t.subkeys[D].passphrase&&v.clearPrivateParams()});return function(v,D){return y.apply(this,arguments)}}())),new es(u)}),_o.apply(this,arguments)}function Bl(i){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,f.Z)(function*({armoredKey:i,binaryKey:n,config:t,...s}){if(t={...Lt,...t},!i&&!n)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!ee.isString(i))throw Error("readKey: options.armoredKey must be a string");if(n&&!ee.isUint8Array(n))throw Error("readKey: options.binaryKey must be a Uint8Array");const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));let h;if(i){const{type:y,data:v}=yield on(i,t);if(y!==re.armor.publicKey&&y!==re.armor.privateKey)throw Error("Armored text not of type key");h=v}else h=n;return wc(yield cn.fromBinary(h,x0,t))}),Bo.apply(this,arguments)}function kl(i){return ko.apply(this,arguments)}function ko(){return ko=(0,f.Z)(function*({armoredKey:i,binaryKey:n,config:t,...s}){if(t={...Lt,...t},!i&&!n)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!ee.isString(i))throw Error("readPrivateKey: options.armoredKey must be a string");if(n&&!ee.isUint8Array(n))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));let h;if(i){const{type:v,data:D}=yield on(i,t);if(v!==re.armor.privateKey)throw Error("Armored text not of type private key");h=D}else h=n;const y=yield cn.fromBinary(h,x0,t);return new es(y)}),ko.apply(this,arguments)}const Nl=ee.constructAllowedPackets([va,Ms,f0,uc,class bl{static get tag(){return re.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(n){this.encrypted=n}write(){return this.encrypted}decrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){if(!s.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:h}=mr.getCipher(n),y=yield et(dr(u.encrypted)),v=yield mr.mode.cfb.decrypt(n,t,y.subarray(h+2),y.subarray(2,h+2));u.packets=yield cn.fromBinary(v,Cl,s)})()}encrypt(n,t,s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.packets.write(),{blockSize:y}=mr.getCipher(n),v=yield mr.getPrefixRandom(n),D=yield mr.mode.cfb.encrypt(n,t,v,new Uint8Array(y),s),C=yield mr.mode.cfb.encrypt(n,t,h,D.subarray(2),s);u.encrypted=ee.concat([D,C])})()}},lo,Xa,Fi,$n]),Dl=ee.constructAllowedPackets([Xa]),Rl=ee.constructAllowedPackets([$n]);class xi{constructor(n){this.packets=n||new cn}getEncryptionKeyIDs(){const n=[];return this.packets.filterByTag(re.packet.publicKeyEncryptedSessionKey).forEach(function(t){n.push(t.publicKeyID)}),n}getSigningKeyIDs(){const n=this.unwrapCompressed(),t=n.packets.filterByTag(re.packet.onePassSignature);return t.length>0?t.map(s=>s.issuerKeyID):n.packets.filterByTag(re.packet.signature).map(s=>s.issuerKeyID)}decrypt(n,t,s,u=new Date,h=Lt){var y=this;return(0,f.Z)(function*(){const v=s||(yield y.decryptSessionKeys(n,t,u,h)),D=y.packets.filterByTag(re.packet.symmetricallyEncryptedData,re.packet.symEncryptedIntegrityProtectedData,re.packet.aeadEncryptedData);if(0===D.length)throw Error("No encrypted data found");const C=D[0];let k=null;const q=Promise.all(v.map(function(){var ae=(0,f.Z)(function*({algorithm:Ae,data:Ne}){if(!ee.isUint8Array(Ne)||!ee.isString(Ae))throw Error("Invalid session key for decryption.");try{const Fe=re.write(re.symmetric,Ae);yield C.decrypt(Fe,Ne,h)}catch(Fe){ee.printDebugError(Fe),k=Fe}});return function(Ae){return ae.apply(this,arguments)}}()));if(X(C.encrypted),C.encrypted=null,yield q,!C.packets||!C.packets.length)throw k||Error("Decryption failed.");const le=new xi(C.packets);return C.packets=new cn,le})()}decryptSessionKeys(n,t,s=new Date,u=Lt){var h=this;return(0,f.Z)(function*(){let y,v=[];if(t){const D=h.packets.filterByTag(re.packet.symEncryptedSessionKey);if(0===D.length)throw Error("No symmetrically encrypted session key packet found.");yield Promise.all(t.map(function(){var C=(0,f.Z)(function*(k,q){let le;le=q?yield cn.fromBinary(D.write(),Dl,u):D,yield Promise.all(le.map(function(){var ae=(0,f.Z)(function*(Ae){try{yield Ae.decrypt(k),v.push(Ae)}catch(Ne){ee.printDebugError(Ne)}});return function(Ae){return ae.apply(this,arguments)}}()))});return function(k,q){return C.apply(this,arguments)}}()))}else{if(!n)throw Error("No key or password specified.");{const D=h.packets.filterByTag(re.packet.publicKeyEncryptedSessionKey);if(0===D.length)throw Error("No public key encrypted session key packet found.");yield Promise.all(D.map(function(){var C=(0,f.Z)(function*(k){yield Promise.all(n.map(function(){var q=(0,f.Z)(function*(le){let ae=[re.symmetric.aes256,re.symmetric.aes128,re.symmetric.tripledes,re.symmetric.cast5];try{const Ne=yield le.getPrimaryUser(s,void 0,u);Ne.selfCertification.preferredSymmetricAlgorithms&&(ae=ae.concat(Ne.selfCertification.preferredSymmetricAlgorithms))}catch{}const Ae=(yield le.getDecryptionKeys(k.publicKeyID,null,void 0,u)).map(Ne=>Ne.keyPacket);yield Promise.all(Ae.map(function(){var Ne=(0,f.Z)(function*(Fe){if(Fe&&!Fe.isDummy()){if(!Fe.isDecrypted())throw Error("Decryption key is not decrypted.");if(!u.constantTimePKCS1Decryption||k.publicKeyAlgorithm!==re.publicKey.rsaEncrypt&&k.publicKeyAlgorithm!==re.publicKey.rsaEncryptSign&&k.publicKeyAlgorithm!==re.publicKey.rsaSign&&k.publicKeyAlgorithm!==re.publicKey.elgamal)try{if(yield k.decrypt(Fe),!ae.includes(re.write(re.symmetric,k.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");v.push(k)}catch(ot){ee.printDebugError(ot),y=ot}else{const ot=k.write();yield Promise.all(Array.from(u.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map(function(){var yt=(0,f.Z)(function*($e){const Ie=new lo;Ie.read(ot);const vt={sessionKeyAlgorithm:$e,sessionKey:yield mr.generateSessionKey($e)};try{yield Ie.decrypt(Fe,vt),v.push(Ie)}catch(ut){ee.printDebugError(ut),y=ut}});return function($e){return yt.apply(this,arguments)}}()))}}});return function(Fe){return Ne.apply(this,arguments)}}()))});return function(le){return q.apply(this,arguments)}}())),X(k.encrypted),k.encrypted=null});return function(k){return C.apply(this,arguments)}}()))}}if(v.length>0){if(v.length>1){const D=new Set;v=v.filter(C=>{const k=C.sessionKeyAlgorithm+ee.uint8ArrayToString(C.sessionKey);return!D.has(k)&&(D.add(k),!0)})}return v.map(D=>({data:D.sessionKey,algorithm:re.read(re.symmetric,D.sessionKeyAlgorithm)}))}throw y||Error("Session key decryption failed.")})()}getLiteralData(){const n=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return n&&n.getBytes()||null}getFilename(){const n=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return n&&n.getFilename()||null}getText(){const n=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return n?n.getText():null}static generateSessionKey(n=[],t=new Date,s=[],u=Lt){return(0,f.Z)(function*(){const h=yield Eo("symmetric",n,t,s,u),y=re.read(re.symmetric,h),v=u.aeadProtect&&(yield(D=(0,f.Z)(function*(C,k=new Date,q=[],le=Lt){let ae=!0;return yield Promise.all(C.map(function(){var Ae=(0,f.Z)(function*(Ne,Fe){const ot=yield Ne.getPrimaryUser(k,q[Fe],le);ot.selfCertification.features&&ot.selfCertification.features[0]&re.features.aead||(ae=!1)});return function(Ne,Fe){return Ae.apply(this,arguments)}}())),ae}),function(C){return D.apply(this,arguments)})(n,t,s,u))?re.read(re.aead,yield Eo("aead",n,t,s,u)):void 0;var D;return{data:yield mr.generateSessionKey(h),algorithm:y,aeadAlgorithm:v}})()}encrypt(n,t,s,u=!1,h=[],y=new Date,v=[],D=Lt){var C=this;return(0,f.Z)(function*(){if(s){if(!ee.isUint8Array(s.data)||!ee.isString(s.algorithm))throw Error("Invalid session key for encryption.")}else if(n&&n.length)s=yield xi.generateSessionKey(n,y,v,D);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");s=yield xi.generateSessionKey(void 0,void 0,void 0,D)}const{data:k,algorithm:q,aeadAlgorithm:le}=s,ae=yield xi.encryptSessionKey(k,q,le,n,t,u,h,y,v,D);let Ae;le?(Ae=new f0,Ae.aeadAlgorithm=re.write(re.aead,le)):Ae=new uc,Ae.packets=C.packets;const Ne=re.write(re.symmetric,q);return yield Ae.encrypt(Ne,k,D),ae.packets.push(Ae),Ae.packets=new cn,ae})()}static encryptSessionKey(n,t,s,u,h,y=!1,v=[],D=new Date,C=[],k=Lt){return(0,f.Z)(function*(){const q=new cn,le=re.write(re.symmetric,t),ae=s&&re.write(re.aead,s);if(u){const Ae=yield Promise.all(u.map(function(){var Ne=(0,f.Z)(function*(Fe,ot){const yt=yield Fe.getEncryptionKey(v[ot],D,C,k),$e=new lo;return $e.publicKeyID=y?fn.wildcard():yt.getKeyID(),$e.publicKeyAlgorithm=yt.keyPacket.algorithm,$e.sessionKey=n,$e.sessionKeyAlgorithm=le,yield $e.encrypt(yt.keyPacket),delete $e.sessionKey,$e});return function(Fe,ot){return Ne.apply(this,arguments)}}()));q.push(...Ae)}if(h){const Ae=function(){var yt=(0,f.Z)(function*($e,Ie){try{return yield $e.decrypt(Ie),1}catch{return 0}});return function(Ie,vt){return yt.apply(this,arguments)}}(),Ne=(yt,$e)=>yt+$e,Fe=function(){var yt=(0,f.Z)(function*($e,Ie,vt,ut){const xt=new Xa(k);return xt.sessionKey=$e,xt.sessionKeyAlgorithm=Ie,vt&&(xt.aeadAlgorithm=vt),yield xt.encrypt(ut,k),k.passwordCollisionCheck&&1!==(yield Promise.all(h.map(St=>Ae(xt,St)))).reduce(Ne)?Fe($e,Ie,ut):(delete xt.sessionKey,xt)});return function(Ie,vt,ut,xt){return yt.apply(this,arguments)}}(),ot=yield Promise.all(h.map(yt=>Fe(n,le,ae,yt)));q.push(...ot)}return new xi(q)})()}sign(n=[],t=null,s=[],u=new Date,h=[],y=Lt){var v=this;return(0,f.Z)(function*(){const D=new cn,C=v.packets.findPacket(re.packet.literalData);if(!C)throw Error("No literal data packet to sign.");let k,q;const le=null===C.text?re.signature.binary:re.signature.text;if(t)for(q=t.packets.filterByTag(re.packet.signature),k=q.length-1;k>=0;k--){const ae=q[k],Ae=new Fi;Ae.signatureType=ae.signatureType,Ae.hashAlgorithm=ae.hashAlgorithm,Ae.publicKeyAlgorithm=ae.publicKeyAlgorithm,Ae.issuerKeyID=ae.issuerKeyID,n.length||0!==k||(Ae.flags=1),D.push(Ae)}return yield Promise.all(Array.from(n).reverse().map(function(){var ae=(0,f.Z)(function*(Ae,Ne){if(!Ae.isPrivate())throw Error("Need private key for signing");const Fe=s[n.length-1-Ne],ot=yield Ae.getSigningKey(Fe,u,h,y),yt=new Fi;return yt.signatureType=le,yt.hashAlgorithm=yield g0(Ae,ot.keyPacket,u,h,y),yt.publicKeyAlgorithm=ot.keyPacket.algorithm,yt.issuerKeyID=ot.getKeyID(),Ne===n.length-1&&(yt.flags=1),yt});return function(Ae,Ne){return ae.apply(this,arguments)}}())).then(ae=>{ae.forEach(Ae=>D.push(Ae))}),D.push(C),D.push(...yield Ro(C,n,t,s,u,h,!1,y)),new xi(D)})()}compress(n,t=Lt){if(n===re.compression.uncompressed)return this;const s=new Ms(t);s.algorithm=n,s.packets=this.packets;const u=new cn;return u.push(s),new xi(u)}signDetached(n=[],t=null,s=[],u=new Date,h=[],y=Lt){var v=this;return(0,f.Z)(function*(){const D=v.packets.findPacket(re.packet.literalData);if(!D)throw Error("No literal data packet to sign.");return new Da(yield Ro(D,n,t,s,u,h,!0,y))})()}verify(n,t=new Date,s=Lt){var u=this;return(0,f.Z)(function*(){const h=u.unwrapCompressed(),y=h.packets.filterByTag(re.packet.literalData);if(1!==y.length)throw Error("Can only verify message with one literal data packet.");A(h.packets.stream)&&h.packets.push(...yield et(h.packets.stream,C=>C||[]));const v=h.packets.filterByTag(re.packet.onePassSignature).reverse(),D=h.packets.filterByTag(re.packet.signature);return v.length&&!D.length&&ee.isStream(h.packets.stream)&&!A(h.packets.stream)?(yield Promise.all(v.map(function(){var C=(0,f.Z)(function*(k){k.correspondingSig=new Promise((q,le)=>{k.correspondingSigResolve=q,k.correspondingSigReject=le}),k.signatureData=ue((0,f.Z)(function*(){return(yield k.correspondingSig).signatureData})),k.hashed=et(yield k.hash(k.signatureType,y[0],void 0,!1)),k.hashed.catch(()=>{})});return function(k){return C.apply(this,arguments)}}())),h.packets.stream=Yt(h.packets.stream,function(){var C=(0,f.Z)(function*(k,q){const le=Ke(k),ae=it(q);try{for(let Ae=0;Ae<v.length;Ae++){const{value:Ne}=yield le.read();v[Ae].correspondingSigResolve(Ne)}yield le.readToEnd(),yield ae.ready,yield ae.close()}catch(Ae){v.forEach(Ne=>{Ne.correspondingSigReject(Ae)}),yield ae.abort(Ae)}});return function(k,q){return C.apply(this,arguments)}}()),m0(v,y,n,t,!1,s)):m0(D,y,n,t,!1,s)})()}verifyDetached(n,t,s=new Date,u=Lt){const h=this.unwrapCompressed().packets.filterByTag(re.packet.literalData);if(1!==h.length)throw Error("Can only verify message with one literal data packet.");return m0(n.packets,h,t,s,!0,u)}unwrapCompressed(){const n=this.packets.filterByTag(re.packet.compressedData);return n.length?new xi(n[0].packets):this}appendSignature(n,t=Lt){var s=this;return(0,f.Z)(function*(){yield s.packets.read(ee.isUint8Array(n)?n:(yield on(n)).data,Rl,t)})()}write(){return this.packets.write()}armor(n=Lt){return In(re.armor.message,this.write(),null,null,null,n)}}function Ro(i,n){return Po.apply(this,arguments)}function Po(){return Po=(0,f.Z)(function*(i,n,t=null,s=[],u=new Date,h=[],y=!1,v=Lt){const D=new cn,C=null===i.text?re.signature.binary:re.signature.text;if(yield Promise.all(n.map(function(){var k=(0,f.Z)(function*(q,le){const ae=h[le];if(!q.isPrivate())throw Error("Need private key for signing");const Ae=yield q.getSigningKey(s[le],u,ae,v);return Qa(i,q,Ae.keyPacket,{signatureType:C},u,ae,y,v)});return function(q,le){return k.apply(this,arguments)}}())).then(k=>{D.push(...k)}),t){const k=t.packets.filterByTag(re.packet.signature);D.push(...k)}return D}),Po.apply(this,arguments)}function m0(i,n,t){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,f.Z)(function*(i,n,t,s=new Date,u=!1,h=Lt){return Promise.all(i.filter(function(y){return["text","binary"].includes(re.read(re.signature,y.signatureType))}).map(function(){var y=(0,f.Z)(function*(v){return(D=(0,f.Z)(function*(C,k,q,le=new Date,ae=!1,Ae=Lt){let Ne,Fe;for(const $e of q){const Ie=$e.getKeys(C.issuerKeyID);if(Ie.length>0){Ne=$e,Fe=Ie[0];break}}const ot=C instanceof Fi?C.correspondingSig:C,yt={keyID:C.issuerKeyID,verified:(0,f.Z)(function*(){if(!Fe)throw Error("Could not find signing key with key ID "+C.issuerKeyID.toHex());yield C.verify(Fe.keyPacket,C.signatureType,k[0],le,ae,Ae);const $e=yield ot;if(Fe.getCreationTime()>$e.created)throw Error("Key is newer than the signature");try{yield Ne.getSigningKey(Fe.getKeyID(),$e.created,void 0,Ae)}catch(Ie){if(!Ae.allowInsecureVerificationWithReformattedKeys||!Ie.message.match(/Signature creation time is in the future/))throw Ie;yield Ne.getSigningKey(Fe.getKeyID(),le,void 0,Ae)}return!0})(),signature:(0,f.Z)(function*(){const $e=yield ot,Ie=new cn;return $e&&Ie.push($e),new Da(Ie)})()};return yt.signature.catch(()=>{}),yt.verified.catch(()=>{}),yt}),function(C,k,q){return D.apply(this,arguments)})(v,n,t,s,u,h);var D});return function(v){return y.apply(this,arguments)}}()))}),Mo.apply(this,arguments)}function Pl(i){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,f.Z)(function*({armoredMessage:i,binaryMessage:n,config:t,...s}){t={...Lt,...t};let u=i||n;if(!u)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(i&&!ee.isString(i)&&!ee.isStream(i))throw Error("readMessage: options.armoredMessage must be a string or stream");if(n&&!ee.isUint8Array(n)&&!ee.isStream(n))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const h=Object.keys(s);if(h.length>0)throw Error("Unknown option: "+h.join(", "));const y=ee.isStream(u);if(y&&(yield g(),u=ne(u)),i){const{type:C,data:k}=yield on(u,t);if(C!==re.armor.message)throw Error("Armored text not of type message");u=k}const v=yield cn.fromBinary(u,Nl,t),D=new xi(v);return D.fromStream=y,D}),Oo.apply(this,arguments)}function Ml(i){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,f.Z)(function*({text:i,binary:n,filename:t,date:s=new Date,format:u=(void 0!==i?"utf8":"binary"),...h}){let y=void 0!==i?i:n;if(void 0===y)throw Error("createMessage: must pass options object containing `text` or `binary`");if(i&&!ee.isString(i)&&!ee.isStream(i))throw Error("createMessage: options.text must be a string or stream");if(n&&!ee.isUint8Array(n)&&!ee.isStream(n))throw Error("createMessage: options.binary must be a Uint8Array or stream");const v=Object.keys(h);if(v.length>0)throw Error("Unknown option: "+v.join(", "));const D=ee.isStream(y);D&&(yield g(),y=ne(y));const C=new va(s);void 0!==i?C.setText(y,re.write(re.literal,u)):C.setBytes(y,re.write(re.literal,u)),void 0!==t&&C.setFilename(t);const k=new cn;k.push(C);const q=new xi(k);return q.fromStream=D,q}),Lo.apply(this,arguments)}function Ll(i){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,f.Z)(function*({userIDs:i=[],passphrase:n,type:t="ecc",rsaBits:s=4096,curve:u="curve25519",keyExpirationTime:h=0,date:y=new Date,subkeys:v=[{}],format:D="armored",config:C,...k}){Bi(C={...Lt,...C}),i=Un(i);const q=Object.keys(k);if(q.length>0)throw Error("Unknown option: "+q.join(", "));if(0===i.length)throw Error("UserIDs are required for key generation");if("rsa"===t&&s<C.minRSABits)throw Error(`rsaBits should be at least ${C.minRSABits}, got: ${s}`);const le={userIDs:i,passphrase:n,type:t,rsaBits:s,curve:u,keyExpirationTime:h,date:y,subkeys:v};try{const{key:ae,revocationCertificate:Ae}=yield(Ne=(0,f.Z)(function*(Fe,ot){Fe.sign=!0,(Fe=Io(Fe)).subkeys=Fe.subkeys.map((ut,xt)=>Io(Fe.subkeys[xt],Fe));let yt=[Tl(Fe,ot)];yt=yt.concat(Fe.subkeys.map(ut=>hc(ut,ot)));const $e=yield Promise.all(yt),Ie=yield Ec($e[0],$e.slice(1),Fe,ot),vt=yield Ie.getRevocationCertificate(Fe.date,ot);return Ie.revocationSignatures=[],{key:Ie,revocationCertificate:vt}}),function(Fe,ot){return Ne.apply(this,arguments)})(le,C);return ae.getKeys().forEach(({keyPacket:Ne})=>Ja(Ne,C)),{privateKey:wa(ae,D,C),publicKey:wa(ae.toPublic(),D,C),revocationCertificate:Ae}}catch(ae){throw ee.wrapError("Error generating keypair",ae)}var Ne}),Ko.apply(this,arguments)}function Ul(i){return zo.apply(this,arguments)}function zo(){return zo=(0,f.Z)(function*({privateKey:i,passphrase:n,config:t,...s}){Bi(t={...Lt,...t});const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));if(!i.isPrivate())throw Error("Cannot decrypt a public key");const h=i.clone(!0),y=ee.isArray(n)?n:[n];try{return yield Promise.all(h.getKeys().map(v=>ee.anyPromise(y.map(D=>v.keyPacket.decrypt(D))))),yield h.validate(t),h}catch(v){throw h.clearPrivateParams(),ee.wrapError("Error decrypting private key",v)}}),zo.apply(this,arguments)}function Fl(i){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,f.Z)(function*({message:i,encryptionKeys:n,signingKeys:t,passwords:s,sessionKey:u,format:h="armored",signature:y=null,wildcard:v=!1,signingKeyIDs:D=[],encryptionKeyIDs:C=[],date:k=new Date,signingUserIDs:q=[],encryptionUserIDs:le=[],config:ae,...Ae}){if(Bi(ae={...Lt,...ae}),Jo(i),$o(h),n=Un(n),t=Un(t),s=Un(s),D=Un(D),C=Un(C),q=Un(q),le=Un(le),Ae.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(Ae.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(Ae.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==Ae.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const Ne=Object.keys(Ae);if(Ne.length>0)throw Error("Unknown option: "+Ne.join(", "));t||(t=[]);const Fe=i.fromStream;try{if((t.length||y)&&(i=yield i.sign(t,y,D,k,q,ae)),i=i.compress(yield Eo("compression",n,k,le,ae),ae),i=yield i.encrypt(n,s,u,v,C,k,le,ae),"object"===h)return i;const ot="armored"===h;return v0(ot?i.armor(ae):i.write(),Fe,ot?"utf8":"binary")}catch(ot){throw ee.wrapError("Error encrypting message",ot)}}),Zo.apply(this,arguments)}function Kl(i){return jo.apply(this,arguments)}function jo(){return jo=(0,f.Z)(function*({message:i,decryptionKeys:n,passwords:t,sessionKeys:s,verificationKeys:u,expectSigned:h=!1,format:y="utf8",signature:v=null,date:D=new Date,config:C,...k}){if(Bi(C={...Lt,...C}),Jo(i),u=Un(u),n=Un(n),t=Un(t),s=Un(s),k.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(k.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const q=Object.keys(k);if(q.length>0)throw Error("Unknown option: "+q.join(", "));try{const le=yield i.decrypt(n,t,s,D,C);u||(u=[]);const ae={};if(ae.signatures=v?yield le.verifyDetached(v,u,D,C):yield le.verify(u,D,C),ae.data="binary"===y?le.getLiteralData():le.getText(),ae.filename=le.getFilename(),Cc(ae,i),h){if(0===u.length)throw Error("Verification keys are required to verify message signatures");if(0===ae.signatures.length)throw Error("Message is not signed");ae.data=_e([ae.data,ue((0,f.Z)(function*(){yield ee.anyPromise(ae.signatures.map(Ae=>Ae.verified))}))])}return ae.data=yield v0(ae.data,i.fromStream,y),ae}catch(le){throw ee.wrapError("Error decrypting message",le)}}),jo.apply(this,arguments)}function Jo(i){if(!(i instanceof xi))throw Error("Parameter [message] needs to be of type Message")}function $o(i){if("armored"!==i&&"binary"!==i&&"object"!==i)throw Error("Unsupported format "+i)}const Vl=Object.keys(Lt).length;function Bi(i){const n=Object.keys(i);if(n.length!==Vl)for(const t of n)if(void 0===Lt[t])throw Error("Unknown config property: "+t)}function Un(i){return i&&!ee.isArray(i)&&(i=[i]),i}function v0(i,n){return e1.apply(this,arguments)}function e1(){return e1=(0,f.Z)(function*(i,n,t="utf8"){const s=ee.isStream(i);return"array"===s?et(i):"node"===n?(i=E(i),"binary"!==t&&i.setEncoding(t),i):"web"===n&&"ponyfill"===s?ie(i):i}),e1.apply(this,arguments)}function Cc(i,n){i.data=Yt(n.packets.stream,function(){var t=(0,f.Z)(function*(s,u){yield at(i.data,u,{preventClose:!0});const h=it(u);try{yield et(s,y=>y),yield h.close()}catch(y){yield h.abort(y)}});return function(s,u){return t.apply(this,arguments)}}())}function wa(i,n,t){switch(n){case"object":return i;case"armored":return i.armor(t);case"binary":return i.write();default:throw Error("Unsupported format "+n)}}}}]);