(self.webpackChunkPaperize=self.webpackChunkPaperize||[]).push([[1545],{1545:(tt,de,H)=>{"use strict";H.r(de),H.d(de,{EncryptModule:()=>Aa});var f=H(6895),c=H(5847),v=H(5861),w=H(1571),F=H(6837),B=H(3439),T=H(3259),A=H(1135),x=H(4004),I=H(8505),M=H(6451),J=H(6805),R=H(2961),W=H(7206),P=H(4585),E=H(592);const _=[{name:"RSA",service:class S{encryptString(ce,oe){var me=this;return(0,v.Z)(function*(){const{publicKey:Pe}=yield me._generateKeys(ce);console.log("[INFO] encrypting data...");const Ce=Pe.encrypt(oe);console.log("[INFO] encoding encrypted data...");const Tt=E.util.encode64(Ce);return console.log("[INFO] Generate SHA256 hash of encrypted data..."),`${Tt}`})()}decryptString(ce,oe){var me=this;return(0,v.Z)(function*(){const{privateKey:Pe}=yield me._generateKeys(ce);console.log("[INFO] decoding data...");const Ce=E.util.decode64(oe);console.log("[INFO] decrypting data...");const Tt=Pe.decrypt(Ce);return console.log("[INFO] data decrypted."),Tt})()}_generateKeys(ce){return(0,v.Z)(function*(){console.log("[INFO] generating prng with passphrase...");const oe=E.random.createInstance();oe.seedFileSync=()=>ce,console.log("[INFO] generating RSA-4096 Keypair...");const{privateKey:me,publicKey:Pe}=E.pki.rsa.generateKeyPair({bits:4096,prng:oe,workers:-1});return console.log("[INFO] Keypair generated."),{privateKey:me,publicKey:Pe}})()}}},{name:"OpenPGP",service:class K{encryptString(ce,oe){return(0,v.Z)(function*(){const me=yield(0,P.tn)({binary:(new TextEncoder).encode(oe),format:"utf8"}),Pe=yield(0,P.HI)({message:me,passwords:[ce],format:"binary"});return btoa(Pe.toString())})()}decryptString(ce,oe){return(0,v.Z)(function*(){const me=atob(oe),Pe=new Uint8Array(me.split(",").map(_t=>parseInt(_t))),Ce=yield(0,P.Rk)({binaryMessage:Pe}),Tt=yield(0,P.pe)({message:Ce,passwords:[ce],format:"binary"});return(new TextDecoder).decode(Tt.data)})()}_generateKeys(ce){return(0,v.Z)(function*(){const{privateKey:oe,publicKey:me}=yield(0,P.k$)({passphrase:ce,curve:"p521",userIDs:[{name:"Jon Smith",email:"jon@example.com"}],format:"armored"}),Pe=yield(0,P.xh)({armoredKey:me}),Ce=yield(0,P.IM)({privateKey:yield(0,P.Lo)({armoredKey:oe}),passphrase:ce});return console.log("[INFO] public key:",Pe.armor()),{publicKey:Pe,privateKey:Ce}})()}}}];let Q=(()=>{class pe{constructor(){this.state$=new A.X(null),this._appToken="qrcode-paper-backup",this._algs=_}encryptString(oe,me,Pe="OpenPGP"){var Ce=this;return(0,v.Z)(function*(){const Tt=yield Ce._getAlgoService(Pe);Ce.state$.next("[INFO] Encrypting data..."),yield Ce._sleep(1618);const _t=yield Tt.encryptString(oe,me).then(mr=>`${Ce._appToken}:${mr}`);yield Ce._sleep(1618),Ce.state$.next("[INFO] Generate SHA256 hash...");const Vt=(0,W.SHA256)(_t).toString(),Ut=Vt.substring(0,9);return yield Ce._sleep(1618),Ce.state$.next("[INFO] Data encrypted successfully"),{encrypted:_t,hash:Vt,shortHash:Ut}})()}decryptString(oe,me,Pe="OpenPGP"){var Ce=this;return(0,v.Z)(function*(){const Tt=yield Ce._getAlgoService(Pe);Ce.state$.next("[INFO] decrypting data..."),Ce._sleep(1618);const _t=yield Tt.decryptString(oe,me.replace(`${Ce._appToken}:`,""));return Ce.state$.next("[INFO] data decrypted."),_t})()}_getAlgoService(oe){const me=this._algs.find(Ce=>Ce.name===oe);if(!me)throw new Error(`Algorithm ${me} not supported.`);const{service:Pe=null}=me;return new Pe}_sleep(oe=1e3){return(0,v.Z)(function*(){yield new Promise(me=>{const Pe=setTimeout(()=>{me(!0),clearTimeout(Pe)},oe)})})()}}return pe.\u0275fac=function(oe){return new(oe||pe)},pe.\u0275prov=w.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();var j=H(4327);let ne=(()=>{class pe{constructor(){this.state$=new A.X(null),this._actions=[]}setCanvas(oe,me){const Pe=oe.getContext("2d");if(!Pe)throw new Error("[ERROR] Canvas context is not set.");return this.state$.next("[INFO] set Canvas element to build QR code..."),this._canvas=oe,this._context=Pe,this._setSize(me?.size),this._context.clearRect(0,0,oe.width,oe.height),this._context.font="50px Arial",this}_setSize(oe){if(!this._canvas)throw new Error("[ERROR] Canvas element is not set.");return this._canvas.width=oe?.width||window.innerWidth,this._canvas.height=oe?.height||window.innerWidth,this}setbackground(oe){var me=this;return this._actions.push((0,v.Z)(function*(){return yield me._setbackground(oe)})),this}_setbackground(oe){var me=this;return(0,v.Z)(function*(){return me._context.beginPath(),me._context.rect(0,0,me._canvas.width,me._canvas.height),me._context.fillStyle=oe,me._context.fill(),me})()}drawImage(oe){var me=this;return this._actions.push((0,v.Z)(function*(){return yield me._drawImage(oe)})),this}_drawImage(oe){var me=this;return(0,v.Z)(function*(){if(!me._context)throw new Error("[ERROR] Canvas context is not set.");const Pe=new Image;return Pe.src=oe,yield new Promise(Ce=>{Pe.onload=()=>{Ce(!0)}}),me._context.drawImage(Pe,10,0,me._canvas.width-20,me._canvas.height-30),me})()}drawText(oe){var me=this;return this._actions.push((0,v.Z)(function*(){return yield me._drawText(oe)})),this}_drawText(oe){var me=this;return(0,v.Z)(function*(){if(!me._context)throw new Error("[ERROR] Canvas context is not set.");const Pe=me._context.measureText(oe).width;return me._context.textAlign="left",me._context.fillStyle="#000",me._context.fillText(oe,me._canvas.width/2-Pe/2,me._canvas.height-20),me})()}download(oe){var me=this;return(0,v.Z)(function*(){if(!me._canvas)throw new Error("[ERROR] Canvas element is not set.");const Pe=yield new Promise((Ce,Tt)=>{me._canvas.toBlob(_t=>{_t?(me.state$.next("[INFO] Saving QR code..."),Ce(_t)):Tt("[ERROR] Canvas toBlob method failed.")})});return yield me._sleep(1618),(0,j.saveAs)(Pe,`${oe}.png`),me.state$.next("[INFO] QR code downloaded"),me})()}build(){var oe=this;return(0,v.Z)(function*(){oe.state$.next("[INFO] Building QR code with aditional metadata..."),oe._canvas.style.opacity="0";for(const me of oe._actions)yield me(),yield oe._sleep();return oe.state$.next("[INFO] QR code builded successfully"),yield oe._sleep(1618),oe._canvas.style.opacity="1",oe._actions=[],oe.state$.next("[INFO] QR code ready to display"),oe})()}_sleep(oe=1e3){return(0,v.Z)(function*(){yield new Promise(me=>{const Pe=setTimeout(()=>{me(!0),clearTimeout(Pe)},oe)})})()}}return pe.\u0275fac=function(oe){return new(oe||pe)},pe.\u0275prov=w.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();var O=H(8639),N=(()=>{return(pe=N||(N={}))[pe.QR_CODE=0]="QR_CODE",pe[pe.AZTEC=1]="AZTEC",pe[pe.CODABAR=2]="CODABAR",pe[pe.CODE_39=3]="CODE_39",pe[pe.CODE_93=4]="CODE_93",pe[pe.CODE_128=5]="CODE_128",pe[pe.DATA_MATRIX=6]="DATA_MATRIX",pe[pe.MAXICODE=7]="MAXICODE",pe[pe.ITF=8]="ITF",pe[pe.EAN_13=9]="EAN_13",pe[pe.EAN_8=10]="EAN_8",pe[pe.PDF_417=11]="PDF_417",pe[pe.RSS_14=12]="RSS_14",pe[pe.RSS_EXPANDED=13]="RSS_EXPANDED",pe[pe.UPC_A=14]="UPC_A",pe[pe.UPC_E=15]="UPC_E",pe[pe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",N;var pe})(),G=new Map([[N.QR_CODE,"QR_CODE"],[N.AZTEC,"AZTEC"],[N.CODABAR,"CODABAR"],[N.CODE_39,"CODE_39"],[N.CODE_93,"CODE_93"],[N.CODE_128,"CODE_128"],[N.DATA_MATRIX,"DATA_MATRIX"],[N.MAXICODE,"MAXICODE"],[N.ITF,"ITF"],[N.EAN_13,"EAN_13"],[N.EAN_8,"EAN_8"],[N.PDF_417,"PDF_417"],[N.RSS_14,"RSS_14"],[N.RSS_EXPANDED,"RSS_EXPANDED"],[N.UPC_A,"UPC_A"],[N.UPC_E,"UPC_E"],[N.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function V(pe){return Object.values(N).includes(pe)}var ae=(()=>{return(pe=ae||(ae={}))[pe.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",pe[pe.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",ae;var pe})(),re=function(){function pe(){}return pe.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",pe.SCAN_DEFAULT_FPS=2,pe.DEFAULT_DISABLE_FLIP=!1,pe.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,pe.DEFAULT_SUPPORTED_SCAN_TYPE=[ae.SCAN_TYPE_CAMERA,ae.SCAN_TYPE_FILE],pe}(),xe=function(){function pe(ce,oe){this.format=ce,this.formatName=oe}return pe.prototype.toString=function(){return this.formatName},pe.create=function(ce){if(!G.has(ce))throw ce+" not in html5QrcodeSupportedFormatsTextMap";return new pe(ce,G.get(ce))},pe}(),Be=function(){function pe(){}return pe.createFromText=function(ce){return{decodedText:ce,result:{text:ce}}},pe.createFromQrcodeResult=function(ce){return{decodedText:ce.text,result:ce}},pe}(),Ve=(()=>{return(pe=Ve||(Ve={}))[pe.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",pe[pe.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",pe[pe.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",Ve;var pe})(),nt=function(){function pe(){}return pe.createFrom=function(ce){return{errorMessage:ce,type:Ve.UNKWOWN_ERROR}},pe}(),it=function(){function pe(ce){this.verbose=ce}return pe.prototype.log=function(ce){this.verbose&&console.log(ce)},pe.prototype.warn=function(ce){this.verbose&&console.warn(ce)},pe.prototype.logError=function(ce,oe){(this.verbose||!0===oe)&&console.error(ce)},pe.prototype.logErrors=function(ce){if(0===ce.length)throw"Logger#logError called without arguments";this.verbose&&console.error(ce)},pe}();function Ue(pe){return typeof pe>"u"||null===pe}var pe,qe=function(){function pe(){}return pe.codeParseError=function(ce){return"QR code parse error, error = "+ce},pe.errorGettingUserMedia=function(ce){return"Error getting userMedia, error = "+ce},pe.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},pe.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},pe.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},pe.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},pe}(),ft=function(){function pe(){}return pe.scanningStatus=function(){return"Scanning"},pe.idleStatus=function(){return"Idle"},pe.errorStatus=function(){return"Error"},pe.permissionStatus=function(){return"Permission"},pe.noCameraFoundErrorStatus=function(){return"No Cameras"},pe.lastMatch=function(ce){return"Last Match: "+ce},pe.codeScannerTitle=function(){return"Code Scanner"},pe.cameraPermissionTitle=function(){return"Request Camera Permissions"},pe.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},pe.noCameraFound=function(){return"No camera found"},pe.scanButtonStopScanningText=function(){return"Stop Scanning"},pe.scanButtonStartScanningText=function(){return"Start Scanning"},pe.scanButtonScanningStarting=function(){return"Launching Camera..."},pe.textIfCameraScanSelected=function(){return"Scan an Image File"},pe.textIfFileScanSelected=function(){return"Scan using camera directly"},pe.selectCamera=function(){return"Select Camera"},pe}(),Je=function(){function pe(){}return pe.builtUsing=function(){return"Built using "},pe.reportIssues=function(){return"Report issues"},pe}(),Yt=function(){function pe(){}return pe.isMediaStreamConstraintsValid=function(ce,oe){if("object"!=typeof ce)return oe.logError("videoConstraints should be of type object, the object passed is of type "+typeof ce+".",!0),!1;for(var Ce=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),_t=0,Vt=Object.keys(ce);_t<Vt.length;_t++){var Ut=Vt[_t];if(Ce.has(Ut))return oe.logError(Ut+" is not supported videoConstaints.",!0),!1}return!0},pe}(),ht=H(9140),gr=function(){function pe(ce,oe,me){if(this.formatMap=new Map([[N.QR_CODE,ht.BarcodeFormat.QR_CODE],[N.AZTEC,ht.BarcodeFormat.AZTEC],[N.CODABAR,ht.BarcodeFormat.CODABAR],[N.CODE_39,ht.BarcodeFormat.CODE_39],[N.CODE_93,ht.BarcodeFormat.CODE_93],[N.CODE_128,ht.BarcodeFormat.CODE_128],[N.DATA_MATRIX,ht.BarcodeFormat.DATA_MATRIX],[N.MAXICODE,ht.BarcodeFormat.MAXICODE],[N.ITF,ht.BarcodeFormat.ITF],[N.EAN_13,ht.BarcodeFormat.EAN_13],[N.EAN_8,ht.BarcodeFormat.EAN_8],[N.PDF_417,ht.BarcodeFormat.PDF_417],[N.RSS_14,ht.BarcodeFormat.RSS_14],[N.RSS_EXPANDED,ht.BarcodeFormat.RSS_EXPANDED],[N.UPC_A,ht.BarcodeFormat.UPC_A],[N.UPC_E,ht.BarcodeFormat.UPC_E],[N.UPC_EAN_EXTENSION,ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ht)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=oe,this.logger=me;var Pe=this.createZXingFormats(ce),Ce=new Map;Ce.set(ht.DecodeHintType.POSSIBLE_FORMATS,Pe),this.hints=Ce}return pe.prototype.decodeAsync=function(ce){var oe=this;return new Promise(function(me,Pe){try{me(oe.decode(ce))}catch(Ce){Pe(Ce)}})},pe.prototype.decode=function(ce){var oe=new ht.MultiFormatReader(this.verbose,this.hints),me=new ht.HTMLCanvasElementLuminanceSource(ce),Pe=new ht.BinaryBitmap(new ht.HybridBinarizer(me)),Ce=oe.decode(Pe);return{text:Ce.text,format:xe.create(this.toHtml5QrcodeSupportedFormats(Ce.format))}},pe.prototype.createReverseFormatMap=function(){var ce=new Map;return this.formatMap.forEach(function(oe,me,Pe){ce.set(oe,me)}),ce},pe.prototype.toHtml5QrcodeSupportedFormats=function(ce){if(!this.reverseFormatMap.has(ce))throw"reverseFormatMap doesn't have "+ce;return this.reverseFormatMap.get(ce)},pe.prototype.createZXingFormats=function(ce){for(var oe=[],me=0,Pe=ce;me<Pe.length;me++){var Ce=Pe[me];this.formatMap.has(Ce)?oe.push(this.formatMap.get(Ce)):this.logger.logError(Ce+" is not supported byZXingHtml5QrcodeShim")}return oe},pe}(),sr=function(){function pe(ce,oe,me){if(this.formatMap=new Map([[N.QR_CODE,"qr_code"],[N.AZTEC,"aztec"],[N.CODABAR,"codabar"],[N.CODE_39,"code_39"],[N.CODE_93,"code_93"],[N.CODE_128,"code_128"],[N.DATA_MATRIX,"data_matrix"],[N.ITF,"itf"],[N.EAN_13,"ean_13"],[N.EAN_8,"ean_8"],[N.PDF_417,"pdf417"],[N.UPC_A,"upc_a"],[N.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!pe.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=oe,this.logger=me;var Pe=this.createBarcodeDetectorFormats(ce);if(this.detector=new BarcodeDetector(Pe),!this.detector)throw"BarcodeDetector detector not supported"}return pe.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},pe.prototype.decodeAsync=function(ce){return function(pe,ce,oe,me){return new(oe||(oe=Promise))(function(Ce,Tt){function _t(mr){try{Ut(me.next(mr))}catch(Er){Tt(Er)}}function Vt(mr){try{Ut(me.throw(mr))}catch(Er){Tt(Er)}}function Ut(mr){mr.done?Ce(mr.value):function Pe(Ce){return Ce instanceof oe?Ce:new oe(function(Tt){Tt(Ce)})}(mr.value).then(_t,Vt)}Ut((me=me.apply(pe,ce||[])).next())})}(this,void 0,void 0,function(){var oe,me;return function(pe,ce){var me,Pe,Ce,Tt,oe={label:0,sent:function(){if(1&Ce[0])throw Ce[1];return Ce[1]},trys:[],ops:[]};return Tt={next:_t(0),throw:_t(1),return:_t(2)},"function"==typeof Symbol&&(Tt[Symbol.iterator]=function(){return this}),Tt;function _t(Ut){return function(mr){return function Vt(Ut){if(me)throw new TypeError("Generator is already executing.");for(;oe;)try{if(me=1,Pe&&(Ce=2&Ut[0]?Pe.return:Ut[0]?Pe.throw||((Ce=Pe.return)&&Ce.call(Pe),0):Pe.next)&&!(Ce=Ce.call(Pe,Ut[1])).done)return Ce;switch(Pe=0,Ce&&(Ut=[2&Ut[0],Ce.value]),Ut[0]){case 0:case 1:Ce=Ut;break;case 4:return oe.label++,{value:Ut[1],done:!1};case 5:oe.label++,Pe=Ut[1],Ut=[0];continue;case 7:Ut=oe.ops.pop(),oe.trys.pop();continue;default:if(!(Ce=(Ce=oe.trys).length>0&&Ce[Ce.length-1])&&(6===Ut[0]||2===Ut[0])){oe=0;continue}if(3===Ut[0]&&(!Ce||Ut[1]>Ce[0]&&Ut[1]<Ce[3])){oe.label=Ut[1];break}if(6===Ut[0]&&oe.label<Ce[1]){oe.label=Ce[1],Ce=Ut;break}if(Ce&&oe.label<Ce[2]){oe.label=Ce[2],oe.ops.push(Ut);break}Ce[2]&&oe.ops.pop(),oe.trys.pop();continue}Ut=ce.call(pe,oe)}catch(mr){Ut=[6,mr],Pe=0}finally{me=Ce=0}if(5&Ut[0])throw Ut[1];return{value:Ut[0]?Ut[1]:void 0,done:!0}}([Ut,mr])}}}(this,function(Pe){switch(Pe.label){case 0:return[4,this.detector.detect(ce)];case 1:if(!(oe=Pe.sent())||0===oe.length)throw"No barcode or QR code detected.";return[2,{text:(me=this.selectLargestBarcode(oe)).rawValue,format:xe.create(this.toHtml5QrcodeSupportedFormats(me.format))}]}})})},pe.prototype.selectLargestBarcode=function(ce){for(var oe=null,me=0,Pe=0,Ce=ce;Pe<Ce.length;Pe++){var Tt=Ce[Pe],_t=Tt.boundingBox.width*Tt.boundingBox.height;_t>me&&(me=_t,oe=Tt)}if(!oe)throw"No largest barcode found";return oe},pe.prototype.createBarcodeDetectorFormats=function(ce){for(var oe=[],me=0,Pe=ce;me<Pe.length;me++){var Ce=Pe[me];this.formatMap.has(Ce)?oe.push(this.formatMap.get(Ce)):this.logger.warn(Ce+" is not supported byBarcodeDetectorDelegate")}return{formats:oe}},pe.prototype.toHtml5QrcodeSupportedFormats=function(ce){if(!this.reverseFormatMap.has(ce))throw"reverseFormatMap doesn't have "+ce;return this.reverseFormatMap.get(ce)},pe.prototype.createReverseFormatMap=function(){var ce=new Map;return this.formatMap.forEach(function(oe,me,Pe){ce.set(oe,me)}),ce},pe}(),et=function(){function pe(ce,oe,me,Pe){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=oe,this.decoder=!0===Pe.useBarCodeDetectorIfSupported&&sr.isSupported()?new sr(ce,oe,me):new gr(ce,oe,me)}return pe.prototype.decodeAsync=function(ce){var oe=this,me=performance.now();return this.decoder.decodeAsync(ce).finally(function(){if(oe.verbose){var Pe=performance.now()-me;oe.executionResults.push(Pe),oe.executions++,oe.possiblyFlushPerformanceReport()}})},pe.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var ce=0,oe=0,me=this.executionResults;oe<me.length;oe++)ce+=me[oe];console.log(ce/this.executionResults.length+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},pe}(),gt=function(){function pe(){}return pe.createExperimentalFeaturesConfig=function(ce){return ce?(!0!==ce.useBarCodeDetectorIfSupported&&(ce.useBarCodeDetectorIfSupported=!1),ce):{useBarCodeDetectorIfSupported:!1}},pe}(),X=(()=>{return(pe=X||(X={}))[pe.UNKNOWN=0]="UNKNOWN",pe[pe.NOT_STARTED=1]="NOT_STARTED",pe[pe.SCANNING=2]="SCANNING",pe[pe.PAUSED=3]="PAUSED",X;var pe})(),Z=function(){function pe(){this.state=X.NOT_STARTED,this.onGoingTransactionNewState=X.UNKNOWN}return pe.prototype.directTransition=function(ce){this.failIfTransitionOngoing(),this.validateTransition(ce),this.state=ce},pe.prototype.startTransition=function(ce){return this.failIfTransitionOngoing(),this.validateTransition(ce),this.onGoingTransactionNewState=ce,this},pe.prototype.execute=function(){if(this.onGoingTransactionNewState===X.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var ce=this.onGoingTransactionNewState;this.onGoingTransactionNewState=X.UNKNOWN,this.directTransition(ce)},pe.prototype.cancel=function(){if(this.onGoingTransactionNewState===X.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=X.UNKNOWN},pe.prototype.getState=function(){return this.state},pe.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==X.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},pe.prototype.validateTransition=function(ce){switch(this.state){case X.UNKNOWN:throw"Transition from unknown is not allowed";case X.NOT_STARTED:this.failIfNewStateIs(ce,[X.PAUSED])}},pe.prototype.failIfNewStateIs=function(ce,oe){for(var me=0,Pe=oe;me<Pe.length;me++)if(ce===Pe[me])throw"Cannot transition from "+this.state+" to "+ce},pe}(),ue=function(){function pe(ce){this.stateManager=ce}return pe.prototype.startTransition=function(ce){return this.stateManager.startTransition(ce)},pe.prototype.directTransition=function(ce){this.stateManager.directTransition(ce)},pe.prototype.getState=function(){return this.stateManager.getState()},pe.prototype.canScanFile=function(){return this.stateManager.getState()===X.NOT_STARTED},pe.prototype.isScanning=function(){return this.stateManager.getState()!==X.NOT_STARTED},pe.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===X.SCANNING},pe.prototype.isPaused=function(){return this.stateManager.getState()===X.PAUSED},pe}(),Le=function(){function pe(){}return pe.create=function(){return new ue(new Z)},pe}(),Xe=(pe=function(ce,oe){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Pe){me.__proto__=Pe}||function(me,Pe){for(var Ce in Pe)Object.prototype.hasOwnProperty.call(Pe,Ce)&&(me[Ce]=Pe[Ce])})(ce,oe)},function(ce,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function me(){this.constructor=ce}pe(ce,oe),ce.prototype=null===oe?Object.create(oe):(me.prototype=oe.prototype,new me)}),ee=function(pe){function ce(){return null!==pe&&pe.apply(this,arguments)||this}return Xe(ce,pe),ce.DEFAULT_WIDTH=300,ce.DEFAULT_WIDTH_OFFSET=2,ce.FILE_SCAN_MIN_HEIGHT=300,ce.MIN_QR_BOX_SIZE=50,ce.SHADED_LEFT=1,ce.SHADED_RIGHT=2,ce.SHADED_TOP=3,ce.SHADED_BOTTOM=4,ce.SHADED_REGION_ELEMENT_ID="qr-shaded-region",ce.VERBOSE=!1,ce.BORDER_SHADER_DEFAULT_COLOR="#ffffff",ce.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",ce}(re),Me=function(){function pe(ce,oe){this.logger=oe,this.fps=ee.SCAN_DEFAULT_FPS,ce?(ce.fps&&(this.fps=ce.fps),this.disableFlip=!0===ce.disableFlip,this.qrbox=ce.qrbox,this.aspectRatio=ce.aspectRatio,this.videoConstraints=ce.videoConstraints):this.disableFlip=ee.DEFAULT_DISABLE_FLIP}return pe.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Yt.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},pe.prototype.isShadedBoxEnabled=function(){return!Ue(this.qrbox)},pe.create=function(ce,oe){return new pe(ce,oe)},pe}(),Ot=function(){function pe(ce,oe){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(ce))throw"HTML Element with id="+ce+" not found";var me;this.elementId=ce,this.verbose=!1,"boolean"==typeof oe?this.verbose=!0===oe:oe&&(this.verbose=!0===oe.verbose,me=oe.experimentalFeatures),this.logger=new it(this.verbose),this.qrcode=new et(this.getSupportedFormats(oe),this.verbose,this.logger,gt.createExperimentalFeaturesConfig(me)),this.shouldScan=!0,this.stateManagerProxy=Le.create()}return pe.prototype.start=function(ce,oe,me,Pe){if(!ce)throw"cameraIdOrConfig is required";if(!me||"function"!=typeof me)throw"qrCodeSuccessCallback is required and should be a function.";Pe||(Pe=this.verbose?this.logger.log:function(){});var Ce=Me.create(oe,this.logger);this.clearElement();var Tt=!1;Ce.videoConstraints&&(Ce.isMediaStreamConstraintsValid()?Tt=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var _t=Tt,Ut=(Ce.isShadedBoxEnabled(),document.getElementById(this.elementId)),mr=Ut.clientWidth?Ut.clientWidth:ee.DEFAULT_WIDTH;Ut.style.position="relative",this.shouldScan=!0,this.element=Ut;var Er=this,lr=this.stateManagerProxy.startTransition(X.SCANNING);return new Promise(function(Vn,Xr){var On=_t?Ce.videoConstraints:Er.createVideoConstraints(ce);if(!On)return lr.cancel(),void Xr("videoConstraints should be defined");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:On}).then(function(jr){Er.onMediaStreamReceived(jr,Ce,_t,mr,me,Pe).then(function(fe){lr.execute(),Er.isScanning=!0,Vn(null)}).catch(function(fe){lr.cancel(),Xr(fe)})}).catch(function(jr){lr.cancel(),Xr(qe.errorGettingUserMedia(jr))}):(lr.cancel(),Xr(qe.cameraStreamingNotSupported()))})},pe.prototype.pause=function(ce){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(X.PAUSED),this.showPausedState(),(Ue(ce)||!0!==ce)&&(ce=!1),ce&&this.videoElement&&this.videoElement.pause()},pe.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var ce=this,oe=function(){ce.stateManagerProxy.directTransition(X.SCANNING),ce.hidePausedState()};if(this.videoElement.paused){var Pe=function(){var Ce;setTimeout(oe,200),null===(Ce=ce.videoElement)||void 0===Ce||Ce.removeEventListener("playing",Pe)};this.videoElement.addEventListener("playing",Pe),this.videoElement.play()}else oe()},pe.prototype.getState=function(){return this.stateManagerProxy.getState()},pe.prototype.stop=function(){var ce=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var oe=this.stateManagerProxy.startTransition(X.NOT_STARTED);return this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout),new Promise(function(Pe,Ce){var Tt=function(){ce.localMediaStream=null,ce.element&&(ce.element.removeChild(ce.videoElement),ce.element.removeChild(ce.canvasElement)),function(){if(ce.element){var Pe=document.getElementById(ee.SHADED_REGION_ELEMENT_ID);Pe&&ce.element.removeChild(Pe)}}(),ce.qrRegion&&(ce.qrRegion=null),ce.context&&(ce.context=null),oe.execute(),ce.hidePausedState(),ce.isScanning=!1,Pe()};ce.localMediaStream||Tt();var _t=ce.localMediaStream.getVideoTracks().length,Vt=0;ce.localMediaStream.getVideoTracks().forEach(function(Ut){ce.localMediaStream.removeTrack(Ut),Ut.stop(),++Vt>=_t&&Tt()})})},pe.prototype.scanFile=function(ce,oe){return this.scanFileV2(ce,oe).then(function(me){return me.decodedText})},pe.prototype.scanFileV2=function(ce,oe){var me=this;if(!(ce&&ce instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ue(oe)&&(oe=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(Pe,Ce){me.possiblyCloseLastScanImageFile(),me.clearElement(),me.lastScanImageFile=URL.createObjectURL(ce);var Tt=new Image;Tt.onload=function(){var _t=Tt.width,Vt=Tt.height,Ut=document.getElementById(me.elementId),mr=Ut.clientWidth?Ut.clientWidth:ee.DEFAULT_WIDTH,Er=Math.max(Ut.clientHeight?Ut.clientHeight:Vt,ee.FILE_SCAN_MIN_HEIGHT),lr=me.computeCanvasDrawConfig(_t,Vt,mr,Er);if(oe){var Vn=me.createCanvasElement(mr,Er,"qr-canvas-visible");Vn.style.display="inline-block",Ut.appendChild(Vn);var Xr=Vn.getContext("2d");if(!Xr)throw"Unable to get 2d context from canvas";Xr.canvas.width=mr,Xr.canvas.height=Er,Xr.drawImage(Tt,0,0,_t,Vt,lr.x,lr.y,lr.width,lr.height)}var On=me.createCanvasElement(lr.width,lr.height);Ut.appendChild(On);var jr=On.getContext("2d");if(!jr)throw"Unable to get 2d context from canvas";jr.canvas.width=lr.width,jr.canvas.height=lr.height,jr.drawImage(Tt,0,0,_t,Vt,0,0,lr.width,lr.height);try{me.qrcode.decodeAsync(On).then(function(fe){Pe(Be.createFromQrcodeResult(fe))}).catch(Ce)}catch(fe){Ce("QR code parse error, error = "+fe)}},Tt.onerror=Ce,Tt.onabort=Ce,Tt.onstalled=Ce,Tt.onsuspend=Ce,Tt.src=URL.createObjectURL(ce)})},pe.prototype.clear=function(){this.clearElement()},pe.getCameras=function(){if(navigator.mediaDevices)return pe.getCamerasFromMediaDevices();var ce=MediaStreamTrack;if(MediaStreamTrack&&ce.getSources)return pe.getCamerasFromMediaStreamTrack();var me=qe.unableToQuerySupportedDevices();return function(){if("https:"===location.protocol)return!0;var Pe=location.host.split(":")[0];return"127.0.0.1"===Pe||"localhost"===Pe}()||(me=qe.insecureContextCameraQueryError()),Promise.reject(me)},pe.prototype.getRunningTrackCapabilities=function(){if(null==this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return this.localMediaStream.getVideoTracks()[0].getCapabilities()},pe.prototype.applyVideoConstraints=function(ce){var oe=this;if(!ce)throw"videoConstaints is required argument.";if(!Yt.isMediaStreamConstraintsValid(ce,this.logger))throw"invalid videoConstaints passed, check logs for more details";if(null===this.localMediaStream)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(0===this.localMediaStream.getVideoTracks().length)throw"No video tracks found";return new Promise(function(me,Pe){"aspectRatio"in ce?Pe("Chaning 'aspectRatio' in run-time is not yet supported."):oe.localMediaStream.getVideoTracks()[0].applyConstraints(ce).then(function(Tt){me(Tt)}).catch(function(Tt){Pe(Tt)})})},pe.getCamerasFromMediaDevices=function(){return new Promise(function(ce,oe){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(me){navigator.mediaDevices.enumerateDevices().then(function(Ce){for(var Tt=[],_t=0,Vt=Ce;_t<Vt.length;_t++){var Ut=Vt[_t];"videoinput"===Ut.kind&&Tt.push({id:Ut.deviceId,label:Ut.label})}(function(Ce){for(var _t=0,Vt=Ce.getVideoTracks();_t<Vt.length;_t++){var Ut=Vt[_t];Ut.enabled=!1,Ut.stop(),Ce.removeTrack(Ut)}})(me),ce(Tt)}).catch(function(Ce){oe(Ce.name+" : "+Ce.message)})}).catch(function(me){oe(me.name+" : "+me.message)})})},pe.getCamerasFromMediaStreamTrack=function(){return new Promise(function(ce,oe){MediaStreamTrack.getSources(function(Ce){for(var Tt=[],_t=0,Vt=Ce;_t<Vt.length;_t++){var Ut=Vt[_t];"video"===Ut.kind&&Tt.push({id:Ut.id,label:Ut.label})}ce(Tt)})})},pe.prototype.getSupportedFormats=function(ce){if(!ce||"boolean"==typeof ce||!ce.formatsToSupport)return[N.QR_CODE,N.AZTEC,N.CODABAR,N.CODE_39,N.CODE_93,N.CODE_128,N.DATA_MATRIX,N.MAXICODE,N.ITF,N.EAN_13,N.EAN_8,N.PDF_417,N.RSS_14,N.RSS_EXPANDED,N.UPC_A,N.UPC_E,N.UPC_EAN_EXTENSION];if(!Array.isArray(ce.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===ce.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var me=[],Pe=0,Ce=ce.formatsToSupport;Pe<Ce.length;Pe++){var Tt=Ce[Pe];V(Tt)?me.push(Tt):this.logger.warn("Invalid format: "+Tt+" passed in config, ignoring.")}if(0===me.length)throw"None of formatsToSupport match supported values.";return me},pe.prototype.validateQrboxSize=function(ce,oe,me){var Ce=me.qrbox;this.validateQrboxConfig(Ce);var Ut,Tt=this.toQrdimensions(ce,oe,Ce),_t=function(Ut){if(Ut<ee.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is "+ee.MIN_QR_BOX_SIZE+"px."};_t(Tt.width),_t(Tt.height),Tt.width=((Ut=Tt.width)>ce&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),Ut=ce),Ut)},pe.prototype.validateQrboxConfig=function(ce){if("number"!=typeof ce&&"function"!=typeof ce&&(void 0===ce.width||void 0===ce.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},pe.prototype.toQrdimensions=function(ce,oe,me){if("number"==typeof me)return{width:me,height:me};if("function"==typeof me)try{return me(ce,oe)}catch(Pe){throw new Error("qrbox config was passed as a function but it failed with unknown error"+Pe)}return me},pe.prototype.setupUi=function(ce,oe,me){me.isShadedBoxEnabled()&&this.validateQrboxSize(ce,oe,me);var Pe=Ue(me.qrbox)?{width:ce,height:oe}:me.qrbox;this.validateQrboxConfig(Pe);var Ce=this.toQrdimensions(ce,oe,Pe);Ce.height>oe&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var Tt=me.isShadedBoxEnabled()&&Ce.height<=oe,_t={x:0,y:0,width:ce,height:oe},Vt=Tt?this.getShadedRegionBounds(ce,oe,Ce):_t,Ut=this.createCanvasElement(Vt.width,Vt.height),mr=Ut.getContext("2d");mr.canvas.width=Vt.width,mr.canvas.height=Vt.height,this.element.append(Ut),Tt&&this.possiblyInsertShadingElement(this.element,ce,oe,Ce),this.createScannerPausedUiElement(this.element),this.qrRegion=Vt,this.context=mr,this.canvasElement=Ut},pe.prototype.createScannerPausedUiElement=function(ce){var oe=document.createElement("div");oe.innerText="Scanner paused",oe.style.display="none",oe.style.position="absolute",oe.style.top="0px",oe.style.zIndex="1",oe.style.background="yellow",oe.style.textAlign="center",oe.style.width="100%",ce.appendChild(oe),this.scannerPausedUiElement=oe},pe.prototype.scanContext=function(ce,oe){var me=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(Pe){return ce(Pe.text,Be.createFromQrcodeResult(Pe)),me.possiblyUpdateShaders(!0),!0}).catch(function(Pe){me.possiblyUpdateShaders(!1);var Ce=qe.codeParseError(Pe);return oe(Ce,nt.createFrom(Ce)),!1})},pe.prototype.foreverScan=function(ce,oe,me){var Pe=this;if(this.shouldScan&&this.localMediaStream){var Ce=this.videoElement,Tt=Ce.videoWidth/Ce.clientWidth,_t=Ce.videoHeight/Ce.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(Ce,this.qrRegion.x*Tt,this.qrRegion.y*_t,this.qrRegion.width*Tt,this.qrRegion.height*_t,0,0,this.qrRegion.width,this.qrRegion.height);var lr=function(){Pe.foreverScanTimeout=setTimeout(function(){Pe.foreverScan(ce,oe,me)},Pe.getTimeoutFps(ce.fps))};this.scanContext(oe,me).then(function(Vn){Vn||!0===ce.disableFlip?lr():(Pe.context.translate(Pe.context.canvas.width,0),Pe.context.scale(-1,1),Pe.scanContext(oe,me).finally(function(){lr()}))}).catch(function(Vn){Pe.logger.logError("Error happend while scanning context",Vn),lr()})}},pe.prototype.onMediaStreamReceived=function(ce,oe,me,Pe,Ce,Tt){var _t=this,Vt=this;return new Promise(function(Ut,mr){var Er=function(){var Xr=_t.createVideoElement(Pe);Vt.element.append(Xr),Xr.onabort=mr,Xr.onerror=mr;var On=function(){Vt.setupUi(Xr.clientWidth,Xr.clientHeight,oe),Vt.foreverScan(oe,Ce,Tt),Xr.removeEventListener("playing",On),Ut(null)};Xr.addEventListener("playing",On),Xr.srcObject=ce,Xr.play(),Vt.videoElement=Xr};if(Vt.localMediaStream=ce,me||!oe.aspectRatio)Er();else{var lr={aspectRatio:oe.aspectRatio};ce.getVideoTracks()[0].applyConstraints(lr).then(function(Xr){return Er()}).catch(function(Xr){Vt.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",Xr]),Er()})}})},pe.prototype.createVideoConstraints=function(ce){if("string"==typeof ce)return{deviceId:{exact:ce}};if("object"==typeof ce){var oe="facingMode",me="deviceId",Pe={user:!0,environment:!0},Tt=function(Xr){if(Xr in Pe)return!0;throw"config has invalid 'facingMode' value = '"+Xr+"'"},_t=Object.keys(ce);if(1!==_t.length)throw"'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found "+_t.length+" keys";var Vt=Object.keys(ce)[0];if(Vt!==oe&&Vt!==me)throw"Only '"+oe+"' and '"+me+"'  are supported for 'cameraIdOrConfig'";if(Vt!==oe){var Er=ce.deviceId;if("string"==typeof Er)return{deviceId:Er};if("object"==typeof Er){if("exact"in Er)return{deviceId:{exact:Er.exact}};throw"'deviceId' should be string or object with exact as key."}throw"Invalid type of 'deviceId' = "+typeof Er}var Ut=ce.facingMode;if("string"==typeof Ut){if(Tt(Ut))return{facingMode:Ut}}else{if("object"!=typeof Ut)throw"Invalid type of 'facingMode' = "+typeof Ut;if(!("exact"in Ut))throw"'facingMode' should be string or object with exact as key.";if(Tt(Ut.exact))return{facingMode:{exact:Ut.exact}}}}throw"Invalid type of 'cameraIdOrConfig' = "+typeof ce},pe.prototype.computeCanvasDrawConfig=function(ce,oe,me,Pe){if(ce<=me&&oe<=Pe)return{x:(me-ce)/2,y:(Pe-oe)/2,width:ce,height:oe};var _t=ce,Vt=oe;return ce>me&&(oe*=me/ce,ce=me),oe>Pe&&(ce*=Pe/oe,oe=Pe),this.logger.log("Image downsampled from "+_t+"X"+Vt+" to "+ce+"X"+oe+"."),this.computeCanvasDrawConfig(ce,oe,me,Pe)},pe.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var ce=document.getElementById(this.elementId);ce&&(ce.innerHTML="")},pe.prototype.createVideoElement=function(ce){var oe=document.createElement("video");return oe.style.width=ce+"px",oe.muted=!0,oe.setAttribute("muted","true"),oe.playsInline=!0,oe},pe.prototype.possiblyUpdateShaders=function(ce){this.qrMatch!==ce&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(oe){oe.style.backgroundColor=ce?ee.BORDER_SHADER_MATCH_COLOR:ee.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=ce)},pe.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},pe.prototype.createCanvasElement=function(ce,oe,me){var Pe=ce,Ce=oe,Tt=document.createElement("canvas");return Tt.style.width=Pe+"px",Tt.style.height=Ce+"px",Tt.style.display="none",Tt.id=Ue(me)?"qr-canvas":me,Tt},pe.prototype.getShadedRegionBounds=function(ce,oe,me){if(me.width>ce||me.height>oe)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(ce-me.width)/2,y:(oe-me.height)/2,width:me.width,height:me.height}},pe.prototype.possiblyInsertShadingElement=function(ce,oe,me,Pe){if(!(oe-Pe.width<1||me-Pe.height<1)){var Ce=document.createElement("div");Ce.style.position="absolute";var Tt=(oe-Pe.width)/2,_t=(me-Pe.height)/2;Ce.style.borderLeft=Tt+"px solid #0000007a",Ce.style.borderRight=Tt+"px solid #0000007a",Ce.style.borderTop=_t+"px solid #0000007a",Ce.style.borderBottom=_t+"px solid #0000007a",Ce.style.boxSizing="border-box",Ce.style.top="0px",Ce.style.bottom="0px",Ce.style.left="0px",Ce.style.right="0px",Ce.id=""+ee.SHADED_REGION_ELEMENT_ID,oe-Pe.width<11||me-Pe.height<11?this.hasBorderShaders=!1:(this.insertShaderBorders(Ce,40,5,-5,0,!0),this.insertShaderBorders(Ce,40,5,-5,0,!1),this.insertShaderBorders(Ce,40,5,Pe.height+5,0,!0),this.insertShaderBorders(Ce,40,5,Pe.height+5,0,!1),this.insertShaderBorders(Ce,5,45,-5,-5,!0),this.insertShaderBorders(Ce,5,45,Pe.height+5-40,-5,!0),this.insertShaderBorders(Ce,5,45,-5,-5,!1),this.insertShaderBorders(Ce,5,45,Pe.height+5-40,-5,!1),this.hasBorderShaders=!0),ce.append(Ce)}},pe.prototype.insertShaderBorders=function(ce,oe,me,Pe,Ce,Tt){var _t=document.createElement("div");_t.style.position="absolute",_t.style.backgroundColor=ee.BORDER_SHADER_DEFAULT_COLOR,_t.style.width=oe+"px",_t.style.height=me+"px",_t.style.top=Pe+"px",Tt?_t.style.left=Ce+"px":_t.style.right=Ce+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_t),ce.appendChild(_t)},pe.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},pe.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},pe.prototype.getTimeoutFps=function(ce){return 1e3/ce},pe}(),Wt="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Sr=function(){function pe(){}return pe.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},pe}(),te=function(){function pe(){this.data=Sr.createDefault();var ce=localStorage.getItem(pe.LOCAL_STORAGE_KEY);ce?this.data=JSON.parse(ce):this.reset()}return pe.prototype.hasCameraPermissions=function(){return this.data.hasPermission},pe.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},pe.prototype.setHasPermission=function(ce){this.data.hasPermission=ce,this.flush()},pe.prototype.setLastUsedCameraId=function(ce){this.data.lastUsedCameraId=ce,this.flush()},pe.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},pe.prototype.reset=function(){this.data=Sr.createDefault(),this.flush()},pe.prototype.flush=function(){localStorage.setItem(pe.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},pe.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",pe}(),Mt=function(){function pe(){this.infoDiv=document.createElement("div")}return pe.prototype.renderInto=function(ce){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=Je.builtUsing();var oe=document.createElement("a");oe.innerText="html5-qrcode",oe.href="https://github.com/mebjas/html5-qrcode",oe.target="new",this.infoDiv.appendChild(oe);var me=document.createElement("br"),Pe=document.createElement("br");this.infoDiv.appendChild(me),this.infoDiv.appendChild(Pe);var Ce=document.createElement("a");Ce.innerText=Je.reportIssues(),Ce.href="https://github.com/mebjas/html5-qrcode/issues",Ce.target="new",this.infoDiv.appendChild(Ce),ce.appendChild(this.infoDiv)},pe.prototype.show=function(){this.infoDiv.style.display="block"},pe.prototype.hide=function(){this.infoDiv.style.display="none"},pe}(),on=function(){function pe(ce,oe){this.isShowingInfoIcon=!0,this.onTapIn=ce,this.onTapOut=oe,this.infoIcon=document.createElement("img")}return pe.prototype.renderInto=function(ce){var oe=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Wt,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(me){return oe.onHoverIn()},this.infoIcon.onmouseout=function(me){return oe.onHoverOut()},this.infoIcon.onclick=function(me){return oe.onClick()},ce.appendChild(this.infoIcon)},pe.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},pe.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},pe.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Wt,this.infoIcon.style.opacity="0.6")},pe}(),qr=function(){function pe(){var ce=this;this.infoDiv=new Mt,this.infoIcon=new on(function(){ce.infoDiv.show()},function(){ce.infoDiv.hide()})}return pe.prototype.renderInto=function(ce){this.infoDiv.renderInto(ce),this.infoIcon.renderInto(ce)},pe}(),br=function(){function pe(){}return pe.hasCameraPermissions=function(){return new Promise(function(ce,oe){navigator.mediaDevices.enumerateDevices().then(function(me){me.forEach(function(Pe){"videoinput"===Pe.kind&&Pe.label&&ce(!0)}),ce(!1)})})},pe}(),kt=function(){function pe(ce){this.supportedScanTypes=this.validateAndReturnScanTypes(ce)}return pe.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},pe.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},pe.prototype.isCameraScanRequired=function(){for(var ce=0,oe=this.supportedScanTypes;ce<oe.length;ce++)if(pe.isCameraScanType(oe[ce]))return!0;return!1},pe.isCameraScanType=function(ce){return ce===ae.SCAN_TYPE_CAMERA},pe.isFileScanType=function(ce){return ce===ae.SCAN_TYPE_FILE},pe.prototype.validateAndReturnScanTypes=function(ce){if(!ce||0===ce.length)return re.DEFAULT_SUPPORTED_SCAN_TYPE;var oe=re.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(ce.length>oe)throw"Max "+oe+" values expected for supportedScanTypes";for(var me=0,Pe=ce;me<Pe.length;me++){var Ce=Pe[me];if(!re.DEFAULT_SUPPORTED_SCAN_TYPE.includes(Ce))throw"Unsupported scan type "+Ce}return ce},pe}(),Yr=(()=>(function(pe){pe[pe.STATUS_DEFAULT=0]="STATUS_DEFAULT",pe[pe.STATUS_SUCCESS=1]="STATUS_SUCCESS",pe[pe.STATUS_WARNING=2]="STATUS_WARNING",pe[pe.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(Yr||(Yr={})),Yr))();!function(){function pe(ce,oe,me){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=ce,this.config=this.createConfig(oe),this.verbose=!0===me,!document.getElementById(ce))throw"HTML Element with id="+ce+" not found";this.scanTypeSelector=new kt(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new it(this.verbose),this.persistedDataManager=new te,!0!==oe.rememberLastUsedCamera&&this.persistedDataManager.reset()}pe.prototype.render=function(ce,oe){var me=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(Ce,Tt){if(ce)ce(Ce,Tt);else{if(me.lastMatchFound===Ce)return;me.lastMatchFound=Ce,me.setHeaderMessage(ft.lastMatch(Ce),Yr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(Ce,Tt){oe&&oe(Ce,Tt)};var Pe=document.getElementById(this.elementId);if(!Pe)throw"HTML Element with id="+this.elementId+" not found";Pe.innerHTML="",this.createBasicLayout(Pe),this.html5Qrcode=new Ot(this.getScanRegionId(),function Pr(pe,ce){return{formatsToSupport:pe.formatsToSupport,experimentalFeatures:pe.experimentalFeatures,verbose:ce}}(this.config,this.verbose))},pe.prototype.pause=function(ce){if(!this.html5Qrcode)throw"Code scanner not initialized.";(Ue(ce)||!0!==ce)&&(ce=!1),this.html5Qrcode.pause(ce)},pe.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},pe.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},pe.prototype.clear=function(){var ce=this,oe=function(){var me=document.getElementById(ce.elementId);me&&(me.innerHTML="",ce.resetBasicLayout(me))};return this.html5Qrcode?new Promise(function(me,Pe){ce.html5Qrcode?ce.html5Qrcode.isScanning?ce.html5Qrcode.stop().then(function(Ce){ce.html5Qrcode?(ce.html5Qrcode.clear(),oe(),me()):me()}).catch(function(Ce){ce.verbose&&ce.logger.logError("Unable to stop qrcode scanner",Ce),Pe(Ce)}):(ce.html5Qrcode.clear(),oe()):me()}):Promise.resolve()},pe.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},pe.prototype.applyVideoConstraints=function(ce){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(ce)},pe.prototype.createConfig=function(ce){return ce?(ce.fps||(ce.fps=re.SCAN_DEFAULT_FPS),ce.rememberLastUsedCamera!==!re.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(ce.rememberLastUsedCamera=re.DEFAULT_REMEMBER_LAST_CAMERA_USED),ce):{fps:re.SCAN_DEFAULT_FPS,rememberLastUsedCamera:re.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:re.DEFAULT_SUPPORTED_SCAN_TYPE}},pe.prototype.createBasicLayout=function(ce){ce.style.position="relative",ce.style.padding="0px",ce.style.border="1px solid silver",this.createHeader(ce);var oe=document.createElement("div"),me=this.getScanRegionId();oe.id=me,oe.style.width="100%",oe.style.minHeight="100px",oe.style.textAlign="center",ce.appendChild(oe),kt.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var Pe=document.createElement("div"),Ce=this.getDashboardId();Pe.id=Ce,Pe.style.width="100%",ce.appendChild(Pe),this.setupInitialDashboard(Pe)},pe.prototype.resetBasicLayout=function(ce){ce.style.border="none"},pe.prototype.setupInitialDashboard=function(ce){this.createSection(ce),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},pe.prototype.createHeader=function(ce){var oe=document.createElement("div");oe.style.textAlign="left",oe.style.margin="0px",ce.appendChild(oe),(new qr).renderInto(oe);var Pe=document.createElement("div");Pe.id=this.getHeaderMessageContainerId(),Pe.style.display="none",Pe.style.textAlign="center",Pe.style.fontSize="14px",Pe.style.padding="2px 10px",Pe.style.margin="4px",Pe.style.borderTop="1px solid #f6f6f6",oe.appendChild(Pe)},pe.prototype.createSection=function(ce){var oe=document.createElement("div");oe.id=this.getDashboardSectionId(),oe.style.width="100%",oe.style.padding="10px 0px 10px 0px",oe.style.textAlign="left",ce.appendChild(oe)},pe.prototype.createCameraListUi=function(ce,oe,me){var Pe=this;Pe.setHeaderMessage(ft.cameraPermissionRequesting());var Ce=function(){me||Pe.createPermissionButton(ce,oe)};Ot.getCameras().then(function(Tt){Pe.persistedDataManager.setHasPermission(!0),Pe.resetHeaderMessage(),Tt&&Tt.length>0?(ce.removeChild(oe),Pe.renderCameraSelection(Tt)):(Pe.setHeaderMessage(ft.noCameraFound(),Yr.STATUS_WARNING),Ce())}).catch(function(Tt){Pe.persistedDataManager.setHasPermission(!1),me?me.disabled=!1:Ce(),Pe.setHeaderMessage(Tt,Yr.STATUS_WARNING)})},pe.prototype.createPermissionButton=function(ce,oe){var me=this,Pe=document.createElement("button");Pe.id=this.getCameraPermissionButtonId(),Pe.innerText=ft.cameraPermissionTitle(),Pe.addEventListener("click",function(){Pe.disabled=!0,me.createCameraListUi(ce,oe,Pe)}),oe.appendChild(Pe)},pe.prototype.createPermissionsUi=function(ce,oe){var me=this;kt.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?br.hasCameraPermissions().then(function(Pe){Pe?me.createCameraListUi(ce,oe):(me.persistedDataManager.setHasPermission(!1),me.createPermissionButton(ce,oe))}).catch(function(Pe){me.persistedDataManager.setHasPermission(!1),me.createPermissionButton(ce,oe)}):this.createPermissionButton(ce,oe)},pe.prototype.createSectionControlPanel=function(){var oe=document.getElementById(this.getDashboardSectionId()),me=document.createElement("div");oe.appendChild(me);var Pe=document.createElement("div");Pe.id=this.getDashboardSectionCameraScanRegionId(),Pe.style.display=kt.isCameraScanType(this.currentScanType)?"block":"none",me.appendChild(Pe);var Ce=document.createElement("div");Ce.style.textAlign="center",Pe.appendChild(Ce),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(Pe,Ce),this.renderFileScanUi(me)},pe.prototype.renderFileScanUi=function(ce){var oe=this,me=document.createElement("div");me.id=this.getDashboardSectionFileScanRegionId(),me.style.textAlign="center",me.style.display=kt.isCameraScanType(this.currentScanType)?"none":"block",ce.appendChild(me);var Pe=document.createElement("input");Pe.id=this.getFileScanInputId(),Pe.accept="image/*",Pe.type="file",Pe.style.width="200px",Pe.disabled=kt.isCameraScanType(this.currentScanType);var Ce=document.createElement("span");Ce.innerText=" Select Image",me.appendChild(Pe),me.appendChild(Ce),Pe.addEventListener("change",function(Tt){if(!oe.html5Qrcode)throw"html5Qrcode not defined";null!=Tt&&null!=Tt.target&&kt.isFileScanType(oe.currentScanType)&&0!==Tt.target.files.length&&oe.html5Qrcode.scanFileV2(Tt.target.files[0],!0).then(function(Vt){oe.resetHeaderMessage(),oe.qrCodeSuccessCallback(Vt.decodedText,Vt)}).catch(function(Vt){oe.setHeaderMessage(Vt,Yr.STATUS_WARNING),oe.qrCodeErrorCallback(Vt,nt.createFrom(Vt))})})},pe.prototype.renderCameraSelection=function(ce){var oe=this,me=this,Pe=document.getElementById(this.getDashboardSectionCameraScanRegionId());Pe.style.textAlign="center";var Ce=document.createElement("span");Ce.style.marginRight="10px";var Tt=ce.length,_t=document.createElement("select");if(1===Tt)_t.style.display="none";else{var Vt=ft.selectCamera();Ce.innerText=Vt+" ("+ce.length+")  "}_t.id=this.getCameraSelectionId();for(var Ut=[],mr=0,Er=ce;mr<Er.length;mr++){var lr=Er[mr],Vn=lr.id,Xr=lr.label??Vn;(On=document.createElement("option")).value=Vn,On.innerText=Xr,Ut.push(On),_t.appendChild(On)}Ce.appendChild(_t),Pe.appendChild(Ce);var jr=document.createElement("span"),fe=document.createElement("button");fe.innerText=ft.scanButtonStartScanningText(),jr.appendChild(fe);var we=document.createElement("button");we.innerText=ft.scanButtonStopScanningText(),we.style.display="none",we.disabled=!0,jr.appendChild(we),Pe.appendChild(jr);var Se=function(Gt){Gt||(fe.style.display="none"),fe.innerText=ft.scanButtonStartScanningText(),fe.style.opacity="1",fe.disabled=!1,Gt&&(fe.style.display="inline-block")};if(fe.addEventListener("click",function(Gt){fe.innerText=ft.scanButtonScanningStarting(),_t.disabled=!0,fe.disabled=!0,fe.style.opacity="0.5",oe.scanTypeSelector.hasMoreThanOneScanType()&&me.showHideScanTypeSwapLink(!1),me.resetHeaderMessage();var st=_t.value;me.persistedDataManager.setLastUsedCameraId(st),me.html5Qrcode.start(st,function Br(pe){return{fps:pe.fps,qrbox:pe.qrbox,aspectRatio:pe.aspectRatio,disableFlip:pe.disableFlip,videoConstraints:pe.videoConstraints}}(me.config),me.qrCodeSuccessCallback,me.qrCodeErrorCallback).then(function(ke){we.disabled=!1,we.style.display="inline-block",Se(!1)}).catch(function(ke){me.showHideScanTypeSwapLink(!0),_t.disabled=!1,Se(!0),me.setHeaderMessage(ke,Yr.STATUS_WARNING)})}),1===Tt&&fe.click(),we.addEventListener("click",function(Gt){if(!me.html5Qrcode)throw"html5Qrcode not defined";we.disabled=!0,me.html5Qrcode.stop().then(function(st){oe.scanTypeSelector.hasMoreThanOneScanType()&&me.showHideScanTypeSwapLink(!0),_t.disabled=!1,fe.disabled=!1,we.style.display="none",fe.style.display="inline-block",me.insertCameraScanImageToScanRegion()}).catch(function(st){we.disabled=!1,me.setHeaderMessage(st,Yr.STATUS_WARNING)})}),me.persistedDataManager.getLastUsedCameraId()){for(var at=me.persistedDataManager.getLastUsedCameraId(),Ft=!1,Lt=0,Kt=Ut;Lt<Kt.length;Lt++){var On;if((On=Kt[Lt]).value===at){Ft=!0;break}}Ft?(_t.value=at,fe.click()):me.persistedDataManager.resetLastUsedCameraId()}},pe.prototype.createSectionSwap=function(){var ce=this,oe=ft.textIfCameraScanSelected(),me=ft.textIfFileScanSelected(),Pe=document.getElementById(this.getDashboardSectionId()),Ce=document.createElement("div");Ce.style.textAlign="center";var Tt=document.createElement("a");Tt.style.textDecoration="underline",Tt.id=this.getDashboardSectionSwapLinkId(),Tt.innerText=kt.isCameraScanType(this.currentScanType)?oe:me,Tt.addEventListener("click",function(){ce.sectionSwapAllowed?(ce.resetHeaderMessage(),ce.getFileScanInput().value="",ce.sectionSwapAllowed=!1,kt.isCameraScanType(ce.currentScanType)?(ce.clearScanRegion(),ce.getFileScanInput().disabled=!1,ce.getCameraScanRegion().style.display="none",ce.getFileScanRegion().style.display="block",Tt.innerText=me,ce.currentScanType=ae.SCAN_TYPE_FILE,ce.insertFileScanImageToScanRegion()):(ce.clearScanRegion(),ce.getFileScanInput().disabled=!0,ce.getCameraScanRegion().style.display="block",ce.getFileScanRegion().style.display="none",Tt.innerText=oe,ce.currentScanType=ae.SCAN_TYPE_CAMERA,ce.insertCameraScanImageToScanRegion(),ce.startCameraScanIfPermissionExistsOnSwap()),ce.sectionSwapAllowed=!0):ce.verbose&&ce.logger.logError("Section swap called when not allowed")}),Ce.appendChild(Tt),Pe.appendChild(Ce)},pe.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var ce=this,oe=this;this.persistedDataManager.hasCameraPermissions()&&br.hasCameraPermissions().then(function(me){if(me){var Pe=document.getElementById(oe.getCameraPermissionButtonId());if(!Pe)throw ce.logger.logError("Permission button not found, fail;"),"Permission button not found";Pe.click()}else oe.persistedDataManager.setHasPermission(!1)}).catch(function(me){oe.persistedDataManager.setHasPermission(!1)})},pe.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},pe.prototype.setHeaderMessage=function(ce,oe){oe||(oe=Yr.STATUS_DEFAULT);var me=this.getHeaderMessageDiv();switch(me.innerText=ce,me.style.display="block",oe){case Yr.STATUS_SUCCESS:me.style.background="#6aaf5042",me.style.color="#477735";break;case Yr.STATUS_WARNING:me.style.background="#cb243124",me.style.color="#cb2431";break;default:me.style.background="#00000000",me.style.color="rgb(17, 17, 17)"}},pe.prototype.showHideScanTypeSwapLink=function(ce){!0!==ce&&(ce=!1),this.sectionSwapAllowed=ce,this.getDashboardSectionSwapLink().style.display=ce?"inline-block":"none"},pe.prototype.insertCameraScanImageToScanRegion=function(){var ce=this,oe=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return oe.innerHTML="<br>",void oe.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(me){oe.innerHTML="<br>",oe.appendChild(ce.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg=="},pe.prototype.insertFileScanImageToScanRegion=function(){var ce=this,oe=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return oe.innerHTML="<br>",void oe.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(me){oe.innerHTML="<br>",oe.appendChild(ce.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4="},pe.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},pe.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},pe.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},pe.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},pe.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},pe.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},pe.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},pe.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},pe.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},pe.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},pe.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},pe.prototype.getCameraPermissionButtonId=function(){return this.elementId+"__camera_permission_button"},pe.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},pe.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},pe.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},pe.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},pe.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let Tn=(()=>{class pe{constructor(){this.state$=new A.X(null)}scanWithCamera(oe){var me=this;return(0,v.Z)(function*(){me.state$.next("[INFO] Initialize scanner...");const Pe=new Ot(oe,{verbose:!1});me._html5QrcodeScanner=Pe,me.state$.next("[INFO] Get available camera..."),yield Ot.getCameras().then(_t=>{if(_t&&_t.length){var Vt=_t?.[0]?.id;return Vt}throw new Error("No camera found")}),me.state$.next("[INFO] Start scanning...");const Ce={fps:10,qrbox:{width:600,height:600}},Tt=yield new Promise((_t,Vt)=>{if(!me._html5QrcodeScanner)throw Error("QrcodeScanner not initialized!");me._html5QrcodeScanner.start({facingMode:"user"},Ce,Ut=>_t(Ut),Ut=>Vt(Ut))});return me.state$.next("[INFO] Scanning..."),{decodedText:Tt}})()}scanFile(oe,me){var Pe=this;return(0,v.Z)(function*(){const Ce=new Ot(oe,{verbose:!1});return Pe._html5QrcodeScanner=Ce,yield new Promise(_t=>{setTimeout(()=>_t(!0),250)}),{decodedText:yield Pe._html5QrcodeScanner.scanFile(me,!1).catch(_t=>{throw _t.message})}})()}stop(){var oe=this;return(0,v.Z)(function*(){if(!oe._html5QrcodeScanner)throw new Error("Html5QrcodeScanner is not initialized");yield oe._html5QrcodeScanner.clear(),oe._html5QrcodeScanner=void 0})()}_onScanSuccess(oe,me){return(0,v.Z)(function*(){console.log(`Code matched = ${oe}`,me)})()}_onScanFailure(oe){return(0,v.Z)(function*(){console.warn(`Code scan error = ${oe}`)})()}}return pe.\u0275fac=function(oe){return new(oe||pe)},pe.\u0275prov=w.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();var hn=H(433);const qt=["canvas"];function Gn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"ion-chip",17),w.NdJ("click",function(){const Ce=w.CHM(oe).index,Tt=w.oxw();return w.KtG(Tt.removeAndGenerateWord(Ce,!Tt.isImportSeedWords))}),w.ALo(1,"async"),w.TgZ(2,"ion-label"),w._uU(3),w.qZA(),w._UZ(4,"ion-icon",18),w.qZA()}if(2&pe){const oe=ce.$implicit,me=w.oxw();w.Q6J("disabled",w.lcZ(1,2,me.isWoring$)),w.xp6(3),w.Oqu(oe)}}function qn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"ion-item",9),w.NdJ("click",function(){const Ce=w.CHM(oe).$implicit;w.oxw(2);const Tt=w.MAs(2);return w.oxw().selectWord(Ce),Tt.value="",w.KtG(Tt.setFocus())}),w.TgZ(1,"ion-label",25),w._uU(2),w.qZA(),w.TgZ(3,"ion-button",26),w._UZ(4,"ion-icon",27),w.qZA()()}if(2&pe){const oe=ce.$implicit;w.xp6(2),w.hij(" ",oe," ")}}function Zn(pe,ce){if(1&pe&&(w.TgZ(0,"ion-list",0),w.YNc(1,qn,5,1,"ion-item",24),w.qZA()),2&pe){const oe=w.oxw(2);w.xp6(1),w.Q6J("ngForOf",oe.seedWordList)}}const dn=function(pe){return{active:pe}};function ni(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"div",19)(1,"ion-input",20,21),w.NdJ("ionChange",function(Pe){w.CHM(oe);const Ce=w.oxw();return w.KtG(Ce.autocomplet(Pe))}),w.qZA(),w.TgZ(3,"ion-note",22),w._uU(4," maximum number of 12 words reached "),w.qZA(),w.YNc(5,Zn,2,1,"ion-list",23),w.qZA()}if(2&pe){const oe=w.oxw();w.xp6(1),w.Q6J("autofocus",!0)("hidden",oe.secret.length>=12)("placeholder",oe.secret.length<12?"type word...":"maximum number of 12 words reached")("disabled",oe.secret.length>=12)("ngClass",w.VKq(7,dn,oe.seedWordList.length>0)),w.xp6(2),w.Q6J("hidden",oe.secret.length<12),w.xp6(2),w.Q6J("ngIf",oe.seedWordList.length>0)}}function kn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"ion-item",28),w.ALo(1,"async"),w.TgZ(2,"ion-label",8),w._uU(3,"Datas to encrypt"),w.qZA(),w.TgZ(4,"ion-textarea",29,30),w.NdJ("ngModelChange",function(Pe){w.CHM(oe);const Ce=w.oxw();return w.KtG(Ce.text=Pe)}),w.ALo(6,"async"),w.qZA()()}if(2&pe){const oe=w.oxw();w.Q6J("disabled",w.lcZ(1,3,oe.isWoring$)),w.xp6(4),w.Q6J("disabled",w.lcZ(6,5,oe.isWoring$)||!1)("ngModel",oe.text)}}function Jn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"ion-button",31),w.NdJ("click",function(){w.CHM(oe);const Pe=w.oxw();return w.KtG(Pe.encrypt())}),w.ALo(1,"async"),w._uU(2),w.qZA()}if(2&pe){const oe=w.oxw();w.Q6J("disabled",w.lcZ(1,2,oe.isWoring$)||oe.secret.length<12||0===oe.text.length),w.xp6(2),w.hij(" ",oe.actions," ")}}function bn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"div")(1,"ion-button",32),w.NdJ("click",function(){w.CHM(oe);const Pe=w.MAs(6);return w.KtG(Pe.click())}),w._uU(2," file scan "),w.qZA(),w.TgZ(3,"ion-button",32),w.NdJ("click",function(){w.CHM(oe);const Pe=w.oxw();return w.KtG(Pe.scanWithCamera())}),w._uU(4," camera scan "),w.qZA(),w.TgZ(5,"input",33,34),w.NdJ("change",function(Pe){w.CHM(oe);const Ce=w.oxw();return w.KtG(Ce.scanFile(Pe))}),w.qZA()()}2&pe&&(w.xp6(5),w.Q6J("hidden",!0))}const tn=function(){return{action:"decrypt"}};function xn(pe,ce){1&pe&&(w.TgZ(0,"p"),w._uU(1," You already have a backup QrCode? "),w._UZ(2,"br"),w._uU(3," Go to "),w.TgZ(4,"a",35),w._uU(5,"decrypt"),w.qZA(),w._uU(6,". "),w.qZA()),2&pe&&(w.xp6(4),w.Q6J("routerLink","./")("queryParams",w.DdM(2,tn)))}const an=function(){return{action:"encrypt"}};function mn(pe,ce){1&pe&&(w.TgZ(0,"p"),w._uU(1," You want backup secret data as QR Code? "),w._UZ(2,"br"),w._uU(3," Go to "),w.TgZ(4,"a",35),w._uU(5,"encrypt"),w.qZA(),w._uU(6,". "),w.qZA()),2&pe&&(w.xp6(4),w.Q6J("routerLink","./")("queryParams",w.DdM(2,an)))}function Nr(pe,ce){if(1&pe&&(w.TgZ(0,"small"),w._uU(1),w.qZA()),2&pe){const oe=ce.ngIf;w.xp6(1),w.hij(" ",oe," ")}}function Fr(pe,ce){if(1&pe&&(w.TgZ(0,"div",40),w._UZ(1,"ion-spinner",41),w.TgZ(2,"ion-text",42),w.YNc(3,Nr,2,1,"small",14),w.ALo(4,"async"),w.qZA()()),2&pe){const oe=w.oxw(2);w.xp6(3),w.Q6J("ngIf",w.lcZ(4,1,oe.serviceState$))}}function rn(pe,ce){1&pe&&(w.TgZ(0,"ion-text",42)(1,"small"),w._uU(2," Waiting to encrypt your secret data "),w.qZA()())}function Qt(pe,ce){if(1&pe&&(w.TgZ(0,"div",40),w.YNc(1,rn,3,0,"ion-text",43),w.ALo(2,"async"),w.qZA()),2&pe){const oe=w.oxw(2);let me;w.xp6(1),w.Q6J("ngIf",!(null!=(me=w.lcZ(2,1,oe.result$))&&me.encryptedText))}}function fn(pe,ce){1&pe&&w._UZ(0,"canvas",null,44)}function nn(pe,ce){if(1&pe){const oe=w.EpF();w.TgZ(0,"ion-button",45),w.NdJ("click",function(){w.CHM(oe);const Pe=w.oxw(2);return w.KtG(Pe.download())}),w.TgZ(1,"ion-text",4),w._uU(2,"download"),w.qZA()()}}function Kr(pe,ce){if(1&pe&&(w.TgZ(0,"ion-col",36),w.YNc(1,Fr,5,3,"div",37),w.ALo(2,"async"),w.YNc(3,Qt,3,3,"ng-template",null,38,w.W1O),w.YNc(5,fn,2,0,"canvas",14),w.ALo(6,"async"),w.YNc(7,nn,3,0,"ion-button",39),w.ALo(8,"async"),w.ALo(9,"async"),w.qZA()),2&pe){const oe=w.MAs(4),me=w.oxw();let Pe,Ce;w.xp6(1),w.Q6J("ngIf",w.lcZ(2,4,me.isWoring$))("ngIfElse",oe),w.xp6(4),w.Q6J("ngIf",null==(Pe=w.lcZ(6,6,me.result$))?null:Pe.encryptedText),w.xp6(2),w.Q6J("ngIf",!1===w.lcZ(8,8,me.isWoring$)&&(null==(Ce=w.lcZ(9,10,me.result$))?null:Ce.shortHash))}}function gn(pe,ce){if(1&pe&&(w.TgZ(0,"div",50),w._uU(1),w.qZA()),2&pe){const oe=ce.ngIf;w.xp6(1),w.hij(" ",oe," ")}}function vn(pe,ce){1&pe&&(w.TgZ(0,"ion-text",42)(1,"small"),w._uU(2," Scan QR Code to decrypt secret data "),w.qZA()())}function dr(pe,ce){if(1&pe&&(w.TgZ(0,"ion-col",46),w.YNc(1,gn,2,1,"div",47),w.ALo(2,"async"),w.YNc(3,vn,3,0,"ng-template",null,48,w.W1O),w._UZ(5,"div",49),w.qZA()),2&pe){const oe=w.MAs(4),me=w.oxw();let Pe;w.xp6(1),w.Q6J("ngIf",null==(Pe=w.lcZ(2,2,me.result$))?null:Pe.decryptedText)("ngIfElse",oe)}}const li=[{path:"",component:(()=>{class pe{constructor(oe,me,Pe,Ce,Tt){this._route=oe,this._service=me,this._canvasService=Pe,this._alertCtrl=Ce,this._scanService=Tt,this.result$=new A.X(null),this.action$=this._route.queryParams.pipe((0,x.U)(_t=>_t?.action||"encrypt"),(0,I.b)(()=>this.result$.next(null)),(0,I.b)(()=>this._componentState$.next(null))),this.isWoring$=new A.X(!1),this._componentState$=new A.X(null),this.serviceState$=(0,M.T)(this._componentState$,this._service.state$,this._canvasService.state$).pipe((0,x.U)(_t=>_t?.replace("[INFO] "," ")?.replace("[ERROR] "," ")?.replace("..."," "))),this.actions="encrypt",this.isImportSeedWords=!1,this.secret=(0,F.OF)(B.U).split(" "),this.text="",this.seedWordList=[]}encrypt(){var oe=this;return(0,v.Z)(function*(){const me=yield oe._alertCtrl.create({header:"Warning",message:`\n        <p>\n          Please make sure that you have backup of your seed words. <br/>\n          If you lose your seed words, you will definitly lose access to your encryppted data.\n        </p>\n        <ion-text color="primary">\n          <p>Current seed phrase words:</p>\n          <pre class="ion-text-wrap">\n            ${oe.secret.join(" ")}\n          </pre>\n        </ion-text>\n        `,buttons:[{text:"Cancel",role:"cancel"},{text:"Continue",role:"confirm"}]});yield me.present();const{role:Pe}=yield me.onDidDismiss();if("confirm"!==Pe)return;oe.isWoring$.next(!0),oe.imgUrl=void 0;const Ce=oe.text;yield new Promise(Ut=>setTimeout(Ut,25));const{encrypted:Tt,shortHash:_t}=yield oe._service.encryptString(oe.secret.join(" "),Ce);oe.imgUrl=yield oe.generateQR(Tt),oe.result$.next({encryptedText:Tt,shortHash:_t}),yield new Promise(Ut=>setTimeout(Ut,1025));const Vt=oe.canvasElement?.nativeElement;yield oe._canvasService.setCanvas(Vt,{size:{width:window.innerWidth,height:window.innerWidth}}).setbackground("#fff").drawImage(oe.imgUrl).drawText(_t).build(),oe.isWoring$.next(!1),oe.text="",oe.isImportSeedWords=!1})()}download(){var oe=this;return(0,v.Z)(function*(){const{shortHash:me=Date.now().toString()}=yield function L(pe,ce){const oe="object"==typeof ce;return new Promise((me,Pe)=>{const Ce=new R.Hp({next:Tt=>{me(Tt),Ce.unsubscribe()},error:Pe,complete:()=>{oe?me(ce.defaultValue):Pe(new J.K)}});pe.subscribe(Ce)})}(oe.result$);yield oe._canvasService.download(me)})()}scanFile(oe){var me=this;return(0,v.Z)(function*(){const Pe=oe.target.files[0],{decodedText:Ce="",result:Tt}=yield me._scanService.scanFile("qrcode-reader",Pe);console.log(`Code matched = ${Ce}`,Tt);const _t=yield me._service.decryptString(me.secret.join(" "),Ce);console.log("[INFO] decrypted text:",_t),me.result$.next({decryptedText:_t})})()}scanWithCamera(){var oe=this;return(0,v.Z)(function*(){const{decodedText:me}=yield oe._scanService.scanWithCamera("qrcode-reader");console.log(`Code matched = ${me}`)})()}generateQR(oe){return(0,v.Z)(function*(){console.log("[INFO] generating QR code...");try{const me=yield(0,T.hz)(oe,{type:"image/png",width:600,rendererOpts:{quality:1}});return console.log("[INFO] QR code generated."),me}catch(me){return void console.error(me)}})()}removeAndGenerateWord(oe,me=!0){var Pe=this;return(0,v.Z)(function*(){if(me){const Ce=(0,F.OF)(B.U).split(" ")[oe];Pe.secret[oe]=Ce}else Pe.secret.splice(oe,1)})()}autocomplet(oe){var me=this;return(0,v.Z)(function*(){const Ce=oe.target.value?.toLowerCase();if(!Ce||Ce.length<=1)return void(me.seedWordList=[]);const Tt=B.U.filter(_t=>_t.startsWith(Ce));me.seedWordList=Tt?.length<=0?[]:Tt.filter(_t=>!me.secret.includes(_t)).slice(0,3)})()}selectWord(oe){var me=this;return(0,v.Z)(function*(){if(me.seedWordList=[],me.secret.length>=12)throw new Error("[ERROR] Maximum seed words count is 12");if(me.secret.includes(oe))throw new Error("[ERROR] Word already exists");if(B.U.findIndex(Pe=>Pe===oe)<0)throw new Error("[ERROR] Word is not valid. Please select word from autocomplet list");me.secret.push(oe)})()}toggleImportSeedWords(){var oe=this;return(0,v.Z)(function*(){oe.isImportSeedWords=!oe.isImportSeedWords,oe.secret=oe.isImportSeedWords?[]:(0,F.OF)(B.U).split(" ")})()}}return pe.\u0275fac=function(oe){return new(oe||pe)(w.Y36(c.gz),w.Y36(Q),w.Y36(ne),w.Y36(O.Br),w.Y36(Tn))},pe.\u0275cmp=w.Xpm({type:pe,selectors:[["app-qrgenerator-page"]],viewQuery:function(oe,me){if(1&oe&&w.Gf(qt,5,w.SBq),2&oe){let Pe;w.iGM(Pe=w.CRH())&&(me.canvasElement=Pe.first)}},decls:40,vars:27,consts:[[1,"ion-no-padding"],[1,"ion-no-padding","ion-justify-content-start","ion-align-items-center"],["size","12","size-md","6",1,"ion-padding"],[1,"form-container"],["color","primary"],["name","qr-code-outline"],["color","medium"],[1,"chips-container"],["color","medium","position","stacked"],[3,"click"],["color","primary",3,"disabled","click",4,"ngFor","ngForOf"],["class","autocomplet-container ion-padding-top",4,"ngIf"],["lines","none",3,"disabled",4,"ngIf"],["class","ion-margin-vertical",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["size","12","size-md","6","class","canvas-conntainer ion-no-padding ion-text-center",4,"ngIf"],["size","12","size-md","6","class","preview-conntainer ion-no-padding ion-text-center",4,"ngIf"],["color","primary",3,"disabled","click"],["name","close-circle"],[1,"autocomplet-container","ion-padding-top"],["type","text",3,"autofocus","hidden","placeholder","disabled","ngClass","ionChange"],["inputWordElement",""],[3,"hidden"],["class","ion-no-padding",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"ion-padding-start"],["slot","end","fill","none"],["color","primary","slot","icon-only","name","add-circle"],["lines","none",3,"disabled"],["placeholder","type data to encrypt here...",3,"disabled","ngModel","ngModelChange"],["textareaEl",""],[1,"ion-margin-vertical",3,"disabled","click"],[1,"ion-margin-vertical",3,"click"],["title","file","type","file","accept","image/*","capture","camera",3,"hidden","change"],["inputFile",""],[3,"routerLink","queryParams"],["size","12","size-md","6",1,"canvas-conntainer","ion-no-padding","ion-text-center"],["class","info-text",4,"ngIf","ngIfElse"],["defaultMessage",""],["fill","none","color","light",3,"click",4,"ngIf"],[1,"info-text"],["color","light",1,"ion-margin-vertical"],["color","light"],["color","light",4,"ngIf"],["canvas",""],["fill","none","color","light",3,"click"],["size","12","size-md","6",1,"preview-conntainer","ion-no-padding","ion-text-center"],["class","preview-text",4,"ngIf","ngIfElse"],["defaultTemplate",""],["id","qrcode-reader","width","600px","height","600px"],[1,"preview-text"]],template:function(oe,me){1&oe&&(w.TgZ(0,"ion-content",0)(1,"ion-grid",0)(2,"ion-row",1)(3,"ion-col",2)(4,"div",3)(5,"ion-text",4)(6,"h1"),w._UZ(7,"ion-icon",5),w.TgZ(8,"span"),w._uU(9,"Paperize"),w.qZA()()(),w.TgZ(10,"ion-text",6)(11,"p"),w._uU(12," Backup as QR code is the most advenced way to store your private key or sensitive data on a secure place. "),w.qZA()(),w.TgZ(13,"ion-text",4)(14,"h2"),w._uU(15),w.ALo(16,"async"),w.qZA()(),w.TgZ(17,"div",7)(18,"ion-label",8),w._uU(19," Your secert phrase seed of 12 words "),w.TgZ(20,"ion-text",4)(21,"small",9),w.NdJ("click",function(){return me.toggleImportSeedWords()}),w._uU(22),w.qZA()()(),w.YNc(23,Gn,5,4,"ion-chip",10),w.YNc(24,ni,6,9,"div",11),w.qZA(),w.YNc(25,kn,7,7,"ion-item",12),w.ALo(26,"async"),w.YNc(27,Jn,3,4,"ion-button",13),w.ALo(28,"async"),w.YNc(29,bn,7,1,"div",14),w.ALo(30,"async"),w.TgZ(31,"ion-text",6),w.YNc(32,xn,7,3,"p",14),w.ALo(33,"async"),w.YNc(34,mn,7,3,"p",14),w.ALo(35,"async"),w.qZA()()(),w.YNc(36,Kr,10,12,"ion-col",15),w.ALo(37,"async"),w.YNc(38,dr,6,4,"ion-col",16),w.ALo(39,"async"),w.qZA()()()),2&oe&&(w.xp6(15),w.hij("","encrypt"===w.lcZ(16,11,me.action$)?"Encryption":"Decrypting"," data"),w.xp6(7),w.hij(" (",me.isImportSeedWords?"generate":"import"," seed phrase) "),w.xp6(1),w.Q6J("ngForOf",me.secret),w.xp6(1),w.Q6J("ngIf",!0===me.isImportSeedWords),w.xp6(1),w.Q6J("ngIf","encrypt"===w.lcZ(26,13,me.action$)),w.xp6(2),w.Q6J("ngIf","encrypt"===w.lcZ(28,15,me.action$)),w.xp6(2),w.Q6J("ngIf","decrypt"===w.lcZ(30,17,me.action$)),w.xp6(3),w.Q6J("ngIf","encrypt"===w.lcZ(33,19,me.action$)),w.xp6(2),w.Q6J("ngIf","decrypt"===w.lcZ(35,21,me.action$)),w.xp6(2),w.Q6J("ngIf","encrypt"===w.lcZ(37,23,me.action$)),w.xp6(2),w.Q6J("ngIf","decrypt"===w.lcZ(39,25,me.action$)))},dependencies:[f.mk,f.sg,f.O5,hn.JJ,hn.On,c.yS,O.YG,O.hM,O.wI,O.W2,O.jY,O.gu,O.pK,O.Ie,O.Q$,O.q_,O.uN,O.Nd,O.PQ,O.yW,O.g2,O.j9,O.Fo,f.Ov],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;align-content:center;font-size:4.5rem}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:3rem 0 .5rem}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%]{padding:0 0 1rem}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{display:block;margin-bottom:1rem}[_nghost-%COMP%]   .chips-container[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ion-textarea[_ngcontent-%COMP%]{border:solid 1px var(--ion-color-medium);border-radius:6px;padding:.5em}[_nghost-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:618px}[_nghost-%COMP%]   .info-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .info-text[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin:0rem auto 2rem;display:block;padding:2rem}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:solid 1px var(--ion-color-medium);border-radius:8px}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-input.active[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;box-shadow:0 .2rem .4rem #0000004d}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:2;border:solid 1px var(--ion-color-medium);border-top:none;border-radius:0 0 8px 8px;box-shadow:0 .2rem .4rem #0000004d}[_nghost-%COMP%]   .autocomplet-container[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;padding:2rem;height:100%;background:rgba(var(--ion-color-primary-rgb),1)}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;max-width:500px;height:auto;border-radius:2rem;padding:1rem}[_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;padding:2rem;height:100%;background:rgba(var(--ion-color-primary-rgb),1)}[_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%] > div.preview-text[_ngcontent-%COMP%]{padding:1rem;background:rgba(var(--ion-color-light-rgb),.1);color:var(--ion-color-light);letter-spacing:.2rem;width:80%;max-width:500px;font-weight:600}[_nghost-%COMP%]   .canvas-conntainer[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview-conntainer[_ngcontent-%COMP%]{position:fixed;right:0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]}),pe})()}];let Ni=(()=>{class pe{}return pe.\u0275fac=function(oe){return new(oe||pe)},pe.\u0275mod=w.oAB({type:pe}),pe.\u0275inj=w.cJS({imports:[c.Bz.forChild(li),c.Bz]}),pe})(),Aa=(()=>{class pe{}return pe.\u0275fac=function(oe){return new(oe||pe)},pe.\u0275mod=w.oAB({type:pe}),pe.\u0275inj=w.cJS({imports:[f.ez,hn.u5,Ni,O.Pc]}),pe})()},5182:(tt,de)=>{"use strict";function H(T){if(!Number.isSafeInteger(T)||T<0)throw new Error(`Wrong positive integer: ${T}`)}function f(T){if("boolean"!=typeof T)throw new Error(`Expected boolean, not ${T}`)}function c(T,...A){if(!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length>0&&!A.includes(T.length))throw new TypeError(`Expected Uint8Array of length ${A}, not of length=${T.length}`)}function v(T){if("function"!=typeof T||"function"!=typeof T.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");H(T.outputLen),H(T.blockLen)}function w(T,A=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if(A&&T.finished)throw new Error("Hash#digest() has already been called")}function F(T,A){c(T);const x=A.outputLen;if(T.length<x)throw new Error(`digestInto() expects output buffer of length at least ${x}`)}Object.defineProperty(de,"__esModule",{value:!0}),de.output=de.exists=de.hash=de.bytes=de.bool=de.number=void 0,de.number=H,de.bool=f,de.bytes=c,de.hash=v,de.exists=w,de.output=F,de.default={number:H,bool:f,bytes:c,hash:v,exists:w,output:F}},9463:(tt,de,H)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.SHA2=void 0;const f=H(5182),c=H(9303);de.SHA2=class w extends c.Hash{constructor(B,T,A,x){super(),this.blockLen=B,this.outputLen=T,this.padOffset=A,this.isLE=x,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(B),this.view=(0,c.createView)(this.buffer)}update(B){f.default.exists(this);const{view:T,buffer:A,blockLen:x}=this,I=(B=(0,c.toBytes)(B)).length;for(let M=0;M<I;){const J=Math.min(x-this.pos,I-M);if(J!==x)A.set(B.subarray(M,M+J),this.pos),this.pos+=J,M+=J,this.pos===x&&(this.process(T,0),this.pos=0);else{const R=(0,c.createView)(B);for(;x<=I-M;M+=x)this.process(R,M)}}return this.length+=B.length,this.roundClean(),this}digestInto(B){f.default.exists(this),f.default.output(B,this),this.finished=!0;const{buffer:T,view:A,blockLen:x,isLE:I}=this;let{pos:M}=this;T[M++]=128,this.buffer.subarray(M).fill(0),this.padOffset>x-M&&(this.process(A,0),M=0);for(let R=M;R<x;R++)T[R]=0;(function v(F,B,T,A){if("function"==typeof F.setBigUint64)return F.setBigUint64(B,T,A);const x=BigInt(32),I=BigInt(4294967295),M=Number(T>>x&I),J=Number(T&I),L=A?0:4;F.setUint32(B+(A?4:0),M,A),F.setUint32(B+L,J,A)})(A,x-8,BigInt(8*this.length),I),this.process(A,0);const J=(0,c.createView)(B);this.get().forEach((R,L)=>J.setUint32(4*L,R,I))}digest(){const{buffer:B,outputLen:T}=this;this.digestInto(B);const A=B.slice(0,T);return this.destroy(),A}_cloneInto(B){B||(B=new this.constructor),B.set(...this.get());const{blockLen:T,buffer:A,length:x,finished:I,destroyed:M,pos:J}=this;return B.length=x,B.pos=J,B.finished=I,B.destroyed=M,x%T&&B.buffer.set(A),B}}},1251:(tt,de)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.add=de.toBig=de.split=de.fromBig=void 0;const H=BigInt(2**32-1),f=BigInt(32);function c(N,G=!1){return G?{h:Number(N&H),l:Number(N>>f&H)}:{h:0|Number(N>>f&H),l:0|Number(N&H)}}function v(N,G=!1){let g=new Uint32Array(N.length),V=new Uint32Array(N.length);for(let ae=0;ae<N.length;ae++){const{h:re,l:xe}=c(N[ae],G);[g[ae],V[ae]]=[re,xe]}return[g,V]}function K(N,G,g,V){const ae=(G>>>0)+(V>>>0);return{h:N+g+(ae/2**32|0)|0,l:0|ae}}de.fromBig=c,de.split=v,de.toBig=(N,G)=>BigInt(N>>>0)<<f|BigInt(G>>>0),de.add=K,de.default={fromBig:c,split:v,toBig:de.toBig,shrSH:(N,G,g)=>N>>>g,shrSL:(N,G,g)=>N<<32-g|G>>>g,rotrSH:(N,G,g)=>N>>>g|G<<32-g,rotrSL:(N,G,g)=>N<<32-g|G>>>g,rotrBH:(N,G,g)=>N<<64-g|G>>>g-32,rotrBL:(N,G,g)=>N>>>g-32|G<<64-g,rotr32H:(N,G)=>G,rotr32L:(N,G)=>N,rotlSH:(N,G,g)=>N<<g|G>>>32-g,rotlSL:(N,G,g)=>G<<g|N>>>32-g,rotlBH:(N,G,g)=>G<<g-32|N>>>64-g,rotlBL:(N,G,g)=>N<<g-32|G>>>64-g,add:K,add3L:(N,G,g)=>(N>>>0)+(G>>>0)+(g>>>0),add3H:(N,G,g,V)=>G+g+V+(N/2**32|0)|0,add4L:(N,G,g,V)=>(N>>>0)+(G>>>0)+(g>>>0)+(V>>>0),add4H:(N,G,g,V,ae)=>G+g+V+ae+(N/2**32|0)|0,add5H:(N,G,g,V,ae,re)=>G+g+V+ae+re+(N/2**32|0)|0,add5L:(N,G,g,V,ae)=>(N>>>0)+(G>>>0)+(g>>>0)+(V>>>0)+(ae>>>0)}},9576:(tt,de)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.crypto=void 0,de.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},9578:(tt,de,H)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.hmac=void 0;const f=H(5182),c=H(9303);class v extends c.Hash{constructor(B,T){super(),this.finished=!1,this.destroyed=!1,f.default.hash(B);const A=(0,c.toBytes)(T);if(this.iHash=B.create(),!(this.iHash instanceof c.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const x=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const I=new Uint8Array(x);I.set(A.length>this.iHash.blockLen?B.create().update(A).digest():A);for(let M=0;M<I.length;M++)I[M]^=54;this.iHash.update(I),this.oHash=B.create();for(let M=0;M<I.length;M++)I[M]^=106;this.oHash.update(I),I.fill(0)}update(B){return f.default.exists(this),this.iHash.update(B),this}digestInto(B){f.default.exists(this),f.default.bytes(B,this.outputLen),this.finished=!0,this.iHash.digestInto(B),this.oHash.update(B),this.oHash.digestInto(B),this.destroy()}digest(){const B=new Uint8Array(this.oHash.outputLen);return this.digestInto(B),B}_cloneInto(B){B||(B=Object.create(Object.getPrototypeOf(this),{}));const{oHash:T,iHash:A,finished:x,destroyed:I,blockLen:M,outputLen:J}=this;return B.finished=x,B.destroyed=I,B.blockLen=M,B.outputLen=J,B.oHash=T._cloneInto(B.oHash),B.iHash=A._cloneInto(B.iHash),B}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}de.hmac=(F,B,T)=>new v(F,B).update(T).digest(),de.hmac.create=(F,B)=>new v(F,B)},3332:(tt,de,H)=>{"use strict";var f=H(7156).default;Object.defineProperty(de,"__esModule",{value:!0}),de.pbkdf2Async=de.pbkdf2=void 0;const c=H(5182),v=H(9578),w=H(9303);function F(I,M,J,R){c.default.hash(I);const L=(0,w.checkOpts)({dkLen:32,asyncTick:10},R),{c:W,dkLen:P,asyncTick:K}=L;if(c.default.number(W),c.default.number(P),c.default.number(K),W<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const E=(0,w.toBytes)(M),S=(0,w.toBytes)(J),_=new Uint8Array(P),Q=v.hmac.create(I,E),j=Q._cloneInto().update(S);return{c:W,dkLen:P,asyncTick:K,DK:_,PRF:Q,PRFSalt:j}}function B(I,M,J,R,L){return I.destroy(),M.destroy(),R&&R.destroy(),L.fill(0),J}function x(){return(x=f(function*(I,M,J,R){const{c:L,dkLen:W,asyncTick:P,DK:K,PRF:E,PRFSalt:S}=F(I,M,J,R);let _;const Q=new Uint8Array(4),j=(0,w.createView)(Q),ne=new Uint8Array(E.outputLen);for(let O=1,N=0;N<W;O++,N+=E.outputLen){const G=K.subarray(N,N+E.outputLen);j.setInt32(0,O,!1),(_=S._cloneInto(_)).update(Q).digestInto(ne),G.set(ne.subarray(0,G.length)),yield(0,w.asyncLoop)(L-1,P,g=>{E._cloneInto(_).update(ne).digestInto(ne);for(let V=0;V<G.length;V++)G[V]^=ne[V]})}return B(E,S,K,_,ne)})).apply(this,arguments)}de.pbkdf2=function T(I,M,J,R){const{c:L,dkLen:W,DK:P,PRF:K,PRFSalt:E}=F(I,M,J,R);let S;const _=new Uint8Array(4),Q=(0,w.createView)(_),j=new Uint8Array(K.outputLen);for(let ne=1,O=0;O<W;ne++,O+=K.outputLen){const N=P.subarray(O,O+K.outputLen);Q.setInt32(0,ne,!1),(S=E._cloneInto(S)).update(_).digestInto(j),N.set(j.subarray(0,N.length));for(let G=1;G<L;G++){K._cloneInto(S).update(j).digestInto(j);for(let g=0;g<N.length;g++)N[g]^=j[g]}}return B(K,E,P,S,j)},de.pbkdf2Async=function A(I,M,J,R){return x.apply(this,arguments)}},8527:(tt,de,H)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.sha256=void 0;const f=H(9463),c=H(9303),v=(x,I,M)=>x&I^~x&M,w=(x,I,M)=>x&I^x&M^I&M,F=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),B=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),T=new Uint32Array(64);class A extends f.SHA2{constructor(){super(64,32,8,!1),this.A=0|B[0],this.B=0|B[1],this.C=0|B[2],this.D=0|B[3],this.E=0|B[4],this.F=0|B[5],this.G=0|B[6],this.H=0|B[7]}get(){const{A:I,B:M,C:J,D:R,E:L,F:W,G:P,H:K}=this;return[I,M,J,R,L,W,P,K]}set(I,M,J,R,L,W,P,K){this.A=0|I,this.B=0|M,this.C=0|J,this.D=0|R,this.E=0|L,this.F=0|W,this.G=0|P,this.H=0|K}process(I,M){for(let _=0;_<16;_++,M+=4)T[_]=I.getUint32(M,!1);for(let _=16;_<64;_++){const Q=T[_-15],j=T[_-2],ne=(0,c.rotr)(Q,7)^(0,c.rotr)(Q,18)^Q>>>3,O=(0,c.rotr)(j,17)^(0,c.rotr)(j,19)^j>>>10;T[_]=O+T[_-7]+ne+T[_-16]|0}let{A:J,B:R,C:L,D:W,E:P,F:K,G:E,H:S}=this;for(let _=0;_<64;_++){const j=S+((0,c.rotr)(P,6)^(0,c.rotr)(P,11)^(0,c.rotr)(P,25))+v(P,K,E)+F[_]+T[_]|0,O=((0,c.rotr)(J,2)^(0,c.rotr)(J,13)^(0,c.rotr)(J,22))+w(J,R,L)|0;S=E,E=K,K=P,P=W+j|0,W=L,L=R,R=J,J=j+O|0}J=J+this.A|0,R=R+this.B|0,L=L+this.C|0,W=W+this.D|0,P=P+this.E|0,K=K+this.F|0,E=E+this.G|0,S=S+this.H|0,this.set(J,R,L,W,P,K,E,S)}roundClean(){T.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}de.sha256=(0,c.wrapConstructor)(()=>new A)},319:(tt,de,H)=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0}),de.sha384=de.sha512_256=de.sha512=de.SHA512=void 0;const f=H(9463),c=H(1251),v=H(9303),[w,F]=c.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(M=>BigInt(M))),B=new Uint32Array(80),T=new Uint32Array(80);class A extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:J,Al:R,Bh:L,Bl:W,Ch:P,Cl:K,Dh:E,Dl:S,Eh:_,El:Q,Fh:j,Fl:ne,Gh:O,Gl:N,Hh:G,Hl:g}=this;return[J,R,L,W,P,K,E,S,_,Q,j,ne,O,N,G,g]}set(J,R,L,W,P,K,E,S,_,Q,j,ne,O,N,G,g){this.Ah=0|J,this.Al=0|R,this.Bh=0|L,this.Bl=0|W,this.Ch=0|P,this.Cl=0|K,this.Dh=0|E,this.Dl=0|S,this.Eh=0|_,this.El=0|Q,this.Fh=0|j,this.Fl=0|ne,this.Gh=0|O,this.Gl=0|N,this.Hh=0|G,this.Hl=0|g}process(J,R){for(let re=0;re<16;re++,R+=4)B[re]=J.getUint32(R),T[re]=J.getUint32(R+=4);for(let re=16;re<80;re++){const xe=0|B[re-15],Be=0|T[re-15],Ve=c.default.rotrSH(xe,Be,1)^c.default.rotrSH(xe,Be,8)^c.default.shrSH(xe,Be,7),nt=c.default.rotrSL(xe,Be,1)^c.default.rotrSL(xe,Be,8)^c.default.shrSL(xe,Be,7),it=0|B[re-2],Ue=0|T[re-2],qe=c.default.rotrSH(it,Ue,19)^c.default.rotrBH(it,Ue,61)^c.default.shrSH(it,Ue,6),ft=c.default.rotrSL(it,Ue,19)^c.default.rotrBL(it,Ue,61)^c.default.shrSL(it,Ue,6),Je=c.default.add4L(nt,ft,T[re-7],T[re-16]),Yt=c.default.add4H(Je,Ve,qe,B[re-7],B[re-16]);B[re]=0|Yt,T[re]=0|Je}let{Ah:L,Al:W,Bh:P,Bl:K,Ch:E,Cl:S,Dh:_,Dl:Q,Eh:j,El:ne,Fh:O,Fl:N,Gh:G,Gl:g,Hh:V,Hl:ae}=this;for(let re=0;re<80;re++){const xe=c.default.rotrSH(j,ne,14)^c.default.rotrSH(j,ne,18)^c.default.rotrBH(j,ne,41),Be=c.default.rotrSL(j,ne,14)^c.default.rotrSL(j,ne,18)^c.default.rotrBL(j,ne,41),Ve=j&O^~j&G,it=c.default.add5L(ae,Be,ne&N^~ne&g,F[re],T[re]),Ue=c.default.add5H(it,V,xe,Ve,w[re],B[re]),qe=0|it,ft=c.default.rotrSH(L,W,28)^c.default.rotrBH(L,W,34)^c.default.rotrBH(L,W,39),Je=c.default.rotrSL(L,W,28)^c.default.rotrBL(L,W,34)^c.default.rotrBL(L,W,39),Yt=L&P^L&E^P&E,ht=W&K^W&S^K&S;V=0|G,ae=0|g,G=0|O,g=0|N,O=0|j,N=0|ne,({h:j,l:ne}=c.default.add(0|_,0|Q,0|Ue,0|qe)),_=0|E,Q=0|S,E=0|P,S=0|K,P=0|L,K=0|W;const gr=c.default.add3L(qe,Je,ht);L=c.default.add3H(gr,Ue,ft,Yt),W=0|gr}({h:L,l:W}=c.default.add(0|this.Ah,0|this.Al,0|L,0|W)),({h:P,l:K}=c.default.add(0|this.Bh,0|this.Bl,0|P,0|K)),({h:E,l:S}=c.default.add(0|this.Ch,0|this.Cl,0|E,0|S)),({h:_,l:Q}=c.default.add(0|this.Dh,0|this.Dl,0|_,0|Q)),({h:j,l:ne}=c.default.add(0|this.Eh,0|this.El,0|j,0|ne)),({h:O,l:N}=c.default.add(0|this.Fh,0|this.Fl,0|O,0|N)),({h:G,l:g}=c.default.add(0|this.Gh,0|this.Gl,0|G,0|g)),({h:V,l:ae}=c.default.add(0|this.Hh,0|this.Hl,0|V,0|ae)),this.set(L,W,P,K,E,S,_,Q,j,ne,O,N,G,g,V,ae)}roundClean(){B.fill(0),T.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}de.SHA512=A;class x extends A{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends A{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}de.sha512=(0,v.wrapConstructor)(()=>new A),de.sha512_256=(0,v.wrapConstructor)(()=>new x),de.sha384=(0,v.wrapConstructor)(()=>new I)},9303:(tt,de,H)=>{"use strict";var f=H(7156).default;Object.defineProperty(de,"__esModule",{value:!0}),de.randomBytes=de.wrapConstructorWithOpts=de.wrapConstructor=de.checkOpts=de.Hash=de.concatBytes=de.toBytes=de.utf8ToBytes=de.asyncLoop=de.nextTick=de.hexToBytes=de.bytesToHex=de.isLE=de.rotr=de.createView=de.u32=de.u8=void 0;const c=H(9576);if(de.u8=j=>new Uint8Array(j.buffer,j.byteOffset,j.byteLength),de.u32=j=>new Uint32Array(j.buffer,j.byteOffset,Math.floor(j.byteLength/4)),de.createView=j=>new DataView(j.buffer,j.byteOffset,j.byteLength),de.rotr=(j,ne)=>j<<32-ne|j>>>ne,de.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!de.isLE)throw new Error("Non little-endian hardware is not supported");const T=Array.from({length:256},(j,ne)=>ne.toString(16).padStart(2,"0"));function J(){return(J=f(function*(j,ne,O){let N=Date.now();for(let G=0;G<j;G++){O(G);const g=Date.now()-N;g>=0&&g<ne||(yield(0,de.nextTick)(),N+=g)}})).apply(this,arguments)}function R(j){if("string"!=typeof j)throw new TypeError("utf8ToBytes expected string, got "+typeof j);return(new TextEncoder).encode(j)}function L(j){if("string"==typeof j&&(j=R(j)),!(j instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof j})`);return j}de.bytesToHex=function A(j){if(!(j instanceof Uint8Array))throw new Error("Uint8Array expected");let ne="";for(let O=0;O<j.length;O++)ne+=T[j[O]];return ne},de.hexToBytes=function x(j){if("string"!=typeof j)throw new TypeError("hexToBytes: expected string, got "+typeof j);if(j.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const ne=new Uint8Array(j.length/2);for(let O=0;O<ne.length;O++){const N=2*O,G=j.slice(N,N+2),g=Number.parseInt(G,16);if(Number.isNaN(g)||g<0)throw new Error("Invalid byte sequence");ne[O]=g}return ne},de.nextTick=function(){var j=f(function*(){});return function(){return j.apply(this,arguments)}}(),de.asyncLoop=function M(j,ne,O){return J.apply(this,arguments)},de.utf8ToBytes=R,de.toBytes=L,de.concatBytes=function W(...j){if(!j.every(N=>N instanceof Uint8Array))throw new Error("Uint8Array list expected");if(1===j.length)return j[0];const ne=j.reduce((N,G)=>N+G.length,0),O=new Uint8Array(ne);for(let N=0,G=0;N<j.length;N++){const g=j[N];O.set(g,G),G+=g.length}return O},de.Hash=class P{clone(){return this._cloneInto()}},de.checkOpts=function E(j,ne){if(void 0!==ne&&("object"!=typeof ne||!(j=>"[object Object]"===Object.prototype.toString.call(j)&&j.constructor===Object)(ne)))throw new TypeError("Options should be object or undefined");return Object.assign(j,ne)},de.wrapConstructor=function S(j){const ne=N=>j().update(L(N)).digest(),O=j();return ne.outputLen=O.outputLen,ne.blockLen=O.blockLen,ne.create=()=>j(),ne},de.wrapConstructorWithOpts=function _(j){const ne=(N,G)=>j(G).update(L(N)).digest(),O=j({});return ne.outputLen=O.outputLen,ne.blockLen=O.blockLen,ne.create=N=>j(N),ne},de.randomBytes=function Q(j=32){if(c.crypto.web)return c.crypto.web.getRandomValues(new Uint8Array(j));if(c.crypto.node)return new Uint8Array(c.crypto.node.randomBytes(j).buffer);throw new Error("The environment doesn't have randomBytes function")}},5521:(tt,de)=>{"use strict";function H(G){if(!Number.isSafeInteger(G))throw new Error(`Wrong integer: ${G}`)}function f(...G){const g=(re,xe)=>Be=>re(xe(Be));return{encode:Array.from(G).reverse().reduce((re,xe)=>re?g(re,xe.encode):xe.encode,void 0),decode:G.reduce((re,xe)=>re?g(re,xe.decode):xe.decode,void 0)}}function c(G){return{encode:g=>{if(!Array.isArray(g)||g.length&&"number"!=typeof g[0])throw new Error("alphabet.encode input should be an array of numbers");return g.map(V=>{if(H(V),V<0||V>=G.length)throw new Error(`Digit index outside alphabet: ${V} (alphabet: ${G.length})`);return G[V]})},decode:g=>{if(!Array.isArray(g)||g.length&&"string"!=typeof g[0])throw new Error("alphabet.decode input should be array of strings");return g.map(V=>{if("string"!=typeof V)throw new Error(`alphabet.decode: not string element=${V}`);const ae=G.indexOf(V);if(-1===ae)throw new Error(`Unknown letter: "${V}". Allowed: ${G}`);return ae})}}}function v(G=""){if("string"!=typeof G)throw new Error("join separator should be string");return{encode:g=>{if(!Array.isArray(g)||g.length&&"string"!=typeof g[0])throw new Error("join.encode input should be array of strings");for(let V of g)if("string"!=typeof V)throw new Error(`join.encode: non-string input=${V}`);return g.join(G)},decode:g=>{if("string"!=typeof g)throw new Error("join.decode input should be string");return g.split(G)}}}function w(G,g="="){if(H(G),"string"!=typeof g)throw new Error("padding chr should be string");return{encode(V){if(!Array.isArray(V)||V.length&&"string"!=typeof V[0])throw new Error("padding.encode input should be array of strings");for(let ae of V)if("string"!=typeof ae)throw new Error(`padding.encode: non-string input=${ae}`);for(;V.length*G%8;)V.push(g);return V},decode(V){if(!Array.isArray(V)||V.length&&"string"!=typeof V[0])throw new Error("padding.encode input should be array of strings");for(let re of V)if("string"!=typeof re)throw new Error(`padding.decode: non-string input=${re}`);let ae=V.length;if(ae*G%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;ae>0&&V[ae-1]===g;ae--)if(!((ae-1)*G%8))throw new Error("Invalid padding: string has too much padding");return V.slice(0,ae)}}}function F(G){if("function"!=typeof G)throw new Error("normalize fn should be function");return{encode:g=>g,decode:g=>G(g)}}function B(G,g,V){if(g<2)throw new Error(`convertRadix: wrong from=${g}, base cannot be less than 2`);if(V<2)throw new Error(`convertRadix: wrong to=${V}, base cannot be less than 2`);if(!Array.isArray(G))throw new Error("convertRadix: data should be array");if(!G.length)return[];let ae=0;const re=[],xe=Array.from(G);for(xe.forEach(Be=>{if(H(Be),Be<0||Be>=g)throw new Error(`Wrong integer: ${Be}`)});;){let Be=0,Ve=!0;for(let nt=ae;nt<xe.length;nt++){const it=xe[nt],Ue=g*Be+it;if(!Number.isSafeInteger(Ue)||g*Be/g!==Be||Ue-it!=g*Be)throw new Error("convertRadix: carry overflow");if(Be=Ue%V,xe[nt]=Math.floor(Ue/V),!Number.isSafeInteger(xe[nt])||xe[nt]*V+Be!==Ue)throw new Error("convertRadix: carry overflow");Ve&&(xe[nt]?Ve=!1:ae=nt)}if(re.push(Be),Ve)break}for(let Be=0;Be<G.length-1&&0===G[Be];Be++)re.push(0);return re.reverse()}Object.defineProperty(de,"__esModule",{value:!0}),de.bytes=de.stringToBytes=de.str=de.bytesToString=de.hex=de.utf8=de.bech32m=de.bech32=de.base58check=de.base58xmr=de.base58xrp=de.base58flickr=de.base58=de.base64url=de.base64=de.base32crockford=de.base32hex=de.base32=de.base16=de.utils=de.assertNumber=void 0,de.assertNumber=H;const T=(G,g)=>g?T(g,G%g):G,A=(G,g)=>G+(g-T(G,g));function x(G,g,V,ae){if(!Array.isArray(G))throw new Error("convertRadix2: data should be array");if(g<=0||g>32)throw new Error(`convertRadix2: wrong from=${g}`);if(V<=0||V>32)throw new Error(`convertRadix2: wrong to=${V}`);if(A(g,V)>32)throw new Error(`convertRadix2: carry overflow from=${g} to=${V} carryBits=${A(g,V)}`);let re=0,xe=0;const Be=2**V-1,Ve=[];for(const nt of G){if(H(nt),nt>=2**g)throw new Error(`convertRadix2: invalid data word=${nt} from=${g}`);if(re=re<<g|nt,xe+g>32)throw new Error(`convertRadix2: carry overflow pos=${xe} from=${g}`);for(xe+=g;xe>=V;xe-=V)Ve.push((re>>xe-V&Be)>>>0);re&=2**xe-1}if(re=re<<V-xe&Be,!ae&&xe>=g)throw new Error("Excess padding");if(!ae&&re)throw new Error(`Non-zero padding: ${re}`);return ae&&xe>0&&Ve.push(re>>>0),Ve}function I(G){return H(G),{encode:g=>{if(!(g instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return B(Array.from(g),256,G)},decode:g=>{if(!Array.isArray(g)||g.length&&"number"!=typeof g[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(B(g,G,256))}}}function M(G,g=!1){if(H(G),G<=0||G>32)throw new Error("radix2: bits should be in (0..32]");if(A(8,G)>32||A(G,8)>32)throw new Error("radix2: carry overflow");return{encode:V=>{if(!(V instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return x(Array.from(V),8,G,!g)},decode:V=>{if(!Array.isArray(V)||V.length&&"number"!=typeof V[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(x(V,G,8,g))}}}function J(G){if("function"!=typeof G)throw new Error("unsafeWrapper fn should be function");return function(...g){try{return G.apply(null,g)}catch{}}}function R(G,g){if(H(G),"function"!=typeof g)throw new Error("checksum fn should be function");return{encode(V){if(!(V instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const ae=g(V).slice(0,G),re=new Uint8Array(V.length+G);return re.set(V),re.set(ae,V.length),re},decode(V){if(!(V instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const ae=V.slice(0,-G),re=g(ae).slice(0,G),xe=V.slice(-G);for(let Be=0;Be<G;Be++)if(re[Be]!==xe[Be])throw new Error("Invalid checksum");return ae}}}de.utils={alphabet:c,chain:f,checksum:R,radix:I,radix2:M,join:v,padding:w},de.base16=f(M(4),c("0123456789ABCDEF"),v("")),de.base32=f(M(5),c("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),w(5),v("")),de.base32hex=f(M(5),c("0123456789ABCDEFGHIJKLMNOPQRSTUV"),w(5),v("")),de.base32crockford=f(M(5),c("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),v(""),F(G=>G.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),de.base64=f(M(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),w(6),v("")),de.base64url=f(M(6),c("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),w(6),v(""));const L=G=>f(I(58),c(G),v(""));de.base58=L("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),de.base58flickr=L("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),de.base58xrp=L("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const W=[0,2,3,5,6,7,9,10,11];de.base58xmr={encode(G){let g="";for(let V=0;V<G.length;V+=8){const ae=G.subarray(V,V+8);g+=de.base58.encode(ae).padStart(W[ae.length],"1")}return g},decode(G){let g=[];for(let V=0;V<G.length;V+=11){const ae=G.slice(V,V+11),re=W.indexOf(ae.length),xe=de.base58.decode(ae);for(let Be=0;Be<xe.length-re;Be++)if(0!==xe[Be])throw new Error("base58xmr: wrong padding");g=g.concat(Array.from(xe.slice(xe.length-re)))}return Uint8Array.from(g)}},de.base58check=G=>f(R(4,g=>G(G(g))),de.base58);const K=f(c("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),v("")),E=[996825010,642813549,513874426,1027748829,705979059];function S(G){const g=G>>25;let V=(33554431&G)<<5;for(let ae=0;ae<E.length;ae++)1==(g>>ae&1)&&(V^=E[ae]);return V}function _(G,g,V=1){const ae=G.length;let re=1;for(let xe=0;xe<ae;xe++){const Be=G.charCodeAt(xe);if(Be<33||Be>126)throw new Error(`Invalid prefix (${G})`);re=S(re)^Be>>5}re=S(re);for(let xe=0;xe<ae;xe++)re=S(re)^31&G.charCodeAt(xe);for(let xe of g)re=S(re)^xe;for(let xe=0;xe<6;xe++)re=S(re);return re^=V,K.encode(x([re%2**30],30,5,!1))}function Q(G){const g="bech32"===G?1:734539939,V=M(5),ae=V.decode,re=V.encode,xe=J(ae);function Ve(Ue,qe=90){if("string"!=typeof Ue)throw new Error("bech32.decode input should be string, not "+typeof Ue);if(Ue.length<8||!1!==qe&&Ue.length>qe)throw new TypeError(`Wrong string length: ${Ue.length} (${Ue}). Expected (8..${qe})`);const ft=Ue.toLowerCase();if(Ue!==ft&&Ue!==Ue.toUpperCase())throw new Error("String must be lowercase or uppercase");const Je=(Ue=ft).lastIndexOf("1");if(0===Je||-1===Je)throw new Error('Letter "1" must be present between prefix and data only');const Yt=Ue.slice(0,Je),ht=Ue.slice(Je+1);if(ht.length<6)throw new Error("Data must be at least 6 characters long");const gr=K.decode(ht).slice(0,-6),Rt=_(Yt,gr,g);if(!ht.endsWith(Rt))throw new Error(`Invalid checksum in ${Ue}: expected "${Rt}"`);return{prefix:Yt,words:gr}}return{encode:function Be(Ue,qe,ft=90){if("string"!=typeof Ue)throw new Error("bech32.encode prefix should be string, not "+typeof Ue);if(!Array.isArray(qe)||qe.length&&"number"!=typeof qe[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof qe);const Je=Ue.length+7+qe.length;if(!1!==ft&&Je>ft)throw new TypeError(`Length ${Je} exceeds limit ${ft}`);return`${Ue=Ue.toLowerCase()}1${K.encode(qe)}${_(Ue,qe,g)}`},decode:Ve,decodeToBytes:function it(Ue){const{prefix:qe,words:ft}=Ve(Ue,!1);return{prefix:qe,words:ft,bytes:ae(ft)}},decodeUnsafe:J(Ve),fromWords:ae,fromWordsUnsafe:xe,toWords:re}}de.bech32=Q("bech32"),de.bech32m=Q("bech32m"),de.utf8={encode:G=>(new TextDecoder).decode(G),decode:G=>(new TextEncoder).encode(G)},de.hex=f(M(4),c("0123456789abcdef"),v(""),F(G=>{if("string"!=typeof G||G.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof G} with length ${G.length}`);return G.toLowerCase()}));const j={utf8:de.utf8,hex:de.hex,base16:de.base16,base32:de.base32,base64:de.base64,base64url:de.base64url,base58:de.base58,base58xmr:de.base58xmr},ne=`Invalid encoding type. Available types: ${Object.keys(j).join(", ")}`;de.bytesToString=(G,g)=>{if("string"!=typeof G||!j.hasOwnProperty(G))throw new TypeError(ne);if(!(g instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return j[G].encode(g)},de.str=de.bytesToString,de.stringToBytes=(G,g)=>{if(!j.hasOwnProperty(G))throw new TypeError(ne);if("string"!=typeof g)throw new TypeError("stringToBytes() expects string");return j[G].decode(g)},de.bytes=de.stringToBytes},6837:(tt,de,H)=>{"use strict";de.OF=void 0;const c=H(5182),w=(H(3332),H(8527)),B=(H(319),H(9303)),T=H(5521);function M(Q){c.default.bytes(Q,16,20,24,28,32)}de.OF=function J(Q,j=128){if(c.default.number(j),j%32!=0||j>256)throw new TypeError("Invalid entropy");return function P(Q,j){return M(Q),L(j).encode(Q).join((Q=>"\u3042\u3044\u3053\u304f\u3057\u3093"===Q[0])(j)?"\u3000":" ")}((0,B.randomBytes)(j/8),Q)};const R=Q=>{const j=8-Q.length/4;return new Uint8Array([(0,w.sha256)(Q)[0]>>j<<j])};function L(Q){if(!Array.isArray(Q)||2048!==Q.length||"string"!=typeof Q[0])throw new Error("Worlist: expected array of 2048 strings");return Q.forEach(j=>{if("string"!=typeof j)throw new Error(`Wordlist: non-string element: ${j}`)}),T.utils.chain(T.utils.checksum(1,R),T.utils.radix2(11,!0),T.utils.alphabet(Q))}},3439:(tt,de)=>{"use strict";de.U=void 0,de.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},7466:function(tt,de,H){var f;tt.exports=(f=H(7585),H(8319),H(9493),H(7865),H(3057),function(){var c=f,w=c.lib.BlockCipher,F=c.algo,B=[],T=[],A=[],x=[],I=[],M=[],J=[],R=[],L=[],W=[];!function(){for(var E=[],S=0;S<256;S++)E[S]=S<128?S<<1:S<<1^283;var _=0,Q=0;for(S=0;S<256;S++){var j=Q^Q<<1^Q<<2^Q<<3^Q<<4;B[_]=j=j>>>8^255&j^99,T[j]=_;var G,ne=E[_],O=E[ne],N=E[O];A[_]=(G=257*E[j]^16843008*j)<<24|G>>>8,x[_]=G<<16|G>>>16,I[_]=G<<8|G>>>24,M[_]=G,J[j]=(G=16843009*N^65537*O^257*ne^16843008*_)<<24|G>>>8,R[j]=G<<16|G>>>16,L[j]=G<<8|G>>>24,W[j]=G,_?(_=ne^E[E[E[N^ne]]],Q^=E[E[Q]]):_=Q=1}}();var P=[0,1,2,4,8,16,32,64,128,27,54],K=F.AES=w.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var S=this._keyPriorReset=this._key,_=S.words,Q=S.sigBytes/4,ne=4*((this._nRounds=Q+6)+1),O=this._keySchedule=[],N=0;N<ne;N++)N<Q?O[N]=_[N]:(E=O[N-1],N%Q?Q>6&&N%Q==4&&(E=B[E>>>24]<<24|B[E>>>16&255]<<16|B[E>>>8&255]<<8|B[255&E]):(E=B[(E=E<<8|E>>>24)>>>24]<<24|B[E>>>16&255]<<16|B[E>>>8&255]<<8|B[255&E],E^=P[N/Q|0]<<24),O[N]=O[N-Q]^E);for(var G=this._invKeySchedule=[],g=0;g<ne;g++){if(N=ne-g,g%4)var E=O[N];else E=O[N-4];G[g]=g<4||N<=4?E:J[B[E>>>24]]^R[B[E>>>16&255]]^L[B[E>>>8&255]]^W[B[255&E]]}}},encryptBlock:function(E,S){this._doCryptBlock(E,S,this._keySchedule,A,x,I,M,B)},decryptBlock:function(E,S){var _=E[S+1];E[S+1]=E[S+3],E[S+3]=_,this._doCryptBlock(E,S,this._invKeySchedule,J,R,L,W,T),_=E[S+1],E[S+1]=E[S+3],E[S+3]=_},_doCryptBlock:function(E,S,_,Q,j,ne,O,N){for(var G=this._nRounds,g=E[S]^_[0],V=E[S+1]^_[1],ae=E[S+2]^_[2],re=E[S+3]^_[3],xe=4,Be=1;Be<G;Be++){var Ve=Q[g>>>24]^j[V>>>16&255]^ne[ae>>>8&255]^O[255&re]^_[xe++],nt=Q[V>>>24]^j[ae>>>16&255]^ne[re>>>8&255]^O[255&g]^_[xe++],it=Q[ae>>>24]^j[re>>>16&255]^ne[g>>>8&255]^O[255&V]^_[xe++],Ue=Q[re>>>24]^j[g>>>16&255]^ne[V>>>8&255]^O[255&ae]^_[xe++];g=Ve,V=nt,ae=it,re=Ue}Ve=(N[g>>>24]<<24|N[V>>>16&255]<<16|N[ae>>>8&255]<<8|N[255&re])^_[xe++],nt=(N[V>>>24]<<24|N[ae>>>16&255]<<16|N[re>>>8&255]<<8|N[255&g])^_[xe++],it=(N[ae>>>24]<<24|N[re>>>16&255]<<16|N[g>>>8&255]<<8|N[255&V])^_[xe++],Ue=(N[re>>>24]<<24|N[g>>>16&255]<<16|N[V>>>8&255]<<8|N[255&ae])^_[xe++],E[S]=Ve,E[S+1]=nt,E[S+2]=it,E[S+3]=Ue},keySize:8});c.AES=w._createHelper(K)}(),f.AES)},3057:function(tt,de,H){var v,w,F,B,T,A,I,J,R,W,P,K,S,Q,ne,O,G,g,f;tt.exports=(f=H(7585),H(7865),void(f.lib.Cipher||(v=f,w=v.lib,F=w.Base,B=w.WordArray,T=w.BufferedBlockAlgorithm,A=v.enc,I=A.Base64,J=v.algo.EvpKDF,R=w.Cipher=T.extend({cfg:F.extend(),createEncryptor:function(V,ae){return this.create(this._ENC_XFORM_MODE,V,ae)},createDecryptor:function(V,ae){return this.create(this._DEC_XFORM_MODE,V,ae)},init:function(V,ae,re){this.cfg=this.cfg.extend(re),this._xformMode=V,this._key=ae,this.reset()},reset:function(){T.reset.call(this),this._doReset()},process:function(V){return this._append(V),this._process()},finalize:function(V){return V&&this._append(V),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function V(ae){return"string"==typeof ae?g:O}return function(ae){return{encrypt:function(re,xe,Be){return V(xe).encrypt(ae,re,xe,Be)},decrypt:function(re,xe,Be){return V(xe).decrypt(ae,re,xe,Be)}}}}()}),w.StreamCipher=R.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),W=v.mode={},P=w.BlockCipherMode=F.extend({createEncryptor:function(V,ae){return this.Encryptor.create(V,ae)},createDecryptor:function(V,ae){return this.Decryptor.create(V,ae)},init:function(V,ae){this._cipher=V,this._iv=ae}}),K=W.CBC=function(){var V=P.extend();function ae(re,xe,Be){var Ve,nt=this._iv;nt?(Ve=nt,this._iv=undefined):Ve=this._prevBlock;for(var it=0;it<Be;it++)re[xe+it]^=Ve[it]}return V.Encryptor=V.extend({processBlock:function(re,xe){var Be=this._cipher,Ve=Be.blockSize;ae.call(this,re,xe,Ve),Be.encryptBlock(re,xe),this._prevBlock=re.slice(xe,xe+Ve)}}),V.Decryptor=V.extend({processBlock:function(re,xe){var Be=this._cipher,Ve=Be.blockSize,nt=re.slice(xe,xe+Ve);Be.decryptBlock(re,xe),ae.call(this,re,xe,Ve),this._prevBlock=nt}}),V}(),S=(v.pad={}).Pkcs7={pad:function(V,ae){for(var re=4*ae,xe=re-V.sigBytes%re,Be=xe<<24|xe<<16|xe<<8|xe,Ve=[],nt=0;nt<xe;nt+=4)Ve.push(Be);var it=B.create(Ve,xe);V.concat(it)},unpad:function(V){V.sigBytes-=255&V.words[V.sigBytes-1>>>2]}},w.BlockCipher=R.extend({cfg:R.cfg.extend({mode:K,padding:S}),reset:function(){var V;R.reset.call(this);var ae=this.cfg,re=ae.iv,xe=ae.mode;this._xformMode==this._ENC_XFORM_MODE?V=xe.createEncryptor:(V=xe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==V?this._mode.init(this,re&&re.words):(this._mode=V.call(xe,this,re&&re.words),this._mode.__creator=V)},_doProcessBlock:function(V,ae){this._mode.processBlock(V,ae)},_doFinalize:function(){var V,ae=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ae.pad(this._data,this.blockSize),V=this._process(!0)):(V=this._process(!0),ae.unpad(V)),V},blockSize:4}),Q=w.CipherParams=F.extend({init:function(V){this.mixIn(V)},toString:function(V){return(V||this.formatter).stringify(this)}}),ne=(v.format={}).OpenSSL={stringify:function(V){var re=V.ciphertext,xe=V.salt;return(xe?B.create([1398893684,1701076831]).concat(xe).concat(re):re).toString(I)},parse:function(V){var ae,re=I.parse(V),xe=re.words;return 1398893684==xe[0]&&1701076831==xe[1]&&(ae=B.create(xe.slice(2,4)),xe.splice(0,4),re.sigBytes-=16),Q.create({ciphertext:re,salt:ae})}},O=w.SerializableCipher=F.extend({cfg:F.extend({format:ne}),encrypt:function(V,ae,re,xe){xe=this.cfg.extend(xe);var Be=V.createEncryptor(re,xe),Ve=Be.finalize(ae),nt=Be.cfg;return Q.create({ciphertext:Ve,key:re,iv:nt.iv,algorithm:V,mode:nt.mode,padding:nt.padding,blockSize:V.blockSize,formatter:xe.format})},decrypt:function(V,ae,re,xe){return xe=this.cfg.extend(xe),ae=this._parse(ae,xe.format),V.createDecryptor(re,xe).finalize(ae.ciphertext)},_parse:function(V,ae){return"string"==typeof V?ae.parse(V,this):V}}),G=(v.kdf={}).OpenSSL={execute:function(V,ae,re,xe){xe||(xe=B.random(8));var Be=J.create({keySize:ae+re}).compute(V,xe),Ve=B.create(Be.words.slice(ae),4*re);return Be.sigBytes=4*ae,Q.create({key:Be,iv:Ve,salt:xe})}},g=w.PasswordBasedCipher=O.extend({cfg:O.cfg.extend({kdf:G}),encrypt:function(V,ae,re,xe){var Be=(xe=this.cfg.extend(xe)).kdf.execute(re,V.keySize,V.ivSize);xe.iv=Be.iv;var Ve=O.encrypt.call(this,V,ae,Be.key,xe);return Ve.mixIn(Be),Ve},decrypt:function(V,ae,re,xe){xe=this.cfg.extend(xe),ae=this._parse(ae,xe.format);var Be=xe.kdf.execute(re,V.keySize,V.ivSize,ae.salt);return xe.iv=Be.iv,O.decrypt.call(this,V,ae,Be.key,xe)}}))))},7585:function(tt,de,H){var f;tt.exports=(f=f||function(c,v){var w;if(typeof window<"u"&&window.crypto&&(w=window.crypto),typeof self<"u"&&self.crypto&&(w=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(w=globalThis.crypto),!w&&typeof window<"u"&&window.msCrypto&&(w=window.msCrypto),!w&&typeof global<"u"&&global.crypto&&(w=global.crypto),!w)try{w=H(2480)}catch{}var F=function(){if(w){if("function"==typeof w.getRandomValues)try{return w.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof w.randomBytes)try{return w.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},B=Object.create||function(){function E(){}return function(S){var _;return E.prototype=S,_=new E,E.prototype=null,_}}(),T={},A=T.lib={},x=A.Base={extend:function(E){var S=B(this);return E&&S.mixIn(E),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var S in E)E.hasOwnProperty(S)&&(this[S]=E[S]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}},I=A.WordArray=x.extend({init:function(E,S){E=this.words=E||[],this.sigBytes=null!=S?S:4*E.length},toString:function(E){return(E||J).stringify(this)},concat:function(E){var S=this.words,_=E.words,Q=this.sigBytes,j=E.sigBytes;if(this.clamp(),Q%4)for(var ne=0;ne<j;ne++)S[Q+ne>>>2]|=(_[ne>>>2]>>>24-ne%4*8&255)<<24-(Q+ne)%4*8;else for(var N=0;N<j;N+=4)S[Q+N>>>2]=_[N>>>2];return this.sigBytes+=j,this},clamp:function(){var E=this.words,S=this.sigBytes;E[S>>>2]&=4294967295<<32-S%4*8,E.length=c.ceil(S/4)},clone:function(){var E=x.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var S=[],_=0;_<E;_+=4)S.push(F());return new I.init(S,E)}}),M=T.enc={},J=M.Hex={stringify:function(E){for(var S=E.words,_=E.sigBytes,Q=[],j=0;j<_;j++){var ne=S[j>>>2]>>>24-j%4*8&255;Q.push((ne>>>4).toString(16)),Q.push((15&ne).toString(16))}return Q.join("")},parse:function(E){for(var S=E.length,_=[],Q=0;Q<S;Q+=2)_[Q>>>3]|=parseInt(E.substr(Q,2),16)<<24-Q%8*4;return new I.init(_,S/2)}},R=M.Latin1={stringify:function(E){for(var S=E.words,_=E.sigBytes,Q=[],j=0;j<_;j++)Q.push(String.fromCharCode(S[j>>>2]>>>24-j%4*8&255));return Q.join("")},parse:function(E){for(var S=E.length,_=[],Q=0;Q<S;Q++)_[Q>>>2]|=(255&E.charCodeAt(Q))<<24-Q%4*8;return new I.init(_,S)}},L=M.Utf8={stringify:function(E){try{return decodeURIComponent(escape(R.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return R.parse(unescape(encodeURIComponent(E)))}},W=A.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new I.init,this._nDataBytes=0},_append:function(E){"string"==typeof E&&(E=L.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var S,_=this._data,Q=_.words,j=_.sigBytes,ne=this.blockSize,N=j/(4*ne),G=(N=E?c.ceil(N):c.max((0|N)-this._minBufferSize,0))*ne,g=c.min(4*G,j);if(G){for(var V=0;V<G;V+=ne)this._doProcessBlock(Q,V);S=Q.splice(0,G),_.sigBytes-=g}return new I.init(S,g)},clone:function(){var E=x.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),K=(A.Hasher=W.extend({cfg:x.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){W.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){return E&&this._append(E),this._doFinalize()},blockSize:16,_createHelper:function(E){return function(S,_){return new E.init(_).finalize(S)}},_createHmacHelper:function(E){return function(S,_){return new K.HMAC.init(E,_).finalize(S)}}}),T.algo={});return T}(Math),f)},8319:function(tt,de,H){var f,w;tt.exports=(f=H(7585),w=f.lib.WordArray,f.enc.Base64={stringify:function(A){var x=A.words,I=A.sigBytes,M=this._map;A.clamp();for(var J=[],R=0;R<I;R+=3)for(var K=(x[R>>>2]>>>24-R%4*8&255)<<16|(x[R+1>>>2]>>>24-(R+1)%4*8&255)<<8|x[R+2>>>2]>>>24-(R+2)%4*8&255,E=0;E<4&&R+.75*E<I;E++)J.push(M.charAt(K>>>6*(3-E)&63));var S=M.charAt(64);if(S)for(;J.length%4;)J.push(S);return J.join("")},parse:function(A){var x=A.length,I=this._map,M=this._reverseMap;if(!M){M=this._reverseMap=[];for(var J=0;J<I.length;J++)M[I.charCodeAt(J)]=J}var R=I.charAt(64);if(R){var L=A.indexOf(R);-1!==L&&(x=L)}return function T(A,x,I){for(var M=[],J=0,R=0;R<x;R++)if(R%4){var L=I[A.charCodeAt(R-1)]<<R%4*2,W=I[A.charCodeAt(R)]>>>6-R%4*2;M[J>>>2]|=(L|W)<<24-J%4*8,J++}return w.create(M,J)}(A,x,M)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},f.enc.Base64)},4410:function(tt,de,H){var f,w;tt.exports=(f=H(7585),w=f.lib.WordArray,f.enc.Base64url={stringify:function(A,x=!0){var I=A.words,M=A.sigBytes,J=x?this._safe_map:this._map;A.clamp();for(var R=[],L=0;L<M;L+=3)for(var E=(I[L>>>2]>>>24-L%4*8&255)<<16|(I[L+1>>>2]>>>24-(L+1)%4*8&255)<<8|I[L+2>>>2]>>>24-(L+2)%4*8&255,S=0;S<4&&L+.75*S<M;S++)R.push(J.charAt(E>>>6*(3-S)&63));var _=J.charAt(64);if(_)for(;R.length%4;)R.push(_);return R.join("")},parse:function(A,x=!0){var I=A.length,M=x?this._safe_map:this._map,J=this._reverseMap;if(!J){J=this._reverseMap=[];for(var R=0;R<M.length;R++)J[M.charCodeAt(R)]=R}var L=M.charAt(64);if(L){var W=A.indexOf(L);-1!==W&&(I=W)}return function T(A,x,I){for(var M=[],J=0,R=0;R<x;R++)if(R%4){var L=I[A.charCodeAt(R-1)]<<R%4*2,W=I[A.charCodeAt(R)]>>>6-R%4*2;M[J>>>2]|=(L|W)<<24-J%4*8,J++}return w.create(M,J)}(A,I,J)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},f.enc.Base64url)},9012:function(tt,de,H){var f;tt.exports=(f=H(7585),function(){var w=f.lib.WordArray,F=f.enc;function T(A){return A<<8&4278255360|A>>>8&16711935}F.Utf16=F.Utf16BE={stringify:function(A){for(var x=A.words,I=A.sigBytes,M=[],J=0;J<I;J+=2)M.push(String.fromCharCode(x[J>>>2]>>>16-J%4*8&65535));return M.join("")},parse:function(A){for(var x=A.length,I=[],M=0;M<x;M++)I[M>>>1]|=A.charCodeAt(M)<<16-M%2*16;return w.create(I,2*x)}},F.Utf16LE={stringify:function(A){for(var x=A.words,I=A.sigBytes,M=[],J=0;J<I;J+=2){var R=T(x[J>>>2]>>>16-J%4*8&65535);M.push(String.fromCharCode(R))}return M.join("")},parse:function(A){for(var x=A.length,I=[],M=0;M<x;M++)I[M>>>1]|=T(A.charCodeAt(M)<<16-M%2*16);return w.create(I,2*x)}}}(),f.enc.Utf16)},7865:function(tt,de,H){var c,v,w,F,B,A,f;tt.exports=(f=H(7585),H(5162),H(3764),F=(v=(c=f).lib).WordArray,A=(B=c.algo).EvpKDF=(w=v.Base).extend({cfg:w.extend({keySize:4,hasher:B.MD5,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,I){for(var M,J=this.cfg,R=J.hasher.create(),L=F.create(),W=L.words,P=J.keySize,K=J.iterations;W.length<P;){M&&R.update(M),M=R.update(x).finalize(I),R.reset();for(var E=1;E<K;E++)M=R.finalize(M),R.reset();L.concat(M)}return L.sigBytes=4*P,L}}),c.EvpKDF=function(x,I,M){return A.create(M).compute(x,I)},f.EvpKDF)},1847:function(tt,de,H){var f,F,T;tt.exports=(f=H(7585),H(3057),F=f.lib.CipherParams,T=f.enc.Hex,f.format.Hex={stringify:function(I){return I.ciphertext.toString(T)},parse:function(I){var M=T.parse(I);return F.create({ciphertext:M})}},f.format.Hex)},3764:function(tt,de,H){var f,B;tt.exports=(f=H(7585),B=f.enc.Utf8,void(f.algo.HMAC=f.lib.Base.extend({init:function(x,I){x=this._hasher=new x.init,"string"==typeof I&&(I=B.parse(I));var M=x.blockSize,J=4*M;I.sigBytes>J&&(I=x.finalize(I)),I.clamp();for(var R=this._oKey=I.clone(),L=this._iKey=I.clone(),W=R.words,P=L.words,K=0;K<M;K++)W[K]^=1549556828,P[K]^=909522486;R.sigBytes=L.sigBytes=J,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var I=this._hasher,M=I.finalize(x);return I.reset(),I.finalize(this._oKey.clone().concat(M))}})))},7206:function(tt,de,H){var f;tt.exports=(f=H(7585),H(401),H(7412),H(9012),H(8319),H(4410),H(9493),H(5162),H(1817),H(8769),H(3351),H(6787),H(1971),H(4973),H(3764),H(8812),H(7865),H(3057),H(4424),H(6635),H(3592),H(9354),H(7934),H(4413),H(4630),H(187),H(1691),H(3237),H(1847),H(7466),H(7243),H(486),H(8182),H(3544),f)},7412:function(tt,de,H){var f;tt.exports=(f=H(7585),function(){if("function"==typeof ArrayBuffer){var w=f.lib.WordArray,F=w.init,B=w.init=function(T){if(T instanceof ArrayBuffer&&(T=new Uint8Array(T)),(T instanceof Int8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)&&(T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength)),T instanceof Uint8Array){for(var A=T.byteLength,x=[],I=0;I<A;I++)x[I>>>2]|=T[I]<<24-I%4*8;F.call(this,x,A)}else F.apply(this,arguments)};B.prototype=w}}(),f.lib.WordArray)},9493:function(tt,de,H){var f;tt.exports=(f=H(7585),function(c){var v=f,w=v.lib,F=w.WordArray,B=w.Hasher,T=v.algo,A=[];!function(){for(var L=0;L<64;L++)A[L]=4294967296*c.abs(c.sin(L+1))|0}();var x=T.MD5=B.extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(L,W){for(var P=0;P<16;P++){var K=W+P,E=L[K];L[K]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8)}var S=this._hash.words,_=L[W+0],Q=L[W+1],j=L[W+2],ne=L[W+3],O=L[W+4],N=L[W+5],G=L[W+6],g=L[W+7],V=L[W+8],ae=L[W+9],re=L[W+10],xe=L[W+11],Be=L[W+12],Ve=L[W+13],nt=L[W+14],it=L[W+15],Ue=S[0],qe=S[1],ft=S[2],Je=S[3];Ue=I(Ue,qe,ft,Je,_,7,A[0]),Je=I(Je,Ue,qe,ft,Q,12,A[1]),ft=I(ft,Je,Ue,qe,j,17,A[2]),qe=I(qe,ft,Je,Ue,ne,22,A[3]),Ue=I(Ue,qe,ft,Je,O,7,A[4]),Je=I(Je,Ue,qe,ft,N,12,A[5]),ft=I(ft,Je,Ue,qe,G,17,A[6]),qe=I(qe,ft,Je,Ue,g,22,A[7]),Ue=I(Ue,qe,ft,Je,V,7,A[8]),Je=I(Je,Ue,qe,ft,ae,12,A[9]),ft=I(ft,Je,Ue,qe,re,17,A[10]),qe=I(qe,ft,Je,Ue,xe,22,A[11]),Ue=I(Ue,qe,ft,Je,Be,7,A[12]),Je=I(Je,Ue,qe,ft,Ve,12,A[13]),ft=I(ft,Je,Ue,qe,nt,17,A[14]),Ue=M(Ue,qe=I(qe,ft,Je,Ue,it,22,A[15]),ft,Je,Q,5,A[16]),Je=M(Je,Ue,qe,ft,G,9,A[17]),ft=M(ft,Je,Ue,qe,xe,14,A[18]),qe=M(qe,ft,Je,Ue,_,20,A[19]),Ue=M(Ue,qe,ft,Je,N,5,A[20]),Je=M(Je,Ue,qe,ft,re,9,A[21]),ft=M(ft,Je,Ue,qe,it,14,A[22]),qe=M(qe,ft,Je,Ue,O,20,A[23]),Ue=M(Ue,qe,ft,Je,ae,5,A[24]),Je=M(Je,Ue,qe,ft,nt,9,A[25]),ft=M(ft,Je,Ue,qe,ne,14,A[26]),qe=M(qe,ft,Je,Ue,V,20,A[27]),Ue=M(Ue,qe,ft,Je,Ve,5,A[28]),Je=M(Je,Ue,qe,ft,j,9,A[29]),ft=M(ft,Je,Ue,qe,g,14,A[30]),Ue=J(Ue,qe=M(qe,ft,Je,Ue,Be,20,A[31]),ft,Je,N,4,A[32]),Je=J(Je,Ue,qe,ft,V,11,A[33]),ft=J(ft,Je,Ue,qe,xe,16,A[34]),qe=J(qe,ft,Je,Ue,nt,23,A[35]),Ue=J(Ue,qe,ft,Je,Q,4,A[36]),Je=J(Je,Ue,qe,ft,O,11,A[37]),ft=J(ft,Je,Ue,qe,g,16,A[38]),qe=J(qe,ft,Je,Ue,re,23,A[39]),Ue=J(Ue,qe,ft,Je,Ve,4,A[40]),Je=J(Je,Ue,qe,ft,_,11,A[41]),ft=J(ft,Je,Ue,qe,ne,16,A[42]),qe=J(qe,ft,Je,Ue,G,23,A[43]),Ue=J(Ue,qe,ft,Je,ae,4,A[44]),Je=J(Je,Ue,qe,ft,Be,11,A[45]),ft=J(ft,Je,Ue,qe,it,16,A[46]),Ue=R(Ue,qe=J(qe,ft,Je,Ue,j,23,A[47]),ft,Je,_,6,A[48]),Je=R(Je,Ue,qe,ft,g,10,A[49]),ft=R(ft,Je,Ue,qe,nt,15,A[50]),qe=R(qe,ft,Je,Ue,N,21,A[51]),Ue=R(Ue,qe,ft,Je,Be,6,A[52]),Je=R(Je,Ue,qe,ft,ne,10,A[53]),ft=R(ft,Je,Ue,qe,re,15,A[54]),qe=R(qe,ft,Je,Ue,Q,21,A[55]),Ue=R(Ue,qe,ft,Je,V,6,A[56]),Je=R(Je,Ue,qe,ft,it,10,A[57]),ft=R(ft,Je,Ue,qe,G,15,A[58]),qe=R(qe,ft,Je,Ue,Ve,21,A[59]),Ue=R(Ue,qe,ft,Je,O,6,A[60]),Je=R(Je,Ue,qe,ft,xe,10,A[61]),ft=R(ft,Je,Ue,qe,j,15,A[62]),qe=R(qe,ft,Je,Ue,ae,21,A[63]),S[0]=S[0]+Ue|0,S[1]=S[1]+qe|0,S[2]=S[2]+ft|0,S[3]=S[3]+Je|0},_doFinalize:function(){var L=this._data,W=L.words,P=8*this._nDataBytes,K=8*L.sigBytes;W[K>>>5]|=128<<24-K%32;var E=c.floor(P/4294967296),S=P;W[15+(K+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),W[14+(K+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),L.sigBytes=4*(W.length+1),this._process();for(var _=this._hash,Q=_.words,j=0;j<4;j++){var ne=Q[j];Q[j]=16711935&(ne<<8|ne>>>24)|4278255360&(ne<<24|ne>>>8)}return _},clone:function(){var L=B.clone.call(this);return L._hash=this._hash.clone(),L}});function I(L,W,P,K,E,S,_){var Q=L+(W&P|~W&K)+E+_;return(Q<<S|Q>>>32-S)+W}function M(L,W,P,K,E,S,_){var Q=L+(W&K|P&~K)+E+_;return(Q<<S|Q>>>32-S)+W}function J(L,W,P,K,E,S,_){var Q=L+(W^P^K)+E+_;return(Q<<S|Q>>>32-S)+W}function R(L,W,P,K,E,S,_){var Q=L+(P^(W|~K))+E+_;return(Q<<S|Q>>>32-S)+W}v.MD5=B._createHelper(x),v.HmacMD5=B._createHmacHelper(x)}(Math),f.MD5)},4424:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.mode.CFB=function(){var c=f.lib.BlockCipherMode.extend();function v(w,F,B,T){var A,x=this._iv;x?(A=x.slice(0),this._iv=void 0):A=this._prevBlock,T.encryptBlock(A,0);for(var I=0;I<B;I++)w[F+I]^=A[I]}return c.Encryptor=c.extend({processBlock:function(w,F){var B=this._cipher,T=B.blockSize;v.call(this,w,F,T,B),this._prevBlock=w.slice(F,F+T)}}),c.Decryptor=c.extend({processBlock:function(w,F){var B=this._cipher,T=B.blockSize,A=w.slice(F,F+T);v.call(this,w,F,T,B),this._prevBlock=A}}),c}(),f.mode.CFB)},3592:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.mode.CTRGladman=function(){var c=f.lib.BlockCipherMode.extend();function v(B){if(255==(B>>24&255)){var T=B>>16&255,A=B>>8&255,x=255&B;255===T?(T=0,255===A?(A=0,255===x?x=0:++x):++A):++T,B=0,B+=T<<16,B+=A<<8,B+=x}else B+=1<<24;return B}var F=c.Encryptor=c.extend({processBlock:function(B,T){var A=this._cipher,x=A.blockSize,I=this._iv,M=this._counter;I&&(M=this._counter=I.slice(0),this._iv=void 0),function w(B){return 0===(B[0]=v(B[0]))&&(B[1]=v(B[1])),B}(M);var J=M.slice(0);A.encryptBlock(J,0);for(var R=0;R<x;R++)B[T+R]^=J[R]}});return c.Decryptor=F,c}(),f.mode.CTRGladman)},6635:function(tt,de,H){var c,v,f;tt.exports=(f=H(7585),H(3057),f.mode.CTR=(v=(c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(w,F){var B=this._cipher,T=B.blockSize,A=this._iv,x=this._counter;A&&(x=this._counter=A.slice(0),this._iv=void 0);var I=x.slice(0);B.encryptBlock(I,0),x[T-1]=x[T-1]+1|0;for(var M=0;M<T;M++)w[F+M]^=I[M]}}),c.Decryptor=v,c),f.mode.CTR)},7934:function(tt,de,H){var c,f;tt.exports=(f=H(7585),H(3057),f.mode.ECB=((c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(v,w){this._cipher.encryptBlock(v,w)}}),c.Decryptor=c.extend({processBlock:function(v,w){this._cipher.decryptBlock(v,w)}}),c),f.mode.ECB)},9354:function(tt,de,H){var c,v,f;tt.exports=(f=H(7585),H(3057),f.mode.OFB=(v=(c=f.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(w,F){var B=this._cipher,T=B.blockSize,A=this._iv,x=this._keystream;A&&(x=this._keystream=A.slice(0),this._iv=void 0),B.encryptBlock(x,0);for(var I=0;I<T;I++)w[F+I]^=x[I]}}),c.Decryptor=v,c),f.mode.OFB)},4413:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.pad.AnsiX923={pad:function(c,v){var w=c.sigBytes,F=4*v,B=F-w%F,T=w+B-1;c.clamp(),c.words[T>>>2]|=B<<24-T%4*8,c.sigBytes+=B},unpad:function(c){c.sigBytes-=255&c.words[c.sigBytes-1>>>2]}},f.pad.Ansix923)},4630:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.pad.Iso10126={pad:function(c,v){var w=4*v,F=w-c.sigBytes%w;c.concat(f.lib.WordArray.random(F-1)).concat(f.lib.WordArray.create([F<<24],1))},unpad:function(c){c.sigBytes-=255&c.words[c.sigBytes-1>>>2]}},f.pad.Iso10126)},187:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.pad.Iso97971={pad:function(c,v){c.concat(f.lib.WordArray.create([2147483648],1)),f.pad.ZeroPadding.pad(c,v)},unpad:function(c){f.pad.ZeroPadding.unpad(c),c.sigBytes--}},f.pad.Iso97971)},3237:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.pad.NoPadding={pad:function(){},unpad:function(){}},f.pad.NoPadding)},1691:function(tt,de,H){var f;tt.exports=(f=H(7585),H(3057),f.pad.ZeroPadding={pad:function(c,v){var w=4*v;c.clamp(),c.sigBytes+=w-(c.sigBytes%w||w)},unpad:function(c){var v=c.words,w=c.sigBytes-1;for(w=c.sigBytes-1;w>=0;w--)if(v[w>>>2]>>>24-w%4*8&255){c.sigBytes=w+1;break}}},f.pad.ZeroPadding)},8812:function(tt,de,H){var c,v,w,F,B,A,x,f;tt.exports=(f=H(7585),H(5162),H(3764),F=(v=(c=f).lib).WordArray,A=(B=c.algo).HMAC,x=B.PBKDF2=(w=v.Base).extend({cfg:w.extend({keySize:4,hasher:B.SHA1,iterations:1}),init:function(I){this.cfg=this.cfg.extend(I)},compute:function(I,M){for(var J=this.cfg,R=A.create(J.hasher,I),L=F.create(),W=F.create([1]),P=L.words,K=W.words,E=J.keySize,S=J.iterations;P.length<E;){var _=R.update(M).finalize(W);R.reset();for(var Q=_.words,j=Q.length,ne=_,O=1;O<S;O++){ne=R.finalize(ne),R.reset();for(var N=ne.words,G=0;G<j;G++)Q[G]^=N[G]}L.concat(_),K[0]++}return L.sigBytes=4*E,L}}),c.PBKDF2=function(I,M,J){return x.create(J).compute(I,M)},f.PBKDF2)},3544:function(tt,de,H){var f;tt.exports=(f=H(7585),H(8319),H(9493),H(7865),H(3057),function(){var c=f,w=c.lib.StreamCipher,B=[],T=[],A=[],x=c.algo.RabbitLegacy=w.extend({_doReset:function(){var M=this._key.words,J=this.cfg.iv,R=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],L=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];this._b=0;for(var W=0;W<4;W++)I.call(this);for(W=0;W<8;W++)L[W]^=R[W+4&7];if(J){var P=J.words,K=P[0],E=P[1],S=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),Q=S>>>16|4294901760&_,j=_<<16|65535&S;for(L[0]^=S,L[1]^=Q,L[2]^=_,L[3]^=j,L[4]^=S,L[5]^=Q,L[6]^=_,L[7]^=j,W=0;W<4;W++)I.call(this)}},_doProcessBlock:function(M,J){var R=this._X;I.call(this),B[0]=R[0]^R[5]>>>16^R[3]<<16,B[1]=R[2]^R[7]>>>16^R[5]<<16,B[2]=R[4]^R[1]>>>16^R[7]<<16,B[3]=R[6]^R[3]>>>16^R[1]<<16;for(var L=0;L<4;L++)B[L]=16711935&(B[L]<<8|B[L]>>>24)|4278255360&(B[L]<<24|B[L]>>>8),M[J+L]^=B[L]},blockSize:4,ivSize:2});function I(){for(var M=this._X,J=this._C,R=0;R<8;R++)T[R]=J[R];for(J[0]=J[0]+1295307597+this._b|0,J[1]=J[1]+3545052371+(J[0]>>>0<T[0]>>>0?1:0)|0,J[2]=J[2]+886263092+(J[1]>>>0<T[1]>>>0?1:0)|0,J[3]=J[3]+1295307597+(J[2]>>>0<T[2]>>>0?1:0)|0,J[4]=J[4]+3545052371+(J[3]>>>0<T[3]>>>0?1:0)|0,J[5]=J[5]+886263092+(J[4]>>>0<T[4]>>>0?1:0)|0,J[6]=J[6]+1295307597+(J[5]>>>0<T[5]>>>0?1:0)|0,J[7]=J[7]+3545052371+(J[6]>>>0<T[6]>>>0?1:0)|0,this._b=J[7]>>>0<T[7]>>>0?1:0,R=0;R<8;R++){var L=M[R]+J[R],W=65535&L,P=L>>>16;A[R]=((W*W>>>17)+W*P>>>15)+P*P^((4294901760&L)*L|0)+((65535&L)*L|0)}M[0]=A[0]+(A[7]<<16|A[7]>>>16)+(A[6]<<16|A[6]>>>16)|0,M[1]=A[1]+(A[0]<<8|A[0]>>>24)+A[7]|0,M[2]=A[2]+(A[1]<<16|A[1]>>>16)+(A[0]<<16|A[0]>>>16)|0,M[3]=A[3]+(A[2]<<8|A[2]>>>24)+A[1]|0,M[4]=A[4]+(A[3]<<16|A[3]>>>16)+(A[2]<<16|A[2]>>>16)|0,M[5]=A[5]+(A[4]<<8|A[4]>>>24)+A[3]|0,M[6]=A[6]+(A[5]<<16|A[5]>>>16)+(A[4]<<16|A[4]>>>16)|0,M[7]=A[7]+(A[6]<<8|A[6]>>>24)+A[5]|0}c.RabbitLegacy=w._createHelper(x)}(),f.RabbitLegacy)},8182:function(tt,de,H){var f;tt.exports=(f=H(7585),H(8319),H(9493),H(7865),H(3057),function(){var c=f,w=c.lib.StreamCipher,B=[],T=[],A=[],x=c.algo.Rabbit=w.extend({_doReset:function(){for(var M=this._key.words,J=this.cfg.iv,R=0;R<4;R++)M[R]=16711935&(M[R]<<8|M[R]>>>24)|4278255360&(M[R]<<24|M[R]>>>8);var L=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],W=this._C=[M[2]<<16|M[2]>>>16,4294901760&M[0]|65535&M[1],M[3]<<16|M[3]>>>16,4294901760&M[1]|65535&M[2],M[0]<<16|M[0]>>>16,4294901760&M[2]|65535&M[3],M[1]<<16|M[1]>>>16,4294901760&M[3]|65535&M[0]];for(this._b=0,R=0;R<4;R++)I.call(this);for(R=0;R<8;R++)W[R]^=L[R+4&7];if(J){var P=J.words,K=P[0],E=P[1],S=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8),_=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),Q=S>>>16|4294901760&_,j=_<<16|65535&S;for(W[0]^=S,W[1]^=Q,W[2]^=_,W[3]^=j,W[4]^=S,W[5]^=Q,W[6]^=_,W[7]^=j,R=0;R<4;R++)I.call(this)}},_doProcessBlock:function(M,J){var R=this._X;I.call(this),B[0]=R[0]^R[5]>>>16^R[3]<<16,B[1]=R[2]^R[7]>>>16^R[5]<<16,B[2]=R[4]^R[1]>>>16^R[7]<<16,B[3]=R[6]^R[3]>>>16^R[1]<<16;for(var L=0;L<4;L++)B[L]=16711935&(B[L]<<8|B[L]>>>24)|4278255360&(B[L]<<24|B[L]>>>8),M[J+L]^=B[L]},blockSize:4,ivSize:2});function I(){for(var M=this._X,J=this._C,R=0;R<8;R++)T[R]=J[R];for(J[0]=J[0]+1295307597+this._b|0,J[1]=J[1]+3545052371+(J[0]>>>0<T[0]>>>0?1:0)|0,J[2]=J[2]+886263092+(J[1]>>>0<T[1]>>>0?1:0)|0,J[3]=J[3]+1295307597+(J[2]>>>0<T[2]>>>0?1:0)|0,J[4]=J[4]+3545052371+(J[3]>>>0<T[3]>>>0?1:0)|0,J[5]=J[5]+886263092+(J[4]>>>0<T[4]>>>0?1:0)|0,J[6]=J[6]+1295307597+(J[5]>>>0<T[5]>>>0?1:0)|0,J[7]=J[7]+3545052371+(J[6]>>>0<T[6]>>>0?1:0)|0,this._b=J[7]>>>0<T[7]>>>0?1:0,R=0;R<8;R++){var L=M[R]+J[R],W=65535&L,P=L>>>16;A[R]=((W*W>>>17)+W*P>>>15)+P*P^((4294901760&L)*L|0)+((65535&L)*L|0)}M[0]=A[0]+(A[7]<<16|A[7]>>>16)+(A[6]<<16|A[6]>>>16)|0,M[1]=A[1]+(A[0]<<8|A[0]>>>24)+A[7]|0,M[2]=A[2]+(A[1]<<16|A[1]>>>16)+(A[0]<<16|A[0]>>>16)|0,M[3]=A[3]+(A[2]<<8|A[2]>>>24)+A[1]|0,M[4]=A[4]+(A[3]<<16|A[3]>>>16)+(A[2]<<16|A[2]>>>16)|0,M[5]=A[5]+(A[4]<<8|A[4]>>>24)+A[3]|0,M[6]=A[6]+(A[5]<<16|A[5]>>>16)+(A[4]<<16|A[4]>>>16)|0,M[7]=A[7]+(A[6]<<8|A[6]>>>24)+A[5]|0}c.Rabbit=w._createHelper(x)}(),f.Rabbit)},486:function(tt,de,H){var f;tt.exports=(f=H(7585),H(8319),H(9493),H(7865),H(3057),function(){var c=f,w=c.lib.StreamCipher,F=c.algo,B=F.RC4=w.extend({_doReset:function(){for(var x=this._key,I=x.words,M=x.sigBytes,J=this._S=[],R=0;R<256;R++)J[R]=R;R=0;for(var L=0;R<256;R++){var W=R%M,K=J[R];J[R]=J[L=(L+J[R]+(I[W>>>2]>>>24-W%4*8&255))%256],J[L]=K}this._i=this._j=0},_doProcessBlock:function(x,I){x[I]^=T.call(this)},keySize:8,ivSize:0});function T(){for(var x=this._S,I=this._i,M=this._j,J=0,R=0;R<4;R++){var L=x[I=(I+1)%256];x[I]=x[M=(M+x[I])%256],x[M]=L,J|=x[(x[I]+x[M])%256]<<24-8*R}return this._i=I,this._j=M,J}c.RC4=w._createHelper(B);var A=F.RC4Drop=B.extend({cfg:B.cfg.extend({drop:192}),_doReset:function(){B._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)T.call(this)}});c.RC4Drop=w._createHelper(A)}(),f.RC4)},4973:function(tt,de,H){var f;tt.exports=(f=H(7585),function(c){var v=f,w=v.lib,F=w.WordArray,B=w.Hasher,T=v.algo,A=F.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=F.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),I=F.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=F.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),J=F.create([0,1518500249,1859775393,2400959708,2840853838]),R=F.create([1352829926,1548603684,1836072691,2053994217,0]),L=T.RIPEMD160=B.extend({_doReset:function(){this._hash=F.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,j){for(var ne=0;ne<16;ne++){var O=j+ne,N=Q[O];Q[O]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8)}var Ve,nt,it,Ue,qe,ft,Je,Yt,ht,gr,Rt,G=this._hash.words,g=J.words,V=R.words,ae=A.words,re=x.words,xe=I.words,Be=M.words;for(ft=Ve=G[0],Je=nt=G[1],Yt=it=G[2],ht=Ue=G[3],gr=qe=G[4],ne=0;ne<80;ne+=1)Rt=Ve+Q[j+ae[ne]]|0,Rt+=ne<16?W(nt,it,Ue)+g[0]:ne<32?P(nt,it,Ue)+g[1]:ne<48?K(nt,it,Ue)+g[2]:ne<64?E(nt,it,Ue)+g[3]:S(nt,it,Ue)+g[4],Rt=(Rt=_(Rt|=0,xe[ne]))+qe|0,Ve=qe,qe=Ue,Ue=_(it,10),it=nt,nt=Rt,Rt=ft+Q[j+re[ne]]|0,Rt+=ne<16?S(Je,Yt,ht)+V[0]:ne<32?E(Je,Yt,ht)+V[1]:ne<48?K(Je,Yt,ht)+V[2]:ne<64?P(Je,Yt,ht)+V[3]:W(Je,Yt,ht)+V[4],Rt=(Rt=_(Rt|=0,Be[ne]))+gr|0,ft=gr,gr=ht,ht=_(Yt,10),Yt=Je,Je=Rt;Rt=G[1]+it+ht|0,G[1]=G[2]+Ue+gr|0,G[2]=G[3]+qe+ft|0,G[3]=G[4]+Ve+Je|0,G[4]=G[0]+nt+Yt|0,G[0]=Rt},_doFinalize:function(){var Q=this._data,j=Q.words,ne=8*this._nDataBytes,O=8*Q.sigBytes;j[O>>>5]|=128<<24-O%32,j[14+(O+64>>>9<<4)]=16711935&(ne<<8|ne>>>24)|4278255360&(ne<<24|ne>>>8),Q.sigBytes=4*(j.length+1),this._process();for(var N=this._hash,G=N.words,g=0;g<5;g++){var V=G[g];G[g]=16711935&(V<<8|V>>>24)|4278255360&(V<<24|V>>>8)}return N},clone:function(){var Q=B.clone.call(this);return Q._hash=this._hash.clone(),Q}});function W(Q,j,ne){return Q^j^ne}function P(Q,j,ne){return Q&j|~Q&ne}function K(Q,j,ne){return(Q|~j)^ne}function E(Q,j,ne){return Q&ne|j&~ne}function S(Q,j,ne){return Q^(j|~ne)}function _(Q,j){return Q<<j|Q>>>32-j}v.RIPEMD160=B._createHelper(L),v.HmacRIPEMD160=B._createHmacHelper(L)}(Math),f.RIPEMD160)},5162:function(tt,de,H){var c,v,w,F,T,A,f;tt.exports=(f=H(7585),w=(v=(c=f).lib).WordArray,T=[],A=c.algo.SHA1=(F=v.Hasher).extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,I){for(var M=this._hash.words,J=M[0],R=M[1],L=M[2],W=M[3],P=M[4],K=0;K<80;K++){if(K<16)T[K]=0|x[I+K];else{var E=T[K-3]^T[K-8]^T[K-14]^T[K-16];T[K]=E<<1|E>>>31}var S=(J<<5|J>>>27)+P+T[K];S+=K<20?1518500249+(R&L|~R&W):K<40?1859775393+(R^L^W):K<60?(R&L|R&W|L&W)-1894007588:(R^L^W)-899497514,P=W,W=L,L=R<<30|R>>>2,R=J,J=S}M[0]=M[0]+J|0,M[1]=M[1]+R|0,M[2]=M[2]+L|0,M[3]=M[3]+W|0,M[4]=M[4]+P|0},_doFinalize:function(){var x=this._data,I=x.words,M=8*this._nDataBytes,J=8*x.sigBytes;return I[J>>>5]|=128<<24-J%32,I[14+(J+64>>>9<<4)]=Math.floor(M/4294967296),I[15+(J+64>>>9<<4)]=M,x.sigBytes=4*I.length,this._process(),this._hash},clone:function(){var x=F.clone.call(this);return x._hash=this._hash.clone(),x}}),c.SHA1=F._createHelper(A),c.HmacSHA1=F._createHmacHelper(A),f.SHA1)},8769:function(tt,de,H){var c,w,F,B,T,f;tt.exports=(f=H(7585),H(1817),w=(c=f).lib.WordArray,T=(F=c.algo).SHA224=(B=F.SHA256).extend({_doReset:function(){this._hash=new w.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var A=B._doFinalize.call(this);return A.sigBytes-=4,A}}),c.SHA224=B._createHelper(T),c.HmacSHA224=B._createHmacHelper(T),f.SHA224)},1817:function(tt,de,H){var f;tt.exports=(f=H(7585),function(c){var v=f,w=v.lib,F=w.WordArray,B=w.Hasher,T=v.algo,A=[],x=[];!function(){function J(P){for(var K=c.sqrt(P),E=2;E<=K;E++)if(!(P%E))return!1;return!0}function R(P){return 4294967296*(P-(0|P))|0}for(var L=2,W=0;W<64;)J(L)&&(W<8&&(A[W]=R(c.pow(L,.5))),x[W]=R(c.pow(L,1/3)),W++),L++}();var I=[],M=T.SHA256=B.extend({_doReset:function(){this._hash=new F.init(A.slice(0))},_doProcessBlock:function(J,R){for(var L=this._hash.words,W=L[0],P=L[1],K=L[2],E=L[3],S=L[4],_=L[5],Q=L[6],j=L[7],ne=0;ne<64;ne++){if(ne<16)I[ne]=0|J[R+ne];else{var O=I[ne-15],G=I[ne-2];I[ne]=((O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3)+I[ne-7]+((G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10)+I[ne-16]}var ae=W&P^W&K^P&K,Be=j+((S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25))+(S&_^~S&Q)+x[ne]+I[ne];j=Q,Q=_,_=S,S=E+Be|0,E=K,K=P,P=W,W=Be+(((W<<30|W>>>2)^(W<<19|W>>>13)^(W<<10|W>>>22))+ae)|0}L[0]=L[0]+W|0,L[1]=L[1]+P|0,L[2]=L[2]+K|0,L[3]=L[3]+E|0,L[4]=L[4]+S|0,L[5]=L[5]+_|0,L[6]=L[6]+Q|0,L[7]=L[7]+j|0},_doFinalize:function(){var J=this._data,R=J.words,L=8*this._nDataBytes,W=8*J.sigBytes;return R[W>>>5]|=128<<24-W%32,R[14+(W+64>>>9<<4)]=c.floor(L/4294967296),R[15+(W+64>>>9<<4)]=L,J.sigBytes=4*R.length,this._process(),this._hash},clone:function(){var J=B.clone.call(this);return J._hash=this._hash.clone(),J}});v.SHA256=B._createHelper(M),v.HmacSHA256=B._createHmacHelper(M)}(Math),f.SHA256)},1971:function(tt,de,H){var f;tt.exports=(f=H(7585),H(401),function(c){var v=f,w=v.lib,F=w.WordArray,B=w.Hasher,A=v.x64.Word,x=v.algo,I=[],M=[],J=[];!function(){for(var W=1,P=0,K=0;K<24;K++){I[W+5*P]=(K+1)*(K+2)/2%64;var S=(2*W+3*P)%5;W=P%5,P=S}for(W=0;W<5;W++)for(P=0;P<5;P++)M[W+5*P]=P+(2*W+3*P)%5*5;for(var _=1,Q=0;Q<24;Q++){for(var j=0,ne=0,O=0;O<7;O++){if(1&_){var N=(1<<O)-1;N<32?ne^=1<<N:j^=1<<N-32}128&_?_=_<<1^113:_<<=1}J[Q]=A.create(j,ne)}}();var R=[];!function(){for(var W=0;W<25;W++)R[W]=A.create()}();var L=x.SHA3=B.extend({cfg:B.cfg.extend({outputLength:512}),_doReset:function(){for(var W=this._state=[],P=0;P<25;P++)W[P]=new A.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(W,P){for(var K=this._state,E=this.blockSize/2,S=0;S<E;S++){var _=W[P+2*S],Q=W[P+2*S+1];_=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),(j=K[S]).high^=Q=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),j.low^=_}for(var ne=0;ne<24;ne++){for(var O=0;O<5;O++){for(var N=0,G=0,g=0;g<5;g++)N^=(j=K[O+5*g]).high,G^=j.low;var V=R[O];V.high=N,V.low=G}for(O=0;O<5;O++){var ae=R[(O+4)%5],re=R[(O+1)%5],xe=re.high,Be=re.low;for(N=ae.high^(xe<<1|Be>>>31),G=ae.low^(Be<<1|xe>>>31),g=0;g<5;g++)(j=K[O+5*g]).high^=N,j.low^=G}for(var Ve=1;Ve<25;Ve++){var nt=(j=K[Ve]).high,it=j.low,Ue=I[Ve];Ue<32?(N=nt<<Ue|it>>>32-Ue,G=it<<Ue|nt>>>32-Ue):(N=it<<Ue-32|nt>>>64-Ue,G=nt<<Ue-32|it>>>64-Ue);var qe=R[M[Ve]];qe.high=N,qe.low=G}var ft=R[0],Je=K[0];for(ft.high=Je.high,ft.low=Je.low,O=0;O<5;O++)for(g=0;g<5;g++){var Yt=R[Ve=O+5*g],ht=R[(O+1)%5+5*g],gr=R[(O+2)%5+5*g];(j=K[Ve]).high=Yt.high^~ht.high&gr.high,j.low=Yt.low^~ht.low&gr.low}var j,Rt=J[ne];(j=K[0]).high^=Rt.high,j.low^=Rt.low}},_doFinalize:function(){var W=this._data,P=W.words,E=8*W.sigBytes,S=32*this.blockSize;P[E>>>5]|=1<<24-E%32,P[(c.ceil((E+1)/S)*S>>>5)-1]|=128,W.sigBytes=4*P.length,this._process();for(var _=this._state,Q=this.cfg.outputLength/8,j=Q/8,ne=[],O=0;O<j;O++){var N=_[O],G=N.high,g=N.low;G=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),ne.push(g=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)),ne.push(G)}return new F.init(ne,Q)},clone:function(){for(var W=B.clone.call(this),P=W._state=this._state.slice(0),K=0;K<25;K++)P[K]=P[K].clone();return W}});v.SHA3=B._createHelper(L),v.HmacSHA3=B._createHmacHelper(L)}(Math),f.SHA3)},6787:function(tt,de,H){var c,v,w,F,B,T,A,f;tt.exports=(f=H(7585),H(401),H(3351),w=(v=(c=f).x64).Word,F=v.WordArray,A=(B=c.algo).SHA384=(T=B.SHA512).extend({_doReset:function(){this._hash=new F.init([new w.init(3418070365,3238371032),new w.init(1654270250,914150663),new w.init(2438529370,812702999),new w.init(355462360,4144912697),new w.init(1731405415,4290775857),new w.init(2394180231,1750603025),new w.init(3675008525,1694076839),new w.init(1203062813,3204075428)])},_doFinalize:function(){var x=T._doFinalize.call(this);return x.sigBytes-=16,x}}),c.SHA384=T._createHelper(A),c.HmacSHA384=T._createHmacHelper(A),f.SHA384)},3351:function(tt,de,H){var f;tt.exports=(f=H(7585),H(401),function(){var c=f,w=c.lib.Hasher,F=c.x64,B=F.Word,T=F.WordArray,A=c.algo;function x(){return B.create.apply(B,arguments)}var I=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],M=[];!function(){for(var R=0;R<80;R++)M[R]=x()}();var J=A.SHA512=w.extend({_doReset:function(){this._hash=new T.init([new B.init(1779033703,4089235720),new B.init(3144134277,2227873595),new B.init(1013904242,4271175723),new B.init(2773480762,1595750129),new B.init(1359893119,2917565137),new B.init(2600822924,725511199),new B.init(528734635,4215389547),new B.init(1541459225,327033209)])},_doProcessBlock:function(R,L){for(var W=this._hash.words,P=W[0],K=W[1],E=W[2],S=W[3],_=W[4],Q=W[5],j=W[6],ne=W[7],O=P.high,N=P.low,G=K.high,g=K.low,V=E.high,ae=E.low,re=S.high,xe=S.low,Be=_.high,Ve=_.low,nt=Q.high,it=Q.low,Ue=j.high,qe=j.low,ft=ne.high,Je=ne.low,Yt=O,ht=N,gr=G,Rt=g,xr=V,sr=ae,et=re,gt=xe,X=Be,Z=Ve,ue=nt,Le=it,Xe=Ue,ee=qe,Me=ft,Ot=Je,ar=0;ar<80;ar++){var rr,Bt,Wt=M[ar];if(ar<16)Bt=Wt.high=0|R[L+2*ar],rr=Wt.low=0|R[L+2*ar+1];else{var yr=M[ar-15],Sr=yr.high,te=yr.low,on=(te>>>1|Sr<<31)^(te>>>8|Sr<<24)^(te>>>7|Sr<<25),qr=M[ar-2],br=qr.high,kt=qr.low,Br=(kt>>>19|br<<13)^(kt<<3|br>>>29)^(kt>>>6|br<<26),Pr=M[ar-7],hn=M[ar-16],Gn=hn.low;Wt.high=Bt=(Bt=(Bt=((Sr>>>1|te<<31)^(Sr>>>8|te<<24)^Sr>>>7)+Pr.high+((rr=on+Pr.low)>>>0<on>>>0?1:0))+((br>>>19|kt<<13)^(br<<3|kt>>>29)^br>>>6)+((rr+=Br)>>>0<Br>>>0?1:0))+hn.high+((rr+=Gn)>>>0<Gn>>>0?1:0),Wt.low=rr}var Nr,qn=X&ue^~X&Xe,Zn=Z&Le^~Z&ee,dn=Yt&gr^Yt&xr^gr&xr,Jn=(ht>>>28|Yt<<4)^(ht<<30|Yt>>>2)^(ht<<25|Yt>>>7),xn=I[ar],mn=xn.low,Fr=Me+((X>>>14|Z<<18)^(X>>>18|Z<<14)^(X<<23|Z>>>9))+((Nr=Ot+((Z>>>14|X<<18)^(Z>>>18|X<<14)^(Z<<23|X>>>9)))>>>0<Ot>>>0?1:0),rn=Jn+(ht&Rt^ht&sr^Rt&sr);Me=Xe,Ot=ee,Xe=ue,ee=Le,ue=X,Le=Z,X=et+(Fr=(Fr=(Fr=Fr+qn+((Nr+=Zn)>>>0<Zn>>>0?1:0))+xn.high+((Nr+=mn)>>>0<mn>>>0?1:0))+Bt+((Nr+=rr)>>>0<rr>>>0?1:0))+((Z=gt+Nr|0)>>>0<gt>>>0?1:0)|0,et=xr,gt=sr,xr=gr,sr=Rt,gr=Yt,Rt=ht,Yt=Fr+(((Yt>>>28|ht<<4)^(Yt<<30|ht>>>2)^(Yt<<25|ht>>>7))+dn+(rn>>>0<Jn>>>0?1:0))+((ht=Nr+rn|0)>>>0<Nr>>>0?1:0)|0}N=P.low=N+ht,P.high=O+Yt+(N>>>0<ht>>>0?1:0),g=K.low=g+Rt,K.high=G+gr+(g>>>0<Rt>>>0?1:0),ae=E.low=ae+sr,E.high=V+xr+(ae>>>0<sr>>>0?1:0),xe=S.low=xe+gt,S.high=re+et+(xe>>>0<gt>>>0?1:0),Ve=_.low=Ve+Z,_.high=Be+X+(Ve>>>0<Z>>>0?1:0),it=Q.low=it+Le,Q.high=nt+ue+(it>>>0<Le>>>0?1:0),qe=j.low=qe+ee,j.high=Ue+Xe+(qe>>>0<ee>>>0?1:0),Je=ne.low=Je+Ot,ne.high=ft+Me+(Je>>>0<Ot>>>0?1:0)},_doFinalize:function(){var R=this._data,L=R.words,W=8*this._nDataBytes,P=8*R.sigBytes;return L[P>>>5]|=128<<24-P%32,L[30+(P+128>>>10<<5)]=Math.floor(W/4294967296),L[31+(P+128>>>10<<5)]=W,R.sigBytes=4*L.length,this._process(),this._hash.toX32()},clone:function(){var R=w.clone.call(this);return R._hash=this._hash.clone(),R},blockSize:32});c.SHA512=w._createHelper(J),c.HmacSHA512=w._createHmacHelper(J)}(),f.SHA512)},7243:function(tt,de,H){var f;tt.exports=(f=H(7585),H(8319),H(9493),H(7865),H(3057),function(){var c=f,v=c.lib,w=v.WordArray,F=v.BlockCipher,B=c.algo,T=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],A=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],I=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],M=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],J=B.DES=F.extend({_doReset:function(){for(var K=this._key.words,E=[],S=0;S<56;S++){var _=T[S]-1;E[S]=K[_>>>5]>>>31-_%32&1}for(var Q=this._subKeys=[],j=0;j<16;j++){var ne=Q[j]=[],O=x[j];for(S=0;S<24;S++)ne[S/6|0]|=E[(A[S]-1+O)%28]<<31-S%6,ne[4+(S/6|0)]|=E[28+(A[S+24]-1+O)%28]<<31-S%6;for(ne[0]=ne[0]<<1|ne[0]>>>31,S=1;S<7;S++)ne[S]=ne[S]>>>4*(S-1)+3;ne[7]=ne[7]<<5|ne[7]>>>27}var N=this._invSubKeys=[];for(S=0;S<16;S++)N[S]=Q[15-S]},encryptBlock:function(P,K){this._doCryptBlock(P,K,this._subKeys)},decryptBlock:function(P,K){this._doCryptBlock(P,K,this._invSubKeys)},_doCryptBlock:function(P,K,E){this._lBlock=P[K],this._rBlock=P[K+1],R.call(this,4,252645135),R.call(this,16,65535),L.call(this,2,858993459),L.call(this,8,16711935),R.call(this,1,1431655765);for(var S=0;S<16;S++){for(var _=E[S],Q=this._lBlock,j=this._rBlock,ne=0,O=0;O<8;O++)ne|=I[O][((j^_[O])&M[O])>>>0];this._lBlock=j,this._rBlock=Q^ne}var N=this._lBlock;this._lBlock=this._rBlock,this._rBlock=N,R.call(this,1,1431655765),L.call(this,8,16711935),L.call(this,2,858993459),R.call(this,16,65535),R.call(this,4,252645135),P[K]=this._lBlock,P[K+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function R(P,K){var E=(this._lBlock>>>P^this._rBlock)&K;this._rBlock^=E,this._lBlock^=E<<P}function L(P,K){var E=(this._rBlock>>>P^this._lBlock)&K;this._lBlock^=E,this._rBlock^=E<<P}c.DES=F._createHelper(J);var W=B.TripleDES=F.extend({_doReset:function(){var K=this._key.words;if(2!==K.length&&4!==K.length&&K.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=K.slice(0,2),S=K.length<4?K.slice(0,2):K.slice(2,4),_=K.length<6?K.slice(0,2):K.slice(4,6);this._des1=J.createEncryptor(w.create(E)),this._des2=J.createEncryptor(w.create(S)),this._des3=J.createEncryptor(w.create(_))},encryptBlock:function(P,K){this._des1.encryptBlock(P,K),this._des2.decryptBlock(P,K),this._des3.encryptBlock(P,K)},decryptBlock:function(P,K){this._des3.decryptBlock(P,K),this._des2.encryptBlock(P,K),this._des1.decryptBlock(P,K)},keySize:6,ivSize:2,blockSize:2});c.TripleDES=F._createHelper(W)}(),f.TripleDES)},401:function(tt,de,H){var w,F,B,T,f;tt.exports=(f=H(7585),F=(w=f.lib).Base,B=w.WordArray,(T=f.x64={}).Word=F.extend({init:function(I,M){this.high=I,this.low=M}}),T.WordArray=F.extend({init:function(I,M){I=this.words=I||[],this.sigBytes=null!=M?M:8*I.length},toX32:function(){for(var I=this.words,M=I.length,J=[],R=0;R<M;R++){var L=I[R];J.push(L.high),J.push(L.low)}return B.create(J,this.sigBytes)},clone:function(){for(var I=F.clone.call(this),M=I.words=this.words.slice(0),J=M.length,R=0;R<J;R++)M[R]=M[R].clone();return I}}),f)},4901:tt=>{"use strict";var de={single_source_shortest_paths:function(H,f,c){var v={},w={};w[f]=0;var B,T,A,x,I,J,F=de.PriorityQueue.make();for(F.push(f,0);!F.empty();)for(A in x=(B=F.pop()).cost,I=H[T=B.value]||{})I.hasOwnProperty(A)&&(J=x+I[A],(typeof w[A]>"u"||w[A]>J)&&(w[A]=J,F.push(A,J),v[A]=T));if(typeof c<"u"&&typeof w[c]>"u"){var W=["Could not find a path from ",f," to ",c,"."].join("");throw new Error(W)}return v},extract_shortest_path_from_predecessor_list:function(H,f){for(var c=[],v=f;v;)c.push(v),v=H[v];return c.reverse(),c},find_path:function(H,f,c){var v=de.single_source_shortest_paths(H,f,c);return de.extract_shortest_path_from_predecessor_list(v,c)},PriorityQueue:{make:function(H){var v,f=de.PriorityQueue,c={};for(v in H=H||{},f)f.hasOwnProperty(v)&&(c[v]=f[v]);return c.queue=[],c.sorter=H.sorter||f.default_sorter,c},default_sorter:function(H,f){return H.cost-f.cost},push:function(H,f){this.queue.push({value:H,cost:f}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};tt.exports=de},8419:tt=>{"use strict";tt.exports=function(H){for(var f=[],c=H.length,v=0;v<c;v++){var w=H.charCodeAt(v);if(w>=55296&&w<=56319&&c>v+1){var F=H.charCodeAt(v+1);F>=56320&&F<=57343&&(w=1024*(w-55296)+F-56320+65536,v+=1)}w<128?f.push(w):w<2048?(f.push(w>>6|192),f.push(63&w|128)):w<55296||w>=57344&&w<65536?(f.push(w>>12|224),f.push(w>>6&63|128),f.push(63&w|128)):w>=65536&&w<=1114111?(f.push(w>>18|240),f.push(w>>12&63|128),f.push(w>>6&63|128),f.push(63&w|128)):f.push(239,191,189)}return new Uint8Array(f).buffer}},4327:function(tt,de){var c;void 0!==(c=function(){"use strict";function w(I,M,J){var R=new XMLHttpRequest;R.open("GET",I),R.responseType="blob",R.onload=function(){x(R.response,M,J)},R.onerror=function(){console.error("could not download file")},R.send()}function F(I){var M=new XMLHttpRequest;M.open("HEAD",I,!1);try{M.send()}catch{}return 200<=M.status&&299>=M.status}function B(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var M=document.createEvent("MouseEvents");M.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(M)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,A=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),x=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(I,M,J){var R=T.URL||T.webkitURL,L=document.createElement("a");L.download=M=M||I.name||"download",L.rel="noopener","string"==typeof I?(L.href=I,L.origin===location.origin?B(L):F(L.href)?w(I,M,J):B(L,L.target="_blank")):(L.href=R.createObjectURL(I),setTimeout(function(){R.revokeObjectURL(L.href)},4e4),setTimeout(function(){B(L)},0))}:"msSaveOrOpenBlob"in navigator?function(I,M,J){if(M=M||I.name||"download","string"!=typeof I)navigator.msSaveOrOpenBlob(function v(I,M){return typeof M>"u"?M={autoBom:!1}:"object"!=typeof M&&(console.warn("Deprecated: Expected third argument to be a object"),M={autoBom:!M}),M.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(I.type)?new Blob(["\ufeff",I],{type:I.type}):I}(I,J),M);else if(F(I))w(I,M,J);else{var R=document.createElement("a");R.href=I,R.target="_blank",setTimeout(function(){B(R)})}}:function(I,M,J,R){if((R=R||open("","_blank"))&&(R.document.title=R.document.body.innerText="downloading..."),"string"==typeof I)return w(I,M,J);var L="application/octet-stream"===I.type,W=/constructor/i.test(T.HTMLElement)||T.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||L&&W||A)&&typeof FileReader<"u"){var K=new FileReader;K.onloadend=function(){var _=K.result;_=P?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=_:location=_,R=null},K.readAsDataURL(I)}else{var E=T.URL||T.webkitURL,S=E.createObjectURL(I);R?R.location=S:location.href=S,R=null,setTimeout(function(){E.revokeObjectURL(S)},4e4)}});T.saveAs=x.saveAs=x,tt.exports=x}.apply(de,[]))&&(tt.exports=c)},9140:function(tt,de){!function(H){"use strict";var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,e){z.__proto__=e}||function(z,e){for(var r in e)e.hasOwnProperty(r)&&(z[r]=e[r])};var F=function(z){function e(r){var a=this.constructor,o=z.call(this,r)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1}),function v(z,e){var r=Object.setPrototypeOf;r?r(z,e):z.__proto__=e}(o,a.prototype),function w(z,e){void 0===e&&(e=z.constructor);var r=Error.captureStackTrace;r&&r(z,e)}(o),o}return function c(z,e){function r(){this.constructor=z}f(z,e),z.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,z),e}(Error);let B=(()=>{class z extends F{constructor(r){super(r),this.message=r}getKind(){return this.constructor.kind}}return z.kind="Exception",z})(),T=(()=>{class z extends B{}return z.kind="ArgumentException",z})(),A=(()=>{class z extends B{}return z.kind="IllegalArgumentException",z})();class x{constructor(e){if(this.binarizer=e,null===e)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,a,o){const l=this.binarizer.getLuminanceSource().crop(e,r,a,o);return new x(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let I=(()=>{class z extends B{static getChecksumInstance(){return new z}}return z.kind="ChecksumException",z})();class M{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(e,r,a,o,l){for(;l--;)a[o++]=e[r++]}static currentTimeMillis(){return Date.now()}}let R=(()=>{class z extends B{}return z.kind="IndexOutOfBoundsException",z})(),L=(()=>{class z extends R{constructor(r,a){super(a),this.index=r,this.message=a}}return z.kind="ArrayIndexOutOfBoundsException",z})();class W{static fill(e,r){for(let a=0,o=e.length;a<o;a++)e[a]=r}static fillWithin(e,r,a,o){W.rangeCheck(e.length,r,a);for(let l=r;l<a;l++)e[l]=o}static rangeCheck(e,r,a){if(r>a)throw new A("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new L(r);if(a>e)throw new L(a)}static asList(...e){return e}static create(e,r,a){return Array.from({length:e}).map(l=>Array.from({length:r}).fill(a))}static createInt32Array(e,r,a){return Array.from({length:e}).map(l=>Int32Array.from({length:r}).fill(a))}static equals(e,r){if(!(e&&r&&e.length&&r.length&&e.length===r.length))return!1;for(let a=0,o=e.length;a<o;a++)if(e[a]!==r[a])return!1;return!0}static hashCode(e){if(null===e)return 0;let r=1;for(const a of e)r=31*r+a;return r}static fillUint8Array(e,r){for(let a=0;a!==e.length;a++)e[a]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const a=new Uint8Array(r);return a.set(e),a}return e.slice(0,r)}static copyOfRange(e,r,a){const o=a-r,l=new Int32Array(o);return J.arraycopy(e,r,l,0,o),l}static binarySearch(e,r,a){void 0===a&&(a=W.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const d=l+o>>1,p=a(r,e[d]);if(p>0)o=d+1;else{if(!(p<0))return d;l=d-1}}return-o-1}static numberComparator(e,r){return e-r}}class P{static numberOfTrailingZeros(e){let r;if(0===e)return 32;let a=31;return r=e<<16,0!==r&&(a-=16,e=r),r=e<<8,0!==r&&(a-=8,e=r),r=e<<4,0!==r&&(a-=4,e=r),r=e<<2,0!==r&&(a-=2,e=r),a-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let r=1;return e>>>16==0&&(r+=16,e<<=16),e>>>24==0&&(r+=8,e<<=8),e>>>28==0&&(r+=4,e<<=4),e>>>30==0&&(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,63&(e+=e>>>8)+(e>>>16)}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r){return parseInt(e,r)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(e,r){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=r??K.makeArray(e))}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const r=K.makeArray(e);J.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const r=this.size;if(e>=r)return r;const a=this.bits;let o=Math.floor(e/32),l=a[o];l&=~((1<<(31&e))-1);const d=a.length;for(;0===l;){if(++o===d)return r;l=a[o]}const p=32*o+P.numberOfTrailingZeros(l);return p>r?r:p}getNextUnset(e){const r=this.size;if(e>=r)return r;const a=this.bits;let o=Math.floor(e/32),l=~a[o];l&=~((1<<(31&e))-1);const d=a.length;for(;0===l;){if(++o===d)return r;l=~a[o]}const p=32*o+P.numberOfTrailingZeros(l);return p>r?r:p}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new A;if(r===e)return;r--;const a=Math.floor(e/32),o=Math.floor(r/32),l=this.bits;for(let d=a;d<=o;d++)l[d]|=(2<<(d<o?31:31&r))-(1<<(d>a?0:31&e))}clear(){const e=this.bits.length,r=this.bits;for(let a=0;a<e;a++)r[a]=0}isRange(e,r,a){if(r<e||e<0||r>this.size)throw new A;if(r===e)return!0;r--;const o=Math.floor(e/32),l=Math.floor(r/32),d=this.bits;for(let p=o;p<=l;p++){const $=(2<<(p<l?31:31&r))-(1<<(p>o?0:31&e))&4294967295;if((d[p]&$)!==(a?$:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,r){if(r<0||r>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit(1==(e>>a-1&1))}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(e.get(a))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const r=this.bits;for(let a=0,o=r.length;a<o;a++)r[a]^=e.bits[a]}toBytes(e,r,a,o){for(let l=0;l<o;l++){let d=0;for(let p=0;p<8;p++)this.get(e)&&(d|=1<<7-p),e++;r[a+l]=d}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,o=this.bits;for(let l=0;l<a;l++){let d=o[l];d=d>>1&1431655765|(1431655765&d)<<1,d=d>>2&858993459|(858993459&d)<<2,d=d>>4&252645135|(252645135&d)<<4,d=d>>8&16711935|(16711935&d)<<8,d=d>>16&65535|(65535&d)<<16,e[r-l]=d}if(this.size!==32*a){const l=32*a-this.size;let d=e[0]>>>l;for(let p=1;p<a;p++){const C=e[p];d|=C<<32-l,e[p-1]=d,d=C>>>l}e[a-1]=d}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){return e instanceof K&&this.size===e.size&&W.equals(this.bits,e.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let e="";for(let r=0,a=this.size;r<a;r++)0==(7&r)&&(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new K(this.size,this.bits.slice())}}var E=(()=>{return(z=E||(E={}))[z.OTHER=0]="OTHER",z[z.PURE_BARCODE=1]="PURE_BARCODE",z[z.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",z[z.TRY_HARDER=3]="TRY_HARDER",z[z.CHARACTER_SET=4]="CHARACTER_SET",z[z.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",z[z.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",z[z.ASSUME_GS1=7]="ASSUME_GS1",z[z.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",z[z.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",z[z.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",E;var z})(),S=E;let _=(()=>{class z extends B{static getFormatInstance(){return new z}}return z.kind="FormatException",z})();var Q=(()=>{return(z=Q||(Q={}))[z.Cp437=0]="Cp437",z[z.ISO8859_1=1]="ISO8859_1",z[z.ISO8859_2=2]="ISO8859_2",z[z.ISO8859_3=3]="ISO8859_3",z[z.ISO8859_4=4]="ISO8859_4",z[z.ISO8859_5=5]="ISO8859_5",z[z.ISO8859_6=6]="ISO8859_6",z[z.ISO8859_7=7]="ISO8859_7",z[z.ISO8859_8=8]="ISO8859_8",z[z.ISO8859_9=9]="ISO8859_9",z[z.ISO8859_10=10]="ISO8859_10",z[z.ISO8859_11=11]="ISO8859_11",z[z.ISO8859_13=12]="ISO8859_13",z[z.ISO8859_14=13]="ISO8859_14",z[z.ISO8859_15=14]="ISO8859_15",z[z.ISO8859_16=15]="ISO8859_16",z[z.SJIS=16]="SJIS",z[z.Cp1250=17]="Cp1250",z[z.Cp1251=18]="Cp1251",z[z.Cp1252=19]="Cp1252",z[z.Cp1256=20]="Cp1256",z[z.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",z[z.UTF8=22]="UTF8",z[z.ASCII=23]="ASCII",z[z.Big5=24]="Big5",z[z.GB18030=25]="GB18030",z[z.EUC_KR=26]="EUC_KR",Q;var z})();class j{constructor(e,r,a,...o){this.valueIdentifier=e,this.name=a,this.values="number"==typeof r?Int32Array.from([r]):r,this.otherEncodingNames=o,j.VALUE_IDENTIFIER_TO_ECI.set(e,this),j.NAME_TO_ECI.set(a,this);const l=this.values;for(let d=0,p=l.length;d!==p;d++)j.VALUES_TO_ECI.set(l[d],this);for(const d of o)j.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new _("incorect value");const r=j.VALUES_TO_ECI.get(e);if(void 0===r)throw new _("incorect value");return r}static getCharacterSetECIByName(e){const r=j.NAME_TO_ECI.get(e);if(void 0===r)throw new _("incorect value");return r}equals(e){if(!(e instanceof j))return!1;const r=e;return this.getName()===r.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(Q.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(Q.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(Q.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(Q.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(Q.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(Q.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(Q.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(Q.Big5,28,"Big5"),j.GB18030=new j(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(Q.EUC_KR,30,"EUC_KR","EUC-KR");let ne=(()=>{class z extends B{}return z.kind="UnsupportedOperationException",z})();class O{static decode(e,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)}static shouldDecodeOnFallback(e){return!O.isBrowser()&&"ISO-8859-1"===e}static encode(e,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof j?e:j.getCharacterSetECIByName(e)}static decodeFallback(e,r){const a=this.encodingCharacterSet(r);if(O.isDecodeFallbackSupported(a)){let o="";for(let l=0,d=e.length;l<d;l++){let p=e[l].toString(16);p.length<2&&(p="0"+p),o+="%"+p}return decodeURIComponent(o)}if(a.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ne(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(j.UTF8)||e.equals(j.ISO8859_1)||e.equals(j.ASCII)}static encodeFallback(e){const a=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<a.length;l++)o.push(a[l].charCodeAt(0));return new Uint8Array(o)}}class N{static castAsNonUtf8Char(e,r=null){const a=r?r.getName():this.ISO88591;return O.decode(new Uint8Array([e]),a)}static guessEncoding(e,r){if(null!=r&&void 0!==r.get(S.CHARACTER_SET))return r.get(S.CHARACTER_SET).toString();const a=e.length;let o=!0,l=!0,d=!0,p=0,C=0,U=0,$=0,he=0,Ie=0,De=0,Qe=0,rt=0,pt=0,Et=0;const zt=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let or=0;or<a&&(o||l||d);or++){const Nt=255&e[or];d&&(p>0?0==(128&Nt)?d=!1:p--:0!=(128&Nt)&&(0==(64&Nt)?d=!1:(p++,0==(32&Nt)?C++:(p++,0==(16&Nt)?U++:(p++,0==(8&Nt)?$++:d=!1))))),o&&(Nt>127&&Nt<160?o=!1:Nt>159&&(Nt<192||215===Nt||247===Nt)&&Et++),l&&(he>0?Nt<64||127===Nt||Nt>252?l=!1:he--:128===Nt||160===Nt||Nt>239?l=!1:Nt>160&&Nt<224?(Ie++,Qe=0,De++,De>rt&&(rt=De)):Nt>127?(he++,De=0,Qe++,Qe>pt&&(pt=Qe)):(De=0,Qe=0))}return d&&p>0&&(d=!1),l&&he>0&&(l=!1),d&&(zt||C+U+$>0)?N.UTF8:l&&(N.ASSUME_SHIFT_JIS||rt>=3||pt>=3)?N.SHIFT_JIS:o&&l?2===rt&&2===Ie||10*Et>=a?N.SHIFT_JIS:N.ISO88591:o?N.ISO88591:l?N.SHIFT_JIS:d?N.UTF8:N.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let a=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(d,p,C,U,$,he){if("%%"===d)return"%";if(void 0===r[++a])return;d=U?parseInt(U.substr(1)):void 0;let De,Ie=$?parseInt($.substr(1)):void 0;switch(he){case"s":De=r[a];break;case"c":De=r[a][0];break;case"f":De=parseFloat(r[a]).toFixed(d);break;case"p":De=parseFloat(r[a]).toPrecision(d);break;case"e":De=parseFloat(r[a]).toExponential(d);break;case"x":De=parseInt(r[a]).toString(Ie||16);break;case"d":De=parseFloat(parseInt(r[a],Ie||10).toPrecision(d)).toFixed(0)}De="object"==typeof De?JSON.stringify(De):(+De).toString(Ie);let Qe=parseInt(C),rt=C&&C[0]+""=="0"?"0":" ";for(;De.length<Qe;)De=void 0!==p?De+rt:rt+De;return De})}static getBytes(e,r){return O.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}N.SHIFT_JIS=j.SJIS.getName(),N.GB2312="GB2312",N.ISO88591=j.ISO8859_1.getName(),N.EUC_JP="EUC_JP",N.UTF8=j.UTF8.getName(),N.PLATFORM_DEFAULT_ENCODING=N.UTF8,N.ASSUME_SHIFT_JIS=!1;class G{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return this.value+="string"==typeof e?e.toString():this.encoding?N.castAsNonUtf8Char(e,this.encoding):String.fromCharCode(e),this}appendChars(e,r,a){for(let o=r;r<r+a;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class g{constructor(e,r,a,o){if(this.width=e,this.height=r,this.rowSize=a,this.bits=o,null==r&&(r=e),this.height=r,e<1||r<1)throw new A("Both dimensions must be greater than 0");null==a&&(a=Math.floor((e+31)/32)),this.rowSize=a,null==o&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,a=e[0].length,o=new g(a,r);for(let l=0;l<r;l++){const d=e[l];for(let p=0;p<a;p++)d[p]&&o.set(p,l)}return o}static parseFromString(e,r,a){if(null===e)throw new A("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,d=0,p=-1,C=0,U=0;for(;U<e.length;)if("\n"===e.charAt(U)||"\r"===e.charAt(U)){if(l>d){if(-1===p)p=l-d;else if(l-d!==p)throw new A("row lengths do not match");d=l,C++}U++}else if(e.substring(U,U+r.length)===r)U+=r.length,o[l]=!0,l++;else{if(e.substring(U,U+a.length)!==a)throw new A("illegal character encountered: "+e.substring(U));U+=a.length,o[l]=!1,l++}if(l>d){if(-1===p)p=l-d;else if(l-d!==p)throw new A("row lengths do not match");C++}const $=new g(p,C);for(let he=0;he<l;he++)o[he]&&$.set(Math.floor(he%p),Math.floor(he/p));return $}get(e,r){const a=r*this.rowSize+Math.floor(e/32);return 0!=(this.bits[a]>>>(31&e)&1)}set(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(31&e)&4294967295}unset(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(31&e)&4294967295)}flip(e,r){const a=r*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const r=new K(Math.floor(this.width/32)+1),a=this.rowSize,o=this.bits;for(let l=0,d=this.height;l<d;l++){const p=l*a,C=e.getRow(l,r).getBitArray();for(let U=0;U<a;U++)o[p+U]^=C[U]}}clear(){const e=this.bits,r=e.length;for(let a=0;a<r;a++)e[a]=0}setRegion(e,r,a,o){if(r<0||e<0)throw new A("Left and top must be nonnegative");if(o<1||a<1)throw new A("Height and width must be at least 1");const l=e+a,d=r+o;if(d>this.height||l>this.width)throw new A("The region must fit inside the matrix");const p=this.rowSize,C=this.bits;for(let U=r;U<d;U++){const $=U*p;for(let he=e;he<l;he++)C[$+Math.floor(he/32)]|=1<<(31&he)&4294967295}}getRow(e,r){null==r||r.getSize()<this.width?r=new K(this.width):r.clear();const a=this.rowSize,o=this.bits,l=e*a;for(let d=0;d<a;d++)r.setBulk(32*d,o[l+d]);return r}setRow(e,r){J.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let a=new K(e),o=new K(e);for(let l=0,d=Math.floor((r+1)/2);l<d;l++)a=this.getRow(l,a),o=this.getRow(r-1-l,o),a.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,a)}getEnclosingRectangle(){const r=this.height,a=this.rowSize,o=this.bits;let l=this.width,d=r,p=-1,C=-1;for(let U=0;U<r;U++)for(let $=0;$<a;$++){const he=o[U*a+$];if(0!==he){if(U<d&&(d=U),U>C&&(C=U),32*$<l){let Ie=0;for(;0==(he<<31-Ie&4294967295);)Ie++;32*$+Ie<l&&(l=32*$+Ie)}if(32*$+31>p){let Ie=31;for(;he>>>Ie==0;)Ie--;32*$+Ie>p&&(p=32*$+Ie)}}}return p<l||C<d?null:Int32Array.from([l,d,p-l+1,C-d+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&0===r[a];)a++;if(a===r.length)return null;const o=a/e;let l=a%e*32;const d=r[a];let p=0;for(;0==(d<<31-p&4294967295);)p++;return l+=p,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&0===r[a];)a--;if(a<0)return null;const o=Math.floor(a/e);let l=32*Math.floor(a%e);const d=r[a];let p=31;for(;d>>>p==0;)p--;return l+=p,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){return e instanceof g&&this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&W.equals(this.bits,e.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+W.hashCode(this.bits),e}toString(e="X ",r="  ",a="\n"){return this.buildToString(e,r,a)}buildToString(e,r,a){let o=new G;for(let l=0,d=this.height;l<d;l++){for(let p=0,C=this.width;p<C;p++)o.append(this.get(p,l)?e:r);o.append(a)}return o.toString()}clone(){return new g(this.width,this.height,this.rowSize,this.bits.slice())}}let V=(()=>{class z extends B{static getNotFoundInstance(){return new z}}return z.kind="NotFoundException",z})();class ae extends M{constructor(e){super(e),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(e,r){const a=this.getLuminanceSource(),o=a.getWidth();null==r||r.getSize()<o?r=new K(o):r.clear(),this.initArrays(o);const l=a.getRow(e,this.luminances),d=this.buckets;for(let C=0;C<o;C++)d[(255&l[C])>>ae.LUMINANCE_SHIFT]++;const p=ae.estimateBlackPoint(d);if(o<3)for(let C=0;C<o;C++)(255&l[C])<p&&r.set(C);else{let C=255&l[0],U=255&l[1];for(let $=1;$<o-1;$++){const he=255&l[$+1];(4*U-C-he)/2<p&&r.set($),C=U,U=he}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),a=e.getHeight(),o=new g(r,a);this.initArrays(r);const l=this.buckets;for(let C=1;C<5;C++){const U=Math.floor(a*C/5),$=e.getRow(U,this.luminances),he=Math.floor(4*r/5);for(let Ie=Math.floor(r/5);Ie<he;Ie++)l[(255&$[Ie])>>ae.LUMINANCE_SHIFT]++}const d=ae.estimateBlackPoint(l),p=e.getMatrix();for(let C=0;C<a;C++){const U=C*r;for(let $=0;$<r;$++)(255&p[U+$])<d&&o.set($,C)}return o}createBinarizer(e){return new ae(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let a=0;a<ae.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(e){const r=e.length;let a=0,o=0,l=0;for(let $=0;$<r;$++)e[$]>l&&(o=$,l=e[$]),e[$]>a&&(a=e[$]);let d=0,p=0;for(let $=0;$<r;$++){const he=$-o,Ie=e[$]*he*he;Ie>p&&(d=$,p=Ie)}if(o>d){const $=o;o=d,d=$}if(d-o<=r/16)throw new V;let C=d-1,U=-1;for(let $=d-1;$>o;$--){const he=$-o,Ie=he*he*(d-$)*(a-e[$]);Ie>U&&(C=$,U=Ie)}return C<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class re extends ae{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),a=e.getHeight();if(r>=re.MINIMUM_DIMENSION&&a>=re.MINIMUM_DIMENSION){const o=e.getMatrix();let l=r>>re.BLOCK_SIZE_POWER;0!=(r&re.BLOCK_SIZE_MASK)&&l++;let d=a>>re.BLOCK_SIZE_POWER;0!=(a&re.BLOCK_SIZE_MASK)&&d++;const p=re.calculateBlackPoints(o,l,d,r,a),C=new g(r,a);re.calculateThresholdForBlock(o,l,d,r,a,p,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new re(e)}static calculateThresholdForBlock(e,r,a,o,l,d,p){const C=l-re.BLOCK_SIZE,U=o-re.BLOCK_SIZE;for(let $=0;$<a;$++){let he=$<<re.BLOCK_SIZE_POWER;he>C&&(he=C);const Ie=re.cap($,2,a-3);for(let De=0;De<r;De++){let Qe=De<<re.BLOCK_SIZE_POWER;Qe>U&&(Qe=U);const rt=re.cap(De,2,r-3);let pt=0;for(let zt=-2;zt<=2;zt++){const or=d[Ie+zt];pt+=or[rt-2]+or[rt-1]+or[rt]+or[rt+1]+or[rt+2]}re.thresholdBlock(e,Qe,he,pt/25,o,p)}}}static cap(e,r,a){return e<r?r:e>a?a:e}static thresholdBlock(e,r,a,o,l,d){for(let p=0,C=a*l+r;p<re.BLOCK_SIZE;p++,C+=l)for(let U=0;U<re.BLOCK_SIZE;U++)(255&e[C+U])<=o&&d.set(r+U,a+p)}static calculateBlackPoints(e,r,a,o,l){const d=l-re.BLOCK_SIZE,p=o-re.BLOCK_SIZE,C=new Array(a);for(let U=0;U<a;U++){C[U]=new Int32Array(r);let $=U<<re.BLOCK_SIZE_POWER;$>d&&($=d);for(let he=0;he<r;he++){let Ie=he<<re.BLOCK_SIZE_POWER;Ie>p&&(Ie=p);let De=0,Qe=255,rt=0;for(let Et=0,zt=$*o+Ie;Et<re.BLOCK_SIZE;Et++,zt+=o){for(let or=0;or<re.BLOCK_SIZE;or++){const Nt=255&e[zt+or];De+=Nt,Nt<Qe&&(Qe=Nt),Nt>rt&&(rt=Nt)}if(rt-Qe>re.MIN_DYNAMIC_RANGE)for(Et++,zt+=o;Et<re.BLOCK_SIZE;Et++,zt+=o)for(let or=0;or<re.BLOCK_SIZE;or++)De+=255&e[zt+or]}let pt=De>>2*re.BLOCK_SIZE_POWER;if(rt-Qe<=re.MIN_DYNAMIC_RANGE&&(pt=Qe/2,U>0&&he>0)){const Et=(C[U-1][he]+2*C[U][he-1]+C[U-1][he-1])/4;Qe<Et&&(pt=Et)}C[U][he]=pt}}return C}}re.BLOCK_SIZE_POWER=3,re.BLOCK_SIZE=1<<re.BLOCK_SIZE_POWER,re.BLOCK_SIZE_MASK=re.BLOCK_SIZE-1,re.MINIMUM_DIMENSION=5*re.BLOCK_SIZE,re.MIN_DYNAMIC_RANGE=24;class xe{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,a,o){throw new ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ne("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new G;for(let a=0;a<this.height;a++){const o=this.getRow(a,e);for(let l=0;l<this.width;l++){const d=255&o[l];let p;p=d<64?"#":d<128?"+":d<192?".":" ",r.append(p)}r.append("\n")}return r.toString()}}class Be extends xe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const a=this.delegate.getRow(e,r),o=this.getWidth();for(let l=0;l<o;l++)a[l]=255-(255&a[l]);return a}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let o=0;o<r;o++)a[o]=255-(255&e[o]);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,a,o){return new Be(this.delegate.crop(e,r,a,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Ve extends xe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ve.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ve.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,a){const o=new Uint8ClampedArray(r*a);for(let l=0,d=0,p=e.length;l<p;l+=4,d++){let C;C=0===e[l+3]?255:306*e[l]+601*e[l+1]+117*e[l+2]+512>>10,o[d]=C}return o}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const a=this.getWidth(),o=e*a;return null===r?r=this.buffer.slice(o,o+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(o,o+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,a,o){return super.crop(e,r,a,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),a=r.getContext("2d"),o=e*Ve.DEGREE_TO_RADIANS,l=this.canvas.width,d=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*d),C=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*d);return r.width=p,r.height=C,a.translate(p/2,C/2),a.rotate(o),a.drawImage(this.canvas,l/-2,d/-2),this.buffer=Ve.makeBufferFromCanvasImageData(r),this}invert(){return new Be(this)}}Ve.DEGREE_TO_RADIANS=Math.PI/180;class nt{constructor(e,r,a){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var it=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(z,e,r,a){return new(r||(r=Promise))(function(l,d){function p($){try{U(a.next($))}catch(he){d(he)}}function C($){try{U(a.throw($))}catch(he){d(he)}}function U($){$.done?l($.value):function o(l){return l instanceof r?l:new r(function(d){d(l)})}($.value).then(p,C)}U((a=a.apply(z,e||[])).next())})};class Ue{constructor(e,r=500,a){this.reader=e,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return it(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of e){const o="video"===a.kind?"videoinput":a.kind;"videoinput"===o&&r.push({deviceId:a.deviceId||a.id,label:a.label||`Video device ${r.length+1}`,kind:o,groupId:a.groupId})}return r})}getVideoInputDevices(){return it(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new nt(r.deviceId,r.label))})}findDeviceById(e){return it(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return it(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return it(this,void 0,void 0,function*(){let a;this.reset(),a=e?{deviceId:{exact:e}}:{facingMode:"environment"};const o={video:a};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(e,r){return it(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(e,r){return it(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(e,r,a){return it(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,a)})}decodeFromVideoDevice(e,r,a){return it(this,void 0,void 0,function*(){let o;o=e?{deviceId:{exact:e}}:{facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,a)})}decodeFromConstraints(e,r,a){return it(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,r,a)})}decodeFromStream(e,r,a){return it(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(o,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return it(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,e),this.videoElement=a,this.stream=e,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(e){return new Promise((r,a)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return it(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const a=document.getElementById(e);if(!a)throw new T(`element with id '${e}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new T(`element with id '${e}' must be an ${r} element`);return a}decodeFromImage(e,r){if(!e&&!r)throw new T("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,a){if(void 0===e&&void 0===r)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(e,a)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);let a;return this.imageElement=r,a=this.isImageLoaded(r)?this.decodeOnce(r,!1,!0):this._decodeOnLoadImage(r),a}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=e,a}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=e,a}decodeFromVideoUrlContinuously(e,r){if(!e)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(a,r);return a.src=e,o}_decodeOnLoadImage(e){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,a),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return it(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return it(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||0===e.naturalWidth)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),"string"==typeof e&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),"string"==typeof e&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,a=!0){this._stopAsyncDecode=!1;const o=(l,d)=>{if(this._stopAsyncDecode)return d(new V("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{l(this.decode(e))}catch(p){const $=(p instanceof I||p instanceof _)&&a;if(r&&p instanceof V||$)return setTimeout(o,this._timeBetweenDecodingAttempts,l,d);d(p)}};return new Promise((l,d)=>o(l,d))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const o=this.decode(e);r(o,null),setTimeout(a,this.timeBetweenScansMillis)}catch(o){r(null,o);const d=o instanceof V;(o instanceof I||o instanceof _||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}createBinaryBitmap(e){const r=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(r,e);const a=this.getCaptureCanvas(e),o=new Ve(a),l=new re(o);return new x(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}drawImageOnCanvas(e,r){e.drawImage(r,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),r.style.width=a+"px",r.style.height=o+"px",r.width=a,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class qe{constructor(e,r,a=(null==r?0:8*r.length),o,l,d=J.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=a,this.resultPoints=o,this.format=l,this.timestamp=d,this.text=e,this.rawBytes=r,this.numBits=a??(null==r?0:8*r.length),this.resultPoints=o,this.format=l,this.resultMetadata=null,this.timestamp=d??J.currentTimeMillis()}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){null!==e&&(this.resultMetadata=null===this.resultMetadata?e:new Map(e))}addResultPoints(e){const r=this.resultPoints;if(null===r)this.resultPoints=e;else if(null!==e&&e.length>0){const a=new Array(r.length+e.length);J.arraycopy(r,0,a,0,r.length),J.arraycopy(e,0,a,r.length,e.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ft=(()=>{return(z=ft||(ft={}))[z.AZTEC=0]="AZTEC",z[z.CODABAR=1]="CODABAR",z[z.CODE_39=2]="CODE_39",z[z.CODE_93=3]="CODE_93",z[z.CODE_128=4]="CODE_128",z[z.DATA_MATRIX=5]="DATA_MATRIX",z[z.EAN_8=6]="EAN_8",z[z.EAN_13=7]="EAN_13",z[z.ITF=8]="ITF",z[z.MAXICODE=9]="MAXICODE",z[z.PDF_417=10]="PDF_417",z[z.QR_CODE=11]="QR_CODE",z[z.RSS_14=12]="RSS_14",z[z.RSS_EXPANDED=13]="RSS_EXPANDED",z[z.UPC_A=14]="UPC_A",z[z.UPC_E=15]="UPC_E",z[z.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",ft;var z})(),Je=ft,Yt=(()=>{return(z=Yt||(Yt={}))[z.OTHER=0]="OTHER",z[z.ORIENTATION=1]="ORIENTATION",z[z.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",z[z.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",z[z.ISSUE_NUMBER=4]="ISSUE_NUMBER",z[z.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",z[z.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",z[z.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",z[z.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",z[z.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",z[z.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",Yt;var z})(),ht=Yt;class gr{constructor(e,r,a,o,l=-1,d=-1){this.rawBytes=e,this.text=r,this.byteSegments=a,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=d,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Rt{exp(e){return this.expTable[e]}log(e){if(0===e)throw new A;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class xr{constructor(e,r){if(0===r.length)throw new A;this.field=e;const a=r.length;if(a>1&&0===r[0]){let o=1;for(;o<a&&0===r[o];)o++;o===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-o),J.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const r=this.coefficients;let a;if(1===e){a=0;for(let d=0,p=r.length;d!==p;d++)a=Rt.addOrSubtract(a,r[d]);return a}a=r[0];const o=r.length,l=this.field;for(let d=1;d<o;d++)a=Rt.addOrSubtract(l.multiply(e,a),r[d]);return a}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,a=e.coefficients;if(r.length>a.length){const d=r;r=a,a=d}let o=new Int32Array(a.length);const l=a.length-r.length;J.arraycopy(a,0,o,0,l);for(let d=l;d<a.length;d++)o[d]=Rt.addOrSubtract(r[d-l],a[d]);return new xr(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,o=e.coefficients,l=o.length,d=new Int32Array(a+l-1),p=this.field;for(let C=0;C<a;C++){const U=r[C];for(let $=0;$<l;$++)d[C+$]=Rt.addOrSubtract(d[C+$],p.multiply(U,o[$]))}return new xr(p,d)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const r=this.coefficients.length,a=this.field,o=new Int32Array(r),l=this.coefficients;for(let d=0;d<r;d++)o[d]=a.multiply(l[d],e);return new xr(a,o)}multiplyByMonomial(e,r){if(e<0)throw new A;if(0===r)return this.field.getZero();const a=this.coefficients,o=a.length,l=new Int32Array(o+e),d=this.field;for(let p=0;p<o;p++)l[p]=d.multiply(a[p],r);return new xr(d,l)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const r=this.field;let a=r.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),d=r.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const p=o.getDegree()-e.getDegree(),C=r.multiply(o.getCoefficient(o.getDegree()),d),U=e.multiplyByMonomial(p,C),$=r.buildMonomial(p,C);a=a.addOrSubtract($),o=o.addOrSubtract(U)}return[a,o]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(0!==a){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),0===r||1!==a){const o=this.field.log(a);0===o?e+="1":1===o?e+="a":(e+="a^",e+=o)}0!==r&&(1===r?e+="x":(e+="x^",e+=r))}}return e}}let sr=(()=>{class z extends B{}return z.kind="ArithmeticException",z})();class et extends Rt{constructor(e,r,a){super(),this.primitive=e,this.size=r,this.generatorBase=a;const o=new Int32Array(r);let l=1;for(let p=0;p<r;p++)o[p]=l,l*=2,l>=r&&(l^=e,l&=r-1);this.expTable=o;const d=new Int32Array(r);for(let p=0;p<r-1;p++)d[o[p]]=p;this.logTable=d,this.zero=new xr(this,Int32Array.from([0])),this.one=new xr(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(0===r)return this.zero;const a=new Int32Array(e+1);return a[0]=r,new xr(this,a)}inverse(e){if(0===e)throw new sr;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;let gt=(()=>{class z extends B{}return z.kind="ReedSolomonException",z})(),X=(()=>{class z extends B{}return z.kind="IllegalStateException",z})();class Z{constructor(e){this.field=e}decode(e,r){const a=this.field,o=new xr(a,e),l=new Int32Array(r);let d=!0;for(let De=0;De<r;De++){const Qe=o.evaluateAt(a.exp(De+a.getGeneratorBase()));l[l.length-1-De]=Qe,0!==Qe&&(d=!1)}if(d)return;const p=new xr(a,l),C=this.runEuclideanAlgorithm(a.buildMonomial(r,1),p,r),$=C[1],he=this.findErrorLocations(C[0]),Ie=this.findErrorMagnitudes($,he);for(let De=0;De<he.length;De++){const Qe=e.length-1-a.log(he[De]);if(Qe<0)throw new gt("Bad error location");e[Qe]=et.addOrSubtract(e[Qe],Ie[De])}}runEuclideanAlgorithm(e,r,a){if(e.getDegree()<r.getDegree()){const De=e;e=r,r=De}const o=this.field;let l=e,d=r,p=o.getZero(),C=o.getOne();for(;d.getDegree()>=(a/2|0);){let De=l,Qe=p;if(l=d,p=C,l.isZero())throw new gt("r_{i-1} was zero");d=De;let rt=o.getZero();const pt=l.getCoefficient(l.getDegree()),Et=o.inverse(pt);for(;d.getDegree()>=l.getDegree()&&!d.isZero();){const zt=d.getDegree()-l.getDegree(),or=o.multiply(d.getCoefficient(d.getDegree()),Et);rt=rt.addOrSubtract(o.buildMonomial(zt,or)),d=d.addOrSubtract(l.multiplyByMonomial(zt,or))}if(C=rt.multiply(p).addOrSubtract(Qe),d.getDegree()>=l.getDegree())throw new X("Division algorithm failed to reduce polynomial?")}const U=C.getCoefficient(0);if(0===U)throw new gt("sigmaTilde(0) was zero");const $=o.inverse(U);return[C.multiplyScalar($),d.multiplyScalar($)]}findErrorLocations(e){const r=e.getDegree();if(1===r)return Int32Array.from([e.getCoefficient(1)]);const a=new Int32Array(r);let o=0;const l=this.field;for(let d=1;d<l.getSize()&&o<r;d++)0===e.evaluateAt(d)&&(a[o]=l.inverse(d),o++);if(o!==r)throw new gt("Error locator degree does not match number of roots");return a}findErrorMagnitudes(e,r){const a=r.length,o=new Int32Array(a),l=this.field;for(let d=0;d<a;d++){const p=l.inverse(r[d]);let C=1;for(let U=0;U<a;U++)if(d!==U){const $=l.multiply(r[U],p);C=l.multiply(C,0==(1&$)?1|$:-2&$)}o[d]=l.multiply(e.evaluateAt(p),l.inverse(C)),0!==l.getGeneratorBase()&&(o[d]=l.multiply(o[d],p))}return o}}var ue=(()=>{return(z=ue||(ue={}))[z.UPPER=0]="UPPER",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.DIGIT=3]="DIGIT",z[z.PUNCT=4]="PUNCT",z[z.BINARY=5]="BINARY",ue;var z})();let Le=(()=>{class z{decode(r){this.ddata=r;let a=r.getBits(),o=this.extractBits(a),l=this.correctBits(o),d=z.convertBoolArrayToByteArray(l),p=z.getEncodedData(l),C=new gr(d,p,null,null);return C.setNumBits(l.length),C}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let a=r.length,o=ue.UPPER,l=ue.UPPER,d="",p=0;for(;p<a;)if(l===ue.BINARY){if(a-p<5)break;let C=z.readCode(r,p,5);if(p+=5,0===C){if(a-p<11)break;C=z.readCode(r,p,11)+31,p+=11}for(let U=0;U<C;U++){if(a-p<8){p=a;break}const $=z.readCode(r,p,8);d+=N.castAsNonUtf8Char($),p+=8}l=o}else{let C=l===ue.DIGIT?4:5;if(a-p<C)break;let U=z.readCode(r,p,C);p+=C;let $=z.getCharacter(l,U);$.startsWith("CTRL_")?(o=l,l=z.getTable($.charAt(5)),"L"===$.charAt(6)&&(o=l)):(d+=$,l=o)}return d}static getTable(r){switch(r){case"L":return ue.LOWER;case"P":return ue.PUNCT;case"M":return ue.MIXED;case"D":return ue.DIGIT;case"B":return ue.BINARY;default:return ue.UPPER}}static getCharacter(r,a){switch(r){case ue.UPPER:return z.UPPER_TABLE[a];case ue.LOWER:return z.LOWER_TABLE[a];case ue.MIXED:return z.MIXED_TABLE[a];case ue.PUNCT:return z.PUNCT_TABLE[a];case ue.DIGIT:return z.DIGIT_TABLE[a];default:throw new X("Bad table")}}correctBits(r){let a,o;this.ddata.getNbLayers()<=2?(o=6,a=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,a=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,a=et.AZTEC_DATA_10):(o=12,a=et.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),d=r.length/o;if(d<l)throw new _;let p=r.length%o,C=new Int32Array(d);for(let De=0;De<d;De++,p+=o)C[De]=z.readCode(r,p,o);try{new Z(a).decode(C,d-l)}catch(De){throw new _(De)}let U=(1<<o)-1,$=0;for(let De=0;De<l;De++){let Qe=C[De];if(0===Qe||Qe===U)throw new _;(1===Qe||Qe===U-1)&&$++}let he=new Array(l*o-$),Ie=0;for(let De=0;De<l;De++){let Qe=C[De];if(1===Qe||Qe===U-1)he.fill(Qe>1,Ie,Ie+o-1),Ie+=o-1;else for(let rt=o-1;rt>=0;--rt)he[Ie++]=0!=(Qe&1<<rt)}return he}extractBits(r){let a=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(a?11:14)+4*o,d=new Int32Array(l),p=new Array(this.totalBitsInLayer(o,a));if(a)for(let C=0;C<d.length;C++)d[C]=C;else{let C=l+1+2*P.truncDivision(P.truncDivision(l,2)-1,15),U=l/2,$=P.truncDivision(C,2);for(let he=0;he<U;he++){let Ie=he+P.truncDivision(he,15);d[U-he-1]=$-Ie-1,d[U+he]=$+Ie+1}}for(let C=0,U=0;C<o;C++){let $=4*(o-C)+(a?9:12),he=2*C,Ie=l-1-he;for(let De=0;De<$;De++){let Qe=2*De;for(let rt=0;rt<2;rt++)p[U+Qe+rt]=r.get(d[he+rt],d[he+De]),p[U+2*$+Qe+rt]=r.get(d[he+De],d[Ie-rt]),p[U+4*$+Qe+rt]=r.get(d[Ie-rt],d[Ie-De]),p[U+6*$+Qe+rt]=r.get(d[Ie-De],d[he+rt])}U+=8*$}return p}static readCode(r,a,o){let l=0;for(let d=a;d<a+o;d++)l<<=1,r[d]&&(l|=1);return l}static readByte(r,a){let o=r.length-a;return o>=8?z.readCode(r,a,8):z.readCode(r,a,o)<<8-o}static convertBoolArrayToByteArray(r){let a=new Uint8Array((r.length+7)/8);for(let o=0;o<a.length;o++)a[o]=z.readByte(r,8*o);return a}totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}return z.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],z.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],z.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],z.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],z.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],z})();class Xe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,a,o){const l=e-a,d=r-o;return Math.sqrt(l*l+d*d)}static sum(e){let r=0;for(let a=0,o=e.length;a!==o;a++)r+=e[a];return r}}class ee{static floatToIntBits(e){return e}}ee.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Me{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Me){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ee.floatToIntBits(this.x)+ee.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,d,p;if(a>=r&&a>=o?(d=e[0],l=e[1],p=e[2]):o>=a&&o>=r?(d=e[1],l=e[0],p=e[2]):(d=e[2],l=e[0],p=e[1]),this.crossProductZ(l,d,p)<0){const C=l;l=p,p=C}e[0]=l,e[1]=d,e[2]=p}static distance(e,r){return Xe.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,a){const o=r.x,l=r.y;return(a.x-o)*(e.y-l)-(a.y-l)*(e.x-o)}}class Ot{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ar extends Ot{constructor(e,r,a,o,l){super(e,r),this.compact=a,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let rr=(()=>{class z{constructor(r,a,o,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),null==a&&(a=z.INIT_SIZE),null==o&&(o=r.getWidth()/2|0),null==l&&(l=r.getHeight()/2|0);const d=a/2|0;if(this.leftInit=o-d,this.rightInit=o+d,this.upInit=l-d,this.downInit=l+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let r=this.leftInit,a=this.rightInit,o=this.upInit,l=this.downInit,d=!1,p=!0,C=!1,U=!1,$=!1,he=!1,Ie=!1;const De=this.width,Qe=this.height;for(;p;){p=!1;let rt=!0;for(;(rt||!U)&&a<De;)rt=this.containsBlackPoint(o,l,a,!1),rt?(a++,p=!0,U=!0):U||a++;if(a>=De){d=!0;break}let pt=!0;for(;(pt||!$)&&l<Qe;)pt=this.containsBlackPoint(r,a,l,!0),pt?(l++,p=!0,$=!0):$||l++;if(l>=Qe){d=!0;break}let Et=!0;for(;(Et||!he)&&r>=0;)Et=this.containsBlackPoint(o,l,r,!1),Et?(r--,p=!0,he=!0):he||r--;if(r<0){d=!0;break}let zt=!0;for(;(zt||!Ie)&&o>=0;)zt=this.containsBlackPoint(r,a,o,!0),zt?(o--,p=!0,Ie=!0):Ie||o--;if(o<0){d=!0;break}p&&(C=!0)}if(!d&&C){const rt=a-r;let pt=null;for(let Nt=1;null===pt&&Nt<rt;Nt++)pt=this.getBlackPointOnSegment(r,l-Nt,r+Nt,l);if(null==pt)throw new V;let Et=null;for(let Nt=1;null===Et&&Nt<rt;Nt++)Et=this.getBlackPointOnSegment(r,o+Nt,r+Nt,o);if(null==Et)throw new V;let zt=null;for(let Nt=1;null===zt&&Nt<rt;Nt++)zt=this.getBlackPointOnSegment(a,o+Nt,a-Nt,o);if(null==zt)throw new V;let or=null;for(let Nt=1;null===or&&Nt<rt;Nt++)or=this.getBlackPointOnSegment(a,l-Nt,a-Nt,l);if(null==or)throw new V;return this.centerEdges(or,pt,zt,Et)}throw new V}getBlackPointOnSegment(r,a,o,l){const d=Xe.round(Xe.distance(r,a,o,l)),p=(o-r)/d,C=(l-a)/d,U=this.image;for(let $=0;$<d;$++){const he=Xe.round(r+$*p),Ie=Xe.round(a+$*C);if(U.get(he,Ie))return new Me(he,Ie)}return null}centerEdges(r,a,o,l){const d=r.getX(),p=r.getY(),C=a.getX(),U=a.getY(),$=o.getX(),he=o.getY(),Ie=l.getX(),De=l.getY(),Qe=z.CORR;return d<this.width/2?[new Me(Ie-Qe,De+Qe),new Me(C+Qe,U+Qe),new Me($-Qe,he-Qe),new Me(d+Qe,p-Qe)]:[new Me(Ie+Qe,De+Qe),new Me(C+Qe,U-Qe),new Me($-Qe,he+Qe),new Me(d-Qe,p-Qe)]}containsBlackPoint(r,a,o,l){const d=this.image;if(l){for(let p=r;p<=a;p++)if(d.get(p,o))return!0}else for(let p=r;p<=a;p++)if(d.get(o,p))return!0;return!1}}return z.INIT_SIZE=10,z.CORR=1,z})();class Bt{static checkAndNudgePoints(e,r){const a=e.getWidth(),o=e.getHeight();let l=!0;for(let d=0;d<r.length&&l;d+=2){const p=Math.floor(r[d]),C=Math.floor(r[d+1]);if(p<-1||p>a||C<-1||C>o)throw new V;l=!1,-1===p?(r[d]=0,l=!0):p===a&&(r[d]=a-1,l=!0),-1===C?(r[d+1]=0,l=!0):C===o&&(r[d+1]=o-1,l=!0)}l=!0;for(let d=r.length-2;d>=0&&l;d-=2){const p=Math.floor(r[d]),C=Math.floor(r[d+1]);if(p<-1||p>a||C<-1||C>o)throw new V;l=!1,-1===p?(r[d]=0,l=!0):p===a&&(r[d]=a-1,l=!0),-1===C?(r[d+1]=0,l=!0):C===o&&(r[d+1]=o-1,l=!0)}}}class Wt{constructor(e,r,a,o,l,d,p,C,U){this.a11=e,this.a21=r,this.a31=a,this.a12=o,this.a22=l,this.a32=d,this.a13=p,this.a23=C,this.a33=U}static quadrilateralToQuadrilateral(e,r,a,o,l,d,p,C,U,$,he,Ie,De,Qe,rt,pt){const Et=Wt.quadrilateralToSquare(e,r,a,o,l,d,p,C);return Wt.squareToQuadrilateral(U,$,he,Ie,De,Qe,rt,pt).times(Et)}transformPoints(e){const r=e.length,a=this.a11,o=this.a12,l=this.a13,d=this.a21,p=this.a22,C=this.a23,U=this.a31,$=this.a32,he=this.a33;for(let Ie=0;Ie<r;Ie+=2){const De=e[Ie],Qe=e[Ie+1],rt=l*De+C*Qe+he;e[Ie]=(a*De+d*Qe+U)/rt,e[Ie+1]=(o*De+p*Qe+$)/rt}}transformPointsWithValues(e,r){const a=this.a11,o=this.a12,l=this.a13,d=this.a21,p=this.a22,C=this.a23,U=this.a31,$=this.a32,he=this.a33,Ie=e.length;for(let De=0;De<Ie;De++){const Qe=e[De],rt=r[De],pt=l*Qe+C*rt+he;e[De]=(a*Qe+d*rt+U)/pt,r[De]=(o*Qe+p*rt+$)/pt}}static squareToQuadrilateral(e,r,a,o,l,d,p,C){const U=e-a+l-p,$=r-o+d-C;if(0===U&&0===$)return new Wt(a-e,l-a,e,o-r,d-o,r,0,0,1);{const he=a-l,Ie=p-l,De=o-d,Qe=C-d,rt=he*Qe-Ie*De,pt=(U*Qe-Ie*$)/rt,Et=(he*$-U*De)/rt;return new Wt(a-e+pt*a,p-e+Et*p,e,o-r+pt*o,C-r+Et*C,r,pt,Et,1)}}static quadrilateralToSquare(e,r,a,o,l,d,p,C){return Wt.squareToQuadrilateral(e,r,a,o,l,d,p,C).buildAdjoint()}buildAdjoint(){return new Wt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Wt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class yr extends Bt{sampleGrid(e,r,a,o,l,d,p,C,U,$,he,Ie,De,Qe,rt,pt,Et,zt,or){const Nt=Wt.quadrilateralToQuadrilateral(o,l,d,p,C,U,$,he,Ie,De,Qe,rt,pt,Et,zt,or);return this.sampleGridWithTransform(e,r,a,Nt)}sampleGridWithTransform(e,r,a,o){if(r<=0||a<=0)throw new V;const l=new g(r,a),d=new Float32Array(2*r);for(let p=0;p<a;p++){const C=d.length,U=p+.5;for(let $=0;$<C;$+=2)d[$]=$/2+.5,d[$+1]=U;o.transformPoints(d),Bt.checkAndNudgePoints(e,d);try{for(let $=0;$<C;$+=2)e.get(Math.floor(d[$]),Math.floor(d[$+1]))&&l.set($/2,p)}catch{throw new V}}return l}}class Sr{static setGridSampler(e){Sr.gridSampler=e}static getInstance(){return Sr.gridSampler}}Sr.gridSampler=new yr;class te{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new Me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(e){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let o=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),l=this.getMatrixCornerPoints(a);return new ar(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new V;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(a,r);let o=0;for(let d=0;d<4;d++){let p=a[(this.shift+d)%4];this.compact?(o<<=7,o+=p>>1&127):(o<<=10,o+=(p>>2&992)+(p>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=1+(l>>6),this.nbDataBlocks=1+(63&l)):(this.nbLayers=1+(l>>11),this.nbDataBlocks=1+(2047&l))}getRotation(e,r){let a=0;e.forEach((o,l,d)=>{a=(o>>r-2<<1)+(1&o)+(a<<3)}),a=((1&a)<<11)+(a>>1);for(let o=0;o<4;o++)if(P.bitCount(a^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new V}getCorrectedParameterData(e,r){let a,o;r?(a=7,o=2):(a=10,o=4);let l=a-o,d=new Int32Array(a);for(let C=a-1;C>=0;--C)d[C]=15&e,e>>=4;try{new Z(et.AZTEC_PARAM).decode(d,l)}catch{throw new V}let p=0;for(let C=0;C<o;C++)p=(p<<4)+d[C];return p}getBullsEyeCorners(e){let r=e,a=e,o=e,l=e,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let he=this.getFirstDifferent(r,d,1,-1),Ie=this.getFirstDifferent(a,d,1,1),De=this.getFirstDifferent(o,d,-1,1),Qe=this.getFirstDifferent(l,d,-1,-1);if(this.nbCenterLayers>2){let rt=this.distancePoint(Qe,he)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(rt<.75||rt>1.25||!this.isWhiteOrBlackRectangle(he,Ie,De,Qe))break}r=he,a=Ie,o=De,l=Qe,d=!d}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new V;this.compact=5===this.nbCenterLayers;let p=new Me(r.getX()+.5,r.getY()-.5),C=new Me(a.getX()+.5,a.getY()+.5),U=new Me(o.getX()-.5,o.getY()+.5),$=new Me(l.getX()-.5,l.getY()-.5);return this.expandSquare([p,C,U,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,a,o;try{let p=new rr(this.image).detect();e=p[0],r=p[1],a=p[2],o=p[3]}catch{let C=this.image.getWidth()/2,U=this.image.getHeight()/2;e=this.getFirstDifferent(new te(C+7,U-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new te(C+7,U+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new te(C-7,U+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new te(C-7,U-7),!1,-1,-1).toResultPoint()}let l=Xe.round((e.getX()+o.getX()+r.getX()+a.getX())/4),d=Xe.round((e.getY()+o.getY()+r.getY()+a.getY())/4);try{let p=new rr(this.image,15,l,d).detect();e=p[0],r=p[1],a=p[2],o=p[3]}catch{e=this.getFirstDifferent(new te(l+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new te(l+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new te(l-7,d+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new te(l-7,d-7),!1,-1,-1).toResultPoint()}return l=Xe.round((e.getX()+o.getX()+r.getX()+a.getX())/4),d=Xe.round((e.getY()+o.getY()+r.getY()+a.getY())/4),new te(l,d)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,a,o,l){let d=Sr.getInstance(),p=this.getDimension(),C=p/2-this.nbCenterLayers,U=p/2+this.nbCenterLayers;return d.sampleGrid(e,p,p,C,C,U,C,U,U,C,U,r.getX(),r.getY(),a.getX(),a.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,r,a){let o=0,l=this.distanceResultPoint(e,r),d=l/a,p=e.getX(),C=e.getY(),U=d*(r.getX()-e.getX())/l,$=d*(r.getY()-e.getY())/l;for(let he=0;he<a;he++)this.image.get(Xe.round(p+he*U),Xe.round(C+he*$))&&(o|=1<<a-he-1);return o}isWhiteOrBlackRectangle(e,r,a,o){e=new te(e.getX()-3,e.getY()+3),r=new te(r.getX()-3,r.getY()-3),a=new te(a.getX()+3,a.getY()-3),o=new te(o.getX()+3,o.getY()+3);let d=this.getColor(o,e);if(0===d)return!1;let p=this.getColor(e,r);return p===d&&(p=this.getColor(r,a),p===d)&&(p=this.getColor(a,o),p===d)}getColor(e,r){let a=this.distancePoint(e,r),o=(r.getX()-e.getX())/a,l=(r.getY()-e.getY())/a,d=0,p=e.getX(),C=e.getY(),U=this.image.get(e.getX(),e.getY()),$=Math.ceil(a);for(let Ie=0;Ie<$;Ie++)p+=o,C+=l,this.image.get(Xe.round(p),Xe.round(C))!==U&&d++;let he=d/a;return he>.1&&he<.9?0:he<=.1===U?1:-1}getFirstDifferent(e,r,a,o){let l=e.getX()+a,d=e.getY()+o;for(;this.isValid(l,d)&&this.image.get(l,d)===r;)l+=a,d+=o;for(l-=a,d-=o;this.isValid(l,d)&&this.image.get(l,d)===r;)l+=a;for(l-=a;this.isValid(l,d)&&this.image.get(l,d)===r;)d+=o;return d-=o,new te(l,d)}expandSquare(e,r,a){let o=a/(2*r),l=e[0].getX()-e[2].getX(),d=e[0].getY()-e[2].getY(),p=(e[0].getX()+e[2].getX())/2,C=(e[0].getY()+e[2].getY())/2,U=new Me(p+o*l,C+o*d),$=new Me(p-o*l,C-o*d);return l=e[1].getX()-e[3].getX(),d=e[1].getY()-e[3].getY(),p=(e[1].getX()+e[3].getX())/2,C=(e[1].getY()+e[3].getY())/2,[U,new Me(p+o*l,C+o*d),$,new Me(p-o*l,C-o*d)]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=Xe.round(e.getX()),a=Xe.round(e.getY());return this.isValid(r,a)}distancePoint(e,r){return Xe.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return Xe.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class on{decode(e,r=null){let a=null,o=new Mt(e.getBlackMatrix()),l=null,d=null;try{let $=o.detectMirror(!1);l=$.getPoints(),this.reportFoundResultPoints(r,l),d=(new Le).decode($)}catch($){a=$}if(null==d)try{let $=o.detectMirror(!0);l=$.getPoints(),this.reportFoundResultPoints(r,l),d=(new Le).decode($)}catch($){throw a??$}let p=new qe(d.getText(),d.getRawBytes(),d.getNumBits(),l,Je.AZTEC,J.currentTimeMillis()),C=d.getByteSegments();null!=C&&p.putMetadata(ht.BYTE_SEGMENTS,C);let U=d.getECLevel();return null!=U&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,U),p}reportFoundResultPoints(e,r){if(null!=e){let a=e.get(S.NEED_RESULT_POINT_CALLBACK);null!=a&&r.forEach((o,l,d)=>{a.foundPossibleResultPoint(o)})}}reset(){}}class br{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&!0===r.get(S.TRY_HARDER)&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),d=this.doDecode(l,r),p=d.getResultMetadata();let C=270;null!==p&&!0===p.get(ht.ORIENTATION)&&(C+=p.get(ht.ORIENTATION)%360),d.putMetadata(ht.ORIENTATION,C);const U=d.getResultPoints();if(null!==U){const $=l.getHeight();for(let he=0;he<U.length;he++)U[he]=new Me($-U[he].getY()-1,U[he].getX())}return d}throw new V}}reset(){}doDecode(e,r){const a=e.getWidth(),o=e.getHeight();let l=new K(a);const d=r&&!0===r.get(S.TRY_HARDER),p=Math.max(1,o>>(d?8:5));let C;C=d?o:15;const U=Math.trunc(o/2);for(let $=0;$<C;$++){const he=Math.trunc(($+1)/2),De=U+p*(0==(1&$)?he:-he);if(De<0||De>=o)break;try{l=e.getBlackRow(De,l)}catch{continue}for(let Qe=0;Qe<2;Qe++){if(1===Qe&&(l.reverse(),r&&!0===r.get(S.NEED_RESULT_POINT_CALLBACK))){const rt=new Map;r.forEach((pt,Et)=>rt.set(Et,pt)),rt.delete(S.NEED_RESULT_POINT_CALLBACK),r=rt}try{const rt=this.decodeRow(De,l,r);if(1===Qe){rt.putMetadata(ht.ORIENTATION,180);const pt=rt.getResultPoints();null!==pt&&(pt[0]=new Me(a-pt[0].getX()-1,pt[0].getY()),pt[1]=new Me(a-pt[1].getX()-1,pt[1].getY()))}return rt}catch{}}}throw new V}static recordPattern(e,r,a){const o=a.length;for(let U=0;U<o;U++)a[U]=0;const l=e.getSize();if(r>=l)throw new V;let d=!e.get(r),p=0,C=r;for(;C<l;){if(e.get(C)!==d)a[p]++;else{if(++p===o)break;a[p]=1,d=!d}C++}if(p!==o&&(p!==o-1||C!==l))throw new V}static recordPatternInReverse(e,r,a){let o=a.length,l=e.get(r);for(;r>0&&o>=0;)e.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new V;br.recordPattern(e,r+1,a)}static patternMatchVariance(e,r,a){const o=e.length;let l=0,d=0;for(let U=0;U<o;U++)l+=e[U],d+=r[U];if(l<d)return Number.POSITIVE_INFINITY;const p=l/d;a*=p;let C=0;for(let U=0;U<o;U++){const $=e[U],he=r[U]*p,Ie=$>he?$-he:he-$;if(Ie>a)return Number.POSITIVE_INFINITY;C+=Ie}return C/l}}class kt extends br{static findStartPattern(e){const r=e.getSize(),a=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),d=a,p=!1;for(let U=a;U<r;U++)if(e.get(U)!==p)l[o]++;else{if(5===o){let $=kt.MAX_AVG_VARIANCE,he=-1;for(let Ie=kt.CODE_START_A;Ie<=kt.CODE_START_C;Ie++){const De=br.patternMatchVariance(l,kt.CODE_PATTERNS[Ie],kt.MAX_INDIVIDUAL_VARIANCE);De<$&&($=De,he=Ie)}if(he>=0&&e.isRange(Math.max(0,d-(U-d)/2),d,!1))return Int32Array.from([d,U,he]);d+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,p=!p}throw new V}static decodeCode(e,r,a){br.recordPattern(e,a,r);let o=kt.MAX_AVG_VARIANCE,l=-1;for(let d=0;d<kt.CODE_PATTERNS.length;d++){const C=this.patternMatchVariance(r,kt.CODE_PATTERNS[d],kt.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,l=d)}if(l>=0)return l;throw new V}decodeRow(e,r,a){const o=a&&!0===a.get(S.ASSUME_GS1),l=kt.findStartPattern(r),d=l[2];let p=0;const C=new Uint8Array(20);let U;switch(C[p++]=d,d){case kt.CODE_START_A:U=kt.CODE_CODE_A;break;case kt.CODE_START_B:U=kt.CODE_CODE_B;break;case kt.CODE_START_C:U=kt.CODE_CODE_C;break;default:throw new _}let $=!1,he=!1,Ie="",De=l[0],Qe=l[1];const rt=Int32Array.from([0,0,0,0,0,0]);let pt=0,Et=0,zt=d,or=0,Nt=!0,Wr=!1,Or=!1;for(;!$;){const Ui=he;switch(he=!1,pt=Et,Et=kt.decodeCode(r,rt,Qe),C[p++]=Et,Et!==kt.CODE_STOP&&(Nt=!0),Et!==kt.CODE_STOP&&(or++,zt+=or*Et),De=Qe,Qe+=rt.reduce((_i,Fi)=>_i+Fi,0),Et){case kt.CODE_START_A:case kt.CODE_START_B:case kt.CODE_START_C:throw new _}switch(U){case kt.CODE_CODE_A:if(Et<64)Ie+=String.fromCharCode(Or===Wr?" ".charCodeAt(0)+Et:" ".charCodeAt(0)+Et+128),Or=!1;else if(Et<96)Ie+=String.fromCharCode(Or===Wr?Et-64:Et+64),Or=!1;else switch(Et!==kt.CODE_STOP&&(Nt=!1),Et){case kt.CODE_FNC_1:o&&(Ie+=0===Ie.length?"]C1":String.fromCharCode(29));break;case kt.CODE_FNC_2:case kt.CODE_FNC_3:break;case kt.CODE_FNC_4_A:!Wr&&Or?(Wr=!0,Or=!1):Wr&&Or?(Wr=!1,Or=!1):Or=!0;break;case kt.CODE_SHIFT:he=!0,U=kt.CODE_CODE_B;break;case kt.CODE_CODE_B:U=kt.CODE_CODE_B;break;case kt.CODE_CODE_C:U=kt.CODE_CODE_C;break;case kt.CODE_STOP:$=!0}break;case kt.CODE_CODE_B:if(Et<96)Ie+=String.fromCharCode(Or===Wr?" ".charCodeAt(0)+Et:" ".charCodeAt(0)+Et+128),Or=!1;else switch(Et!==kt.CODE_STOP&&(Nt=!1),Et){case kt.CODE_FNC_1:o&&(Ie+=0===Ie.length?"]C1":String.fromCharCode(29));break;case kt.CODE_FNC_2:case kt.CODE_FNC_3:break;case kt.CODE_FNC_4_B:!Wr&&Or?(Wr=!0,Or=!1):Wr&&Or?(Wr=!1,Or=!1):Or=!0;break;case kt.CODE_SHIFT:he=!0,U=kt.CODE_CODE_A;break;case kt.CODE_CODE_A:U=kt.CODE_CODE_A;break;case kt.CODE_CODE_C:U=kt.CODE_CODE_C;break;case kt.CODE_STOP:$=!0}break;case kt.CODE_CODE_C:if(Et<100)Et<10&&(Ie+="0"),Ie+=Et;else switch(Et!==kt.CODE_STOP&&(Nt=!1),Et){case kt.CODE_FNC_1:o&&(Ie+=0===Ie.length?"]C1":String.fromCharCode(29));break;case kt.CODE_CODE_A:U=kt.CODE_CODE_A;break;case kt.CODE_CODE_B:U=kt.CODE_CODE_B;break;case kt.CODE_STOP:$=!0}}Ui&&(U=U===kt.CODE_CODE_A?kt.CODE_CODE_B:kt.CODE_CODE_A)}const fi=Qe-De;if(Qe=r.getNextUnset(Qe),!r.isRange(Qe,Math.min(r.getSize(),Qe+(Qe-De)/2),!1))throw new V;if(zt-=or*pt,zt%103!==pt)throw new I;const yi=Ie.length;if(0===yi)throw new V;yi>0&&Nt&&(Ie=Ie.substring(0,U===kt.CODE_CODE_C?yi-2:yi-1));const xi=(l[1]+l[0])/2,En=De+fi/2,Qr=C.length,hi=new Uint8Array(Qr);for(let Ui=0;Ui<Qr;Ui++)hi[Ui]=C[Ui];const Wi=[new Me(xi,e),new Me(En,e)];return new qe(Ie,hi,0,Wi,Je.CODE_128,(new Date).getTime())}}kt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],kt.MAX_AVG_VARIANCE=.25,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.CODE_SHIFT=98,kt.CODE_CODE_C=99,kt.CODE_CODE_B=100,kt.CODE_CODE_A=101,kt.CODE_FNC_1=102,kt.CODE_FNC_2=97,kt.CODE_FNC_3=96,kt.CODE_FNC_4_A=101,kt.CODE_FNC_4_B=100,kt.CODE_START_A=103,kt.CODE_START_B=104,kt.CODE_START_C=105,kt.CODE_STOP=106;let Yr=(()=>{class z extends br{constructor(r=!1,a=!1){super(),this.usingCheckDigit=r,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,a,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let U,$,d=z.findAsteriskPattern(a,l),p=a.getNextSet(d[1]),C=a.getSize();do{z.recordPattern(a,p,l);let pt=z.toNarrowWidePattern(l);if(pt<0)throw new V;U=z.patternToChar(pt),this.decodeRowResult+=U,$=p;for(let Et of l)p+=Et;p=a.getNextSet(p)}while("*"!==U);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let De,he=0;for(let pt of l)he+=pt;if(p!==C&&2*(p-$-he)<he)throw new V;if(this.usingCheckDigit){let pt=this.decodeRowResult.length-1,Et=0;for(let zt=0;zt<pt;zt++)Et+=z.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(zt));if(this.decodeRowResult.charAt(pt)!==z.ALPHABET_STRING.charAt(Et%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,pt)}if(0===this.decodeRowResult.length)throw new V;De=this.extendedMode?z.decodeExtended(this.decodeRowResult):this.decodeRowResult;let rt=$+he/2;return new qe(De,null,0,[new Me((d[1]+d[0])/2,r),new Me(rt,r)],Je.CODE_39,(new Date).getTime())}static findAsteriskPattern(r,a){let o=r.getSize(),l=r.getNextSet(0),d=0,p=l,C=!1,U=a.length;for(let $=l;$<o;$++)if(r.get($)!==C)a[d]++;else{if(d===U-1){if(this.toNarrowWidePattern(a)===z.ASTERISK_ENCODING&&r.isRange(Math.max(0,p-Math.floor(($-p)/2)),p,!1))return[p,$];p+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,C=!C}throw new V}static toNarrowWidePattern(r){let l,a=r.length,o=0;do{let d=2147483647;for(let U of r)U<d&&U>o&&(d=U);o=d,l=0;let p=0,C=0;for(let U=0;U<a;U++){let $=r[U];$>o&&(C|=1<<a-1-U,l++,p+=$)}if(3===l){for(let U=0;U<a&&l>0;U++){let $=r[U];if($>o&&(l--,2*$>=p))return-1}return C}}while(l>3);return-1}static patternToChar(r){for(let a=0;a<z.CHARACTER_ENCODINGS.length;a++)if(z.CHARACTER_ENCODINGS[a]===r)return z.ALPHABET_STRING.charAt(a);if(r===z.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(r){let a=r.length,o="";for(let l=0;l<a;l++){let d=r.charAt(l);if("+"===d||"$"===d||"%"===d||"/"===d){let p=r.charAt(l+1),C="\0";switch(d){case"+":if(!(p>="A"&&p<="Z"))throw new _;C=String.fromCharCode(p.charCodeAt(0)+32);break;case"$":if(!(p>="A"&&p<="Z"))throw new _;C=String.fromCharCode(p.charCodeAt(0)-64);break;case"%":if(p>="A"&&p<="E")C=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")C=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")C=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")C=String.fromCharCode(p.charCodeAt(0)+43);else if("U"===p)C="\0";else if("V"===p)C="@";else if("W"===p)C="`";else{if("X"!==p&&"Y"!==p&&"Z"!==p)throw new _;C="\x7f"}break;case"/":if(p>="A"&&p<="O")C=String.fromCharCode(p.charCodeAt(0)-32);else{if("Z"!==p)throw new _;C=":"}}o+=C,l++}else o+=d}return o}}return z.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",z.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],z.ASTERISK_ENCODING=148,z})();class Br extends br{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,a){let o=this.decodeStart(r),l=this.decodeEnd(r),d=new G;Br.decodeMiddle(r,o[1],l[0],d);let p=d.toString(),C=null;null!=a&&(C=a.get(S.ALLOWED_LENGTHS)),null==C&&(C=Br.DEFAULT_ALLOWED_LENGTHS);let U=p.length,$=!1,he=0;for(let Qe of C){if(U===Qe){$=!0;break}Qe>he&&(he=Qe)}if(!$&&U>he&&($=!0),!$)throw new _;const Ie=[new Me(o[1],e),new Me(l[0],e)];return new qe(p,null,0,Ie,Je.ITF,(new Date).getTime())}static decodeMiddle(e,r,a,o){let l=new Int32Array(10),d=new Int32Array(5),p=new Int32Array(5);for(l.fill(0),d.fill(0),p.fill(0);r<a;){br.recordPattern(e,r,l);for(let U=0;U<5;U++){let $=2*U;d[U]=l[$],p[U]=l[$+1]}let C=Br.decodeDigit(d);o.append(C.toString()),C=this.decodeDigit(p),o.append(C.toString()),l.forEach(function(U){r+=U})}}decodeStart(e){let r=Br.skipWhiteSpace(e),a=Br.findGuardPattern(e,r,Br.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(e,a[0]),a}validateQuietZone(e,r){let a=10*this.narrowLineWidth;a=a<r?a:r;for(let o=r-1;a>0&&o>=0&&!e.get(o);o--)a--;if(0!==a)throw new V}static skipWhiteSpace(e){const r=e.getSize(),a=e.getNextSet(0);if(a===r)throw new V;return a}decodeEnd(e){e.reverse();try{let a,r=Br.skipWhiteSpace(e);try{a=Br.findGuardPattern(e,r,Br.END_PATTERN_REVERSED[0])}catch(l){l instanceof V&&(a=Br.findGuardPattern(e,r,Br.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,a[0]);let o=a[0];return a[0]=e.getSize()-a[1],a[1]=e.getSize()-o,a}finally{e.reverse()}}static findGuardPattern(e,r,a){let o=a.length,l=new Int32Array(o),d=e.getSize(),p=!1,C=0,U=r;l.fill(0);for(let $=r;$<d;$++)if(e.get($)!==p)l[C]++;else{if(C===o-1){if(br.patternMatchVariance(l,a,Br.MAX_INDIVIDUAL_VARIANCE)<Br.MAX_AVG_VARIANCE)return[U,$];U+=l[0]+l[1],J.arraycopy(l,2,l,0,C-1),l[C-1]=0,l[C]=0,C--}else C++;l[C]=1,p=!p}throw new V}static decodeDigit(e){let r=Br.MAX_AVG_VARIANCE,a=-1,o=Br.PATTERNS.length;for(let l=0;l<o;l++){let p=br.patternMatchVariance(e,Br.PATTERNS[l],Br.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,a=l):p===r&&(a=-1)}if(a>=0)return a%10;throw new V}}Br.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Br.MAX_AVG_VARIANCE=.38,Br.MAX_INDIVIDUAL_VARIANCE=.5,Br.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Br.START_PATTERN=Int32Array.from([1,1,1,1]),Br.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pr extends br{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let a,r=!1,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),a=Pr.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let d=a[0];o=a[1];let p=d-(o-d);p>=0&&(r=e.isRange(p,d,!1))}return a}static checkChecksum(e){return Pr.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(0===r)return!1;let a=parseInt(e.charAt(r-1),10);return Pr.getStandardUPCEANChecksum(e.substring(0,r-1))===a}static getStandardUPCEANChecksum(e){let r=e.length,a=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}a*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}return(1e3-a)%10}static decodeEnd(e,r){return Pr.findGuardPattern(e,r,!1,Pr.START_END_PATTERN,new Int32Array(Pr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,a,o){return this.findGuardPattern(e,r,a,o,new Int32Array(o.length))}static findGuardPattern(e,r,a,o,l){let d=e.getSize(),p=0,C=r=a?e.getNextUnset(r):e.getNextSet(r),U=o.length,$=a;for(let he=r;he<d;he++)if(e.get(he)!==$)l[p]++;else{if(p===U-1){if(br.patternMatchVariance(l,o,Pr.MAX_INDIVIDUAL_VARIANCE)<Pr.MAX_AVG_VARIANCE)return Int32Array.from([C,he]);C+=l[0]+l[1];let Ie=l.slice(2,l.length-1);for(let De=0;De<p-1;De++)l[De]=Ie[De];l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,$=!$}throw new V}static decodeDigit(e,r,a,o){this.recordPattern(e,a,r);let l=this.MAX_AVG_VARIANCE,d=-1,p=o.length;for(let C=0;C<p;C++){let $=br.patternMatchVariance(r,o[C],Pr.MAX_INDIVIDUAL_VARIANCE);$<l&&(l=$,d=C)}if(d>=0)return d;throw new V}}Pr.MAX_AVG_VARIANCE=.48,Pr.MAX_INDIVIDUAL_VARIANCE=.7,Pr.START_END_PATTERN=Int32Array.from([1,1,1]),Pr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class cn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,a){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,a,o),d=o.toString(),p=cn.parseExtensionString(d),C=[new Me((a[0]+a[1])/2,e),new Me(l,e)],U=new qe(d,null,0,C,Je.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&U.putAllMetadata(p),U}decodeMiddle(e,r,a){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1],p=0;for(let U=0;U<5&&d<l;U++){let $=Pr.decodeDigit(e,o,d,Pr.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+$%10);for(let he of o)d+=he;$>=10&&(p|=1<<4-U),4!==U&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(5!==a.length)throw new V;let C=this.determineCheckDigit(p);if(cn.extensionChecksum(a.toString())!==C)throw new V;return d}static extensionChecksum(e){let r=e.length,a=0;for(let o=r-2;o>=0;o-=2)a+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let o=r-1;o>=0;o-=2)a+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new V}static parseExtensionString(e){if(5!==e.length)return null;let r=cn.parseExtension5String(e);return null==r?null:new Map([[ht.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="\xa3";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r=""}let a=parseInt(e.substring(1)),l=a%100;return r+(a/100).toString()+"."+(l<10?"0"+l:l.toString())}}class Tn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,a){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,a,o),d=o.toString(),p=Tn.parseExtensionString(d),C=[new Me((a[0]+a[1])/2,e),new Me(l,e)],U=new qe(d,null,0,C,Je.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&U.putAllMetadata(p),U}decodeMiddle(e,r,a){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1],p=0;for(let C=0;C<2&&d<l;C++){let U=Pr.decodeDigit(e,o,d,Pr.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U%10);for(let $ of o)d+=$;U>=10&&(p|=1<<1-C),1!==C&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(2!==a.length)throw new V;if(parseInt(a.toString())%4!==p)throw new V;return d}static parseExtensionString(e){return 2!==e.length?null:new Map([[ht.ISSUE_NUMBER,parseInt(e)]])}}class hn{static decodeRow(e,r,a){let o=Pr.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new cn).decodeRow(e,r,o)}catch{return(new Tn).decodeRow(e,r,o)}}}hn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class qt extends Pr{constructor(){super(),this.decodeRowStringBuffer="",qt.L_AND_G_PATTERNS=qt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=qt.L_PATTERNS[e-10],a=new Int32Array(r.length);for(let o=0;o<r.length;o++)a[o]=r[r.length-o-1];qt.L_AND_G_PATTERNS[e]=a}}decodeRow(e,r,a){let o=qt.findStartGuardPattern(r),l=null==a?null:a.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=l){const Nt=new Me((o[0]+o[1])/2,e);l.foundPossibleResultPoint(Nt)}let d=this.decodeMiddle(r,o,this.decodeRowStringBuffer),p=d.rowOffset,C=d.resultString;if(null!=l){const Nt=new Me(p,e);l.foundPossibleResultPoint(Nt)}let U=qt.decodeEnd(r,p);if(null!=l){const Nt=new Me((U[0]+U[1])/2,e);l.foundPossibleResultPoint(Nt)}let $=U[1],he=$+($-U[0]);if(he>=r.getSize()||!r.isRange($,he,!1))throw new V;let Ie=C.toString();if(Ie.length<8)throw new _;if(!qt.checkChecksum(Ie))throw new I;let De=(o[1]+o[0])/2,Qe=(U[1]+U[0])/2,rt=this.getBarcodeFormat(),pt=[new Me(De,e),new Me(Qe,e)],Et=new qe(Ie,null,0,pt,rt,(new Date).getTime()),zt=0;try{let Nt=hn.decodeRow(e,r,U[1]);Et.putMetadata(ht.UPC_EAN_EXTENSION,Nt.getText()),Et.putAllMetadata(Nt.getResultMetadata()),Et.addResultPoints(Nt.getResultPoints()),zt=Nt.getText().length}catch{}let or=null==a?null:a.get(S.ALLOWED_EAN_EXTENSIONS);if(null!=or){let Nt=!1;for(let Wr in or)if(zt.toString()===Wr){Nt=!0;break}if(!Nt)throw new V}return Et}static checkChecksum(e){return qt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(0===r)return!1;let a=parseInt(e.charAt(r-1),10);return qt.getStandardUPCEANChecksum(e.substring(0,r-1))===a}static getStandardUPCEANChecksum(e){let r=e.length,a=0;for(let o=r-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}a*=3;for(let o=r-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new _;a+=l}return(1e3-a)%10}static decodeEnd(e,r){return qt.findGuardPattern(e,r,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}}let Gn=(()=>{class z extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d=r.getSize(),p=a[1],C=0;for(let $=0;$<6&&p<d;$++){let he=qt.decodeDigit(r,l,p,qt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+he%10);for(let Ie of l)p+=Ie;he>=10&&(C|=1<<5-$)}o=z.determineFirstDigit(o,C),p=qt.findGuardPattern(r,p,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let $=0;$<6&&p<d;$++){let he=qt.decodeDigit(r,l,p,qt.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+he);for(let Ie of l)p+=Ie}return{rowOffset:p,resultString:o}}getBarcodeFormat(){return Je.EAN_13}static determineFirstDigit(r,a){for(let o=0;o<10;o++)if(a===this.FIRST_DIGIT_ENCODINGS[o])return String.fromCharCode("0".charCodeAt(0)+o)+r;throw new V}}return z.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],z})();class qn extends qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,a){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),d=r[1];for(let C=0;C<4&&d<l;C++){let U=qt.decodeDigit(e,o,d,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U);for(let $ of o)d+=$}d=qt.findGuardPattern(e,d,!0,qt.MIDDLE_PATTERN,new Int32Array(qt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&d<l;C++){let U=qt.decodeDigit(e,o,d,qt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U);for(let $ of o)d+=$}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return Je.EAN_8}}class Zn extends qt{constructor(){super(...arguments),this.ean13Reader=new Gn}getBarcodeFormat(){return Je.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,a))}decodeMiddle(e,r,a){return this.ean13Reader.decodeMiddle(e,r,a)}maybeReturnResult(e){let r=e.getText();if("0"===r.charAt(0)){let a=new qe(r.substring(1),null,null,e.getResultPoints(),Je.UPC_A);return null!=e.getResultMetadata()&&a.putAllMetadata(e.getResultMetadata()),a}throw new V}reset(){this.ean13Reader.reset()}}class dn extends qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,a){const o=this.decodeMiddleCounters.map(C=>C);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let d=r[1],p=0;for(let C=0;C<6&&d<l;C++){const U=dn.decodeDigit(e,o,d,dn.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+U%10);for(let $ of o)d+=$;U>=10&&(p|=1<<5-C)}return dn.determineNumSysAndCheckDigit(new G(a),p),d}decodeEnd(e,r){return dn.findGuardPatternWithoutCounters(e,r,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(e){return qt.checkChecksum(dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let a=0;a<=1;a++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o])return e.insert(0,"0"+a),void e.append("0"+o);throw V.getNotFoundInstance()}getBarcodeFormat(){return Je.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),a=new G;a.append(e.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(o),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(o)}return e.length>=8&&a.append(e.charAt(7)),a.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class ni extends br{constructor(e){super();let r=null==e?null:e.get(S.POSSIBLE_FORMATS),a=[];null!=r&&(r.indexOf(Je.EAN_13)>-1?a.push(new Gn):r.indexOf(Je.UPC_A)>-1&&a.push(new Zn),r.indexOf(Je.EAN_8)>-1&&a.push(new qn),r.indexOf(Je.UPC_E)>-1&&a.push(new dn)),0===a.length&&(a.push(new Gn),a.push(new qn),a.push(new dn)),this.readers=a}decodeRow(e,r,a){for(let o of this.readers)try{const l=o.decodeRow(e,r,a),d=l.getBarcodeFormat()===Je.EAN_13&&"0"===l.getText().charAt(0),p=null==a?null:a.get(S.POSSIBLE_FORMATS),C=null==p||p.includes(Je.UPC_A);if(d&&C){const U=l.getRawBytes(),$=new qe(l.getText().substring(1),U,U.length,l.getResultPoints(),Je.UPC_A);return $.putAllMetadata(l.getResultMetadata()),$}return l}catch{}throw new V}reset(){for(let e of this.readers)e.reset()}}let kn=(()=>{class z extends br{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,a){for(let o=0;o<a.length;o++)if(br.patternMatchVariance(r,a[o],z.MAX_INDIVIDUAL_VARIANCE)<z.MAX_AVG_VARIANCE)return o;throw new V}static count(r){return Xe.sum(new Int32Array(r))}static increment(r,a){let o=0,l=a[0];for(let d=1;d<r.length;d++)a[d]>l&&(l=a[d],o=d);r[o]++}static decrement(r,a){let o=0,l=a[0];for(let d=1;d<r.length;d++)a[d]<l&&(l=a[d],o=d);r[o]--}static isFinderPattern(r){let a=r[0]+r[1],l=a/(a+r[2]+r[3]);if(l>=z.MIN_FINDER_PATTERN_RATIO&&l<=z.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let C of r)C>p&&(p=C),C<d&&(d=C);return p<10*d}return!1}}return z.MAX_AVG_VARIANCE=.2,z.MAX_INDIVIDUAL_VARIANCE=.45,z.MIN_FINDER_PATTERN_RATIO=9.5/12,z.MAX_FINDER_PATTERN_RATIO=12.5/14,z})();class Jn{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){return e instanceof Jn&&this.value===e.value&&this.checksumPortion===e.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bn{constructor(e,r,a,o,l){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Me(a,l)),this.resultPoints.push(new Me(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){return e instanceof bn&&this.value===e.value}hashCode(){return this.value}}class tn{constructor(){}static getRSSvalue(e,r,a){let o=0;for(let C of e)o+=C;let l=0,d=0,p=e.length;for(let C=0;C<p-1;C++){let U;for(U=1,d|=1<<C;U<e[C];U++,d&=~(1<<C)){let $=tn.combins(o-U-1,p-C-2);if(a&&0===d&&o-U-(p-C-1)>=p-C-1&&($-=tn.combins(o-U-(p-C),p-C-2)),p-C-1>1){let he=0;for(let Ie=o-U-(p-C-2);Ie>r;Ie--)he+=tn.combins(o-U-Ie-1,p-C-3);$-=he*(p-1-C)}else o-U>r&&$--;l+=$}o-=U}return l}static combins(e,r){let a,o;e-r>r?(o=r,a=e-r):(o=e-r,a=r);let l=1,d=1;for(let p=e;p>a;p--)l*=p,d<=o&&(l/=d,d++);for(;d<=o;)l/=d,d++;return l}}class an{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mn{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}let Nr=(()=>{class z extends mn{constructor(r,a){super(r),this.value=a}getValue(){return this.value}isFNC1(){return this.value===z.FNC1}}return z.FNC1="$",z})();class Fr extends mn{constructor(e,r,a){super(e),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let rn=(()=>{class z extends mn{constructor(r,a,o){if(super(r),a<0||a>10||o<0||o>10)throw new _;this.firstDigit=a,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===z.FNC1}isSecondDigitFNC1(){return this.secondDigit===z.FNC1}isAnyFNC1(){return this.firstDigit===z.FNC1||this.secondDigit===z.FNC1}}return z.FNC1=10,z})();class Qt{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new V;let r=e.substring(0,2);for(let l of Qt.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(2,l[2],e):Qt.processFixedAI(2,l[1],e);if(e.length<3)throw new V;let a=e.substring(0,3);for(let l of Qt.THREE_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(3,l[2],e):Qt.processFixedAI(3,l[1],e);for(let l of Qt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(4,l[2],e):Qt.processFixedAI(4,l[1],e);if(e.length<4)throw new V;let o=e.substring(0,4);for(let l of Qt.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===Qt.VARIABLE_LENGTH?Qt.processVariableAI(4,l[2],e):Qt.processFixedAI(4,l[1],e);throw new V}static processFixedAI(e,r,a){if(a.length<e)throw new V;let o=a.substring(0,e);if(a.length<e+r)throw new V;let l=a.substring(e,e+r),d=a.substring(e+r),p="("+o+")"+l,C=Qt.parseFieldsInGeneralPurpose(d);return null==C?p:p+C}static processVariableAI(e,r,a){let l,o=a.substring(0,e);l=a.length<e+r?a.length:e+r;let d=a.substring(e,l),p=a.substring(l),C="("+o+")"+d,U=Qt.parseFieldsInGeneralPurpose(p);return null==U?C:C+U}}Qt.VARIABLE_LENGTH=[],Qt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Qt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Qt.VARIABLE_LENGTH,20],["22",Qt.VARIABLE_LENGTH,29],["30",Qt.VARIABLE_LENGTH,8],["37",Qt.VARIABLE_LENGTH,8],["90",Qt.VARIABLE_LENGTH,30],["91",Qt.VARIABLE_LENGTH,30],["92",Qt.VARIABLE_LENGTH,30],["93",Qt.VARIABLE_LENGTH,30],["94",Qt.VARIABLE_LENGTH,30],["95",Qt.VARIABLE_LENGTH,30],["96",Qt.VARIABLE_LENGTH,30],["97",Qt.VARIABLE_LENGTH,3],["98",Qt.VARIABLE_LENGTH,30],["99",Qt.VARIABLE_LENGTH,30]],Qt.THREE_DIGIT_DATA_LENGTH=[["240",Qt.VARIABLE_LENGTH,30],["241",Qt.VARIABLE_LENGTH,30],["242",Qt.VARIABLE_LENGTH,6],["250",Qt.VARIABLE_LENGTH,30],["251",Qt.VARIABLE_LENGTH,30],["253",Qt.VARIABLE_LENGTH,17],["254",Qt.VARIABLE_LENGTH,20],["400",Qt.VARIABLE_LENGTH,30],["401",Qt.VARIABLE_LENGTH,30],["402",17],["403",Qt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Qt.VARIABLE_LENGTH,20],["421",Qt.VARIABLE_LENGTH,15],["422",3],["423",Qt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Qt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Qt.VARIABLE_LENGTH,15],["391",Qt.VARIABLE_LENGTH,18],["392",Qt.VARIABLE_LENGTH,15],["393",Qt.VARIABLE_LENGTH,18],["703",Qt.VARIABLE_LENGTH,30]],Qt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Qt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Qt.VARIABLE_LENGTH,20],["8003",Qt.VARIABLE_LENGTH,30],["8004",Qt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Qt.VARIABLE_LENGTH,30],["8008",Qt.VARIABLE_LENGTH,12],["8018",18],["8020",Qt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Qt.VARIABLE_LENGTH,70],["8200",Qt.VARIABLE_LENGTH,70]];class fn{constructor(e){this.buffer=new G,this.information=e}decodeAllCodes(e,r){let a=r,o=null;for(;;){let l=this.decodeGeneralPurposeField(a,o),d=Qt.parseFieldsInGeneralPurpose(l.getNewString());if(null!=d&&e.append(d),o=l.isRemaining()?""+l.getRemainingValue():null,a===l.getNewPosition())break;a=l.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return new rn(this.information.getSize(),0===l?rn.FNC1:l-1,rn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7);return new rn(e+7,(r-8)/11,(r-8)%11)}extractNumericValueFromBitArray(e,r){return fn.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,a){let o=0;for(let l=0;l<a;++l)e.get(r+l)&&(o|=1<<a-l-1);return o}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),null!=r&&this.buffer.append(r),this.current.setPosition(e);let a=this.parseBlocks();return null!=a&&a.isRemaining()?new Fr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Fr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),a===this.current.getPosition()&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return r=e.isSecondDigitFNC1()?new Fr(this.current.getPosition(),this.buffer.toString()):new Fr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new an(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new an(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new an(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new an(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new an(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new Fr(this.current.getPosition(),this.buffer.toString());return new an(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new an(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(15===r)return new Nr(e+5,Nr.FNC1);if(r>=5&&r<15)return new Nr(e+5,"0"+(r-5));let l,a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new Nr(e+7,""+(a+1));if(a>=90&&a<116)return new Nr(e+7,""+(a+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new _}return new Nr(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(15===r)return new Nr(e+5,Nr.FNC1);if(r>=5&&r<15)return new Nr(e+5,"0"+(r-5));let o,a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new Nr(e+6,""+(a+33));switch(a){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new X("Decoding invalid alphanumeric value: "+a)}return new Nr(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(2===r){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class nn{constructor(e){this.information=e,this.generalDecoder=new fn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Kr=(()=>{class z extends nn{constructor(r){super(r)}encodeCompressedGtin(r,a){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,a,o)}encodeCompressedGtinWithoutAI(r,a,o){for(let l=0;l<4;++l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*l,10);d/100==0&&r.append("0"),d/10==0&&r.append("0"),r.append(d)}z.appendCheckDigit(r,o)}static appendCheckDigit(r,a){let o=0;for(let l=0;l<13;l++){let d=r.charAt(l+a).charCodeAt(0)-"0".charCodeAt(0);o+=0==(1&l)?3*d:d}o=10-o%10,10===o&&(o=0),r.append(o)}}return z.GTIN_SIZE=40,z})(),gn=(()=>{class z extends Kr{constructor(r){super(r)}parseInformation(){let r=new G;r.append("(01)");let a=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(z.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,z.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(r,z.HEADER_SIZE+44)}}return z.HEADER_SIZE=4,z})(),vn=(()=>{class z extends nn{constructor(r){super(r)}parseInformation(){let r=new G;return this.getGeneralDecoder().decodeAllCodes(r,z.HEADER_SIZE)}}return z.HEADER_SIZE=5,z})();class dr extends Kr{constructor(e){super(e)}encodeCompressedWeight(e,r,a){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(e,o);let l=this.checkWeight(o),d=1e5;for(let p=0;p<5;++p)l/d==0&&e.append("0"),d/=10;e.append(l)}}let In=(()=>{class z extends dr{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=z.HEADER_SIZE+dr.GTIN_SIZE+z.WEIGHT_SIZE)throw new V;let r=new G;return this.encodeCompressedGtin(r,z.HEADER_SIZE),this.encodeCompressedWeight(r,z.HEADER_SIZE+dr.GTIN_SIZE,z.WEIGHT_SIZE),r.toString()}}return z.HEADER_SIZE=5,z.WEIGHT_SIZE=15,z})();class li extends In{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class Ni extends In{constructor(e){super(e)}addWeightCode(e,r){e.append(r<1e4?"(3202)":"(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}let Aa=(()=>{class z extends Kr{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<z.HEADER_SIZE+Kr.GTIN_SIZE)throw new V;let r=new G;this.encodeCompressedGtin(r,z.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(z.HEADER_SIZE+Kr.GTIN_SIZE,z.LAST_DIGIT_SIZE);r.append("(392"),r.append(a),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(z.HEADER_SIZE+Kr.GTIN_SIZE+z.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}return z.HEADER_SIZE=8,z.LAST_DIGIT_SIZE=2,z})(),pe=(()=>{class z extends Kr{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<z.HEADER_SIZE+Kr.GTIN_SIZE)throw new V;let r=new G;this.encodeCompressedGtin(r,z.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(z.HEADER_SIZE+Kr.GTIN_SIZE,z.LAST_DIGIT_SIZE);r.append("(393"),r.append(a),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(z.HEADER_SIZE+Kr.GTIN_SIZE+z.LAST_DIGIT_SIZE,z.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(z.HEADER_SIZE+Kr.GTIN_SIZE+z.LAST_DIGIT_SIZE+z.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}return z.HEADER_SIZE=8,z.LAST_DIGIT_SIZE=2,z.FIRST_THREE_DIGITS_SIZE=10,z})(),ce=(()=>{class z extends dr{constructor(r,a,o){super(r),this.dateCode=o,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=z.HEADER_SIZE+z.GTIN_SIZE+z.WEIGHT_SIZE+z.DATE_SIZE)throw new V;let r=new G;return this.encodeCompressedGtin(r,z.HEADER_SIZE),this.encodeCompressedWeight(r,z.HEADER_SIZE+z.GTIN_SIZE,z.WEIGHT_SIZE),this.encodeCompressedDate(r,z.HEADER_SIZE+z.GTIN_SIZE+z.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,a){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a,z.DATE_SIZE);if(38400==o)return;r.append("("),r.append(this.dateCode),r.append(")");let l=o%32;o/=32;let d=o%12+1;o/=12;let p=o;p/10==0&&r.append("0"),r.append(p),d/10==0&&r.append("0"),r.append(d),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,a){r.append("("),r.append(this.firstAIdigits),r.append(a/1e5),r.append(")")}checkWeight(r){return r%1e5}}return z.HEADER_SIZE=8,z.WEIGHT_SIZE=20,z.DATE_SIZE=16,z})();class me{constructor(e,r,a,o){this.leftchar=e,this.rightchar=r,this.finderpattern=a,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof me&&me.equalsOrNull(e.leftchar,r.leftchar)&&me.equalsOrNull(e.rightchar,r.rightchar)&&me.equalsOrNull(e.finderpattern,r.finderpattern)}static equalsOrNull(e,r){return null===e?null===r:me.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Pe{constructor(e,r,a){this.pairs=e,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Pe&&this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed}checkEqualitity(e,r){if(!e||!r)return;let a;return e.forEach((o,l)=>{r.forEach(d=>{o.getLeftChar().getValue()===d.getLeftChar().getValue()&&o.getRightChar().getValue()===d.getRightChar().getValue()&&o.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class Ce extends kn{constructor(e){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,r,a){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(e,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let o,a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(l){if(l instanceof V){if(!this.pairs.length)throw new V;a=!0}}if(this.checkChecksum())return this.pairs;if(o=!!this.rows.length,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(null!=l||(l=this.checkRowsBoolean(!0),null!=l))return l}throw new V}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let a=r;a<this.rows.length;a++){let o=this.rows[a];this.pairs.length=0;for(let d of e)this.pairs.push(d.getPairs());if(this.pairs.push(o.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,a+1)}catch(d){this.verbose&&console.log(d)}}throw new V}static isValidSequence(e){for(let r of Ce.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let a=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=r[o]){a=!1;break}if(a)return!0}return!1}storeRow(e,r){let a=0,o=!1,l=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>e){l=d.isEquivalent(this.pairs);break}o=d.isEquivalent(this.pairs),a++}l||o||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Pe(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let a of r)if(a.getPairs().length!==e.length)for(let o of a.getPairs())for(let l of e)if(me.equals(o,l))break}static isPartialRow(e,r){for(let a of r){let o=!0;for(let l of e){let d=!1;for(let p of a.getPairs())if(l.equals(p)){d=!0;break}if(!d){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let o=function oe(z){try{if(z.get(1))return new gn(z);if(!z.get(2))return new vn(z);switch(fn.extractNumericValueFromBitArray(z,1,4)){case 4:return new li(z);case 5:return new Ni(z)}switch(fn.extractNumericValueFromBitArray(z,1,5)){case 12:return new Aa(z);case 13:return new pe(z)}switch(fn.extractNumericValueFromBitArray(z,1,7)){case 56:return new ce(z,"310","11");case 57:return new ce(z,"320","11");case 58:return new ce(z,"310","13");case 59:return new ce(z,"320","13");case 60:return new ce(z,"310","15");case 61:return new ce(z,"320","15");case 62:return new ce(z,"310","17");case 63:return new ce(z,"320","17")}}catch(e){throw console.log(e),new X("unknown decoder: "+z)}}(class xn{static buildBitArray(e){let r=2*e.length-1;null==e[e.length-1].getRightChar()&&(r-=1);let o=new K(12*r),l=0,p=e[0].getRightChar().getValue();for(let C=11;C>=0;--C)0!=(p&1<<C)&&o.set(l),l++;for(let C=1;C<e.length;++C){let U=e[C],$=U.getLeftChar().getValue();for(let he=11;he>=0;--he)0!=($&1<<he)&&o.set(l),l++;if(null!=U.getRightChar()){let he=U.getRightChar().getValue();for(let Ie=11;Ie>=0;--Ie)0!=(he&1<<Ie)&&o.set(l),l++}}return o}}.buildBitArray(e)).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),d=e[e.length-1].getFinderPattern().getResultPoints();return new qe(o,null,null,[l[0],l[1],d[0],d[1]],Je.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),a=e.getRightChar();if(null==a)return!1;let o=a.getChecksumPortion(),l=2;for(let p=1;p<this.pairs.size();++p){let C=this.pairs.get(p);o+=C.getLeftChar().getChecksumPortion(),l++;let U=C.getRightChar();null!=U&&(o+=U.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(e,r){let a;return e.get(r)?(a=e.getNextUnset(r),a=e.getNextSet(a)):(a=e.getNextSet(r),a=e.getNextUnset(a)),a}retrieveNextPair(e,r,a){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,d=!0,p=-1;do{this.findNextPair(e,r,p),l=this.parseFoundFinderPattern(e,a,o),null==l?p=Ce.getNextSecondBar(e,this.startEnd[0]):d=!1}while(d);let U,C=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new V;try{U=this.decodeDataCharacter(e,l,o,!1)}catch($){U=null,this.verbose&&console.log($)}return new me(C,U,l,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,r,a){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let d,l=e.getSize();d=a>=0?a:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let C=!1;for(;d<l&&(C=!e.get(d),C);)d++;let U=0,$=d;for(let he=d;he<l;he++)if(e.get(he)!=C)o[U]++;else{if(3==U){if(p&&Ce.reverseCounters(o),Ce.isFinderPattern(o))return this.startEnd[0]=$,void(this.startEnd[1]=he);p&&Ce.reverseCounters(o),$+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,U--}else U++;o[U]=1,C=!C}throw new V}static reverseCounters(e){let r=e.length;for(let a=0;a<r/2;++a){let o=e[a];e[a]=e[r-a-1],e[r-a-1]=o}}parseFoundFinderPattern(e,r,a){let o,l,d;if(a){let U=this.startEnd[0]-1;for(;U>=0&&!e.get(U);)U--;U++,o=this.startEnd[0]-U,l=U,d=this.startEnd[1]}else l=this.startEnd[0],d=e.getNextUnset(this.startEnd[1]+1),o=d-this.startEnd[1];let C,p=this.getDecodeFinderCounters();J.arraycopy(p,0,p,1,p.length-1),p[0]=o;try{C=this.parseFinderValue(p,Ce.FINDER_PATTERNS)}catch{return null}return new bn(C,[l,d],l,d,r)}decodeDataCharacter(e,r,a,o){let l=this.getDataCharacterCounters();for(let En=0;En<l.length;En++)l[En]=0;if(o)Ce.recordPatternInReverse(e,r.getStartEnd()[0],l);else{Ce.recordPattern(e,r.getStartEnd()[1],l);for(let En=0,Qr=l.length-1;En<Qr;En++,Qr--){let hi=l[En];l[En]=l[Qr],l[Qr]=hi}}let p=Xe.sum(new Int32Array(l))/17,C=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-C)/C>.3)throw new V;let U=this.getOddCounts(),$=this.getEvenCounts(),he=this.getOddRoundingErrors(),Ie=this.getEvenRoundingErrors();for(let En=0;En<l.length;En++){let Qr=1*l[En]/p,hi=Qr+.5;if(hi<1){if(Qr<.3)throw new V;hi=1}else if(hi>8){if(Qr>8.7)throw new V;hi=8}let Wi=En/2;0==(1&En)?(U[Wi]=hi,he[Wi]=Qr-hi):($[Wi]=hi,Ie[Wi]=Qr-hi)}this.adjustOddEvenCounts(17);let De=4*r.getValue()+(a?0:2)+(o?0:1)-1,Qe=0,rt=0;for(let En=U.length-1;En>=0;En--)Ce.isNotA1left(r,a,o)&&(rt+=U[En]*Ce.WEIGHTS[De][2*En]),Qe+=U[En];let pt=0;for(let En=$.length-1;En>=0;En--)Ce.isNotA1left(r,a,o)&&(pt+=$[En]*Ce.WEIGHTS[De][2*En+1]);let Et=rt+pt;if(0!=(1&Qe)||Qe>13||Qe<4)throw new V;let zt=(13-Qe)/2,or=Ce.SYMBOL_WIDEST[zt],Nt=9-or,Wr=tn.getRSSvalue(U,or,!0),Or=tn.getRSSvalue($,Nt,!1);return new Jn(Wr*Ce.EVEN_TOTAL_SUBSET[zt]+Or+Ce.GSUM[zt],Et)}static isNotA1left(e,r,a){return!(0==e.getValue()&&r&&a)}adjustOddEvenCounts(e){let r=Xe.sum(new Int32Array(this.getOddCounts())),a=Xe.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let d=!1,p=!1;a>13?p=!0:a<4&&(d=!0);let C=r+a-e,U=1==(1&r),$=0==(1&a);if(1==C)if(U){if($)throw new V;l=!0}else{if(!$)throw new V;p=!0}else if(-1==C)if(U){if($)throw new V;o=!0}else{if(!$)throw new V;d=!0}else{if(0!=C)throw new V;if(U){if(!$)throw new V;r<a?(o=!0,p=!0):(l=!0,d=!0)}else if($)throw new V}if(o){if(l)throw new V;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new V;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class Tt extends Jn{constructor(e,r,a){super(e,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends kn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,a){const o=this.decodePair(r,!1,e,a);_t.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,e,a);_t.addOrTally(this.possibleRightPairs,l),r.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1)for(let p of this.possibleRightPairs)if(p.getCount()>1&&_t.checkChecksum(d,p))return _t.constructResult(d,p);throw new V}static addOrTally(e,r){if(null==r)return;let a=!1;for(let o of e)if(o.getValue()===r.getValue()){o.incrementCount(),a=!0;break}a||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let a=4537077*e.getValue()+r.getValue(),o=new String(a).toString(),l=new G;for(let U=13-o.length;U>0;U--)l.append("0");l.append(o);let d=0;for(let U=0;U<13;U++){let $=l.charAt(U).charCodeAt(0)-"0".charCodeAt(0);d+=0==(1&U)?3*$:$}d=10-d%10,10===d&&(d=0),l.append(d.toString());let p=e.getFinderPattern().getResultPoints(),C=r.getFinderPattern().getResultPoints();return new qe(l.toString(),null,0,[p[0],p[1],C[0],C[1]],Je.RSS_14,(new Date).getTime())}static checkChecksum(e,r){let a=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o}decodePair(e,r,a,o){try{let l=this.findFinderPattern(e,r),d=this.parseFoundFinderPattern(e,a,r,l),p=null==o?null:o.get(S.NEED_RESULT_POINT_CALLBACK);if(null!=p){let $=(l[0]+l[1])/2;r&&($=e.getSize()-1-$),p.foundPossibleResultPoint(new Me($,a))}let C=this.decodeDataCharacter(e,d,!0),U=this.decodeDataCharacter(e,d,!1);return new Tt(1597*C.getValue()+U.getValue(),C.getChecksumPortion()+4*U.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(e,r,a){let o=this.getDataCharacterCounters();for(let pt=0;pt<o.length;pt++)o[pt]=0;if(a)br.recordPatternInReverse(e,r.getStartEnd()[0],o);else{br.recordPattern(e,r.getStartEnd()[1]+1,o);for(let pt=0,Et=o.length-1;pt<Et;pt++,Et--){let zt=o[pt];o[pt]=o[Et],o[Et]=zt}}let l=a?16:15,d=Xe.sum(new Int32Array(o))/l,p=this.getOddCounts(),C=this.getEvenCounts(),U=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let pt=0;pt<o.length;pt++){let Et=o[pt]/d,zt=Math.floor(Et+.5);zt<1?zt=1:zt>8&&(zt=8);let or=Math.floor(pt/2);0==(1&pt)?(p[or]=zt,U[or]=Et-zt):(C[or]=zt,$[or]=Et-zt)}this.adjustOddEvenCounts(a,l);let he=0,Ie=0;for(let pt=p.length-1;pt>=0;pt--)Ie*=9,Ie+=p[pt],he+=p[pt];let De=0,Qe=0;for(let pt=C.length-1;pt>=0;pt--)De*=9,De+=C[pt],Qe+=C[pt];let rt=Ie+3*De;if(a){if(0!=(1&he)||he>12||he<4)throw new V;let pt=(12-he)/2,Et=_t.OUTSIDE_ODD_WIDEST[pt],zt=9-Et,or=tn.getRSSvalue(p,Et,!1),Nt=tn.getRSSvalue(C,zt,!0);return new Jn(or*_t.OUTSIDE_EVEN_TOTAL_SUBSET[pt]+Nt+_t.OUTSIDE_GSUM[pt],rt)}{if(0!=(1&Qe)||Qe>10||Qe<4)throw new V;let pt=(10-Qe)/2,Et=_t.INSIDE_ODD_WIDEST[pt],zt=9-Et,or=tn.getRSSvalue(p,Et,!0),Nt=tn.getRSSvalue(C,zt,!1);return new Jn(Nt*_t.INSIDE_ODD_TOTAL_SUBSET[pt]+or+_t.INSIDE_GSUM[pt],rt)}}findFinderPattern(e,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let o=e.getSize(),l=!1,d=0;for(;d<o&&(l=!e.get(d),r!==l);)d++;let p=0,C=d;for(let U=d;U<o;U++)if(e.get(U)!==l)a[p]++;else{if(3===p){if(kn.isFinderPattern(a))return[C,U];C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,l=!l}throw new V}parseFoundFinderPattern(e,r,a,o){let l=e.get(o[0]),d=o[0]-1;for(;d>=0&&l!==e.get(d);)d--;d++;const p=o[0]-d,C=this.getDecodeFinderCounters(),U=new Int32Array(C.length);J.arraycopy(C,0,U,1,C.length-1),U[0]=p;const $=this.parseFinderValue(U,_t.FINDER_PATTERNS);let he=d,Ie=o[1];return a&&(he=e.getSize()-1-he,Ie=e.getSize()-1-Ie),new bn($,[d,o[1]],he,Ie,r)}adjustOddEvenCounts(e,r){let a=Xe.sum(new Int32Array(this.getOddCounts())),o=Xe.sum(new Int32Array(this.getEvenCounts())),l=!1,d=!1,p=!1,C=!1;e?(a>12?d=!0:a<4&&(l=!0),o>12?C=!0:o<4&&(p=!0)):(a>11?d=!0:a<5&&(l=!0),o>10?C=!0:o<4&&(p=!0));let U=a+o-r,$=(1&a)==(e?1:0),he=1==(1&o);if(1===U)if($){if(he)throw new V;d=!0}else{if(!he)throw new V;C=!0}else if(-1===U)if($){if(he)throw new V;l=!0}else{if(!he)throw new V;p=!0}else{if(0!==U)throw new V;if($){if(!he)throw new V;a<o?(l=!0,C=!0):(d=!0,p=!0)}else if(he)throw new V}if(l){if(d)throw new V;kn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&kn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(C)throw new V;kn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&kn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vt extends br{constructor(e,r){super(),this.readers=[],this.verbose=!0===r;const a=e?e.get(S.POSSIBLE_FORMATS):null,o=e&&void 0!==e.get(S.ASSUME_CODE_39_CHECK_DIGIT);a&&((a.includes(Je.EAN_13)||a.includes(Je.UPC_A)||a.includes(Je.EAN_8)||a.includes(Je.UPC_E))&&this.readers.push(new ni(e)),a.includes(Je.CODE_39)&&this.readers.push(new Yr(o)),a.includes(Je.CODE_128)&&this.readers.push(new kt),a.includes(Je.ITF)&&this.readers.push(new Br),a.includes(Je.RSS_14)&&this.readers.push(new _t),a.includes(Je.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))),0===this.readers.length&&(this.readers.push(new ni(e)),this.readers.push(new Yr),this.readers.push(new ni(e)),this.readers.push(new kt),this.readers.push(new Br),this.readers.push(new _t),this.readers.push(new Ce(this.verbose)))}decodeRow(e,r,a){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,a)}catch{}throw new V}reset(){this.readers.forEach(e=>e.reset())}}class mr{constructor(e,r,a){this.ecCodewords=e,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Er{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class lr{constructor(e,r,a,o,l,d){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=d;let p=0;const C=d.getECCodewords(),U=d.getECBlocks();for(let $ of U)p+=$.getCount()*($.getDataCodewords()+C);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(0!=(1&e)||0!=(1&r))throw new _;for(let a of lr.VERSIONS)if(a.symbolSizeRows===e&&a.symbolSizeColumns===r)return a;throw new _}toString(){return""+this.versionNumber}static buildVersions(){return[new lr(1,10,10,8,8,new mr(5,new Er(1,3))),new lr(2,12,12,10,10,new mr(7,new Er(1,5))),new lr(3,14,14,12,12,new mr(10,new Er(1,8))),new lr(4,16,16,14,14,new mr(12,new Er(1,12))),new lr(5,18,18,16,16,new mr(14,new Er(1,18))),new lr(6,20,20,18,18,new mr(18,new Er(1,22))),new lr(7,22,22,20,20,new mr(20,new Er(1,30))),new lr(8,24,24,22,22,new mr(24,new Er(1,36))),new lr(9,26,26,24,24,new mr(28,new Er(1,44))),new lr(10,32,32,14,14,new mr(36,new Er(1,62))),new lr(11,36,36,16,16,new mr(42,new Er(1,86))),new lr(12,40,40,18,18,new mr(48,new Er(1,114))),new lr(13,44,44,20,20,new mr(56,new Er(1,144))),new lr(14,48,48,22,22,new mr(68,new Er(1,174))),new lr(15,52,52,24,24,new mr(42,new Er(2,102))),new lr(16,64,64,14,14,new mr(56,new Er(2,140))),new lr(17,72,72,16,16,new mr(36,new Er(4,92))),new lr(18,80,80,18,18,new mr(48,new Er(4,114))),new lr(19,88,88,20,20,new mr(56,new Er(4,144))),new lr(20,96,96,22,22,new mr(68,new Er(4,174))),new lr(21,104,104,24,24,new mr(56,new Er(6,136))),new lr(22,120,120,18,18,new mr(68,new Er(6,175))),new lr(23,132,132,20,20,new mr(62,new Er(8,163))),new lr(24,144,144,22,22,new mr(62,new Er(8,156),new Er(2,155))),new lr(25,8,18,6,16,new mr(7,new Er(1,5))),new lr(26,8,32,6,14,new mr(11,new Er(1,10))),new lr(27,12,26,10,24,new mr(14,new Er(1,16))),new lr(28,12,36,10,16,new mr(18,new Er(1,22))),new lr(29,16,36,14,16,new mr(24,new Er(1,32))),new lr(30,16,48,14,22,new mr(28,new Er(1,49)))]}}lr.VERSIONS=lr.buildVersions();class Vn{constructor(e){const r=e.getHeight();if(r<8||r>144||0!=(1&r))throw new _;this.version=Vn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new g(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),a=e.getWidth();return lr.getVersionForDimensions(r,a)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,o=0;const l=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let p=!1,C=!1,U=!1,$=!1;do{if(a!==l||0!==o||p)if(a!==l-2||0!==o||0==(3&d)||C)if(a!==l+4||2!==o||0!=(7&d)||U)if(a!==l-2||0!==o||4!=(7&d)||$){do{a<l&&o>=0&&!this.readMappingMatrix.get(o,a)&&(e[r++]=255&this.readUtah(a,o,l,d)),a-=2,o+=2}while(a>=0&&o<d);a+=1,o+=3;do{a>=0&&o<d&&!this.readMappingMatrix.get(o,a)&&(e[r++]=255&this.readUtah(a,o,l,d)),a+=2,o-=2}while(a<l&&o>=0);a+=3,o+=1}else e[r++]=255&this.readCorner4(l,d),a-=2,o+=2,$=!0;else e[r++]=255&this.readCorner3(l,d),a-=2,o+=2,U=!0;else e[r++]=255&this.readCorner2(l,d),a-=2,o+=2,C=!0;else e[r++]=255&this.readCorner1(l,d),a-=2,o+=2,p=!0}while(a<l||o<d);if(r!==this.version.getTotalCodewords())throw new _;return e}readModule(e,r,a,o){return e<0&&(e+=a,r+=4-(a+4&7)),r<0&&(r+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,a,o){let l=0;return this.readModule(e-2,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e-2,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e-1,r,a,o)&&(l|=1),l<<=1,this.readModule(e,r-2,a,o)&&(l|=1),l<<=1,this.readModule(e,r-1,a,o)&&(l|=1),l<<=1,this.readModule(e,r,a,o)&&(l|=1),l}readCorner1(e,r){let a=0;return this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,1,e,r)&&(a|=1),a<<=1,this.readModule(e-1,2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(2,r-1,e,r)&&(a|=1),a<<=1,this.readModule(3,r-1,e,r)&&(a|=1),a}readCorner2(e,r){let a=0;return this.readModule(e-3,0,e,r)&&(a|=1),a<<=1,this.readModule(e-2,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(0,r-4,e,r)&&(a|=1),a<<=1,this.readModule(0,r-3,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a}readCorner3(e,r){let a=0;return this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(0,r-3,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-3,e,r)&&(a|=1),a<<=1,this.readModule(1,r-2,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a}readCorner4(e,r){let a=0;return this.readModule(e-3,0,e,r)&&(a|=1),a<<=1,this.readModule(e-2,0,e,r)&&(a|=1),a<<=1,this.readModule(e-1,0,e,r)&&(a|=1),a<<=1,this.readModule(0,r-2,e,r)&&(a|=1),a<<=1,this.readModule(0,r-1,e,r)&&(a|=1),a<<=1,this.readModule(1,r-1,e,r)&&(a|=1),a<<=1,this.readModule(2,r-1,e,r)&&(a|=1),a<<=1,this.readModule(3,r-1,e,r)&&(a|=1),a}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new A("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),d=r/o|0,p=a/l|0,$=new g(p*l,d*o);for(let he=0;he<d;++he){const Ie=he*o;for(let De=0;De<p;++De){const Qe=De*l;for(let rt=0;rt<o;++rt){const pt=he*(o+2)+1+rt,Et=Ie+rt;for(let zt=0;zt<l;++zt)e.get(De*(l+2)+1+zt,pt)&&$.set(Qe+zt,Et)}}}return $}}class Xr{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const a=r.getECBlocks();let o=0;const l=a.getECBlocks();for(let rt of l)o+=rt.getCount();const d=new Array(o);let p=0;for(let rt of l)for(let pt=0;pt<rt.getCount();pt++){const Et=rt.getDataCodewords(),zt=a.getECCodewords()+Et;d[p++]=new Xr(Et,new Uint8Array(zt))}const U=d[0].codewords.length-a.getECCodewords(),$=U-1;let he=0;for(let rt=0;rt<$;rt++)for(let pt=0;pt<p;pt++)d[pt].codewords[rt]=e[he++];const Ie=24===r.getVersionNumber(),De=Ie?8:p;for(let rt=0;rt<De;rt++)d[rt].codewords[U-1]=e[he++];const Qe=d[0].codewords.length;for(let rt=U;rt<Qe;rt++)for(let pt=0;pt<p;pt++){const Et=Ie?(pt+8)%p:pt;d[Et].codewords[Ie&&Et>7?rt-1:rt]=e[he++]}if(he!==e.length)throw new A;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class On{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let r=0,a=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(a>0){const d=8-a,p=e<d?e:d,C=d-p;r=(l[o]&255>>8-p<<C)>>C,e-=p,a+=p,8===a&&(a=0,o++)}if(e>0){for(;e>=8;)r=r<<8|255&l[o],o++,e-=8;if(e>0){const d=8-e;r=r<<e|(l[o]&255>>d<<d)>>d,a+=e}}return this.bitOffset=a,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jr=(()=>{return(z=jr||(jr={}))[z.PAD_ENCODE=0]="PAD_ENCODE",z[z.ASCII_ENCODE=1]="ASCII_ENCODE",z[z.C40_ENCODE=2]="C40_ENCODE",z[z.TEXT_ENCODE=3]="TEXT_ENCODE",z[z.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",z[z.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",z[z.BASE256_ENCODE=6]="BASE256_ENCODE",jr;var z})();class fe{static decode(e){const r=new On(e),a=new G,o=new G,l=new Array;let d=jr.ASCII_ENCODE;do{if(d===jr.ASCII_ENCODE)d=this.decodeAsciiSegment(r,a,o);else{switch(d){case jr.C40_ENCODE:this.decodeC40Segment(r,a);break;case jr.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case jr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case jr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case jr.BASE256_ENCODE:this.decodeBase256Segment(r,a,l);break;default:throw new _}d=jr.ASCII_ENCODE}}while(d!==jr.PAD_ENCODE&&r.available()>0);return o.length()>0&&a.append(o.toString()),new gr(e,a.toString(),0===l.length?null:l,null)}static decodeAsciiSegment(e,r,a){let o=!1;do{let l=e.readBits(8);if(0===l)throw new _;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),jr.ASCII_ENCODE;if(129===l)return jr.PAD_ENCODE;if(l<=229){const d=l-130;d<10&&r.append("0"),r.append(""+d)}else switch(l){case 230:return jr.C40_ENCODE;case 231:return jr.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:o=!0;break;case 236:r.append("[)>\x1e05\x1d"),a.insert(0,"\x1e\x04");break;case 237:r.append("[)>\x1e06\x1d"),a.insert(0,"\x1e\x04");break;case 238:return jr.ANSIX12_ENCODE;case 239:return jr.TEXT_ENCODE;case 240:return jr.EDIFACT_ENCODE;default:if(254!==l||0!==e.available())throw new _}}while(e.available()>0);return jr.ASCII_ENCODE}static decodeC40Segment(e,r){let a=!1;const o=[];let l=0;do{if(8===e.available())return;const d=e.readBits(8);if(254===d)return;this.parseTwoBytes(d,e.readBits(8),o);for(let p=0;p<3;p++){const C=o[p];switch(l){case 0:if(C<3)l=C+1;else{if(!(C<this.C40_BASIC_SET_CHARS.length))throw new _;{const U=this.C40_BASIC_SET_CHARS[C];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}}break;case 1:a?(r.append(String.fromCharCode(C+128)),a=!1):r.append(String.fromCharCode(C)),l=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[C];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}else switch(C){case 27:r.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new _}l=0;break;case 3:a?(r.append(String.fromCharCode(C+224)),a=!1):r.append(String.fromCharCode(C+96)),l=0;break;default:throw new _}}}while(e.available()>0)}static decodeTextSegment(e,r){let a=!1,o=[],l=0;do{if(8===e.available())return;const d=e.readBits(8);if(254===d)return;this.parseTwoBytes(d,e.readBits(8),o);for(let p=0;p<3;p++){const C=o[p];switch(l){case 0:if(C<3)l=C+1;else{if(!(C<this.TEXT_BASIC_SET_CHARS.length))throw new _;{const U=this.TEXT_BASIC_SET_CHARS[C];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}}break;case 1:a?(r.append(String.fromCharCode(C+128)),a=!1):r.append(String.fromCharCode(C)),l=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[C];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U)}else switch(C){case 27:r.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new _}l=0;break;case 3:if(!(C<this.TEXT_SHIFT3_SET_CHARS.length))throw new _;{const U=this.TEXT_SHIFT3_SET_CHARS[C];a?(r.append(String.fromCharCode(U.charCodeAt(0)+128)),a=!1):r.append(U),l=0}break;default:throw new _}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const a=[];do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),a);for(let l=0;l<3;l++){const d=a[l];switch(d){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(d<14)r.append(String.fromCharCode(d+44));else{if(!(d<40))throw new _;r.append(String.fromCharCode(d+51))}}}}while(e.available()>0)}static parseTwoBytes(e,r,a){let o=(e<<8)+r-1,l=Math.floor(o/1600);a[0]=l,o-=1600*l,l=Math.floor(o/40),a[1]=l,a[2]=o-40*l}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let a=0;a<4;a++){let o=e.readBits(6);if(31===o){const l=8-e.getBitOffset();return void(8!==l&&e.readBits(l))}0==(32&o)&&(o|=64),r.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,r,a){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let d;if(d=0===l?e.available()/8|0:l<250?l:250*(l-249)+this.unrandomize255State(e.readBits(8),o++),d<0)throw new _;const p=new Uint8Array(d);for(let C=0;C<d;C++){if(e.available()<8)throw new _;p[C]=this.unrandomize255State(e.readBits(8),o++)}a.push(p);try{r.append(O.decode(p,N.ISO88591))}catch(C){throw new X("Platform does not support required encoding: "+C.message)}}static unrandomize255State(e,r){const o=e-(149*r%255+1);return o>=0?o:o+256}}fe.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],fe.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],fe.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],fe.TEXT_SHIFT2_SET_CHARS=fe.C40_SHIFT2_SET_CHARS,fe.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class we{constructor(){this.rsDecoder=new Z(et.DATA_MATRIX_FIELD_256)}decode(e){const r=new Vn(e),a=r.getVersion(),o=r.readCodewords(),l=Xr.getDataBlocks(o,a);let d=0;for(let U of l)d+=U.getNumDataCodewords();const p=new Uint8Array(d),C=l.length;for(let U=0;U<C;U++){const $=l[U],he=$.getCodewords(),Ie=$.getNumDataCodewords();this.correctErrors(he,Ie);for(let De=0;De<Ie;De++)p[De*C+U]=he[De]}return fe.decode(p)}correctErrors(e,r){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=a[o]}}class Se{constructor(e){this.image=e,this.rectangleDetector=new rr(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new V;r=this.shiftToModuleCenter(r);const a=r[0],o=r[1],l=r[2],d=r[3];let p=this.transitionsBetween(a,d)+1,C=this.transitionsBetween(l,d)+1;1==(1&p)&&(p+=1),1==(1&C)&&(C+=1),4*p<7*C&&4*C<7*p&&(p=C=Math.max(p,C));let U=Se.sampleGrid(this.image,a,o,l,d,p,C);return new Ot(U,[a,o,l,d])}static shiftPoint(e,r,a){let o=(r.getX()-e.getX())/(a+1),l=(r.getY()-e.getY())/(a+1);return new Me(e.getX()+o,e.getY()+l)}static moveAway(e,r,a){let o=e.getX(),l=e.getY();return o<r?o-=1:o+=1,l<a?l-=1:l+=1,new Me(o,l)}detectSolid1(e){let r=e[0],a=e[1],o=e[3],l=e[2],d=this.transitionsBetween(r,a),p=this.transitionsBetween(a,o),C=this.transitionsBetween(o,l),U=this.transitionsBetween(l,r),$=d,he=[l,r,a,o];return $>p&&($=p,he[0]=r,he[1]=a,he[2]=o,he[3]=l),$>C&&($=C,he[0]=a,he[1]=o,he[2]=l,he[3]=r),$>U&&(he[0]=o,he[1]=l,he[2]=r,he[3]=a),he}detectSolid2(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l),p=Se.shiftPoint(a,o,4*(d+1)),C=Se.shiftPoint(o,a,4*(d+1));return this.transitionsBetween(p,r)<this.transitionsBetween(C,l)?(e[0]=r,e[1]=a,e[2]=o,e[3]=l):(e[0]=a,e[1]=o,e[2]=l,e[3]=r),e}correctTopRight(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l),p=this.transitionsBetween(a,l),C=Se.shiftPoint(r,a,4*(p+1)),U=Se.shiftPoint(o,a,4*(d+1));d=this.transitionsBetween(C,l),p=this.transitionsBetween(U,l);let $=new Me(l.getX()+(o.getX()-a.getX())/(d+1),l.getY()+(o.getY()-a.getY())/(d+1)),he=new Me(l.getX()+(r.getX()-a.getX())/(p+1),l.getY()+(r.getY()-a.getY())/(p+1));return this.isValid($)?this.isValid(he)?this.transitionsBetween(C,$)+this.transitionsBetween(U,$)>this.transitionsBetween(C,he)+this.transitionsBetween(U,he)?$:he:$:this.isValid(he)?he:null}shiftToModuleCenter(e){let r=e[0],a=e[1],o=e[2],l=e[3],d=this.transitionsBetween(r,l)+1,p=this.transitionsBetween(o,l)+1,C=Se.shiftPoint(r,a,4*p),U=Se.shiftPoint(o,a,4*d);d=this.transitionsBetween(C,l)+1,p=this.transitionsBetween(U,l)+1,1==(1&d)&&(d+=1),1==(1&p)&&(p+=1);let Ie,De,$=(r.getX()+a.getX()+o.getX()+l.getX())/4,he=(r.getY()+a.getY()+o.getY()+l.getY())/4;return r=Se.moveAway(r,$,he),a=Se.moveAway(a,$,he),o=Se.moveAway(o,$,he),l=Se.moveAway(l,$,he),C=Se.shiftPoint(r,a,4*p),C=Se.shiftPoint(C,l,4*d),Ie=Se.shiftPoint(a,r,4*p),Ie=Se.shiftPoint(Ie,o,4*d),U=Se.shiftPoint(o,l,4*p),U=Se.shiftPoint(U,a,4*d),De=Se.shiftPoint(l,o,4*p),De=Se.shiftPoint(De,r,4*d),[C,Ie,U,De]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,a,o,l,d,p){return Sr.getInstance().sampleGrid(e,d,p,.5,.5,d-.5,.5,d-.5,p-.5,.5,p-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),a.getX(),a.getY())}transitionsBetween(e,r){let a=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(r.getX()),d=Math.trunc(r.getY()),p=Math.abs(d-o)>Math.abs(l-a);if(p){let rt=a;a=o,o=rt,rt=l,l=d,d=rt}let C=Math.abs(l-a),U=Math.abs(d-o),$=-C/2,he=o<d?1:-1,Ie=a<l?1:-1,De=0,Qe=this.image.get(p?o:a,p?a:o);for(let rt=a,pt=o;rt!==l;rt+=Ie){let Et=this.image.get(p?pt:rt,p?rt:pt);if(Et!==Qe&&(De++,Qe=Et),$+=U,$>0){if(pt===d)break;pt+=he,$-=C}}return De}}let at=(()=>{class z{constructor(){this.decoder=new we}decode(r,a=null){let o,l;if(null!=a&&a.has(S.PURE_BARCODE)){const $=z.extractPureBits(r.getBlackMatrix());o=this.decoder.decode($),l=z.NO_POINTS}else{const $=new Se(r.getBlackMatrix()).detect();o=this.decoder.decode($.getBits()),l=$.getPoints()}const d=o.getRawBytes(),p=new qe(o.getText(),d,8*d.length,l,Je.DATA_MATRIX,J.currentTimeMillis()),C=o.getByteSegments();null!=C&&p.putMetadata(ht.BYTE_SEGMENTS,C);const U=o.getECLevel();return null!=U&&p.putMetadata(ht.ERROR_CORRECTION_LEVEL,U),p}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(null==a||null==o)throw new V;const l=this.moduleSize(a,r);let d=a[1],C=a[0];const $=(o[0]-C+1)/l,he=(o[1]-d+1)/l;if($<=0||he<=0)throw new V;const Ie=l/2;d+=Ie,C+=Ie;const De=new g($,he);for(let Qe=0;Qe<he;Qe++){const rt=d+Qe*l;for(let pt=0;pt<$;pt++)r.get(C+pt*l,rt)&&De.set(pt,Qe)}return De}static moduleSize(r,a){const o=a.getWidth();let l=r[0];const d=r[1];for(;l<o&&a.get(l,d);)l++;if(l===o)throw new V;const p=l-r[0];if(0===p)throw new V;return p}}return z.NO_POINTS=[],z})();var Lt=(()=>{return(z=Lt||(Lt={}))[z.L=0]="L",z[z.M=1]="M",z[z.Q=2]="Q",z[z.H=3]="H",Lt;var z})();class Kt{constructor(e,r,a){this.value=e,this.stringValue=r,this.bits=a,Kt.FOR_BITS.set(a,this),Kt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){return e instanceof Kt&&this.value===e.value}static forBits(e){if(e<0||e>=Kt.FOR_BITS.size)throw new A;return Kt.FOR_BITS.get(e)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(Lt.L,"L",1),Kt.M=new Kt(Lt.M,"M",0),Kt.Q=new Kt(Lt.Q,"Q",3),Kt.H=new Kt(Lt.H,"H",2);class Gt{constructor(e){this.errorCorrectionLevel=Kt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,r){return P.bitCount(e^r)}static decodeFormatInformation(e,r){const a=Gt.doDecodeFormatInformation(e,r);return null!==a?a:Gt.doDecodeFormatInformation(e^Gt.FORMAT_INFO_MASK_QR,r^Gt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let a=Number.MAX_SAFE_INTEGER,o=0;for(const l of Gt.FORMAT_INFO_DECODE_LOOKUP){const d=l[0];if(d===e||d===r)return new Gt(l[1]);let p=Gt.numBitsDiffering(e,d);p<a&&(o=l[1],a=p),e!==r&&(p=Gt.numBitsDiffering(r,d),p<a&&(o=l[1],a=p))}return a<=3?new Gt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){return e instanceof Gt&&this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask}}Gt.FORMAT_INFO_MASK_QR=21522,Gt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class st{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const a of r)e+=a.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ke{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fr{constructor(e,r,...a){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;let o=0;const l=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const p of d)o+=p.getCount()*(p.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new _;try{return this.getVersionForNumber((e-17)/4)}catch{throw new _}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return fr.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,a=0;for(let o=0;o<fr.VERSION_DECODE_INFO.length;o++){const l=fr.VERSION_DECODE_INFO[o];if(l===e)return fr.getVersionForNumber(o+7);const d=Gt.numBitsDiffering(e,l);d<r&&(a=o+7,r=d)}return r<=3?fr.getVersionForNumber(a):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new g(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const a=this.alignmentPatternCenters.length;for(let o=0;o<a;o++){const l=this.alignmentPatternCenters[o]-2;for(let d=0;d<a;d++)0===o&&(0===d||d===a-1)||o===a-1&&0===d||r.setRegion(this.alignmentPatternCenters[d]-2,l,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}fr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fr.VERSIONS=[new fr(1,new Int32Array(0),new st(7,new ke(1,19)),new st(10,new ke(1,16)),new st(13,new ke(1,13)),new st(17,new ke(1,9))),new fr(2,Int32Array.from([6,18]),new st(10,new ke(1,34)),new st(16,new ke(1,28)),new st(22,new ke(1,22)),new st(28,new ke(1,16))),new fr(3,Int32Array.from([6,22]),new st(15,new ke(1,55)),new st(26,new ke(1,44)),new st(18,new ke(2,17)),new st(22,new ke(2,13))),new fr(4,Int32Array.from([6,26]),new st(20,new ke(1,80)),new st(18,new ke(2,32)),new st(26,new ke(2,24)),new st(16,new ke(4,9))),new fr(5,Int32Array.from([6,30]),new st(26,new ke(1,108)),new st(24,new ke(2,43)),new st(18,new ke(2,15),new ke(2,16)),new st(22,new ke(2,11),new ke(2,12))),new fr(6,Int32Array.from([6,34]),new st(18,new ke(2,68)),new st(16,new ke(4,27)),new st(24,new ke(4,19)),new st(28,new ke(4,15))),new fr(7,Int32Array.from([6,22,38]),new st(20,new ke(2,78)),new st(18,new ke(4,31)),new st(18,new ke(2,14),new ke(4,15)),new st(26,new ke(4,13),new ke(1,14))),new fr(8,Int32Array.from([6,24,42]),new st(24,new ke(2,97)),new st(22,new ke(2,38),new ke(2,39)),new st(22,new ke(4,18),new ke(2,19)),new st(26,new ke(4,14),new ke(2,15))),new fr(9,Int32Array.from([6,26,46]),new st(30,new ke(2,116)),new st(22,new ke(3,36),new ke(2,37)),new st(20,new ke(4,16),new ke(4,17)),new st(24,new ke(4,12),new ke(4,13))),new fr(10,Int32Array.from([6,28,50]),new st(18,new ke(2,68),new ke(2,69)),new st(26,new ke(4,43),new ke(1,44)),new st(24,new ke(6,19),new ke(2,20)),new st(28,new ke(6,15),new ke(2,16))),new fr(11,Int32Array.from([6,30,54]),new st(20,new ke(4,81)),new st(30,new ke(1,50),new ke(4,51)),new st(28,new ke(4,22),new ke(4,23)),new st(24,new ke(3,12),new ke(8,13))),new fr(12,Int32Array.from([6,32,58]),new st(24,new ke(2,92),new ke(2,93)),new st(22,new ke(6,36),new ke(2,37)),new st(26,new ke(4,20),new ke(6,21)),new st(28,new ke(7,14),new ke(4,15))),new fr(13,Int32Array.from([6,34,62]),new st(26,new ke(4,107)),new st(22,new ke(8,37),new ke(1,38)),new st(24,new ke(8,20),new ke(4,21)),new st(22,new ke(12,11),new ke(4,12))),new fr(14,Int32Array.from([6,26,46,66]),new st(30,new ke(3,115),new ke(1,116)),new st(24,new ke(4,40),new ke(5,41)),new st(20,new ke(11,16),new ke(5,17)),new st(24,new ke(11,12),new ke(5,13))),new fr(15,Int32Array.from([6,26,48,70]),new st(22,new ke(5,87),new ke(1,88)),new st(24,new ke(5,41),new ke(5,42)),new st(30,new ke(5,24),new ke(7,25)),new st(24,new ke(11,12),new ke(7,13))),new fr(16,Int32Array.from([6,26,50,74]),new st(24,new ke(5,98),new ke(1,99)),new st(28,new ke(7,45),new ke(3,46)),new st(24,new ke(15,19),new ke(2,20)),new st(30,new ke(3,15),new ke(13,16))),new fr(17,Int32Array.from([6,30,54,78]),new st(28,new ke(1,107),new ke(5,108)),new st(28,new ke(10,46),new ke(1,47)),new st(28,new ke(1,22),new ke(15,23)),new st(28,new ke(2,14),new ke(17,15))),new fr(18,Int32Array.from([6,30,56,82]),new st(30,new ke(5,120),new ke(1,121)),new st(26,new ke(9,43),new ke(4,44)),new st(28,new ke(17,22),new ke(1,23)),new st(28,new ke(2,14),new ke(19,15))),new fr(19,Int32Array.from([6,30,58,86]),new st(28,new ke(3,113),new ke(4,114)),new st(26,new ke(3,44),new ke(11,45)),new st(26,new ke(17,21),new ke(4,22)),new st(26,new ke(9,13),new ke(16,14))),new fr(20,Int32Array.from([6,34,62,90]),new st(28,new ke(3,107),new ke(5,108)),new st(26,new ke(3,41),new ke(13,42)),new st(30,new ke(15,24),new ke(5,25)),new st(28,new ke(15,15),new ke(10,16))),new fr(21,Int32Array.from([6,28,50,72,94]),new st(28,new ke(4,116),new ke(4,117)),new st(26,new ke(17,42)),new st(28,new ke(17,22),new ke(6,23)),new st(30,new ke(19,16),new ke(6,17))),new fr(22,Int32Array.from([6,26,50,74,98]),new st(28,new ke(2,111),new ke(7,112)),new st(28,new ke(17,46)),new st(30,new ke(7,24),new ke(16,25)),new st(24,new ke(34,13))),new fr(23,Int32Array.from([6,30,54,78,102]),new st(30,new ke(4,121),new ke(5,122)),new st(28,new ke(4,47),new ke(14,48)),new st(30,new ke(11,24),new ke(14,25)),new st(30,new ke(16,15),new ke(14,16))),new fr(24,Int32Array.from([6,28,54,80,106]),new st(30,new ke(6,117),new ke(4,118)),new st(28,new ke(6,45),new ke(14,46)),new st(30,new ke(11,24),new ke(16,25)),new st(30,new ke(30,16),new ke(2,17))),new fr(25,Int32Array.from([6,32,58,84,110]),new st(26,new ke(8,106),new ke(4,107)),new st(28,new ke(8,47),new ke(13,48)),new st(30,new ke(7,24),new ke(22,25)),new st(30,new ke(22,15),new ke(13,16))),new fr(26,Int32Array.from([6,30,58,86,114]),new st(28,new ke(10,114),new ke(2,115)),new st(28,new ke(19,46),new ke(4,47)),new st(28,new ke(28,22),new ke(6,23)),new st(30,new ke(33,16),new ke(4,17))),new fr(27,Int32Array.from([6,34,62,90,118]),new st(30,new ke(8,122),new ke(4,123)),new st(28,new ke(22,45),new ke(3,46)),new st(30,new ke(8,23),new ke(26,24)),new st(30,new ke(12,15),new ke(28,16))),new fr(28,Int32Array.from([6,26,50,74,98,122]),new st(30,new ke(3,117),new ke(10,118)),new st(28,new ke(3,45),new ke(23,46)),new st(30,new ke(4,24),new ke(31,25)),new st(30,new ke(11,15),new ke(31,16))),new fr(29,Int32Array.from([6,30,54,78,102,126]),new st(30,new ke(7,116),new ke(7,117)),new st(28,new ke(21,45),new ke(7,46)),new st(30,new ke(1,23),new ke(37,24)),new st(30,new ke(19,15),new ke(26,16))),new fr(30,Int32Array.from([6,26,52,78,104,130]),new st(30,new ke(5,115),new ke(10,116)),new st(28,new ke(19,47),new ke(10,48)),new st(30,new ke(15,24),new ke(25,25)),new st(30,new ke(23,15),new ke(25,16))),new fr(31,Int32Array.from([6,30,56,82,108,134]),new st(30,new ke(13,115),new ke(3,116)),new st(28,new ke(2,46),new ke(29,47)),new st(30,new ke(42,24),new ke(1,25)),new st(30,new ke(23,15),new ke(28,16))),new fr(32,Int32Array.from([6,34,60,86,112,138]),new st(30,new ke(17,115)),new st(28,new ke(10,46),new ke(23,47)),new st(30,new ke(10,24),new ke(35,25)),new st(30,new ke(19,15),new ke(35,16))),new fr(33,Int32Array.from([6,30,58,86,114,142]),new st(30,new ke(17,115),new ke(1,116)),new st(28,new ke(14,46),new ke(21,47)),new st(30,new ke(29,24),new ke(19,25)),new st(30,new ke(11,15),new ke(46,16))),new fr(34,Int32Array.from([6,34,62,90,118,146]),new st(30,new ke(13,115),new ke(6,116)),new st(28,new ke(14,46),new ke(23,47)),new st(30,new ke(44,24),new ke(7,25)),new st(30,new ke(59,16),new ke(1,17))),new fr(35,Int32Array.from([6,30,54,78,102,126,150]),new st(30,new ke(12,121),new ke(7,122)),new st(28,new ke(12,47),new ke(26,48)),new st(30,new ke(39,24),new ke(14,25)),new st(30,new ke(22,15),new ke(41,16))),new fr(36,Int32Array.from([6,24,50,76,102,128,154]),new st(30,new ke(6,121),new ke(14,122)),new st(28,new ke(6,47),new ke(34,48)),new st(30,new ke(46,24),new ke(10,25)),new st(30,new ke(2,15),new ke(64,16))),new fr(37,Int32Array.from([6,28,54,80,106,132,158]),new st(30,new ke(17,122),new ke(4,123)),new st(28,new ke(29,46),new ke(14,47)),new st(30,new ke(49,24),new ke(10,25)),new st(30,new ke(24,15),new ke(46,16))),new fr(38,Int32Array.from([6,32,58,84,110,136,162]),new st(30,new ke(4,122),new ke(18,123)),new st(28,new ke(13,46),new ke(32,47)),new st(30,new ke(48,24),new ke(14,25)),new st(30,new ke(42,15),new ke(32,16))),new fr(39,Int32Array.from([6,26,54,82,110,138,166]),new st(30,new ke(20,117),new ke(4,118)),new st(28,new ke(40,47),new ke(7,48)),new st(30,new ke(43,24),new ke(22,25)),new st(30,new ke(10,15),new ke(67,16))),new fr(40,Int32Array.from([6,30,58,86,114,142,170]),new st(30,new ke(19,118),new ke(6,119)),new st(28,new ke(18,47),new ke(31,48)),new st(30,new ke(34,24),new ke(34,25)),new st(30,new ke(20,15),new ke(61,16)))];var Mr=(()=>{return(z=Mr||(Mr={}))[z.DATA_MASK_000=0]="DATA_MASK_000",z[z.DATA_MASK_001=1]="DATA_MASK_001",z[z.DATA_MASK_010=2]="DATA_MASK_010",z[z.DATA_MASK_011=3]="DATA_MASK_011",z[z.DATA_MASK_100=4]="DATA_MASK_100",z[z.DATA_MASK_101=5]="DATA_MASK_101",z[z.DATA_MASK_110=6]="DATA_MASK_110",z[z.DATA_MASK_111=7]="DATA_MASK_111",Mr;var z})();class zn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let a=0;a<r;a++)for(let o=0;o<r;o++)this.isMasked(a,o)&&e.flip(o,a)}}zn.values=new Map([[Mr.DATA_MASK_000,new zn(Mr.DATA_MASK_000,(z,e)=>0==(z+e&1))],[Mr.DATA_MASK_001,new zn(Mr.DATA_MASK_001,(z,e)=>0==(1&z))],[Mr.DATA_MASK_010,new zn(Mr.DATA_MASK_010,(z,e)=>e%3==0)],[Mr.DATA_MASK_011,new zn(Mr.DATA_MASK_011,(z,e)=>(z+e)%3==0)],[Mr.DATA_MASK_100,new zn(Mr.DATA_MASK_100,(z,e)=>0==(Math.floor(z/2)+Math.floor(e/3)&1))],[Mr.DATA_MASK_101,new zn(Mr.DATA_MASK_101,(z,e)=>z*e%6==0)],[Mr.DATA_MASK_110,new zn(Mr.DATA_MASK_110,(z,e)=>z*e%6<3)],[Mr.DATA_MASK_111,new zn(Mr.DATA_MASK_111,(z,e)=>0==(z+e+z*e%3&1))]]);class sa{constructor(e){const r=e.getHeight();if(r<21||1!=(3&r))throw new _;this.bitMatrix=e}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const r=this.bitMatrix.getHeight();let a=0;const o=r-7;for(let l=r-1;l>=o;l--)a=this.copyBit(8,l,a);for(let l=r-8;l<r;l++)a=this.copyBit(l,8,a);if(this.parsedFormatInfo=Gt.decodeFormatInformation(e,a),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new _}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return fr.getVersionForNumber(r);let a=0;const o=e-11;for(let d=5;d>=0;d--)for(let p=e-9;p>=o;p--)a=this.copyBit(p,d,a);let l=fr.decodeVersionInformation(a);if(null!==l&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;a=0;for(let d=5;d>=0;d--)for(let p=e-9;p>=o;p--)a=this.copyBit(d,p,a);if(l=fr.decodeVersionInformation(a),null!==l&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new _}copyBit(e,r,a){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?a<<1|1:a<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),a=zn.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let d=!0;const p=new Uint8Array(r.getTotalCodewords());let C=0,U=0,$=0;for(let he=o-1;he>0;he-=2){6===he&&he--;for(let Ie=0;Ie<o;Ie++){const De=d?o-1-Ie:Ie;for(let Qe=0;Qe<2;Qe++)l.get(he-Qe,De)||($++,U<<=1,this.bitMatrix.get(he-Qe,De)&&(U|=1),8===$&&(p[C++]=U,$=0,U=0))}d=!d}if(C!==r.getTotalCodewords())throw new _;return p}remask(){if(null===this.parsedFormatInfo)return;const e=zn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,a=e.getWidth();r<a;r++)for(let o=r+1,l=e.getHeight();o<l;o++)e.get(r,o)!==e.get(o,r)&&(e.flip(o,r),e.flip(r,o))}}class ui{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,a){if(e.length!==r.getTotalCodewords())throw new A;const o=r.getECBlocksForLevel(a);let l=0;const d=o.getECBlocks();for(const Qe of d)l+=Qe.getCount();const p=new Array(l);let C=0;for(const Qe of d)for(let rt=0;rt<Qe.getCount();rt++){const pt=Qe.getDataCodewords(),Et=o.getECCodewordsPerBlock()+pt;p[C++]=new ui(pt,new Uint8Array(Et))}const U=p[0].codewords.length;let $=p.length-1;for(;$>=0&&p[$].codewords.length!==U;)$--;$++;const he=U-o.getECCodewordsPerBlock();let Ie=0;for(let Qe=0;Qe<he;Qe++)for(let rt=0;rt<C;rt++)p[rt].codewords[Qe]=e[Ie++];for(let Qe=$;Qe<C;Qe++)p[Qe].codewords[he]=e[Ie++];const De=p[0].codewords.length;for(let Qe=he;Qe<De;Qe++)for(let rt=0;rt<C;rt++)p[rt].codewords[rt<$?Qe:Qe+1]=e[Ie++];return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn=(()=>{return(z=Nn||(Nn={}))[z.TERMINATOR=0]="TERMINATOR",z[z.NUMERIC=1]="NUMERIC",z[z.ALPHANUMERIC=2]="ALPHANUMERIC",z[z.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",z[z.BYTE=4]="BYTE",z[z.ECI=5]="ECI",z[z.KANJI=6]="KANJI",z[z.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",z[z.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",z[z.HANZI=9]="HANZI",Nn;var z})();class Ir{constructor(e,r,a,o){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=o,Ir.FOR_BITS.set(o,this),Ir.FOR_VALUE.set(e,this)}static forBits(e){const r=Ir.FOR_BITS.get(e);if(void 0===r)throw new A;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let a;return a=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(e){return e instanceof Ir&&this.value===e.value}toString(){return this.stringValue}}Ir.FOR_BITS=new Map,Ir.FOR_VALUE=new Map,Ir.TERMINATOR=new Ir(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ir.NUMERIC=new Ir(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ir.ALPHANUMERIC=new Ir(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ir.STRUCTURED_APPEND=new Ir(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ir.BYTE=new Ir(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ir.ECI=new Ir(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ir.KANJI=new Ir(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ir.FNC1_FIRST_POSITION=new Ir(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ir.FNC1_SECOND_POSITION=new Ir(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ir.HANZI=new Ir(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Ci=(()=>{class z{static decode(r,a,o,l){const d=new On(r);let p=new G;const C=new Array;let U=-1,$=-1;try{let De,he=null,Ie=!1;do{if(d.available()<4)De=Ir.TERMINATOR;else{const Qe=d.readBits(4);De=Ir.forBits(Qe)}switch(De){case Ir.TERMINATOR:break;case Ir.FNC1_FIRST_POSITION:case Ir.FNC1_SECOND_POSITION:Ie=!0;break;case Ir.STRUCTURED_APPEND:if(d.available()<16)throw new _;U=d.readBits(8),$=d.readBits(8);break;case Ir.ECI:const Qe=z.parseECIValue(d);if(he=j.getCharacterSetECIByValue(Qe),null===he)throw new _;break;case Ir.HANZI:const rt=d.readBits(4),pt=d.readBits(De.getCharacterCountBits(a));rt===z.GB2312_SUBSET&&z.decodeHanziSegment(d,p,pt);break;default:const Et=d.readBits(De.getCharacterCountBits(a));switch(De){case Ir.NUMERIC:z.decodeNumericSegment(d,p,Et);break;case Ir.ALPHANUMERIC:z.decodeAlphanumericSegment(d,p,Et,Ie);break;case Ir.BYTE:z.decodeByteSegment(d,p,Et,he,C,l);break;case Ir.KANJI:z.decodeKanjiSegment(d,p,Et);break;default:throw new _}}}while(De!==Ir.TERMINATOR)}catch{throw new _}return new gr(r,p.toString(),0===C.length?null:C,null===o?null:o.toString(),U,$)}static decodeHanziSegment(r,a,o){if(13*o>r.available())throw new _;const l=new Uint8Array(2*o);let d=0;for(;o>0;){const p=r.readBits(13);let C=p/96<<8&4294967295|p%96;C+=C<959?41377:42657,l[d]=C>>8&255,l[d+1]=255&C,d+=2,o--}try{a.append(O.decode(l,N.GB2312))}catch(p){throw new _(p)}}static decodeKanjiSegment(r,a,o){if(13*o>r.available())throw new _;const l=new Uint8Array(2*o);let d=0;for(;o>0;){const p=r.readBits(13);let C=p/192<<8&4294967295|p%192;C+=C<7936?33088:49472,l[d]=C>>8,l[d+1]=C,d+=2,o--}try{a.append(O.decode(l,N.SHIFT_JIS))}catch(p){throw new _(p)}}static decodeByteSegment(r,a,o,l,d,p){if(8*o>r.available())throw new _;const C=new Uint8Array(o);for(let $=0;$<o;$++)C[$]=r.readBits(8);let U;U=null===l?N.guessEncoding(C,p):l.getName();try{a.append(O.decode(C,U))}catch($){throw new _($)}d.push(C)}static toAlphaNumericChar(r){if(r>=z.ALPHANUMERIC_CHARS.length)throw new _;return z.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,a,o,l){const d=a.length();for(;o>1;){if(r.available()<11)throw new _;const p=r.readBits(11);a.append(z.toAlphaNumericChar(Math.floor(p/45))),a.append(z.toAlphaNumericChar(p%45)),o-=2}if(1===o){if(r.available()<6)throw new _;a.append(z.toAlphaNumericChar(r.readBits(6)))}if(l)for(let p=d;p<a.length();p++)"%"===a.charAt(p)&&(p<a.length()-1&&"%"===a.charAt(p+1)?a.deleteCharAt(p+1):a.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(r,a,o){for(;o>=3;){if(r.available()<10)throw new _;const l=r.readBits(10);if(l>=1e3)throw new _;a.append(z.toAlphaNumericChar(Math.floor(l/100))),a.append(z.toAlphaNumericChar(Math.floor(l/10)%10)),a.append(z.toAlphaNumericChar(l%10)),o-=3}if(2===o){if(r.available()<7)throw new _;const l=r.readBits(7);if(l>=100)throw new _;a.append(z.toAlphaNumericChar(Math.floor(l/10))),a.append(z.toAlphaNumericChar(l%10))}else if(1===o){if(r.available()<4)throw new _;const l=r.readBits(4);if(l>=10)throw new _;a.append(z.toAlphaNumericChar(l))}}static parseECIValue(r){const a=r.readBits(8);if(0==(128&a))return 127&a;if(128==(192&a))return(63&a)<<8&4294967295|r.readBits(8);if(192==(224&a))return(31&a)<<16&4294967295|r.readBits(16);throw new _}}return z.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",z.GB2312_SUBSET=1,z})();class oa{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class I0{constructor(){this.rsDecoder=new Z(et.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(g.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const a=new sa(e);let o=null;try{return this.decodeBitMatrixParser(a,r)}catch(l){o=l}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const l=this.decodeBitMatrixParser(a,r);return l.setOther(new oa(!0)),l}catch(l){throw null!==o?o:l}}decodeBitMatrixParser(e,r){const a=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),d=ui.getDataBlocks(l,a,o);let p=0;for(const $ of d)p+=$.getNumDataCodewords();const C=new Uint8Array(p);let U=0;for(const $ of d){const he=$.getCodewords(),Ie=$.getNumDataCodewords();this.correctErrors(he,Ie);for(let De=0;De<Ie;De++)C[U++]=he[De]}return Ci.decode(C,a,o,r)}correctErrors(e,r){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-r)}catch{throw new I}for(let o=0;o<r;o++)e[o]=a[o]}}class Ma extends Me{constructor(e,r,a){super(e,r),this.estimatedModuleSize=a}aboutEquals(e,r,a){if(Math.abs(r-this.getY())<=e&&Math.abs(a-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,a){const o=(this.getX()+r)/2,l=(this.getY()+e)/2;return new Ma(o,l,(this.estimatedModuleSize+a)/2)}}class Oa{constructor(e,r,a,o,l,d,p){this.image=e,this.startX=r,this.startY=a,this.width=o,this.height=l,this.moduleSize=d,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,o=e+this.width,l=this.startY+r/2,d=new Int32Array(3),p=this.image;for(let C=0;C<r;C++){const U=l+(0==(1&C)?Math.floor((C+1)/2):-Math.floor((C+1)/2));d[0]=0,d[1]=0,d[2]=0;let $=e;for(;$<o&&!p.get($,U);)$++;let he=0;for(;$<o;){if(p.get($,U))if(1===he)d[1]++;else if(2===he){if(this.foundPatternCross(d)){const Ie=this.handlePossibleCenter(d,U,$);if(null!==Ie)return Ie}d[0]=d[2],d[1]=1,d[2]=0,he=1}else d[++he]++;else 1===he&&he++,d[he]++;$++}if(this.foundPatternCross(d)){const Ie=this.handlePossibleCenter(d,U,o);if(null!==Ie)return Ie}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new V}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,a=r/2;for(let o=0;o<3;o++)if(Math.abs(r-e[o])>=a)return!1;return!0}crossCheckVertical(e,r,a,o){const l=this.image,d=l.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let C=e;for(;C>=0&&l.get(r,C)&&p[1]<=a;)p[1]++,C--;if(C<0||p[1]>a)return NaN;for(;C>=0&&!l.get(r,C)&&p[0]<=a;)p[0]++,C--;if(p[0]>a)return NaN;for(C=e+1;C<d&&l.get(r,C)&&p[1]<=a;)p[1]++,C++;if(C===d||p[1]>a)return NaN;for(;C<d&&!l.get(r,C)&&p[2]<=a;)p[2]++,C++;return p[2]>a||5*Math.abs(p[0]+p[1]+p[2]-o)>=2*o?NaN:this.foundPatternCross(p)?Oa.centerFromEnd(p,C):NaN}handlePossibleCenter(e,r,a){const o=e[0]+e[1]+e[2],l=Oa.centerFromEnd(e,a),d=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(d)){const p=(e[0]+e[1]+e[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(p,d,l))return U.combineEstimate(d,l,p);const C=new Ma(l,d,p);this.possibleCenters.push(C),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class wi extends Me{constructor(e,r,a,o){super(e,r),this.estimatedModuleSize=a,this.count=o,void 0===o&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,a){if(Math.abs(r-this.getY())<=e&&Math.abs(a-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,r,a){const o=this.count+1,l=(this.count*this.getX()+r)/o,d=(this.count*this.getY()+e)/o;return new wi(l,d,(this.count*this.estimatedModuleSize+a)/o,o)}}class cs{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Di=(()=>{class z{constructor(r,a){this.image=r,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const a=null!=r&&void 0!==r.get(S.TRY_HARDER),o=null!=r&&void 0!==r.get(S.PURE_BARCODE),l=this.image,d=l.getHeight(),p=l.getWidth();let C=Math.floor(3*d/(4*z.MAX_MODULES));(C<z.MIN_SKIP||a)&&(C=z.MIN_SKIP);let U=!1;const $=new Int32Array(5);for(let Ie=C-1;Ie<d&&!U;Ie+=C){$[0]=0,$[1]=0,$[2]=0,$[3]=0,$[4]=0;let De=0;for(let Qe=0;Qe<p;Qe++)if(l.get(Qe,Ie))1==(1&De)&&De++,$[De]++;else if(0==(1&De))if(4===De)if(z.foundPatternCross($)){if(!0!==this.handlePossibleCenter($,Ie,Qe,o)){$[0]=$[2],$[1]=$[3],$[2]=$[4],$[3]=1,$[4]=0,De=3;continue}if(C=2,!0===this.hasSkipped)U=this.haveMultiplyConfirmedCenters();else{const pt=this.findRowSkip();pt>$[2]&&(Ie+=pt-$[2]-C,Qe=p-1)}De=0,$[0]=0,$[1]=0,$[2]=0,$[3]=0,$[4]=0}else $[0]=$[2],$[1]=$[3],$[2]=$[4],$[3]=1,$[4]=0,De=3;else $[++De]++;else $[De]++;z.foundPatternCross($)&&!0===this.handlePossibleCenter($,Ie,p,o)&&(C=$[0],this.hasSkipped&&(U=this.haveMultiplyConfirmedCenters()))}const he=this.selectBestPatterns();return Me.orderBestPatterns(he),new cs(he)}static centerFromEnd(r,a){return a-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let a=0;for(let d=0;d<5;d++){const p=r[d];if(0===p)return!1;a+=p}if(a<7)return!1;const o=a/7,l=o/2;return Math.abs(o-r[0])<l&&Math.abs(o-r[1])<l&&Math.abs(3*o-r[2])<3*l&&Math.abs(o-r[3])<l&&Math.abs(o-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,a,o,l){const d=this.getCrossCheckStateCount();let p=0;const C=this.image;for(;r>=p&&a>=p&&C.get(a-p,r-p);)d[2]++,p++;if(r<p||a<p)return!1;for(;r>=p&&a>=p&&!C.get(a-p,r-p)&&d[1]<=o;)d[1]++,p++;if(r<p||a<p||d[1]>o)return!1;for(;r>=p&&a>=p&&C.get(a-p,r-p)&&d[0]<=o;)d[0]++,p++;if(d[0]>o)return!1;const U=C.getHeight(),$=C.getWidth();for(p=1;r+p<U&&a+p<$&&C.get(a+p,r+p);)d[2]++,p++;if(r+p>=U||a+p>=$)return!1;for(;r+p<U&&a+p<$&&!C.get(a+p,r+p)&&d[3]<o;)d[3]++,p++;if(r+p>=U||a+p>=$||d[3]>=o)return!1;for(;r+p<U&&a+p<$&&C.get(a+p,r+p)&&d[4]<o;)d[4]++,p++;return!(d[4]>=o)&&Math.abs(d[0]+d[1]+d[2]+d[3]+d[4]-l)<2*l&&z.foundPatternCross(d)}crossCheckVertical(r,a,o,l){const d=this.image,p=d.getHeight(),C=this.getCrossCheckStateCount();let U=r;for(;U>=0&&d.get(a,U);)C[2]++,U--;if(U<0)return NaN;for(;U>=0&&!d.get(a,U)&&C[1]<=o;)C[1]++,U--;if(U<0||C[1]>o)return NaN;for(;U>=0&&d.get(a,U)&&C[0]<=o;)C[0]++,U--;if(C[0]>o)return NaN;for(U=r+1;U<p&&d.get(a,U);)C[2]++,U++;if(U===p)return NaN;for(;U<p&&!d.get(a,U)&&C[3]<o;)C[3]++,U++;if(U===p||C[3]>=o)return NaN;for(;U<p&&d.get(a,U)&&C[4]<o;)C[4]++,U++;return C[4]>=o||5*Math.abs(C[0]+C[1]+C[2]+C[3]+C[4]-l)>=2*l?NaN:z.foundPatternCross(C)?z.centerFromEnd(C,U):NaN}crossCheckHorizontal(r,a,o,l){const d=this.image,p=d.getWidth(),C=this.getCrossCheckStateCount();let U=r;for(;U>=0&&d.get(U,a);)C[2]++,U--;if(U<0)return NaN;for(;U>=0&&!d.get(U,a)&&C[1]<=o;)C[1]++,U--;if(U<0||C[1]>o)return NaN;for(;U>=0&&d.get(U,a)&&C[0]<=o;)C[0]++,U--;if(C[0]>o)return NaN;for(U=r+1;U<p&&d.get(U,a);)C[2]++,U++;if(U===p)return NaN;for(;U<p&&!d.get(U,a)&&C[3]<o;)C[3]++,U++;if(U===p||C[3]>=o)return NaN;for(;U<p&&d.get(U,a)&&C[4]<o;)C[4]++,U++;return C[4]>=o||5*Math.abs(C[0]+C[1]+C[2]+C[3]+C[4]-l)>=l?NaN:z.foundPatternCross(C)?z.centerFromEnd(C,U):NaN}handlePossibleCenter(r,a,o,l){const d=r[0]+r[1]+r[2]+r[3]+r[4];let p=z.centerFromEnd(r,o),C=this.crossCheckVertical(a,Math.floor(p),r[2],d);if(!isNaN(C)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(C),r[2],d),!isNaN(p)&&(!l||this.crossCheckDiagonal(Math.floor(C),Math.floor(p),r[2],d)))){const U=d/7;let $=!1;const he=this.possibleCenters;for(let Ie=0,De=he.length;Ie<De;Ie++){const Qe=he[Ie];if(Qe.aboutEquals(U,C,p)){he[Ie]=Qe.combineEstimate(C,p,U),$=!0;break}}if(!$){const Ie=new wi(p,C,U);he.push(Ie),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(Ie)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const o of this.possibleCenters)if(o.getCount()>=z.CENTER_QUORUM){if(null!=a)return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2);a=o}return 0}haveMultiplyConfirmedCenters(){let r=0,a=0;const o=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=z.CENTER_QUORUM&&(r++,a+=p.getEstimatedModuleSize());if(r<3)return!1;const l=a/o;let d=0;for(const p of this.possibleCenters)d+=Math.abs(p.getEstimatedModuleSize()-l);return d<=.05*a}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new V;const a=this.possibleCenters;let o;if(r>3){let l=0,d=0;for(const U of this.possibleCenters){const $=U.getEstimatedModuleSize();l+=$,d+=$*$}o=l/r;let p=Math.sqrt(d/r-o*o);a.sort((U,$)=>{const he=Math.abs($.getEstimatedModuleSize()-o),Ie=Math.abs(U.getEstimatedModuleSize()-o);return he<Ie?-1:he>Ie?1:0});const C=Math.max(.2*o,p);for(let U=0;U<a.length&&a.length>3;U++)Math.abs(a[U].getEstimatedModuleSize()-o)>C&&(a.splice(U,1),U--)}if(a.length>3){let l=0;for(const d of a)l+=d.getEstimatedModuleSize();o=l/a.length,a.sort((d,p)=>{if(p.getCount()===d.getCount()){const C=Math.abs(p.getEstimatedModuleSize()-o),U=Math.abs(d.getEstimatedModuleSize()-o);return C<U?1:C>U?-1:0}return p.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}return z.CENTER_QUORUM=2,z.MIN_SKIP=3,z.MAX_MODULES=57,z})();class ca{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(S.NEED_RESULT_POINT_CALLBACK);const a=new Di(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(a)}processFinderPatternInfo(e){const r=e.getTopLeft(),a=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(r,a,o);if(l<1)throw new V("No pattern found in proccess finder.");const d=ca.computeDimension(r,a,o,l),p=fr.getProvisionalVersionForDimension(d),C=p.getDimensionForVersion()-7;let U=null;if(p.getAlignmentPatternCenters().length>0){const De=a.getX()-r.getX()+o.getX(),Qe=a.getY()-r.getY()+o.getY(),rt=1-3/C,pt=Math.floor(r.getX()+rt*(De-r.getX())),Et=Math.floor(r.getY()+rt*(Qe-r.getY()));for(let zt=4;zt<=16;zt<<=1)try{U=this.findAlignmentInRegion(l,pt,Et,zt);break}catch(or){if(!(or instanceof V))throw or}}const $=ca.createTransform(r,a,o,U,d),he=ca.sampleGrid(this.image,$,d);let Ie;return Ie=null===U?[o,r,a]:[o,r,a,U],new Ot(he,Ie)}static createTransform(e,r,a,o,l){const d=l-3.5;let p,C,U,$;return null!==o?(p=o.getX(),C=o.getY(),U=d-3,$=U):(p=r.getX()-e.getX()+a.getX(),C=r.getY()-e.getY()+a.getY(),U=d,$=d),Wt.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,U,$,3.5,d,e.getX(),e.getY(),r.getX(),r.getY(),p,C,a.getX(),a.getY())}static sampleGrid(e,r,a){return Sr.getInstance().sampleGridWithTransform(e,a,a,r)}static computeDimension(e,r,a,o){const l=Xe.round(Me.distance(e,r)/o),d=Xe.round(Me.distance(e,a)/o);let p=Math.floor((l+d)/2)+7;switch(3&p){case 0:p++;break;case 2:p--;break;case 3:throw new V("Dimensions could be not found.")}return p}calculateModuleSize(e,r,a){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,a))/2}calculateModuleSizeOneWay(e,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?o/7:isNaN(o)?a/7:(a+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,a,o){let l=this.sizeOfBlackWhiteBlackRun(e,r,a,o),d=1,p=e-(a-e);p<0?(d=e/(e-p),p=0):p>=this.image.getWidth()&&(d=(this.image.getWidth()-1-e)/(p-e),p=this.image.getWidth()-1);let C=Math.floor(r-(o-r)*d);return d=1,C<0?(d=r/(r-C),C=0):C>=this.image.getHeight()&&(d=(this.image.getHeight()-1-r)/(C-r),C=this.image.getHeight()-1),p=Math.floor(e+(p-e)*d),l+=this.sizeOfBlackWhiteBlackRun(e,r,p,C),l-1}sizeOfBlackWhiteBlackRun(e,r,a,o){const l=Math.abs(o-r)>Math.abs(a-e);if(l){let De=e;e=r,r=De,De=a,a=o,o=De}const d=Math.abs(a-e),p=Math.abs(o-r);let C=-d/2;const U=e<a?1:-1,$=r<o?1:-1;let he=0;const Ie=a+U;for(let De=e,Qe=r;De!==Ie;De+=U){if(1===he===this.image.get(l?Qe:De,l?De:Qe)){if(2===he)return Xe.distance(De,Qe,e,r);he++}if(C+=p,C>0){if(Qe===o)break;Qe+=$,C-=d}}return 2===he?Xe.distance(a+U,o,e,r):NaN}findAlignmentInRegion(e,r,a,o){const l=Math.floor(o*e),d=Math.max(0,r-l),p=Math.min(this.image.getWidth()-1,r+l);if(p-d<3*e)throw new V("Alignment top exceeds estimated module size.");const C=Math.max(0,a-l),U=Math.min(this.image.getHeight()-1,a+l);if(U-C<3*e)throw new V("Alignment bottom exceeds estimated module size.");return new Oa(this.image,d,C,p-d,U-C,e,this.resultPointCallback).find()}}class ei{constructor(){this.decoder=new I0}getDecoder(){return this.decoder}decode(e,r){let a,o;if(null!=r&&void 0!==r.get(S.PURE_BARCODE)){const C=ei.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(C,r),o=ei.NO_POINTS}else{const C=new ca(e.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(C.getBits(),r),o=C.getPoints()}a.getOther()instanceof oa&&a.getOther().applyMirroredCorrection(o);const l=new qe(a.getText(),a.getRawBytes(),void 0,o,Je.QR_CODE,void 0),d=a.getByteSegments();null!==d&&l.putMetadata(ht.BYTE_SEGMENTS,d);const p=a.getECLevel();return null!==p&&l.putMetadata(ht.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(l.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),l.putMetadata(ht.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(null===r||null===a)throw new V;const o=this.moduleSize(r,e);let l=r[1],d=a[1],p=r[0],C=a[0];if(p>=C||l>=d)throw new V;if(d-l!=C-p&&(C=p+(d-l),C>=e.getWidth()))throw new V;const U=Math.round((C-p+1)/o),$=Math.round((d-l+1)/o);if(U<=0||$<=0)throw new V;if($!==U)throw new V;const he=Math.floor(o/2);l+=he,p+=he;const Ie=p+Math.floor((U-1)*o)-C;if(Ie>0){if(Ie>he)throw new V;p-=Ie}const De=l+Math.floor(($-1)*o)-d;if(De>0){if(De>he)throw new V;l-=De}const Qe=new g(U,$);for(let rt=0;rt<$;rt++){const pt=l+Math.floor(rt*o);for(let Et=0;Et<U;Et++)e.get(p+Math.floor(Et*o),pt)&&Qe.set(Et,rt)}return Qe}static moduleSize(e,r){const a=r.getHeight(),o=r.getWidth();let l=e[0],d=e[1],p=!0,C=0;for(;l<o&&d<a;){if(p!==r.get(l,d)){if(5==++C)break;p=!p}l++,d++}if(l===o||d===a)throw new V;return(l-e[0])/7}}ei.NO_POINTS=new Array;class Tr{PDF417Common(){}static getBitCountSum(e){return Xe.sum(e)}static toIntArray(e){if(null==e||!e.length)return Tr.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let a=0;for(const o of e)r[a++]=o;return r}static getCodeword(e){const r=W.binarySearch(Tr.SYMBOL_TABLE,262143&e);return r<0?-1:(Tr.CODEWORD_TABLE[r]-1)%Tr.NUMBER_OF_CODEWORDS}}Tr.NUMBER_OF_CODEWORDS=929,Tr.MAX_CODEWORDS_IN_BARCODE=Tr.NUMBER_OF_CODEWORDS-1,Tr.MIN_ROWS_IN_BARCODE=3,Tr.MAX_ROWS_IN_BARCODE=90,Tr.MODULES_IN_CODEWORD=17,Tr.MODULES_IN_STOP_PATTERN=18,Tr.BARS_IN_MODULE=8,Tr.EMPTY_INT_ARRAY=new Int32Array([]),Tr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Tr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ks{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Vr{static detectMultiple(e,r,a){let o=e.getBlackMatrix(),l=Vr.detect(a,o);return l.length||(o=o.clone(),o.rotate180(),l=Vr.detect(a,o)),new Ks(o,l)}static detect(e,r){const a=new Array;let o=0,l=0,d=!1;for(;o<r.getHeight();){const p=Vr.findVertices(r,o,l);if(null!=p[0]||null!=p[3]){if(d=!0,a.push(p),!e)break;null!=p[2]?(l=Math.trunc(p[2].getX()),o=Math.trunc(p[2].getY())):(l=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY()))}else{if(!d)break;d=!1,l=0;for(const C of a)null!=C[1]&&(o=Math.trunc(Math.max(o,C[1].getY()))),null!=C[3]&&(o=Math.max(o,Math.trunc(C[3].getY())));o+=Vr.ROW_STEP}}return a}static findVertices(e,r,a){const o=e.getHeight(),l=e.getWidth(),d=new Array(8);return Vr.copyToResult(d,Vr.findRowsWithPattern(e,o,l,r,a,Vr.START_PATTERN),Vr.INDEXES_START_PATTERN),null!=d[4]&&(a=Math.trunc(d[4].getX()),r=Math.trunc(d[4].getY())),Vr.copyToResult(d,Vr.findRowsWithPattern(e,o,l,r,a,Vr.STOP_PATTERN),Vr.INDEXES_STOP_PATTERN),d}static copyToResult(e,r,a){for(let o=0;o<a.length;o++)e[a[o]]=r[o]}static findRowsWithPattern(e,r,a,o,l,d){const p=new Array(4);let C=!1;const U=new Int32Array(d.length);for(;o<r;o+=Vr.ROW_STEP){let he=Vr.findGuardPattern(e,l,o,a,!1,d,U);if(null!=he){for(;o>0;){const Ie=Vr.findGuardPattern(e,l,--o,a,!1,d,U);if(null==Ie){o++;break}he=Ie}p[0]=new Me(he[0],o),p[1]=new Me(he[1],o),C=!0;break}}let $=o+1;if(C){let he=0,Ie=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;$<r;$++){const De=Vr.findGuardPattern(e,Ie[0],$,a,!1,d,U);if(null!=De&&Math.abs(Ie[0]-De[0])<Vr.MAX_PATTERN_DRIFT&&Math.abs(Ie[1]-De[1])<Vr.MAX_PATTERN_DRIFT)Ie=De,he=0;else{if(he>Vr.SKIPPED_ROW_COUNT_MAX)break;he++}}$-=he+1,p[2]=new Me(Ie[0],$),p[3]=new Me(Ie[1],$)}return $-o<Vr.BARCODE_MIN_HEIGHT&&W.fill(p,null),p}static findGuardPattern(e,r,a,o,l,d,p){W.fillWithin(p,0,p.length,0);let C=r,U=0;for(;e.get(C,a)&&C>0&&U++<Vr.MAX_PIXEL_DRIFT;)C--;let $=C,he=0,Ie=d.length;for(let De=l;$<o;$++)if(e.get($,a)!==De)p[he]++;else{if(he===Ie-1){if(Vr.patternMatchVariance(p,d,Vr.MAX_INDIVIDUAL_VARIANCE)<Vr.MAX_AVG_VARIANCE)return new Int32Array([C,$]);C+=p[0]+p[1],J.arraycopy(p,2,p,0,he-1),p[he-1]=0,p[he]=0,he--}else he++;p[he]=1,De=!De}return he===Ie-1&&Vr.patternMatchVariance(p,d,Vr.MAX_INDIVIDUAL_VARIANCE)<Vr.MAX_AVG_VARIANCE?new Int32Array([C,$-1]):null}static patternMatchVariance(e,r,a){let o=e.length,l=0,d=0;for(let U=0;U<o;U++)l+=e[U],d+=r[U];if(l<d)return 1/0;let p=l/d;a*=p;let C=0;for(let U=0;U<o;U++){let $=e[U],he=r[U]*p,Ie=$>he?$-he:he-$;if(Ie>a)return 1/0;C+=Ie}return C/l}}Vr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vr.MAX_AVG_VARIANCE=.42,Vr.MAX_INDIVIDUAL_VARIANCE=.8,Vr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vr.MAX_PIXEL_DRIFT=3,Vr.MAX_PATTERN_DRIFT=5,Vr.SKIPPED_ROW_COUNT_MAX=25,Vr.ROW_STEP=5,Vr.BARCODE_MIN_HEIGHT=10;class Rn{constructor(e,r){if(0===r.length)throw new A;this.field=e;let a=r.length;if(a>1&&0===r[0]){let o=1;for(;o<a&&0===r[o];)o++;o===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-o),J.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],a=this.coefficients.length;for(let o=1;o<a;o++)r=this.field.add(this.field.multiply(e,r),this.coefficients[o]);return r}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,a=e.coefficients;if(r.length>a.length){let d=r;r=a,a=d}let o=new Int32Array(a.length),l=a.length-r.length;J.arraycopy(a,0,o,0,l);for(let d=l;d<a.length;d++)o[d]=this.field.add(r[d-l],a[d]);return new Rn(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Rn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Rn(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,o=e.coefficients,l=o.length,d=new Int32Array(a+l-1);for(let p=0;p<a;p++){let C=r[p];for(let U=0;U<l;U++)d[p+U]=this.field.add(d[p+U],this.field.multiply(C,o[U]))}return new Rn(this.field,d)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new Rn(this.field,r)}multiplyScalar(e){if(0===e)return new Rn(this.field,new Int32Array([0]));if(1===e)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let o=0;o<r;o++)a[o]=this.field.multiply(this.coefficients[o],e);return new Rn(this.field,a)}multiplyByMonomial(e,r){if(e<0)throw new A;if(0===r)return new Rn(this.field,new Int32Array([0]));let a=this.coefficients.length,o=new Int32Array(a+e);for(let l=0;l<a;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Rn(this.field,o)}toString(){let e=new G;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);0!==a&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(0===r||1!==a)&&e.append(a),0!==r&&(1===r?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class ba extends class ls{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new A;return this.logTable[e]}inverse(e){if(0===e)throw new sr;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let a=1;for(let o=0;o<e;o++)this.expTable[o]=a,a=a*r%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Rn(this,new Int32Array([0])),this.one=new Rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new A;if(0===r)return this.zero;let a=new Int32Array(e+1);return a[0]=r,new Rn(this,a)}}ba.PDF417_GF=new ba(Tr.NUMBER_OF_CODEWORDS,3);class Vs{constructor(){this.field=ba.PDF417_GF}decode(e,r,a){let o=new Rn(this.field,e),l=new Int32Array(r),d=!1;for(let Qe=r;Qe>0;Qe--){let rt=o.evaluateAt(this.field.exp(Qe));l[r-Qe]=rt,0!==rt&&(d=!0)}if(!d)return 0;let p=this.field.getOne();if(null!=a)for(const Qe of a){let rt=this.field.exp(e.length-1-Qe),pt=new Rn(this.field,new Int32Array([this.field.subtract(0,rt),1]));p=p.multiply(pt)}let C=new Rn(this.field,l),U=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),C,r),$=U[0],he=U[1],Ie=this.findErrorLocations($),De=this.findErrorMagnitudes(he,$,Ie);for(let Qe=0;Qe<Ie.length;Qe++){let rt=e.length-1-this.field.log(Ie[Qe]);if(rt<0)throw I.getChecksumInstance();e[rt]=this.field.subtract(e[rt],De[Qe])}return Ie.length}runEuclideanAlgorithm(e,r,a){if(e.getDegree()<r.getDegree()){let Ie=e;e=r,r=Ie}let o=e,l=r,d=this.field.getZero(),p=this.field.getOne();for(;l.getDegree()>=Math.round(a/2);){let Ie=o,De=d;if(o=l,d=p,o.isZero())throw I.getChecksumInstance();l=Ie;let Qe=this.field.getZero(),rt=o.getCoefficient(o.getDegree()),pt=this.field.inverse(rt);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let Et=l.getDegree()-o.getDegree(),zt=this.field.multiply(l.getCoefficient(l.getDegree()),pt);Qe=Qe.add(this.field.buildMonomial(Et,zt)),l=l.subtract(o.multiplyByMonomial(Et,zt))}p=Qe.multiply(d).subtract(De).negative()}let C=p.getCoefficient(0);if(0===C)throw I.getChecksumInstance();let U=this.field.inverse(C);return[p.multiply(U),l.multiply(U)]}findErrorLocations(e){let r=e.getDegree(),a=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)0===e.evaluateAt(l)&&(a[o]=this.field.inverse(l),o++);if(o!==r)throw I.getChecksumInstance();return a}findErrorMagnitudes(e,r,a){let o=r.getDegree(),l=new Int32Array(o);for(let U=1;U<=o;U++)l[o-U]=this.field.multiply(U,r.getCoefficient(U));let d=new Rn(this.field,l),p=a.length,C=new Int32Array(p);for(let U=0;U<p;U++){let $=this.field.inverse(a[U]),he=this.field.subtract(0,e.evaluateAt($)),Ie=this.field.inverse(d.evaluateAt($));C[U]=this.field.multiply(he,Ie)}return C}}class ea{constructor(e,r,a,o,l){e instanceof ea?this.constructor_2(e):this.constructor_1(e,r,a,o,l)}constructor_1(e,r,a,o,l){const d=null==r||null==a,p=null==o||null==l;if(d&&p)throw new V;d?(r=new Me(0,o.getY()),a=new Me(0,l.getY())):p&&(o=new Me(e.getWidth()-1,r.getY()),l=new Me(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=r,this.bottomLeft=a,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(a.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return null==e?r:null==r?e:new ea(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,a){let o=this.topLeft,l=this.bottomLeft,d=this.topRight,p=this.bottomRight;if(e>0){let C=a?this.topLeft:this.topRight,U=Math.trunc(C.getY()-e);U<0&&(U=0);let $=new Me(C.getX(),U);a?o=$:d=$}if(r>0){let C=a?this.bottomLeft:this.bottomRight,U=Math.trunc(C.getY()+r);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let $=new Me(C.getX(),U);a?l=$:p=$}return new ea(this.image,o,l,d,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class T0{constructor(e,r,a,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ca{constructor(){this.buffer=""}static form(e,r){let a=-1;return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(d,p,C,U,$,he){if("%%"===d)return"%";if(void 0===r[++a])return;d=U?parseInt(U.substr(1)):void 0;let De,Ie=$?parseInt($.substr(1)):void 0;switch(he){case"s":De=r[a];break;case"c":De=r[a][0];break;case"f":De=parseFloat(r[a]).toFixed(d);break;case"p":De=parseFloat(r[a]).toPrecision(d);break;case"e":De=parseFloat(r[a]).toExponential(d);break;case"x":De=parseInt(r[a]).toString(Ie||16);break;case"d":De=parseFloat(parseInt(r[a],Ie||10).toPrecision(d)).toFixed(0)}De="object"==typeof De?JSON.stringify(De):(+De).toString(Ie);let Qe=parseInt(C),rt=C&&C[0]+""=="0"?"0":" ";for(;De.length<Qe;)De=void 0!==p?De+rt:rt+De;return De})}format(e,...r){this.buffer+=Ca.form(e,r)}toString(){return this.buffer}}let us=(()=>{class z{constructor(r){this.boundingBox=new ea(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let a=this.getCodeword(r);if(null!=a)return a;for(let o=1;o<z.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(r)-o;if(l>=0&&(a=this.codewords[l],null!=a)||(l=this.imageRowToCodewordIndex(r)+o,l<this.codewords.length&&(a=this.codewords[l],null!=a)))return a}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,a){this.codewords[this.imageRowToCodewordIndex(r)]=a}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ca;let a=0;for(const o of this.codewords)null!=o?r.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue()):r.format("%3d:    |   %n",a++);return r.toString()}}return z.MAX_NEARBY_DISTANCE=5,z})();class Sa{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);null==r&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[a,o]of this.values.entries()){const l={getKey:()=>a,getValue:()=>o};l.getValue()>e?(e=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===e&&r.push(l.getKey())}return Tr.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class Ei extends us{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=this.imageRowToCodewordIndex(Math.trunc(l.getY())),C=-1,U=1,$=0;for(let he=d;he<p;he++){if(null==r[he])continue;let Ie=r[he],De=Ie.getRowNumber()-C;if(0===De)$++;else if(1===De)U=Math.max(U,$),$=1,C=Ie.getRowNumber();else if(De<0||Ie.getRowNumber()>=e.getRowCount()||De>he)r[he]=null;else{let Qe;Qe=U>2?(U-2)*De:De;let rt=Qe>=he;for(let pt=1;pt<=Qe&&!rt;pt++)rt=null!=r[he-pt];rt?r[he]=null:(C=Ie.getRowNumber(),$=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let a of this.getCodewords())if(null!=a){let o=a.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=this.getCodewords(),C=-1;for(let U=l;U<d;U++){if(null==p[U])continue;let $=p[U];$.setRowNumberAsRowIndicatorColumn();let he=$.getRowNumber()-C;0===he||(1===he?C=$.getRowNumber():$.getRowNumber()>=e.getRowCount()?p[U]=null:C=$.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new Sa,a=new Sa,o=new Sa,l=new Sa;for(let p of e){if(null==p)continue;p.setRowNumberAsRowIndicatorColumn();let C=p.getValue()%30,U=p.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:a.setValue(3*C+1);break;case 1:l.setValue(C/3),o.setValue(C%3);break;case 2:r.setValue(C+1)}}if(0===r.getValue().length||0===a.getValue().length||0===o.getValue().length||0===l.getValue().length||r.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<Tr.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>Tr.MAX_ROWS_IN_BARCODE)return null;let d=new T0(r.getValue()[0],a.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,d),d}removeIncorrectCodewords(e,r){for(let a=0;a<e.length;a++){let o=e[a];if(null==e[a])continue;let l=o.getValue()%30,d=o.getRowNumber();if(d>r.getRowCount())e[a]=null;else switch(this._isLeft||(d+=2),d%3){case 0:3*l+1!==r.getRowCountUpperPart()&&(e[a]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(e[a]=null);break;case 2:l+1!==r.getColumnCount()&&(e[a]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Ri{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r,e=Tr.MAX_CODEWORDS_IN_BARCODE;do{r=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let o=0;o<a.length;o++)null!=a[o]&&(a[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,a))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<e.length;a++)if(null!=e[a]&&null!=r[a]&&e[a].getRowNumber()===r[a].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[a];null!=l&&(l.setRowNumber(e[a].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(null==r[a])continue;let o=r[a].getRowNumber(),l=0;for(let d=this.barcodeColumnCount+1;d>0&&l<this.ADJUST_ROW_NUMBER_SKIP;d--){let p=this.detectionResultColumns[d].getCodewords()[a];null!=p&&(l=Ri.adjustRowNumberIfValid(o,l,p),p.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(null==r[a])continue;let o=r[a].getRowNumber(),l=0;for(let d=1;d<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;d++){let p=this.detectionResultColumns[d].getCodewords()[a];null!=p&&(l=Ri.adjustRowNumberIfValid(o,l,p),p.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,a){return null==a||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,a){let o=a[r],l=this.detectionResultColumns[e-1].getCodewords(),d=l;null!=this.detectionResultColumns[e+1]&&(d=this.detectionResultColumns[e+1].getCodewords());let p=new Array(14);p[2]=l[r],p[3]=d[r],r>0&&(p[0]=a[r-1],p[4]=l[r-1],p[5]=d[r-1]),r>1&&(p[8]=a[r-2],p[10]=l[r-2],p[11]=d[r-2]),r<a.length-1&&(p[1]=a[r+1],p[6]=l[r+1],p[7]=d[r+1]),r<a.length-2&&(p[9]=a[r+2],p[12]=l[r+2],p[13]=d[r+2]);for(let C of p)if(Ri.adjustRowNumber(o,C))return}static adjustRowNumber(e,r){return!(null==r||!r.hasValidRowNumber()||r.getBucket()!==e.getBucket()||(e.setRowNumber(r.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ca;for(let a=0;a<e.getCodewords().length;a++){r.format("CW %3d:",a);for(let o=0;o<this.barcodeColumnCount+2;o++){if(null==this.detectionResultColumns[o]){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[a];null!=l?r.format(" %3d|%3d",l.getRowNumber(),l.getValue()):r.format("    |   ")}r.format("%n")}return r.toString()}}let _0=(()=>{class z{constructor(r,a,o,l){this.rowNumber=z.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(a),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==z.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}return z.BARCODE_ROW_UNKNOWN=-1,z})();class pi{static initialize(){for(let e=0;e<Tr.SYMBOL_TABLE.length;e++){let r=Tr.SYMBOL_TABLE[e],a=1&r;for(let o=0;o<Tr.BARS_IN_MODULE;o++){let l=0;for(;(1&r)===a;)l+=1,r>>=1;a=1&r,pi.RATIOS_TABLE[e]||(pi.RATIOS_TABLE[e]=new Array(Tr.BARS_IN_MODULE)),pi.RATIOS_TABLE[e][Tr.BARS_IN_MODULE-o-1]=Math.fround(l/Tr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=pi.getDecodedCodewordValue(pi.sampleBitCounts(e));return-1!==r?r:pi.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=Xe.sum(e),a=new Int32Array(Tr.BARS_IN_MODULE),o=0,l=0;for(let d=0;d<Tr.MODULES_IN_CODEWORD;d++)l+e[o]<=r/(2*Tr.MODULES_IN_CODEWORD)+d*r/Tr.MODULES_IN_CODEWORD&&(l+=e[o],o++),a[o]++;return a}static getDecodedCodewordValue(e){let r=pi.getBitValue(e);return-1===Tr.getCodeword(r)?-1:r}static getBitValue(e){let r=0;for(let a=0;a<e.length;a++)for(let o=0;o<e[a];o++)r=r<<1|(a%2==0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=Xe.sum(e),a=new Array(Tr.BARS_IN_MODULE);if(r>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(e[d]/r);let o=ee.MAX_VALUE,l=-1;this.bSymbolTableReady||pi.initialize();for(let d=0;d<pi.RATIOS_TABLE.length;d++){let p=0,C=pi.RATIOS_TABLE[d];for(let U=0;U<Tr.BARS_IN_MODULE;U++){let $=Math.fround(C[U]-a[U]);if(p+=Math.fround($*$),p>=o)break}p<o&&(o=p,l=Tr.SYMBOL_TABLE[d])}return l}}pi.bSymbolTableReady=!1,pi.RATIOS_TABLE=new Array(Tr.SYMBOL_TABLE.length).map(z=>new Array(Tr.BARS_IN_MODULE));class zs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Hs{static parseLong(e,r){return parseInt(e,r)}}let B0=(()=>{class z extends B{}return z.kind="NullPointerException",z})();class N0 extends B{}class D0 extends class k0{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,a){if(null==e)throw new B0;if(r<0||r>e.length||a<0||r+a>e.length||r+a<0)throw new R;if(0!==a)for(let o=0;o<a;o++)this.write(e[r+o])}flush(){}close(){}}{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let a=this.buf.length<<1;if(a-e<0&&(a=e),a<0){if(e<0)throw new N0;a=P.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,a)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,a){if(r<0||r>e.length||a<0||r+a-e.length>0)throw new R;this.ensureCapacity(this.count+a),J.arraycopy(e,r,this.buf,this.count,a),this.count+=a}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var wn=(()=>{return(z=wn||(wn={}))[z.ALPHA=0]="ALPHA",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.PUNCT=3]="PUNCT",z[z.ALPHA_SHIFT=4]="ALPHA_SHIFT",z[z.PUNCT_SHIFT=5]="PUNCT_SHIFT",wn;var z})();function Gs(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let La;function ji(z){if(typeof La>"u"&&(La=Gs()),null===La)throw new Error("BigInt is not supported!");return La(z)}class bt{static decode(e,r){let a=new G(""),o=j.ISO8859_1;a.enableDecoding(o);let l=1,d=e[l++],p=new zs;for(;l<e[0];){switch(d){case bt.TEXT_COMPACTION_MODE_LATCH:l=bt.textCompaction(e,l,a);break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:l=bt.byteCompaction(d,e,o,l,a);break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[l++]);break;case bt.NUMERIC_COMPACTION_MODE_LATCH:l=bt.numericCompaction(e,l,a);break;case bt.ECI_CHARSET:j.getCharacterSetECIByValue(e[l++]);break;case bt.ECI_GENERAL_PURPOSE:l+=2;break;case bt.ECI_USER_DEFINED:l++;break;case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=bt.decodeMacroBlock(e,l,p);break;case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:throw new _;default:l--,l=bt.textCompaction(e,l,a)}if(!(l<e.length))throw _.getFormatInstance();d=e[l++]}if(0===a.length())throw _.getFormatInstance();let C=new gr(null,a.toString(),null,r);return C.setOther(p),C}static decodeMacroBlock(e,r,a){if(r+bt.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw _.getFormatInstance();let o=new Int32Array(bt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<bt.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)o[p]=e[r];a.setSegmentIndex(P.parseInt(bt.decodeBase900toBase10(o,bt.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new G;r=bt.textCompaction(e,r,l),a.setFileId(l.toString());let d=-1;for(e[r]===bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=r+1);r<e[0];)switch(e[r]){case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++r]){case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new G;r=bt.textCompaction(e,r+1,p),a.setFileName(p.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new G;r=bt.textCompaction(e,r+1,C),a.setSender(C.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new G;r=bt.textCompaction(e,r+1,U),a.setAddressee(U.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new G;r=bt.numericCompaction(e,r+1,$),a.setSegmentCount(P.parseInt($.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let he=new G;r=bt.numericCompaction(e,r+1,he),a.setTimestamp(Hs.parseLong(he.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Ie=new G;r=bt.numericCompaction(e,r+1,Ie),a.setChecksum(P.parseInt(Ie.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let De=new G;r=bt.numericCompaction(e,r+1,De),a.setFileSize(Hs.parseLong(De.toString()));break;default:throw _.getFormatInstance()}break;case bt.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw _.getFormatInstance()}if(-1!==d){let p=r-d;a.isLastSegment()&&p--,a.setOptionalData(W.copyOfRange(e,d,d+p))}return r}static textCompaction(e,r,a){let o=new Int32Array(2*(e[0]-r)),l=new Int32Array(2*(e[0]-r)),d=0,p=!1;for(;r<e[0]&&!p;){let C=e[r++];if(C<bt.TEXT_COMPACTION_MODE_LATCH)o[d]=C/30,o[d+1]=C%30,d+=2;else switch(C){case bt.TEXT_COMPACTION_MODE_LATCH:o[d++]=bt.TEXT_COMPACTION_MODE_LATCH;break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[d]=bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=e[r++],l[d]=C,d++}}return bt.decodeTextCompaction(o,l,d,a),r}static decodeTextCompaction(e,r,a,o){let l=wn.ALPHA,d=wn.ALPHA,p=0;for(;p<a;){let C=e[p],U="";switch(l){case wn.ALPHA:if(C<26)U=String.fromCharCode(65+C);else switch(C){case 26:U=" ";break;case bt.LL:l=wn.LOWER;break;case bt.ML:l=wn.MIXED;break;case bt.PS:d=l,l=wn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}break;case wn.LOWER:if(C<26)U=String.fromCharCode(97+C);else switch(C){case 26:U=" ";break;case bt.AS:d=l,l=wn.ALPHA_SHIFT;break;case bt.ML:l=wn.MIXED;break;case bt.PS:d=l,l=wn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}break;case wn.MIXED:if(C<bt.PL)U=bt.MIXED_CHARS[C];else switch(C){case bt.PL:l=wn.PUNCT;break;case 26:U=" ";break;case bt.LL:l=wn.LOWER;break;case bt.AL:l=wn.ALPHA;break;case bt.PS:d=l,l=wn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}break;case wn.PUNCT:if(C<bt.PAL)U=bt.PUNCT_CHARS[C];else switch(C){case bt.PAL:l=wn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}break;case wn.ALPHA_SHIFT:if(l=d,C<26)U=String.fromCharCode(65+C);else switch(C){case 26:U=" ";break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}break;case wn.PUNCT_SHIFT:if(l=d,C<bt.PAL)U=bt.PUNCT_CHARS[C];else switch(C){case bt.PAL:l=wn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[p]);break;case bt.TEXT_COMPACTION_MODE_LATCH:l=wn.ALPHA}}""!==U&&o.append(U),p++}}static byteCompaction(e,r,a,o,l){let d=new D0,p=0,C=0,U=!1;switch(e){case bt.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),he=r[o++];for(;o<r[0]&&!U;)switch($[p++]=he,C=900*C+he,he=r[o++],he){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:o--,U=!0;break;default:if(p%5==0&&p>0){for(let Ie=0;Ie<6;++Ie)d.write(Number(ji(C)>>ji(8*(5-Ie))));C=0,p=0}}o===r[0]&&he<bt.TEXT_COMPACTION_MODE_LATCH&&($[p++]=he);for(let Ie=0;Ie<p;Ie++)d.write($[Ie]);break;case bt.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!U;){let Ie=r[o++];if(Ie<bt.TEXT_COMPACTION_MODE_LATCH)p++,C=900*C+Ie;else switch(Ie){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:o--,U=!0}if(p%5==0&&p>0){for(let De=0;De<6;++De)d.write(Number(ji(C)>>ji(8*(5-De))));C=0,p=0}}}return l.append(O.decode(d.toByteArray(),a)),o}static numericCompaction(e,r,a){let o=0,l=!1,d=new Int32Array(bt.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!l;){let p=e[r++];if(r===e[0]&&(l=!0),p<bt.TEXT_COMPACTION_MODE_LATCH)d[o]=p,o++;else switch(p){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:r--,l=!0}(o%bt.MAX_NUMERIC_CODEWORDS==0||p===bt.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(a.append(bt.decodeBase900toBase10(d,o)),o=0)}return r}static decodeBase900toBase10(e,r){let a=ji(0);for(let l=0;l<r;l++)a+=bt.EXP900[r-l-1]*ji(e[l]);let o=a.toString();if("1"!==o.charAt(0))throw new _;return o.substring(1)}}bt.TEXT_COMPACTION_MODE_LATCH=900,bt.BYTE_COMPACTION_MODE_LATCH=901,bt.NUMERIC_COMPACTION_MODE_LATCH=902,bt.BYTE_COMPACTION_MODE_LATCH_6=924,bt.ECI_USER_DEFINED=925,bt.ECI_GENERAL_PURPOSE=926,bt.ECI_CHARSET=927,bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,bt.MACRO_PDF417_TERMINATOR=922,bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,bt.MAX_NUMERIC_CODEWORDS=15,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,bt.PL=25,bt.LL=27,bt.AS=27,bt.ML=28,bt.AL=28,bt.PS=29,bt.PAL=29,bt.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",bt.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",bt.EXP900=Gs()?function Pi(){let z=[];z[0]=ji(1);let e=ji(900);z[1]=e;for(let r=2;r<16;r++)z[r]=z[r-1]*e;return z}():[],bt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Lr{constructor(){}static decode(e,r,a,o,l,d,p){let he,C=new ea(e,r,a,o,l),U=null,$=null;for(let Qe=!0;;Qe=!1){if(null!=r&&(U=Lr.getRowIndicatorColumn(e,C,r,!0,d,p)),null!=o&&($=Lr.getRowIndicatorColumn(e,C,o,!1,d,p)),he=Lr.merge(U,$),null==he)throw V.getNotFoundInstance();let rt=he.getBoundingBox();if(!Qe||null==rt||!(rt.getMinY()<C.getMinY()||rt.getMaxY()>C.getMaxY()))break;C=rt}he.setBoundingBox(C);let Ie=he.getBarcodeColumnCount()+1;he.setDetectionResultColumn(0,U),he.setDetectionResultColumn(Ie,$);let De=null!=U;for(let Qe=1;Qe<=Ie;Qe++){let pt,rt=De?Qe:Ie-Qe;if(void 0!==he.getDetectionResultColumn(rt))continue;pt=0===rt||rt===Ie?new Ei(C,0===rt):new us(C),he.setDetectionResultColumn(rt,pt);let Et=-1,zt=Et;for(let or=C.getMinY();or<=C.getMaxY();or++){if(Et=Lr.getStartColumn(he,rt,or,De),Et<0||Et>C.getMaxX()){if(-1===zt)continue;Et=zt}let Nt=Lr.detectCodeword(e,C.getMinX(),C.getMaxX(),De,Et,or,d,p);null!=Nt&&(pt.setCodeword(or,Nt),zt=Et,d=Math.min(d,Nt.getWidth()),p=Math.max(p,Nt.getWidth()))}}return Lr.createDecoderResult(he)}static merge(e,r){if(null==e&&null==r)return null;let a=Lr.getBarcodeMetadata(e,r);if(null==a)return null;let o=ea.merge(Lr.adjustBoundingBox(e),Lr.adjustBoundingBox(r));return new Ri(a,o)}static adjustBoundingBox(e){if(null==e)return null;let r=e.getRowHeights();if(null==r)return null;let a=Lr.getMax(r),o=0;for(let p of r)if(o+=a-p,p>0)break;let l=e.getCodewords();for(let p=0;o>0&&null==l[p];p++)o--;let d=0;for(let p=r.length-1;p>=0&&(d+=a-r[p],!(r[p]>0));p--);for(let p=l.length-1;d>0&&null==l[p];p--)d--;return e.getBoundingBox().addMissingRows(o,d,e.isLeft())}static getMax(e){let r=-1;for(let a of e)r=Math.max(r,a);return r}static getBarcodeMetadata(e,r){let a,o;return null==e||null==(a=e.getBarcodeMetadata())?null==r?null:r.getBarcodeMetadata():null==r||null==(o=r.getBarcodeMetadata())?a:a.getColumnCount()!==o.getColumnCount()&&a.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&a.getRowCount()!==o.getRowCount()?null:a}static getRowIndicatorColumn(e,r,a,o,l,d){let p=new Ei(r,o);for(let C=0;C<2;C++){let U=0===C?1:-1,$=Math.trunc(Math.trunc(a.getX()));for(let he=Math.trunc(Math.trunc(a.getY()));he<=r.getMaxY()&&he>=r.getMinY();he+=U){let Ie=Lr.detectCodeword(e,0,e.getWidth(),o,$,he,l,d);null!=Ie&&(p.setCodeword(he,Ie),$=o?Ie.getStartX():Ie.getEndX())}}return p}static adjustCodewordCount(e,r){let a=r[0][1],o=a.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Lr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===o.length){if(l<1||l>Tr.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();a.setValue(l)}else o[0]!==l&&a.setValue(l)}static createDecoderResult(e){let r=Lr.createBarcodeMatrix(e);Lr.adjustCodewordCount(e,r);let a=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],d=new Array;for(let C=0;C<e.getBarcodeRowCount();C++)for(let U=0;U<e.getBarcodeColumnCount();U++){let $=r[C][U+1].getValue(),he=C*e.getBarcodeColumnCount()+U;0===$.length?a.push(he):1===$.length?o[he]=$[0]:(d.push(he),l.push($))}let p=new Array(l.length);for(let C=0;C<p.length;C++)p[C]=l[C];return Lr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,Tr.toIntArray(a),Tr.toIntArray(d),p)}static createDecoderResultFromAmbiguousValues(e,r,a,o,l){let d=new Int32Array(o.length),p=100;for(;p-- >0;){for(let C=0;C<d.length;C++)r[o[C]]=l[C][d[C]];try{return Lr.decodeCodewords(r,e,a)}catch(C){if(!(C instanceof I))throw C}if(0===d.length)throw I.getChecksumInstance();for(let C=0;C<d.length;C++){if(d[C]<l[C].length-1){d[C]++;break}if(d[C]=0,C===d.length-1)throw I.getChecksumInstance()}}throw I.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new Sa;let a=0;for(let o of e.getDetectionResultColumns()){if(null!=o)for(let l of o.getCodewords())if(null!=l){let d=l.getRowNumber();if(d>=0){if(d>=r.length)continue;r[d][a].setValue(l.getValue())}}a++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,a,o){let l=o?1:-1,d=null;if(Lr.isValidBarcodeColumn(e,r-l)&&(d=e.getDetectionResultColumn(r-l).getCodeword(a)),null!=d)return o?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(r).getCodewordNearby(a),null!=d)return o?d.getStartX():d.getEndX();if(Lr.isValidBarcodeColumn(e,r-l)&&(d=e.getDetectionResultColumn(r-l).getCodewordNearby(a)),null!=d)return o?d.getEndX():d.getStartX();let p=0;for(;Lr.isValidBarcodeColumn(e,r-l);){r-=l;for(let C of e.getDetectionResultColumn(r).getCodewords())if(null!=C)return(o?C.getEndX():C.getStartX())+l*p*(C.getEndX()-C.getStartX());p++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,a,o,l,d,p,C){l=Lr.adjustCodewordStartColumn(e,r,a,o,l,d);let U=Lr.getModuleBitCount(e,r,a,o,l,d);if(null==U)return null;let $,he=Xe.sum(U);if(o)$=l+he;else{for(let Qe=0;Qe<U.length/2;Qe++){let rt=U[Qe];U[Qe]=U[U.length-1-Qe],U[U.length-1-Qe]=rt}$=l,l=$-he}if(!Lr.checkCodewordSkew(he,p,C))return null;let Ie=pi.getDecodedValue(U),De=Tr.getCodeword(Ie);return-1===De?null:new _0(l,$,Lr.getCodewordBucketNumber(Ie),De)}static getModuleBitCount(e,r,a,o,l,d){let p=l,C=new Int32Array(8),U=0,$=o?1:-1,he=o;for(;(o?p<a:p>=r)&&U<C.length;)e.get(p,d)===he?(C[U]++,p+=$):(U++,he=!he);return U===C.length||p===(o?a:r)&&U===C.length-1?C:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,a,o,l,d){let p=l,C=o?-1:1;for(let U=0;U<2;U++){for(;(o?p>=r:p<a)&&o===e.get(p,d);){if(Math.abs(l-p)>Lr.CODEWORD_SKEW_SIZE)return l;p+=C}C=-C,o=!o}return p}static checkCodewordSkew(e,r,a){return r-Lr.CODEWORD_SKEW_SIZE<=e&&e<=a+Lr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,a){if(0===e.length)throw _.getFormatInstance();let o=1<<r+1,l=Lr.correctErrors(e,a,o);Lr.verifyCodewordCount(e,o);let d=bt.decode(e,""+r);return d.setErrorsCorrected(l),d.setErasures(a.length),d}static correctErrors(e,r,a){if(null!=r&&r.length>a/2+Lr.MAX_ERRORS||a<0||a>Lr.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return Lr.errorCorrection.decode(e,a,r)}static verifyCodewordCount(e,r){if(e.length<4)throw _.getFormatInstance();let a=e[0];if(a>e.length)throw _.getFormatInstance();if(0===a){if(!(r<e.length))throw _.getFormatInstance();e[0]=e.length-r}}static getBitCountForCodeword(e){let r=new Int32Array(8),a=0,o=r.length-1;for(;!((1&e)!==a&&(a=1&e,o--,o<0));)r[o]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Lr.getCodewordBucketNumber(Lr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Ca;for(let a=0;a<e.length;a++){r.format("Row %2d: ",a);for(let o=0;o<e[a].length;o++){let l=e[a][o];0===l.getValue().length?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Lr.CODEWORD_SKEW_SIZE=2,Lr.MAX_ERRORS=3,Lr.MAX_EC_CODEWORDS=512,Lr.errorCorrection=new Vs;class $n{decode(e,r=null){let a=$n.decode(e,r,!1);if(null==a||0===a.length||null==a[0])throw V.getNotFoundInstance();return a[0]}decodeMultiple(e,r=null){try{return $n.decode(e,r,!0)}catch(a){throw a instanceof _||a instanceof I?V.getNotFoundInstance():a}}static decode(e,r,a){const o=new Array,l=Vr.detectMultiple(e,r,a);for(const d of l.getPoints()){const p=Lr.decode(l.getBits(),d[4],d[5],d[6],d[7],$n.getMinCodewordWidth(d),$n.getMaxCodewordWidth(d)),C=new qe(p.getText(),p.getRawBytes(),void 0,d,Je.PDF_417);C.putMetadata(ht.ERROR_CORRECTION_LEVEL,p.getECLevel());const U=p.getOther();null!=U&&C.putMetadata(ht.PDF417_EXTRA_METADATA,U),o.push(C)}return o.map(d=>d)}static getMaxWidth(e,r){return null==e||null==r?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return null==e||null==r?P.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max($n.getMaxWidth(e[0],e[4]),$n.getMaxWidth(e[6],e[2])*Tr.MODULES_IN_CODEWORD/Tr.MODULES_IN_STOP_PATTERN),Math.max($n.getMaxWidth(e[1],e[5]),$n.getMaxWidth(e[7],e[3])*Tr.MODULES_IN_CODEWORD/Tr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min($n.getMinWidth(e[0],e[4]),$n.getMinWidth(e[6],e[2])*Tr.MODULES_IN_CODEWORD/Tr.MODULES_IN_STOP_PATTERN),Math.min($n.getMinWidth(e[1],e[5]),$n.getMinWidth(e[7],e[3])*Tr.MODULES_IN_CODEWORD/Tr.MODULES_IN_STOP_PATTERN)))}reset(){}}let ta=(()=>{class z extends B{}return z.kind="ReaderException",z})();class fs{constructor(e,r){this.verbose=!0===e,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return null==this.readers&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=null!=e&&void 0!==e.get(S.TRY_HARDER),a=null==e?null:e.get(S.POSSIBLE_FORMATS),o=new Array;if(null!=a){const l=a.some(d=>d===Je.UPC_A||d===Je.UPC_E||d===Je.EAN_13||d===Je.EAN_8||d===Je.CODABAR||d===Je.CODE_39||d===Je.CODE_93||d===Je.CODE_128||d===Je.ITF||d===Je.RSS_14||d===Je.RSS_EXPANDED);l&&!r&&o.push(new Vt(e,this.verbose)),a.includes(Je.QR_CODE)&&o.push(new ei),a.includes(Je.DATA_MATRIX)&&o.push(new at),a.includes(Je.AZTEC)&&o.push(new on),a.includes(Je.PDF_417)&&o.push(new $n),l&&r&&o.push(new Vt(e,this.verbose))}0===o.length&&(r||o.push(new Vt(e,this.verbose)),o.push(new ei),o.push(new at),o.push(new on),o.push(new $n),r&&o.push(new Vt(e,this.verbose))),this.readers=o}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new ta("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(a){if(a instanceof ta)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}var Ia=(()=>{return(z=Ia||(Ia={}))[z.ERROR_CORRECTION=0]="ERROR_CORRECTION",z[z.CHARACTER_SET=1]="CHARACTER_SET",z[z.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",z[z.MIN_SIZE=3]="MIN_SIZE",z[z.MAX_SIZE=4]="MAX_SIZE",z[z.MARGIN=5]="MARGIN",z[z.PDF417_COMPACT=6]="PDF417_COMPACT",z[z.PDF417_COMPACTION=7]="PDF417_COMPACTION",z[z.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",z[z.AZTEC_LAYERS=9]="AZTEC_LAYERS",z[z.QR_VERSION=10]="QR_VERSION",Ia;var z})(),Yn=Ia;class hs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new xr(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let a=r[r.length-1];const o=this.field;for(let l=r.length;l<=e;l++){const d=a.multiply(new xr(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(d),a=d}}return r[e]}encode(e,r){if(0===r)throw new A("No error correction bytes");const a=e.length-r;if(a<=0)throw new A("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(a);J.arraycopy(e,0,l,0,a);let d=new xr(this.field,l);d=d.multiplyByMonomial(r,1);const C=d.divide(o)[1].getCoefficients(),U=r-C.length;for(let $=0;$<U;$++)e[a+$]=0;J.arraycopy(C,0,e,a+U,C.length)}}let la=(()=>{class z{constructor(){}static applyMaskPenaltyRule1(r){return z.applyMaskPenaltyRule1Internal(r,!0)+z.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let p=0;p<d-1;p++){const C=o[p];for(let U=0;U<l-1;U++){const $=C[U];$===C[U+1]&&$===o[p+1][U]&&$===o[p+1][U+1]&&a++}}return z.N2*a}static applyMaskPenaltyRule3(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let p=0;p<d;p++)for(let C=0;C<l;C++){const U=o[p];C+6<l&&1===U[C]&&0===U[C+1]&&1===U[C+2]&&1===U[C+3]&&1===U[C+4]&&0===U[C+5]&&1===U[C+6]&&(z.isWhiteHorizontal(U,C-4,C)||z.isWhiteHorizontal(U,C+7,C+11))&&a++,p+6<d&&1===o[p][C]&&0===o[p+1][C]&&1===o[p+2][C]&&1===o[p+3][C]&&1===o[p+4][C]&&0===o[p+5][C]&&1===o[p+6][C]&&(z.isWhiteVertical(o,C,p-4,p)||z.isWhiteVertical(o,C,p+7,p+11))&&a++}return a*z.N3}static isWhiteHorizontal(r,a,o){a=Math.max(a,0),o=Math.min(o,r.length);for(let l=a;l<o;l++)if(1===r[l])return!1;return!0}static isWhiteVertical(r,a,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let d=o;d<l;d++)if(1===r[d][a])return!1;return!0}static applyMaskPenaltyRule4(r){let a=0;const o=r.getArray(),l=r.getWidth(),d=r.getHeight();for(let U=0;U<d;U++){const $=o[U];for(let he=0;he<l;he++)1===$[he]&&a++}const p=r.getHeight()*r.getWidth();return Math.floor(10*Math.abs(2*a-p)/p)*z.N4}static getDataMaskBit(r,a,o){let l,d;switch(r){case 0:l=o+a&1;break;case 1:l=1&o;break;case 2:l=a%3;break;case 3:l=(o+a)%3;break;case 4:l=Math.floor(o/2)+Math.floor(a/3)&1;break;case 5:d=o*a,l=(1&d)+d%3;break;case 6:d=o*a,l=(1&d)+d%3&1;break;case 7:d=o*a,l=d%3+(o+a&1)&1;break;default:throw new A("Invalid mask pattern: "+r)}return 0===l}static applyMaskPenaltyRule1Internal(r,a){let o=0;const l=a?r.getHeight():r.getWidth(),d=a?r.getWidth():r.getHeight(),p=r.getArray();for(let C=0;C<l;C++){let U=0,$=-1;for(let he=0;he<d;he++){const Ie=a?p[C][he]:p[he][C];Ie===$?U++:(U>=5&&(o+=z.N1+(U-5)),U=1,$=Ie)}U>=5&&(o+=z.N1+(U-5))}return o}}return z.N1=3,z.N2=3,z.N3=40,z.N4=10,z})();class Ua{constructor(e,r){this.width=e,this.height=r;const a=new Array(r);for(let o=0;o!==r;o++)a[o]=new Uint8Array(e);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,a){this.bytes[r][e]=a}setBoolean(e,r,a){this.bytes[r][e]=a?1:0}clear(e){for(const r of this.bytes)W.fill(r,e)}equals(e){if(!(e instanceof Ua))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,o=this.height;a<o;++a){const l=this.bytes[a],d=r.bytes[a];for(let p=0,C=this.width;p<C;++p)if(l[p]!==d[p])return!1}return!0}toString(){const e=new G;for(let r=0,a=this.height;r<a;++r){const o=this.bytes[r];for(let l=0,d=this.width;l<d;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}let Fa=(()=>{class z{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new G;return r.append("<<\n"),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append("\n ecLevel: "),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append("\n version: "),r.append(this.version?this.version.toString():"null"),r.append("\n maskPattern: "),r.append(this.maskPattern.toString()),this.matrix?(r.append("\n matrix:\n"),r.append(this.matrix.toString())):r.append("\n matrix: null\n"),r.append(">>\n"),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<z.NUM_MASK_PATTERNS}}return z.NUM_MASK_PATTERNS=8,z})(),_n=(()=>{class z extends B{}return z.kind="WriterException",z})();class kr{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,a,o,l){kr.clearMatrix(l),kr.embedBasicPatterns(a,l),kr.embedTypeInfo(r,o,l),kr.maybeEmbedVersionInfo(a,l),kr.embedDataBits(e,o,l)}static embedBasicPatterns(e,r){kr.embedPositionDetectionPatternsAndSeparators(r),kr.embedDarkDotAtLeftBottomCorner(r),kr.maybeEmbedPositionAdjustmentPatterns(e,r),kr.embedTimingPatterns(r)}static embedTypeInfo(e,r,a){const o=new K;kr.makeTypeInfoBits(e,r,o);for(let l=0,d=o.getSize();l<d;++l){const p=o.get(o.getSize()-1-l),C=kr.TYPE_INFO_COORDINATES[l];if(a.setBoolean(C[0],C[1],p),l<8){const he=a.getWidth()-l-1;a.setBoolean(he,8,p)}else{const Ie=a.getHeight()-7+(l-8);a.setBoolean(8,Ie,p)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const a=new K;kr.makeVersionInfoBits(e,a);let o=17;for(let l=0;l<6;++l)for(let d=0;d<3;++d){const p=a.get(o);o--,r.setBoolean(l,r.getHeight()-11+d,p),r.setBoolean(r.getHeight()-11+d,l,p)}}static embedDataBits(e,r,a){let o=0,l=-1,d=a.getWidth()-1,p=a.getHeight()-1;for(;d>0;){for(6===d&&(d-=1);p>=0&&p<a.getHeight();){for(let C=0;C<2;++C){const U=d-C;if(!kr.isEmpty(a.get(U,p)))continue;let $;o<e.getSize()?($=e.get(o),++o):$=!1,255!==r&&la.getDataMaskBit(r,U,p)&&($=!$),a.setBoolean(U,p,$)}p+=l}l=-l,p+=l,d-=2}if(o!==e.getSize())throw new _n("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-P.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(0===r)throw new A("0 polynomial");const a=kr.findMSBSet(r);for(e<<=a-1;kr.findMSBSet(e)>=a;)e^=r<<kr.findMSBSet(e)-a;return e}static makeTypeInfoBits(e,r,a){if(!Fa.isValidMaskPattern(r))throw new _n("Invalid mask pattern");const o=e.getBits()<<3|r;a.appendBits(o,5);const l=kr.calculateBCHCode(o,kr.TYPE_INFO_POLY);a.appendBits(l,10);const d=new K;if(d.appendBits(kr.TYPE_INFO_MASK_PATTERN,15),a.xor(d),15!==a.getSize())throw new _n("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const a=kr.calculateBCHCode(e.getVersionNumber(),kr.VERSION_INFO_POLY);if(r.appendBits(a,12),18!==r.getSize())throw new _n("should not happen but we got: "+r.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const a=(r+1)%2;kr.isEmpty(e.get(r,6))&&e.setNumber(r,6,a),kr.isEmpty(e.get(6,r))&&e.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new _n;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,a){for(let o=0;o<8;++o){if(!kr.isEmpty(a.get(e+o,r)))throw new _n;a.setNumber(e+o,r,0)}}static embedVerticalSeparationPattern(e,r,a){for(let o=0;o<7;++o){if(!kr.isEmpty(a.get(e,r+o)))throw new _n;a.setNumber(e,r+o,0)}}static embedPositionAdjustmentPattern(e,r,a){for(let o=0;o<5;++o){const l=kr.POSITION_ADJUSTMENT_PATTERN[o];for(let d=0;d<5;++d)a.setNumber(e+d,r+o,l[d])}}static embedPositionDetectionPattern(e,r,a){for(let o=0;o<7;++o){const l=kr.POSITION_DETECTION_PATTERN[o];for(let d=0;d<7;++d)a.setNumber(e+d,r+o,l[d])}}static embedPositionDetectionPatternsAndSeparators(e){const r=kr.POSITION_DETECTION_PATTERN[0].length;kr.embedPositionDetectionPattern(0,0,e),kr.embedPositionDetectionPattern(e.getWidth()-r,0,e),kr.embedPositionDetectionPattern(0,e.getWidth()-r,e);kr.embedHorizontalSeparationPattern(0,7,e),kr.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),kr.embedHorizontalSeparationPattern(0,e.getWidth()-8,e);kr.embedVerticalSeparationPattern(7,0,e),kr.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),kr.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const a=e.getVersionNumber()-1,o=kr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let l=0,d=o.length;l!==d;l++){const p=o[l];if(p>=0)for(let C=0;C!==d;C++){const U=o[C];U>=0&&kr.isEmpty(r.get(U,p))&&kr.embedPositionAdjustmentPattern(U-2,p-2,r)}}}}kr.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),kr.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),kr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),kr.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),kr.VERSION_INFO_POLY=7973,kr.TYPE_INFO_POLY=1335,kr.TYPE_INFO_MASK_PATTERN=21522;class ds{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Cn{constructor(){}static calculateMaskPenalty(e){return la.applyMaskPenaltyRule1(e)+la.applyMaskPenaltyRule2(e)+la.applyMaskPenaltyRule3(e)+la.applyMaskPenaltyRule4(e)}static encode(e,r,a=null){let o=Cn.DEFAULT_BYTE_MODE_ENCODING;const l=null!==a&&void 0!==a.get(Yn.CHARACTER_SET);l&&(o=a.get(Yn.CHARACTER_SET).toString());const d=this.chooseMode(e,o),p=new K;if(d===Ir.BYTE&&(l||Cn.DEFAULT_BYTE_MODE_ENCODING!==o)){const or=j.getCharacterSetECIByName(o);void 0!==or&&this.appendECI(or,p)}this.appendModeInfo(d,p);const C=new K;let U;if(this.appendBytes(e,d,C,o),null!==a&&void 0!==a.get(Yn.QR_VERSION)){const or=Number.parseInt(a.get(Yn.QR_VERSION).toString(),10);U=fr.getVersionForNumber(or);const Nt=this.calculateBitsNeeded(d,p,C,U);if(!this.willFit(Nt,U,r))throw new _n("Data too big for requested version")}else U=this.recommendVersion(r,d,p,C);const $=new K;$.appendBitArray(p);const he=d===Ir.BYTE?C.getSizeInBytes():e.length;this.appendLengthInfo(he,U,d,$),$.appendBitArray(C);const Ie=U.getECBlocksForLevel(r),De=U.getTotalCodewords()-Ie.getTotalECCodewords();this.terminateBits(De,$);const Qe=this.interleaveWithECBytes($,U.getTotalCodewords(),De,Ie.getNumBlocks()),rt=new Fa;rt.setECLevel(r),rt.setMode(d),rt.setVersion(U);const pt=U.getDimensionForVersion(),Et=new Ua(pt,pt),zt=this.chooseMaskPattern(Qe,r,U,Et);return rt.setMaskPattern(zt),kr.buildMatrix(Qe,r,U,zt,Et),rt.setMatrix(Et),rt}static recommendVersion(e,r,a,o){const l=this.calculateBitsNeeded(r,a,o,fr.getVersionForNumber(1)),d=this.chooseVersion(l,e),p=this.calculateBitsNeeded(r,a,o,d);return this.chooseVersion(p,e)}static calculateBitsNeeded(e,r,a,o){return r.getSize()+e.getCharacterCountBits(o)+a.getSize()}static getAlphanumericCode(e){return e<Cn.ALPHANUMERIC_TABLE.length?Cn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(j.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ir.KANJI;let a=!1,o=!1;for(let l=0,d=e.length;l<d;++l){const p=e.charAt(l);if(Cn.isDigit(p))a=!0;else{if(-1===this.getAlphanumericCode(p.charCodeAt(0)))return Ir.BYTE;o=!0}}return o?Ir.ALPHANUMERIC:a?Ir.NUMERIC:Ir.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=O.encode(e,j.SJIS)}catch{return!1}const a=r.length;if(a%2!=0)return!1;for(let o=0;o<a;o+=2){const l=255&r[o];if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,r,a,o){let l=Number.MAX_SAFE_INTEGER,d=-1;for(let p=0;p<Fa.NUM_MASK_PATTERNS;p++){kr.buildMatrix(e,r,a,p,o);let C=this.calculateMaskPenalty(o);C<l&&(l=C,d=p)}return d}static chooseVersion(e,r){for(let a=1;a<=40;a++){const o=fr.getVersionForNumber(a);if(Cn.willFit(e,o,r))return o}throw new _n("Data too big")}static willFit(e,r,a){return r.getTotalCodewords()-r.getECBlocksForLevel(a).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,r){const a=8*e;if(r.getSize()>a)throw new _n("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let d=0;d<4&&r.getSize()<a;++d)r.appendBit(!1);const o=7&r.getSize();if(o>0)for(let d=o;d<8;d++)r.appendBit(!1);const l=e-r.getSizeInBytes();for(let d=0;d<l;++d)r.appendBits(0==(1&d)?236:17,8);if(r.getSize()!==a)throw new _n("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,a,o,l,d){if(o>=a)throw new _n("Block ID too large");const p=e%a,C=a-p,U=Math.floor(e/a),$=U+1,he=Math.floor(r/a),Ie=he+1,De=U-he,Qe=$-Ie;if(De!==Qe)throw new _n("EC bytes mismatch");if(a!==C+p)throw new _n("RS blocks mismatch");if(e!==(he+De)*C+(Ie+Qe)*p)throw new _n("Total bytes mismatch");o<C?(l[0]=he,d[0]=De):(l[0]=Ie,d[0]=Qe)}static interleaveWithECBytes(e,r,a,o){if(e.getSizeInBytes()!==a)throw new _n("Number of bits and data bytes does not match");let l=0,d=0,p=0;const C=new Array;for(let $=0;$<o;++$){const he=new Int32Array(1),Ie=new Int32Array(1);Cn.getNumDataBytesAndNumECBytesForBlockID(r,a,o,$,he,Ie);const De=he[0],Qe=new Uint8Array(De);e.toBytes(8*l,Qe,0,De);const rt=Cn.generateECBytes(Qe,Ie[0]);C.push(new ds(Qe,rt)),d=Math.max(d,De),p=Math.max(p,rt.length),l+=he[0]}if(a!==l)throw new _n("Data bytes does not match offset");const U=new K;for(let $=0;$<d;++$)for(const he of C){const Ie=he.getDataBytes();$<Ie.length&&U.appendBits(Ie[$],8)}for(let $=0;$<p;++$)for(const he of C){const Ie=he.getErrorCorrectionBytes();$<Ie.length&&U.appendBits(Ie[$],8)}if(r!==U.getSizeInBytes())throw new _n("Interleaving error: "+r+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(e,r){const a=e.length,o=new Int32Array(a+r);for(let d=0;d<a;d++)o[d]=255&e[d];new hs(et.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let d=0;d<r;d++)l[d]=o[a+d];return l}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,a,o){const l=a.getCharacterCountBits(r);if(e>=1<<l)throw new _n(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,r,a,o){switch(r){case Ir.NUMERIC:Cn.appendNumericBytes(e,a);break;case Ir.ALPHANUMERIC:Cn.appendAlphanumericBytes(e,a);break;case Ir.BYTE:Cn.append8BitBytes(e,a,o);break;case Ir.KANJI:Cn.appendKanjiBytes(e,a);break;default:throw new _n("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Cn.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const a=e.length;let o=0;for(;o<a;){const l=Cn.getDigit(e.charAt(o));if(o+2<a){const d=Cn.getDigit(e.charAt(o+1)),p=Cn.getDigit(e.charAt(o+2));r.appendBits(100*l+10*d+p,10),o+=3}else if(o+1<a){const d=Cn.getDigit(e.charAt(o+1));r.appendBits(10*l+d,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(e,r){const a=e.length;let o=0;for(;o<a;){const l=Cn.getAlphanumericCode(e.charCodeAt(o));if(-1===l)throw new _n;if(o+1<a){const d=Cn.getAlphanumericCode(e.charCodeAt(o+1));if(-1===d)throw new _n;r.appendBits(45*l+d,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(e,r,a){let o;try{o=O.encode(e,a)}catch(l){throw new _n(l)}for(let l=0,d=o.length;l!==d;l++)r.appendBits(o[l],8)}static appendKanjiBytes(e,r){let a;try{a=O.encode(e,j.SJIS)}catch(l){throw new _n(l)}const o=a.length;for(let l=0;l<o;l+=2){const C=(255&a[l])<<8&4294967295|255&a[l+1];let U=-1;if(C>=33088&&C<=40956?U=C-33088:C>=57408&&C<=60351&&(U=C-49472),-1===U)throw new _n("Invalid byte sequence");r.appendBits(192*(U>>8)+(255&U),13)}}static appendECI(e,r){r.appendBits(Ir.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Cn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Cn.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();let ii=(()=>{class z{write(r,a,o,l=null){if(0===r.length)throw new A("Found empty contents");if(a<0||o<0)throw new A("Requested dimensions are too small: "+a+"x"+o);let d=Kt.L,p=z.QUIET_ZONE_SIZE;null!==l&&(void 0!==l.get(Yn.ERROR_CORRECTION)&&(d=Kt.fromString(l.get(Yn.ERROR_CORRECTION).toString())),void 0!==l.get(Yn.MARGIN)&&(p=Number.parseInt(l.get(Yn.MARGIN).toString(),10)));const C=Cn.encode(r,d,l);return this.renderResult(C,a,o,p)}writeToDom(r,a,o,l,d=null){"string"==typeof r&&(r=document.querySelector(r));const p=this.write(a,o,l,d);r&&r.appendChild(p)}renderResult(r,a,o,l){const d=r.getMatrix();if(null===d)throw new X;const p=d.getWidth(),C=d.getHeight(),U=p+2*l,$=C+2*l,he=Math.max(a,U),Ie=Math.max(o,$),De=Math.min(Math.floor(he/U),Math.floor(Ie/$)),Qe=Math.floor((he-p*De)/2),rt=Math.floor((Ie-C*De)/2),pt=this.createSVGElement(he,Ie);for(let Et=0,zt=rt;Et<C;Et++,zt+=De)for(let or=0,Nt=Qe;or<p;or++,Nt+=De)if(1===d.get(or,Et)){const Wr=this.createSvgRectElement(Nt,zt,De,De);pt.appendChild(Wr)}return pt}createSVGElement(r,a){const o=document.createElementNS(z.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",a.toString()),o}createSvgRectElement(r,a,o,l){const d=document.createElementNS(z.SVG_NS,"rect");return d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",l.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return z.QUIET_ZONE_SIZE=4,z.SVG_NS="http://www.w3.org/2000/svg",z})(),ti=(()=>{class z{encode(r,a,o,l,d){if(0===r.length)throw new A("Found empty contents");if(a!==Je.QR_CODE)throw new A("Can only encode QR_CODE, but got "+a);if(o<0||l<0)throw new A(`Requested dimensions are too small: ${o}x${l}`);let p=Kt.L,C=z.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(Yn.ERROR_CORRECTION)&&(p=Kt.fromString(d.get(Yn.ERROR_CORRECTION).toString())),void 0!==d.get(Yn.MARGIN)&&(C=Number.parseInt(d.get(Yn.MARGIN).toString(),10)));const U=Cn.encode(r,p,d);return z.renderResult(U,o,l,C)}static renderResult(r,a,o,l){const d=r.getMatrix();if(null===d)throw new X;const p=d.getWidth(),C=d.getHeight(),U=p+2*l,$=C+2*l,he=Math.max(a,U),Ie=Math.max(o,$),De=Math.min(Math.floor(he/U),Math.floor(Ie/$)),Qe=Math.floor((he-p*De)/2),rt=Math.floor((Ie-C*De)/2),pt=new g(he,Ie);for(let Et=0,zt=rt;Et<C;Et++,zt+=De)for(let or=0,Nt=Qe;or<p;or++,Nt+=De)1===d.get(or,Et)&&pt.setRegion(Nt,zt,De,De);return pt}}return z.QUIET_ZONE_SIZE=4,z})();let si=(()=>{class z extends xe{constructor(r,a,o,l,d,p,C,U){if(super(p,C),this.yuvData=r,this.dataWidth=a,this.dataHeight=o,this.left=l,this.top=d,l+p>a||d+C>o)throw new A("Crop rectangle does not fit within image data.");U&&this.reverseHorizontal(p,C)}getRow(r,a){if(r<0||r>=this.getHeight())throw new A("Requested row is outside the image: "+r);const o=this.getWidth();return(null==a||a.length<o)&&(a=new Uint8ClampedArray(o)),J.arraycopy(this.yuvData,(r+this.top)*this.dataWidth+this.left,a,0,o),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.yuvData;const o=r*a,l=new Uint8ClampedArray(o);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return J.arraycopy(this.yuvData,d,l,0,o),l;for(let p=0;p<a;p++)J.arraycopy(this.yuvData,d,l,p*r,r),d+=this.dataWidth;return l}isCropSupported(){return!0}crop(r,a,o,l){return new z(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+a,o,l,!1)}renderThumbnail(){const r=this.getWidth()/z.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/z.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*a),l=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let p=0;p<a;p++){const C=p*r;for(let U=0;U<r;U++)o[C+U]=4278190080|65793*(255&l[d+U*z.THUMBNAIL_SCALE_FACTOR]);d+=this.dataWidth*z.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/z.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/z.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,a){const o=this.yuvData;for(let l=0,d=this.top*this.dataWidth+this.left;l<a;l++,d+=this.dataWidth){const p=d+r/2;for(let C=d,U=d+r-1;C<p;C++,U--){const $=o[C];o[C]=o[U],o[U]=$}}}invert(){return new Be(this)}}return z.THUMBNAIL_SCALE_FACTOR=2,z})();class gs extends xe{constructor(e,r,a,o,l,d,p){if(super(r,a),this.dataWidth=o,this.dataHeight=l,this.left=d,this.top=p,4===e.BYTES_PER_ELEMENT){const C=r*a,U=new Uint8ClampedArray(C);for(let $=0;$<C;$++){const he=e[$];U[$]=((he>>16&255)+(he>>7&510)+(255&he))/4&255}this.luminances=U}else this.luminances=e;if(void 0===o&&(this.dataWidth=r),void 0===l&&(this.dataHeight=a),void 0===d&&(this.left=0),void 0===p&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const a=this.getWidth();return(null==r||r.length<a)&&(r=new Uint8ClampedArray(a)),J.arraycopy(this.luminances,(e+this.top)*this.dataWidth+this.left,r,0,a),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=e*r,o=new Uint8ClampedArray(a);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.luminances,l,o,0,a),o;for(let d=0;d<r;d++)J.arraycopy(this.luminances,l,o,d*e,e),l+=this.dataWidth;return o}isCropSupported(){return!0}crop(e,r,a,o){return new gs(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new Be(this)}}class ps extends j{static forName(e){return this.getCharacterSetECIByName(e)}}class ys{}ys.ISO_8859_1=j.ISO8859_1;class Mi{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ta{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class ua extends class Ka{constructor(e){this.previous=e}getPrevious(){return this.previous}}{constructor(e,r,a){super(e),this.value=r,this.bitCount=a}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new ua(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ua(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+P.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Oi extends ua{constructor(e,r,a){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(e,r){for(let a=0;a<this.binaryShiftByteCount;a++)(0===a||31===a&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):e.appendBits(0===a?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(e,r){return new Oi(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fa(z,e,r){return new ua(z,e,r)}const ra=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ms=new ua(null,0,0),Si=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const za=function vs(z){for(let e of z)W.fill(e,-1);return z[0][4]=0,z[1][4]=0,z[1][0]=28,z[3][4]=0,z[2][4]=0,z[2][0]=15,z}(W.createInt32Array(6,6));class Ti{constructor(e,r,a,o){this.token=e,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let a=this.bitCount,o=this.token;if(e!==this.mode){let d=Si[this.mode][e];o=fa(o,65535&d,d>>16),a+=d>>16}let l=2===e?4:5;return o=fa(o,r,l),new Ti(o,e,0,a+l)}shiftAndAppend(e,r){let a=this.token,o=2===this.mode?4:5;return a=fa(a,za[this.mode][e],o),a=fa(a,r,5),new Ti(a,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let r=this.token,a=this.mode,o=this.bitCount;if(4===this.mode||2===this.mode){let p=Si[a][0];r=fa(r,65535&p,p>>16),o+=p>>16,a=0}let d=new Ti(r,a,this.binaryShiftByteCount+1,o+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===d.binaryShiftByteCount&&(d=d.endBinaryShift(e+1)),d}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let r=this.token;return r=function Va(z,e,r){return new Oi(z,e,r)}(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ti(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(Si[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Ti.calculateBinaryShiftCost(e)-Ti.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let o=this.endBinaryShift(e.length).token;null!==o;o=o.getPrevious())r.unshift(o);let a=new K;for(const o of r)o.appendTo(a,e);return a}toString(){return N.format("%s bits=%d bytes=%d",ra[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Ti.INITIAL_STATE=new Ti(ms,0,0,0);const _a=function Ws(z){const e=N.getCharCode(" "),r=N.getCharCode("."),a=N.getCharCode(",");z[0][e]=1;const o=N.getCharCode("Z"),l=N.getCharCode("A");for(let Ie=l;Ie<=o;Ie++)z[0][Ie]=Ie-l+2;z[1][e]=1;const d=N.getCharCode("z"),p=N.getCharCode("a");for(let Ie=p;Ie<=d;Ie++)z[1][Ie]=Ie-p+2;z[2][e]=1;const C=N.getCharCode("9"),U=N.getCharCode("0");for(let Ie=U;Ie<=C;Ie++)z[2][Ie]=Ie-U+2;z[2][a]=12,z[2][r]=13;const $=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let Ie=0;Ie<$.length;Ie++)z[3][N.getCharCode($[Ie])]=Ie;const he=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Ie=0;Ie<he.length;Ie++)N.getCharCode(he[Ie])>0&&(z[4][N.getCharCode(he[Ie])]=Ie);return z}(W.createInt32Array(5,256));class ha{constructor(e){this.text=e}encode(){const e=N.getCharCode(" "),r=N.getCharCode("\n");let a=Ta.singletonList(Ti.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let d,p=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case N.getCharCode("\r"):d=p===r?2:0;break;case N.getCharCode("."):d=p===e?3:0;break;case N.getCharCode(","):d=p===e?4:0;break;case N.getCharCode(":"):d=p===e?5:0;break;default:d=0}d>0?(a=ha.updateStateListForPair(a,l,d),l++):a=this.updateStateListForChar(a,l)}return Ta.min(a,(l,d)=>l.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const a=[];for(let o of e)this.updateStateForChar(o,r,a);return ha.simplifyStates(a)}updateStateForChar(e,r,a){let o=255&this.text[r],l=_a[e.getMode()][o]>0,d=null;for(let p=0;p<=4;p++){let C=_a[p][o];if(C>0){if(null==d&&(d=e.endBinaryShift(r)),!l||p===e.getMode()||2===p){const U=d.latchAndAppend(p,C);a.push(U)}if(!l&&za[e.getMode()][p]>=0){const U=d.shiftAndAppend(p,C);a.push(U)}}}if(e.getBinaryShiftByteCount()>0||0===_a[e.getMode()][o]){let p=e.addBinaryShiftChar(r);a.push(p)}}static updateStateListForPair(e,r,a){const o=[];for(let l of e)this.updateStateForPair(l,r,a,o);return this.simplifyStates(o)}static updateStateForPair(e,r,a,o){let l=e.endBinaryShift(r);if(o.push(l.latchAndAppend(4,a)),4!==e.getMode()&&o.push(l.shiftAndAppend(4,a)),3===a||4===a){let d=l.latchAndAppend(2,16-a).latchAndAppend(2,1);o.push(d)}if(e.getBinaryShiftByteCount()>0){let d=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(d)}}static simplifyStates(e){let r=[];for(const a of e){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(a)){o=!1;break}a.isBetterThanOrEqualTo(l)&&(r=r.filter(d=>d!==l))}o&&r.push(a)}return r}}class $r{constructor(){}static encodeBytes(e){return $r.encode(e,$r.DEFAULT_EC_PERCENT,$r.DEFAULT_AZTEC_LAYERS)}static encode(e,r,a){let p,C,U,$,he,o=new ha(e).encode(),l=P.truncDivision(o.getSize()*r,100)+11,d=o.getSize()+l;if(a!==$r.DEFAULT_AZTEC_LAYERS){if(p=a<0,C=Math.abs(a),C>(p?$r.MAX_NB_BITS_COMPACT:$r.MAX_NB_BITS))throw new A(N.format("Illegal value %s for layers",a));U=$r.totalBitsInLayer(C,p),$=$r.WORD_SIZE[C];let Nt=U-U%$;if(he=$r.stuffBits(o,$),he.getSize()+l>Nt)throw new A("Data to large for user specified layer");if(p&&he.getSize()>64*$)throw new A("Data to large for user specified layer")}else{$=0,he=null;for(let Nt=0;;Nt++){if(Nt>$r.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(p=Nt<=3,C=p?Nt+1:Nt,U=$r.totalBitsInLayer(C,p),d>U)continue;(null==he||$!==$r.WORD_SIZE[C])&&($=$r.WORD_SIZE[C],he=$r.stuffBits(o,$));let Wr=U-U%$;if(!(p&&he.getSize()>64*$)&&he.getSize()+l<=Wr)break}}let Et,Ie=$r.generateCheckWords(he,U,$),De=he.getSize()/$,Qe=$r.generateModeMessage(p,C,De),rt=(p?11:14)+4*C,pt=new Int32Array(rt);if(p){Et=rt;for(let Nt=0;Nt<pt.length;Nt++)pt[Nt]=Nt}else{Et=rt+1+2*P.truncDivision(P.truncDivision(rt,2)-1,15);let Nt=P.truncDivision(rt,2),Wr=P.truncDivision(Et,2);for(let Or=0;Or<Nt;Or++){let fi=Or+P.truncDivision(Or,15);pt[Nt-Or-1]=Wr-fi-1,pt[Nt+Or]=Wr+fi+1}}let zt=new g(Et);for(let Nt=0,Wr=0;Nt<C;Nt++){let Or=4*(C-Nt)+(p?9:12);for(let fi=0;fi<Or;fi++){let yi=2*fi;for(let xi=0;xi<2;xi++)Ie.get(Wr+yi+xi)&&zt.set(pt[2*Nt+xi],pt[2*Nt+fi]),Ie.get(Wr+2*Or+yi+xi)&&zt.set(pt[2*Nt+fi],pt[rt-1-2*Nt-xi]),Ie.get(Wr+4*Or+yi+xi)&&zt.set(pt[rt-1-2*Nt-xi],pt[rt-1-2*Nt-fi]),Ie.get(Wr+6*Or+yi+xi)&&zt.set(pt[rt-1-2*Nt-fi],pt[2*Nt+xi])}Wr+=8*Or}if($r.drawModeMessage(zt,p,Et,Qe),p)$r.drawBullsEye(zt,P.truncDivision(Et,2),5);else{$r.drawBullsEye(zt,P.truncDivision(Et,2),7);for(let Nt=0,Wr=0;Nt<P.truncDivision(rt,2)-1;Nt+=15,Wr+=16)for(let Or=1&P.truncDivision(Et,2);Or<Et;Or+=2)zt.set(P.truncDivision(Et,2)-Wr,Or),zt.set(P.truncDivision(Et,2)+Wr,Or),zt.set(Or,P.truncDivision(Et,2)-Wr),zt.set(Or,P.truncDivision(Et,2)+Wr)}let or=new Mi;return or.setCompact(p),or.setSize(Et),or.setLayers(C),or.setCodeWords(De),or.setMatrix(zt),or}static drawBullsEye(e,r,a){for(let o=0;o<a;o+=2)for(let l=r-o;l<=r+o;l++)e.set(l,r-o),e.set(l,r+o),e.set(r-o,l),e.set(r+o,l);e.set(r-a,r-a),e.set(r-a+1,r-a),e.set(r-a,r-a+1),e.set(r+a,r-a),e.set(r+a,r-a+1),e.set(r+a,r+a-1)}static generateModeMessage(e,r,a){let o=new K;return e?(o.appendBits(r-1,2),o.appendBits(a-1,6),o=$r.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(a-1,11),o=$r.generateCheckWords(o,40,4)),o}static drawModeMessage(e,r,a,o){let l=P.truncDivision(a,2);if(r)for(let d=0;d<7;d++){let p=l-3+d;o.get(d)&&e.set(p,l-5),o.get(d+7)&&e.set(l+5,p),o.get(20-d)&&e.set(p,l+5),o.get(27-d)&&e.set(l-5,p)}else for(let d=0;d<10;d++){let p=l-5+d+P.truncDivision(d,5);o.get(d)&&e.set(p,l-7),o.get(d+10)&&e.set(l+7,p),o.get(29-d)&&e.set(p,l+7),o.get(39-d)&&e.set(l-7,p)}}static generateCheckWords(e,r,a){let o=e.getSize()/a,l=new hs($r.getGF(a)),d=P.truncDivision(r,a),p=$r.bitsToWords(e,a,d);l.encode(p,d-o);let C=r%a,U=new K;U.appendBits(0,C);for(const $ of Array.from(p))U.appendBits($,a);return U}static bitsToWords(e,r,a){let l,d,o=new Int32Array(a);for(l=0,d=e.getSize()/r;l<d;l++){let p=0;for(let C=0;C<r;C++)p|=e.get(l*r+C)?1<<r-C-1:0;o[l]=p}return o}static getGF(e){switch(e){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,r){let a=new K,o=e.getSize(),l=(1<<r)-2;for(let d=0;d<o;d+=r){let p=0;for(let C=0;C<r;C++)(d+C>=o||e.get(d+C))&&(p|=1<<r-1-C);(p&l)===l?(a.appendBits(p&l,r),d--):0==(p&l)?(a.appendBits(1|p,r),d--):a.appendBits(p,r)}return a}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}$r.DEFAULT_EC_PERCENT=33,$r.DEFAULT_AZTEC_LAYERS=0,$r.MAX_NB_BITS=32,$r.MAX_NB_BITS_COMPACT=4,$r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ha{encode(e,r,a,o){return this.encodeWithHints(e,r,a,o,null)}encodeWithHints(e,r,a,o,l){let d=ys.ISO_8859_1,p=$r.DEFAULT_EC_PERCENT,C=$r.DEFAULT_AZTEC_LAYERS;return null!=l&&(l.has(Yn.CHARACTER_SET)&&(d=ps.forName(l.get(Yn.CHARACTER_SET).toString())),l.has(Yn.ERROR_CORRECTION)&&(p=P.parseInt(l.get(Yn.ERROR_CORRECTION).toString())),l.has(Yn.AZTEC_LAYERS)&&(C=P.parseInt(l.get(Yn.AZTEC_LAYERS).toString()))),Ha.encodeLayers(e,r,a,o,d,p,C)}static encodeLayers(e,r,a,o,l,d,p){if(r!==Je.AZTEC)throw new A("Can only encode AZTEC, but got "+r);let C=$r.encode(N.getBytes(e,l),d,p);return Ha.renderResult(C,a,o)}static renderResult(e,r,a){let o=e.getMatrix();if(null==o)throw new X;let l=o.getWidth(),d=o.getHeight(),p=Math.max(r,l),C=Math.max(a,d),U=Math.min(p/l,C/d),$=(p-l*U)/2,he=(C-d*U)/2,Ie=new g(p,C);for(let De=0,Qe=he;De<d;De++,Qe+=U)for(let rt=0,pt=$;rt<l;rt++,pt+=U)o.get(rt,De)&&Ie.setRegion(pt,Qe,U,U);return Ie}}H.ArgumentException=T,H.ArithmeticException=sr,H.AztecCode=Mi,H.AztecCodeReader=on,H.AztecCodeWriter=Ha,H.AztecDecoder=Le,H.AztecDetector=Mt,H.AztecDetectorResult=ar,H.AztecEncoder=$r,H.AztecHighLevelEncoder=ha,H.AztecPoint=te,H.BarcodeFormat=Je,H.Binarizer=M,H.BinaryBitmap=x,H.BitArray=K,H.BitMatrix=g,H.BitSource=On,H.BrowserAztecCodeReader=class qr extends Ue{constructor(e=500){super(new on,e)}},H.BrowserBarcodeReader=class Ut extends Ue{constructor(e=500,r){super(new Vt(r),e,r)}},H.BrowserCodeReader=Ue,H.BrowserDatamatrixCodeReader=class Ft extends Ue{constructor(e=500){super(new at,e)}},H.BrowserMultiFormatReader=class Zs extends Ue{constructor(e=null,r=500){const a=new fs;a.setHints(e),super(a,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}},H.BrowserPDF417Reader=class Ii extends Ue{constructor(e=500){super(new $n,e)}},H.BrowserQRCodeReader=class js extends Ue{constructor(e=500){super(new ei,e)}},H.BrowserQRCodeSvgWriter=ii,H.CharacterSetECI=j,H.ChecksumException=I,H.Code128Reader=kt,H.Code39Reader=Yr,H.DataMatrixDecodedBitStreamParser=fe,H.DataMatrixReader=at,H.DecodeHintType=S,H.DecoderResult=gr,H.DefaultGridSampler=yr,H.DetectorResult=Ot,H.EAN13Reader=Gn,H.EncodeHintType=Yn,H.Exception=B,H.FormatException=_,H.GenericGF=et,H.GenericGFPoly=xr,H.GlobalHistogramBinarizer=ae,H.GridSampler=Bt,H.GridSamplerInstance=Sr,H.HTMLCanvasElementLuminanceSource=Ve,H.HybridBinarizer=re,H.ITFReader=Br,H.IllegalArgumentException=A,H.IllegalStateException=X,H.InvertedLuminanceSource=Be,H.LuminanceSource=xe,H.MathUtils=Xe,H.MultiFormatOneDReader=Vt,H.MultiFormatReader=fs,H.MultiFormatWriter=class ai{encode(e,r,a,o,l){let d;if(r!==Je.QR_CODE)throw new A("No encoder available for format "+r);return d=new ti,d.encode(e,r,a,o,l)}},H.NotFoundException=V,H.OneDReader=br,H.PDF417DecodedBitStreamParser=bt,H.PDF417DecoderErrorCorrection=Vs,H.PDF417Reader=$n,H.PDF417ResultMetadata=zs,H.PerspectiveTransform=Wt,H.PlanarYUVLuminanceSource=si,H.QRCodeByteMatrix=Ua,H.QRCodeDataMask=zn,H.QRCodeDecodedBitStreamParser=Ci,H.QRCodeDecoderErrorCorrectionLevel=Kt,H.QRCodeDecoderFormatInformation=Gt,H.QRCodeEncoder=Cn,H.QRCodeEncoderQRCode=Fa,H.QRCodeMaskUtil=la,H.QRCodeMatrixUtil=kr,H.QRCodeMode=Ir,H.QRCodeReader=ei,H.QRCodeVersion=fr,H.QRCodeWriter=ti,H.RGBLuminanceSource=gs,H.RSS14Reader=_t,H.RSSExpandedReader=Ce,H.ReaderException=ta,H.ReedSolomonDecoder=Z,H.ReedSolomonEncoder=hs,H.ReedSolomonException=gt,H.Result=qe,H.ResultMetadataType=ht,H.ResultPoint=Me,H.StringUtils=N,H.UnsupportedOperationException=ne,H.VideoInputDevice=nt,H.WhiteRectangleDetector=rr,H.WriterException=_n,H.ZXingArrays=W,H.ZXingCharset=ps,H.ZXingInteger=P,H.ZXingStandardCharsets=ys,H.ZXingStringBuilder=G,H.ZXingStringEncoding=O,H.ZXingSystem=J,Object.defineProperty(H,"__esModule",{value:!0})}(de)},1298:(tt,de,H)=>{var f=H(8659);function c(L,W){f.cipher.registerAlgorithm(L,function(){return new f.aes.Algorithm(L,W)})}H(3311),H(3481),H(4747),tt.exports=f.aes=f.aes||{},f.aes.startEncrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!1,mode:K});return E.start(W),E},f.aes.createEncryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!1,mode:W})},f.aes.startDecrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!0,mode:K});return E.start(W),E},f.aes.createDecryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!0,mode:W})},f.aes.Algorithm=function(L,W){v||I();var P=this;P.name=L,P.mode=new W({blockSize:16,cipher:{encrypt:function(K,E){return J(P._w,K,E,!1)},decrypt:function(K,E){return J(P._w,K,E,!0)}}}),P._init=!1},f.aes.Algorithm.prototype.initialize=function(L){if(!this._init){var P,W=L.key;if("string"!=typeof W||16!==W.length&&24!==W.length&&32!==W.length){if(f.util.isArray(W)&&(16===W.length||24===W.length||32===W.length)){P=W,W=f.util.createBuffer();for(var K=0;K<P.length;++K)W.putByte(P[K])}}else W=f.util.createBuffer(W);if(!f.util.isArray(W)){P=W,W=[];var E=P.length();if(16===E||24===E||32===E)for(E>>>=2,K=0;K<E;++K)W.push(P.getInt32())}if(!f.util.isArray(W)||4!==W.length&&6!==W.length&&8!==W.length)throw new Error("Invalid key parameter.");var _=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=M(W,L.decrypt&&!_),this._init=!0}},f.aes._expandKey=function(L,W){return v||I(),M(L,W)},f.aes._updateBlock=J,c("AES-ECB",f.cipher.modes.ecb),c("AES-CBC",f.cipher.modes.cbc),c("AES-CFB",f.cipher.modes.cfb),c("AES-OFB",f.cipher.modes.ofb),c("AES-CTR",f.cipher.modes.ctr),c("AES-GCM",f.cipher.modes.gcm);var F,B,T,A,x,v=!1;function I(){v=!0,T=[0,1,2,4,8,16,32,64,128,27,54];for(var L=new Array(256),W=0;W<128;++W)L[W]=W<<1,L[W+128]=W+128<<1^283;for(F=new Array(256),B=new Array(256),A=new Array(4),x=new Array(4),W=0;W<4;++W)A[W]=new Array(256),x[W]=new Array(256);var E,S,_,Q,j,ne,O,P=0,K=0;for(W=0;W<256;++W){F[P]=Q=(Q=K^K<<1^K<<2^K<<3^K<<4)>>8^255&Q^99,B[Q]=P,ne=(j=L[Q])<<24^Q<<16^Q<<8^Q^j,O=((E=L[P])^(S=L[E])^(_=L[S]))<<24^(P^_)<<16^(P^S^_)<<8^P^E^_;for(var N=0;N<4;++N)A[N][P]=ne,x[N][Q]=O,ne=ne<<24|ne>>>8,O=O<<24|O>>>8;0===P?P=K=1:(P=E^L[L[L[E^_]]],K^=L[L[K]])}}function M(L,W){for(var K,P=L.slice(0),E=1,S=P.length,Q=4*(S+6+1),j=S;j<Q;++j)K=P[j-1],j%S==0?(K=F[K>>>16&255]<<24^F[K>>>8&255]<<16^F[255&K]<<8^F[K>>>24]^T[E]<<24,E++):S>6&&j%S==4&&(K=F[K>>>24]<<24^F[K>>>16&255]<<16^F[K>>>8&255]<<8^F[255&K]),P[j]=P[j-S]^K;if(W){for(var ne,O=x[0],N=x[1],G=x[2],g=x[3],V=P.slice(0),ae=(j=0,(Q=P.length)-4);j<Q;j+=4,ae-=4)if(0===j||j===Q-4)V[j]=P[ae],V[j+1]=P[ae+3],V[j+2]=P[ae+2],V[j+3]=P[ae+1];else for(var re=0;re<4;++re)V[j+(3&-re)]=O[F[(ne=P[ae+re])>>>24]]^N[F[ne>>>16&255]]^G[F[ne>>>8&255]]^g[F[255&ne]];P=V}return P}function J(L,W,P,K){var S,_,Q,j,ne,O,N,G,g,V,ae,re,E=L.length/4-1;K?(S=x[0],_=x[1],Q=x[2],j=x[3],ne=B):(S=A[0],_=A[1],Q=A[2],j=A[3],ne=F),O=W[0]^L[0],N=W[K?3:1]^L[1],G=W[2]^L[2],g=W[K?1:3]^L[3];for(var xe=3,Be=1;Be<E;++Be)V=S[O>>>24]^_[N>>>16&255]^Q[G>>>8&255]^j[255&g]^L[++xe],ae=S[N>>>24]^_[G>>>16&255]^Q[g>>>8&255]^j[255&O]^L[++xe],re=S[G>>>24]^_[g>>>16&255]^Q[O>>>8&255]^j[255&N]^L[++xe],g=S[g>>>24]^_[O>>>16&255]^Q[N>>>8&255]^j[255&G]^L[++xe],O=V,N=ae,G=re;P[0]=ne[O>>>24]<<24^ne[N>>>16&255]<<16^ne[G>>>8&255]<<8^ne[255&g]^L[++xe],P[K?3:1]=ne[N>>>24]<<24^ne[G>>>16&255]<<16^ne[g>>>8&255]<<8^ne[255&O]^L[++xe],P[2]=ne[G>>>24]<<24^ne[g>>>16&255]<<16^ne[O>>>8&255]<<8^ne[255&N]^L[++xe],P[K?1:3]=ne[g>>>24]<<24^ne[O>>>16&255]<<16^ne[N>>>8&255]<<8^ne[255&G]^L[++xe]}function R(L){var K,P="AES-"+((L=L||{}).mode||"CBC").toUpperCase(),E=(K=L.decrypt?f.cipher.createDecipher(P,L.key):f.cipher.createCipher(P,L.key)).start;return K.start=function(S,_){var Q=null;_ instanceof f.util.ByteBuffer&&(Q=_,_={}),(_=_||{}).output=Q,_.iv=S,E.call(K,_)},K}},6683:(tt,de,H)=>{var f=H(8659);H(1298),H(2266);var c=tt.exports=f.tls;function v(x,I,M){var J=I.entity===f.tls.ConnectionEnd.client;x.read.cipherState={init:!1,cipher:f.cipher.createDecipher("AES-CBC",J?M.keys.server_write_key:M.keys.client_write_key),iv:J?M.keys.server_write_IV:M.keys.client_write_IV},x.write.cipherState={init:!1,cipher:f.cipher.createCipher("AES-CBC",J?M.keys.client_write_key:M.keys.server_write_key),iv:J?M.keys.client_write_IV:M.keys.server_write_IV},x.read.cipherFunction=T,x.write.cipherFunction=w,x.read.macLength=x.write.macLength=M.mac_length,x.read.macFunction=x.write.macFunction=c.hmac_sha1}function w(x,I){var R,M=!1,J=I.macFunction(I.macKey,I.sequenceNumber,x);x.fragment.putBytes(J),I.updateSequenceNumber(),R=x.version.minor===c.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:f.random.getBytesSync(16),I.cipherState.init=!0;var L=I.cipherState.cipher;return L.start({iv:R}),x.version.minor>=c.Versions.TLS_1_1.minor&&L.output.putBytes(R),L.update(x.fragment),L.finish(F)&&(x.fragment=L.output,x.length=x.fragment.length(),M=!0),M}function F(x,I,M){if(!M){var J=x-I.length()%x;I.fillWithByte(J-1,J)}return!0}function B(x,I,M){var J=!0;if(M){for(var R=I.length(),L=I.last(),W=R-1-L;W<R-1;++W)J=J&&I.at(W)==L;J&&I.truncate(L+1)}return J}function T(x,I){var J,M=!1;J=x.version.minor===c.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:x.fragment.getBytes(16),I.cipherState.init=!0;var R=I.cipherState.cipher;R.start({iv:J}),R.update(x.fragment),M=R.finish(B);var L=I.macLength,W=f.random.getBytesSync(L),P=R.output.length();P>=L?(x.fragment=R.output.getBytes(P-L),W=R.output.getBytes(L)):x.fragment=R.output.getBytes(),x.fragment=f.util.createBuffer(x.fragment),x.length=x.fragment.length();var K=I.macFunction(I.macKey,I.sequenceNumber,x);return I.updateSequenceNumber(),M=function A(x,I,M){var J=f.hmac.create();return J.start("SHA1",x),J.update(I),I=J.digest().getBytes(),J.start(null,null),J.update(M),I===(M=J.digest().getBytes())}(I.macKey,W,K)&&M,M}c.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(x){x.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes,x.cipher_type=c.CipherType.block,x.enc_key_length=16,x.block_length=16,x.fixed_iv_length=16,x.record_iv_length=16,x.mac_algorithm=c.MACAlgorithm.hmac_sha1,x.mac_length=20,x.mac_key_length=20},initConnectionState:v},c.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(x){x.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes,x.cipher_type=c.CipherType.block,x.enc_key_length=32,x.block_length=16,x.fixed_iv_length=16,x.record_iv_length=16,x.mac_algorithm=c.MACAlgorithm.hmac_sha1,x.mac_length=20,x.mac_key_length=20},initConnectionState:v}},8877:(tt,de,H)=>{var f=H(8659);H(7791);var c=f.asn1;de.privateKeyValidator={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},de.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7791:(tt,de,H)=>{var f=H(8659);H(4747),H(6078);var c=tt.exports=f.asn1=f.asn1||{};function v(T,A,x){if(x>A){var I=new Error("Too few bytes to parse DER.");throw I.available=T.length(),I.remaining=A,I.requested=x,I}}function F(T,A,x,I){var M;v(T,A,2);var J=T.getByte();A--;var R=192&J,L=31&J;M=T.length();var W=function(T,A){var x=T.getByte();if(A--,128!==x){var I;if(128&x){var J=127&x;v(T,A,J),I=T.getInt(J<<3)}else I=x;if(I<0)throw new Error("Negative length: "+I);return I}}(T,A);if(A-=M-T.length(),void 0!==W&&W>A){if(I.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=T.length(),P.remaining=A,P.requested=W,P}W=A}var K,E,S=32==(32&J);if(S)if(K=[],void 0===W)for(;;){if(v(T,A,2),T.bytes(2)===String.fromCharCode(0,0)){T.getBytes(2),A-=2;break}M=T.length(),K.push(F(T,A,x+1,I)),A-=M-T.length()}else for(;W>0;)M=T.length(),K.push(F(T,W,x+1,I)),A-=M-T.length(),W-=M-T.length();if(void 0===K&&R===c.Class.UNIVERSAL&&L===c.Type.BITSTRING&&(E=T.bytes(W)),void 0===K&&I.decodeBitStrings&&R===c.Class.UNIVERSAL&&L===c.Type.BITSTRING&&W>1){var _=T.read,Q=A,j=0;if(L===c.Type.BITSTRING&&(v(T,A,1),j=T.getByte(),A--),0===j)try{M=T.length();var O=F(T,A,x+1,{strict:!0,decodeBitStrings:!0}),N=M-T.length();A-=N,L==c.Type.BITSTRING&&N++;var G=O.tagClass;N===W&&(G===c.Class.UNIVERSAL||G===c.Class.CONTEXT_SPECIFIC)&&(K=[O])}catch{}void 0===K&&(T.read=_,A=Q)}if(void 0===K){if(void 0===W){if(I.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");W=A}if(L===c.Type.BMPSTRING)for(K="";W>0;W-=2)v(T,A,2),K+=String.fromCharCode(T.getInt16()),A-=2;else K=T.getBytes(W),A-=W}return c.create(R,L,S,K,void 0===E?null:{bitStringContents:E})}c.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},c.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},c.create=function(T,A,x,I,M){if(f.util.isArray(I)){for(var J=[],R=0;R<I.length;++R)void 0!==I[R]&&J.push(I[R]);I=J}var L={tagClass:T,type:A,constructed:x,composed:x||f.util.isArray(I),value:I};return M&&"bitStringContents"in M&&(L.bitStringContents=M.bitStringContents,L.original=c.copy(L)),L},c.copy=function(T,A){var x;if(f.util.isArray(T)){x=[];for(var I=0;I<T.length;++I)x.push(c.copy(T[I],A));return x}return"string"==typeof T?T:(x={tagClass:T.tagClass,type:T.type,constructed:T.constructed,composed:T.composed,value:c.copy(T.value,A)},A&&!A.excludeBitStringContents&&(x.bitStringContents=T.bitStringContents),x)},c.equals=function(T,A,x){if(f.util.isArray(T)){if(!f.util.isArray(A)||T.length!==A.length)return!1;for(var I=0;I<T.length;++I)if(!c.equals(T[I],A[I]))return!1;return!0}if(typeof T!=typeof A)return!1;if("string"==typeof T)return T===A;var M=T.tagClass===A.tagClass&&T.type===A.type&&T.constructed===A.constructed&&T.composed===A.composed&&c.equals(T.value,A.value);return x&&x.includeBitStringContents&&(M=M&&T.bitStringContents===A.bitStringContents),M},c.getBerValueLength=function(T){var A=T.getByte();if(128!==A)return 128&A?T.getInt((127&A)<<3):A},c.fromDer=function(T,A){void 0===A&&(A={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof A&&(A={strict:A,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in A||(A.strict=!0),"parseAllBytes"in A||(A.parseAllBytes=!0),"decodeBitStrings"in A||(A.decodeBitStrings=!0),"string"==typeof T&&(T=f.util.createBuffer(T));var x=T.length(),I=F(T,T.length(),0,A);if(A.parseAllBytes&&0!==T.length()){var M=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw M.byteCount=x,M.remaining=T.length(),M}return I},c.toDer=function(T){var A=f.util.createBuffer(),x=T.tagClass|T.type,I=f.util.createBuffer(),M=!1;if("bitStringContents"in T&&(M=!0,T.original&&(M=c.equals(T,T.original))),M)I.putBytes(T.bitStringContents);else if(T.composed){T.constructed?x|=32:I.putByte(0);for(var J=0;J<T.value.length;++J)void 0!==T.value[J]&&I.putBuffer(c.toDer(T.value[J]))}else if(T.type===c.Type.BMPSTRING)for(J=0;J<T.value.length;++J)I.putInt16(T.value.charCodeAt(J));else T.type===c.Type.INTEGER&&T.value.length>1&&(0===T.value.charCodeAt(0)&&0==(128&T.value.charCodeAt(1))||255===T.value.charCodeAt(0)&&128==(128&T.value.charCodeAt(1)))?I.putBytes(T.value.substr(1)):I.putBytes(T.value);if(A.putByte(x),I.length()<=127)A.putByte(127&I.length());else{var R=I.length(),L="";do{L+=String.fromCharCode(255&R),R>>>=8}while(R>0);for(A.putByte(128|L.length),J=L.length-1;J>=0;--J)A.putByte(L.charCodeAt(J))}return A.putBuffer(I),A},c.oidToDer=function(T){var A=T.split("."),x=f.util.createBuffer();x.putByte(40*parseInt(A[0],10)+parseInt(A[1],10));for(var I,M,J,R,L=2;L<A.length;++L){I=!0,M=[],J=parseInt(A[L],10);do{R=127&J,J>>>=7,I||(R|=128),M.push(R),I=!1}while(J>0);for(var W=M.length-1;W>=0;--W)x.putByte(M[W])}return x},c.derToOid=function(T){var A;"string"==typeof T&&(T=f.util.createBuffer(T));var x=T.getByte();A=Math.floor(x/40)+"."+x%40;for(var I=0;T.length()>0;)I<<=7,128&(x=T.getByte())?I+=127&x:(A+="."+(I+x),I=0);return A},c.utcTimeToDate=function(T){var A=new Date,x=parseInt(T.substr(0,2),10);x=x>=50?1900+x:2e3+x;var I=parseInt(T.substr(2,2),10)-1,M=parseInt(T.substr(4,2),10),J=parseInt(T.substr(6,2),10),R=parseInt(T.substr(8,2),10),L=0;if(T.length>11){var W=T.charAt(10),P=10;"+"!==W&&"-"!==W&&(L=parseInt(T.substr(10,2),10),P+=2)}if(A.setUTCFullYear(x,I,M),A.setUTCHours(J,R,L,0),P&&("+"===(W=T.charAt(P))||"-"===W)){var S=60*parseInt(T.substr(P+1,2),10)+parseInt(T.substr(P+4,2),10);S*=6e4,A.setTime("+"===W?+A-S:+A+S)}return A},c.generalizedTimeToDate=function(T){var A=new Date,x=parseInt(T.substr(0,4),10),I=parseInt(T.substr(4,2),10)-1,M=parseInt(T.substr(6,2),10),J=parseInt(T.substr(8,2),10),R=parseInt(T.substr(10,2),10),L=parseInt(T.substr(12,2),10),W=0,P=0,K=!1;"Z"===T.charAt(T.length-1)&&(K=!0);var E=T.length-5,S=T.charAt(E);return"+"!==S&&"-"!==S||(P=60*parseInt(T.substr(E+1,2),10)+parseInt(T.substr(E+4,2),10),P*=6e4,"+"===S&&(P*=-1),K=!0),"."===T.charAt(14)&&(W=1e3*parseFloat(T.substr(14),10)),K?(A.setUTCFullYear(x,I,M),A.setUTCHours(J,R,L,W),A.setTime(+A+P)):(A.setFullYear(x,I,M),A.setHours(J,R,L,W)),A},c.dateToUtcTime=function(T){if("string"==typeof T)return T;var A="",x=[];x.push((""+T.getUTCFullYear()).substr(2)),x.push(""+(T.getUTCMonth()+1)),x.push(""+T.getUTCDate()),x.push(""+T.getUTCHours()),x.push(""+T.getUTCMinutes()),x.push(""+T.getUTCSeconds());for(var I=0;I<x.length;++I)x[I].length<2&&(A+="0"),A+=x[I];return A+"Z"},c.dateToGeneralizedTime=function(T){if("string"==typeof T)return T;var A="",x=[];x.push(""+T.getUTCFullYear()),x.push(""+(T.getUTCMonth()+1)),x.push(""+T.getUTCDate()),x.push(""+T.getUTCHours()),x.push(""+T.getUTCMinutes()),x.push(""+T.getUTCSeconds());for(var I=0;I<x.length;++I)x[I].length<2&&(A+="0"),A+=x[I];return A+"Z"},c.integerToDer=function(T){var A=f.util.createBuffer();if(T>=-128&&T<128)return A.putSignedInt(T,8);if(T>=-32768&&T<32768)return A.putSignedInt(T,16);if(T>=-8388608&&T<8388608)return A.putSignedInt(T,24);if(T>=-2147483648&&T<2147483648)return A.putSignedInt(T,32);var x=new Error("Integer too large; max is 32-bits.");throw x.integer=T,x},c.derToInteger=function(T){"string"==typeof T&&(T=f.util.createBuffer(T));var A=8*T.length();if(A>32)throw new Error("Integer too large; max is 32-bits.");return T.getSignedInt(A)},c.validate=function(T,A,x,I){var M=!1;if((T.tagClass===A.tagClass||typeof A.tagClass>"u")&&(T.type===A.type||typeof A.type>"u"))if(T.constructed===A.constructed||typeof A.constructed>"u"){if(M=!0,A.value&&f.util.isArray(A.value))for(var J=0,R=0;M&&R<A.value.length;++R)M=A.value[R].optional||!1,T.value[J]&&((M=c.validate(T.value[J],A.value[R],x,I))?++J:A.value[R].optional&&(M=!0)),!M&&I&&I.push("["+A.name+'] Tag class "'+A.tagClass+'", type "'+A.type+'" expected value length "'+A.value.length+'", got "'+T.value.length+'"');if(M&&x&&(A.capture&&(x[A.capture]=T.value),A.captureAsn1&&(x[A.captureAsn1]=T),A.captureBitStringContents&&"bitStringContents"in T&&(x[A.captureBitStringContents]=T.bitStringContents),A.captureBitStringValue&&"bitStringContents"in T))if(T.bitStringContents.length<2)x[A.captureBitStringValue]="";else{if(0!==T.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");x[A.captureBitStringValue]=T.bitStringContents.slice(1)}}else I&&I.push("["+A.name+'] Expected constructed "'+A.constructed+'", got "'+T.constructed+'"');else I&&(T.tagClass!==A.tagClass&&I.push("["+A.name+'] Expected tag class "'+A.tagClass+'", got "'+T.tagClass+'"'),T.type!==A.type&&I.push("["+A.name+'] Expected type "'+A.type+'", got "'+T.type+'"'));return M};var B=/[^\\u0000-\\u00ff]/;c.prettyPrint=function(T,A,x){var I="";x=x||2,(A=A||0)>0&&(I+="\n");for(var M="",J=0;J<A*x;++J)M+=" ";switch(I+=M+"Tag: ",T.tagClass){case c.Class.UNIVERSAL:I+="Universal:";break;case c.Class.APPLICATION:I+="Application:";break;case c.Class.CONTEXT_SPECIFIC:I+="Context-Specific:";break;case c.Class.PRIVATE:I+="Private:"}if(T.tagClass===c.Class.UNIVERSAL)switch(I+=T.type,T.type){case c.Type.NONE:I+=" (None)";break;case c.Type.BOOLEAN:I+=" (Boolean)";break;case c.Type.INTEGER:I+=" (Integer)";break;case c.Type.BITSTRING:I+=" (Bit string)";break;case c.Type.OCTETSTRING:I+=" (Octet string)";break;case c.Type.NULL:I+=" (Null)";break;case c.Type.OID:I+=" (Object Identifier)";break;case c.Type.ODESC:I+=" (Object Descriptor)";break;case c.Type.EXTERNAL:I+=" (External or Instance of)";break;case c.Type.REAL:I+=" (Real)";break;case c.Type.ENUMERATED:I+=" (Enumerated)";break;case c.Type.EMBEDDED:I+=" (Embedded PDV)";break;case c.Type.UTF8:I+=" (UTF8)";break;case c.Type.ROID:I+=" (Relative Object Identifier)";break;case c.Type.SEQUENCE:I+=" (Sequence)";break;case c.Type.SET:I+=" (Set)";break;case c.Type.PRINTABLESTRING:I+=" (Printable String)";break;case c.Type.IA5String:I+=" (IA5String (ASCII))";break;case c.Type.UTCTIME:I+=" (UTC time)";break;case c.Type.GENERALIZEDTIME:I+=" (Generalized time)";break;case c.Type.BMPSTRING:I+=" (BMP String)"}else I+=T.type;if(I+="\n",I+=M+"Constructed: "+T.constructed+"\n",T.composed){var R=0,L="";for(J=0;J<T.value.length;++J)void 0!==T.value[J]&&(R+=1,L+=c.prettyPrint(T.value[J],A+1,x),J+1<T.value.length&&(L+=","));I+=M+"Sub values: "+R+L}else{if(I+=M+"Value: ",T.type===c.Type.OID){var W=c.derToOid(T.value);I+=W,f.pki&&f.pki.oids&&W in f.pki.oids&&(I+=" ("+f.pki.oids[W]+") ")}if(T.type===c.Type.INTEGER)try{I+=c.derToInteger(T.value)}catch{I+="0x"+f.util.bytesToHex(T.value)}else if(T.type===c.Type.BITSTRING){if(I+=T.value.length>1?"0x"+f.util.bytesToHex(T.value.slice(1)):"(none)",T.value.length>0){var P=T.value.charCodeAt(0);1==P?I+=" (1 unused bit shown)":P>1&&(I+=" ("+P+" unused bits shown)")}}else if(T.type===c.Type.OCTETSTRING)B.test(T.value)||(I+="("+T.value+") "),I+="0x"+f.util.bytesToHex(T.value);else if(T.type===c.Type.UTF8)try{I+=f.util.decodeUtf8(T.value)}catch(K){if("URI malformed"!==K.message)throw K;I+="0x"+f.util.bytesToHex(T.value)+" (malformed UTF8)"}else T.type===c.Type.PRINTABLESTRING||T.type===c.Type.IA5String?I+=T.value:B.test(T.value)?I+="0x"+f.util.bytesToHex(T.value):I+=0===T.value.length?"[null]":T.value}return I}},2020:tt=>{var de={};tt.exports=de;var H={};de.encode=function(c,v,w){if("string"!=typeof v)throw new TypeError('"alphabet" must be a string.');if(void 0!==w&&"number"!=typeof w)throw new TypeError('"maxline" must be a number.');var F="";if(c instanceof Uint8Array){var B=0,T=v.length,A=v.charAt(0),x=[0];for(B=0;B<c.length;++B){for(var I=0,M=c[B];I<x.length;++I)x[I]=(M+=x[I]<<8)%T,M=M/T|0;for(;M>0;)x.push(M%T),M=M/T|0}for(B=0;0===c[B]&&B<c.length-1;++B)F+=A;for(B=x.length-1;B>=0;--B)F+=v[x[B]]}else F=function f(c,v){var w=0,F=v.length,B=v.charAt(0),T=[0];for(w=0;w<c.length();++w){for(var A=0,x=c.at(w);A<T.length;++A)T[A]=(x+=T[A]<<8)%F,x=x/F|0;for(;x>0;)T.push(x%F),x=x/F|0}var I="";for(w=0;0===c.at(w)&&w<c.length()-1;++w)I+=B;for(w=T.length-1;w>=0;--w)I+=v[T[w]];return I}(c,v);if(w){var J=new RegExp(".{1,"+w+"}","g");F=F.match(J).join("\r\n")}return F},de.decode=function(c,v){if("string"!=typeof c)throw new TypeError('"input" must be a string.');if("string"!=typeof v)throw new TypeError('"alphabet" must be a string.');var w=H[v];if(!w){w=H[v]=[];for(var F=0;F<v.length;++F)w[v.charCodeAt(F)]=F}c=c.replace(/\s/g,"");var B=v.length,T=v.charAt(0),A=[0];for(F=0;F<c.length;F++){var x=w[c.charCodeAt(F)];if(void 0===x)return;for(var I=0,M=x;I<A.length;++I)A[I]=255&(M+=A[I]*B),M>>=8;for(;M>0;)A.push(255&M),M>>=8}for(var J=0;c[J]===T&&J<c.length-1;++J)A.push(0);return typeof Buffer<"u"?Buffer.from(A.reverse()):new Uint8Array(A.reverse())}},3311:(tt,de,H)=>{var f=H(8659);H(4747),tt.exports=f.cipher=f.cipher||{},f.cipher.algorithms=f.cipher.algorithms||{},f.cipher.createCipher=function(v,w){var F=v;if("string"==typeof F&&(F=f.cipher.getAlgorithm(F))&&(F=F()),!F)throw new Error("Unsupported algorithm: "+v);return new f.cipher.BlockCipher({algorithm:F,key:w,decrypt:!1})},f.cipher.createDecipher=function(v,w){var F=v;if("string"==typeof F&&(F=f.cipher.getAlgorithm(F))&&(F=F()),!F)throw new Error("Unsupported algorithm: "+v);return new f.cipher.BlockCipher({algorithm:F,key:w,decrypt:!0})},f.cipher.registerAlgorithm=function(v,w){v=v.toUpperCase(),f.cipher.algorithms[v]=w},f.cipher.getAlgorithm=function(v){return(v=v.toUpperCase())in f.cipher.algorithms?f.cipher.algorithms[v]:null};var c=f.cipher.BlockCipher=function(v){this.algorithm=v.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=v.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=v.decrypt,this.algorithm.initialize(v)};c.prototype.start=function(v){v=v||{};var w={};for(var F in v)w[F]=v[F];w.decrypt=this._decrypt,this._finish=!1,this._input=f.util.createBuffer(),this.output=v.output||f.util.createBuffer(),this.mode.start(w)},c.prototype.update=function(v){for(v&&this._input.putBuffer(v);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},c.prototype.finish=function(v){v&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(F){return v(this.blockSize,F,!1)},this.mode.unpad=function(F){return v(this.blockSize,F,!0)});var w={};return w.decrypt=this._decrypt,w.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,w)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,w))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,w))}},3481:(tt,de,H)=>{var f=H(8659);H(4747),f.cipher=f.cipher||{};var c=tt.exports=f.cipher.modes=f.cipher.modes||{};function v(B,T){if("string"==typeof B&&(B=f.util.createBuffer(B)),f.util.isArray(B)&&B.length>4){var A=B;B=f.util.createBuffer();for(var x=0;x<A.length;++x)B.putByte(A[x])}if(B.length()<T)throw new Error("Invalid IV length; got "+B.length()+" bytes and expected "+T+" bytes.");if(!f.util.isArray(B)){var I=[],M=T/4;for(x=0;x<M;++x)I.push(B.getInt32());B=I}return B}function w(B){B[B.length-1]=B[B.length-1]+1&4294967295}function F(B){return[B/4294967296|0,4294967295&B]}c.ecb=function(B){B=B||{},this.name="ECB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},c.ecb.prototype.start=function(B){},c.ecb.prototype.encrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x])},c.ecb.prototype.decrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x])},c.ecb.prototype.pad=function(B,T){var A=B.length()===this.blockSize?this.blockSize:this.blockSize-B.length();return B.fillWithByte(A,A),!0},c.ecb.prototype.unpad=function(B,T){if(T.overflow>0)return!1;var A=B.length(),x=B.at(A-1);return!(x>this.blockSize<<2||(B.truncate(x),0))},c.cbc=function(B){B=B||{},this.name="CBC",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},c.cbc.prototype.start=function(B){if(null===B.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=v(B.iv,this.blockSize),this._prev=this._iv.slice(0)}},c.cbc.prototype.encrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=this._prev[x]^B.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._outBlock[x]);this._prev=this._outBlock},c.cbc.prototype.decrypt=function(B,T,A){if(B.length()<this.blockSize&&!(A&&B.length()>0))return!0;for(var x=0;x<this._ints;++x)this._inBlock[x]=B.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),x=0;x<this._ints;++x)T.putInt32(this._prev[x]^this._outBlock[x]);this._prev=this._inBlock.slice(0)},c.cbc.prototype.pad=function(B,T){var A=B.length()===this.blockSize?this.blockSize:this.blockSize-B.length();return B.fillWithByte(A,A),!0},c.cbc.prototype.unpad=function(B,T){if(T.overflow>0)return!1;var A=B.length(),x=B.at(A-1);return!(x>this.blockSize<<2||(B.truncate(x),0))},c.cfb=function(B){B=B||{},this.name="CFB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.cfb.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=v(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.cfb.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=B.getInt32()^this._outBlock[I],T.putInt32(this._inBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=B.getInt32()^this._outBlock[I],this._partialOutput.putInt32(this._partialBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.cfb.prototype.decrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=B.getInt32(),T.putInt32(this._inBlock[I]^this._outBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=B.getInt32(),this._partialOutput.putInt32(this._partialBlock[I]^this._outBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.ofb=function(B){B=B||{},this.name="OFB",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.ofb.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=v(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.ofb.prototype.encrypt=function(B,T,A){var x=B.length();if(0===B.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)T.putInt32(B.getInt32()^this._outBlock[I]),this._inBlock[I]=this._outBlock[I];else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M>0)B.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._outBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}},c.ofb.prototype.decrypt=c.ofb.prototype.encrypt,c.ctr=function(B){B=B||{},this.name="CTR",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0},c.ctr.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");this._iv=v(B.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},c.ctr.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize)for(var I=0;I<this._ints;++I)T.putInt32(B.getInt32()^this._outBlock[I]);else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M>0&&(B.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}w(this._inBlock)},c.ctr.prototype.decrypt=c.ctr.prototype.encrypt,c.gcm=function(B){B=B||{},this.name="GCM",this.cipher=B.cipher,this.blockSize=B.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=f.util.createBuffer(),this._partialBytes=0,this._R=3774873600},c.gcm.prototype.start=function(B){if(!("iv"in B))throw new Error("Invalid IV parameter.");var A,T=f.util.createBuffer(B.iv);if(this._cipherLength=0,A="additionalData"in B?f.util.createBuffer(B.additionalData):f.util.createBuffer(),this._tagLength="tagLength"in B?B.tagLength:128,this._tag=null,B.decrypt&&(this._tag=f.util.createBuffer(B.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var x=T.length();if(12===x)this._j0=[T.getInt32(),T.getInt32(),T.getInt32(),1];else{for(this._j0=[0,0,0,0];T.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[T.getInt32(),T.getInt32(),T.getInt32(),T.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(F(8*x)))}this._inBlock=this._j0.slice(0),w(this._inBlock),this._partialBytes=0,A=f.util.createBuffer(A),this._aDataLength=F(8*A.length());var I=A.length()%this.blockSize;for(I&&A.fillWithByte(0,this.blockSize-I),this._s=[0,0,0,0];A.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[A.getInt32(),A.getInt32(),A.getInt32(),A.getInt32()])},c.gcm.prototype.encrypt=function(B,T,A){var x=B.length();if(0===x)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&x>=this.blockSize){for(var I=0;I<this._ints;++I)T.putInt32(this._outBlock[I]^=B.getInt32());this._cipherLength+=this.blockSize}else{var M=(this.blockSize-x)%this.blockSize;for(M>0&&(M=this.blockSize-M),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(B.getInt32()^this._outBlock[I]);if(M<=0||A){if(A){var J=x%this.blockSize;this._cipherLength+=J,this._partialOutput.truncate(this.blockSize-J)}else this._cipherLength+=this.blockSize;for(I=0;I<this._ints;++I)this._outBlock[I]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),M>0&&!A)return B.read-=this.blockSize,T.putBytes(this._partialOutput.getBytes(M-this._partialBytes)),this._partialBytes=M,!0;T.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),w(this._inBlock)},c.gcm.prototype.decrypt=function(B,T,A){var x=B.length();if(x<this.blockSize&&!(A&&x>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),w(this._inBlock),this._hashBlock[0]=B.getInt32(),this._hashBlock[1]=B.getInt32(),this._hashBlock[2]=B.getInt32(),this._hashBlock[3]=B.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var I=0;I<this._ints;++I)T.putInt32(this._outBlock[I]^this._hashBlock[I]);this._cipherLength+=x<this.blockSize?x%this.blockSize:this.blockSize},c.gcm.prototype.afterFinish=function(B,T){var A=!0;T.decrypt&&T.overflow&&B.truncate(this.blockSize-T.overflow),this.tag=f.util.createBuffer();var x=this._aDataLength.concat(F(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,x);var I=[];this.cipher.encrypt(this._j0,I);for(var M=0;M<this._ints;++M)this.tag.putInt32(this._s[M]^I[M]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),T.decrypt&&this.tag.bytes()!==this._tag&&(A=!1),A},c.gcm.prototype.multiply=function(B,T){for(var A=[0,0,0,0],x=T.slice(0),I=0;I<128;++I)B[I/32|0]&1<<31-I%32&&(A[0]^=x[0],A[1]^=x[1],A[2]^=x[2],A[3]^=x[3]),this.pow(x,x);return A},c.gcm.prototype.pow=function(B,T){for(var A=1&B[3],x=3;x>0;--x)T[x]=B[x]>>>1|(1&B[x-1])<<31;T[0]=B[0]>>>1,A&&(T[0]^=this._R)},c.gcm.prototype.tableMultiply=function(B){for(var T=[0,0,0,0],A=0;A<32;++A){var M=this._m[A][B[A/8|0]>>>4*(7-A%8)&15];T[0]^=M[0],T[1]^=M[1],T[2]^=M[2],T[3]^=M[3]}return T},c.gcm.prototype.ghash=function(B,T,A){return T[0]^=A[0],T[1]^=A[1],T[2]^=A[2],T[3]^=A[3],this.tableMultiply(T)},c.gcm.prototype.generateHashTable=function(B,T){for(var A=8/T,x=4*A,I=16*A,M=new Array(I),J=0;J<I;++J){var R=[0,0,0,0];R[J/x|0]=1<<T-1<<(x-1-J%x)*T,M[J]=this.generateSubHashTable(this.multiply(R,B),T)}return M},c.gcm.prototype.generateSubHashTable=function(B,T){var A=1<<T,x=A>>>1,I=new Array(A);I[x]=B.slice(0);for(var M=x>>>1;M>0;)this.pow(I[2*M],I[M]=[]),M>>=1;for(M=2;M<x;){for(var J=1;J<M;++J){var R=I[M],L=I[J];I[M+J]=[R[0]^L[0],R[1]^L[1],R[2]^L[2],R[3]^L[3]]}M*=2}for(I[0]=[0,0,0,0],M=x+1;M<A;++M){var W=I[M^x];I[M]=[B[0]^W[0],B[1]^W[1],B[2]^W[2],B[3]^W[3]]}return I}},279:(tt,de,H)=>{var f=H(8659);function c(L,W){f.cipher.registerAlgorithm(L,function(){return new f.des.Algorithm(L,W)})}H(3311),H(3481),H(4747),tt.exports=f.des=f.des||{},f.des.startEncrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!1,mode:K||(null===W?"ECB":"CBC")});return E.start(W),E},f.des.createEncryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!1,mode:W})},f.des.startDecrypting=function(L,W,P,K){var E=R({key:L,output:P,decrypt:!0,mode:K||(null===W?"ECB":"CBC")});return E.start(W),E},f.des.createDecryptionCipher=function(L,W){return R({key:L,output:null,decrypt:!0,mode:W})},f.des.Algorithm=function(L,W){var P=this;P.name=L,P.mode=new W({blockSize:8,cipher:{encrypt:function(K,E){return J(P._keys,K,E,!1)},decrypt:function(K,E){return J(P._keys,K,E,!0)}}}),P._init=!1},f.des.Algorithm.prototype.initialize=function(L){if(!this._init){var W=f.util.createBuffer(L.key);if(0===this.name.indexOf("3DES")&&24!==W.length())throw new Error("Invalid Triple-DES key size: "+8*W.length());this._keys=function M(L){for(var Ve,W=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],K=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],E=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],S=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],_=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],Q=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],j=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],ne=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],O=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],N=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],G=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],V=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ae=L.length()>8?3:1,re=[],xe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Be=0,nt=0;nt<ae;nt++){var it=L.getInt32(),Ue=L.getInt32();it^=(Ve=252645135&(it>>>4^Ue))<<4,it^=Ve=65535&((Ue^=Ve)>>>-16^it),it^=(Ve=858993459&(it>>>2^(Ue^=Ve<<-16)))<<2,it^=Ve=65535&((Ue^=Ve)>>>-16^it),it^=(Ve=1431655765&(it>>>1^(Ue^=Ve<<-16)))<<1,it^=Ve=16711935&((Ue^=Ve)>>>8^it),Ve=(it^=(Ve=1431655765&(it>>>1^(Ue^=Ve<<8)))<<1)<<8|(Ue^=Ve)>>>20&240,it=Ue<<24|Ue<<8&16711680|Ue>>>8&65280|Ue>>>24&240,Ue=Ve;for(var qe=0;qe<xe.length;++qe){xe[qe]?(it=it<<2|it>>>26,Ue=Ue<<2|Ue>>>26):(it=it<<1|it>>>27,Ue=Ue<<1|Ue>>>27);var ft=W[(it&=-15)>>>28]|P[it>>>24&15]|K[it>>>20&15]|E[it>>>16&15]|S[it>>>12&15]|_[it>>>8&15]|Q[it>>>4&15],Je=j[(Ue&=-15)>>>28]|ne[Ue>>>24&15]|O[Ue>>>20&15]|N[Ue>>>16&15]|G[Ue>>>12&15]|g[Ue>>>8&15]|V[Ue>>>4&15];re[Be++]=ft^(Ve=65535&(Je>>>16^ft)),re[Be++]=Je^Ve<<16}}return re}(W),this._init=!0}},c("DES-ECB",f.cipher.modes.ecb),c("DES-CBC",f.cipher.modes.cbc),c("DES-CFB",f.cipher.modes.cfb),c("DES-OFB",f.cipher.modes.ofb),c("DES-CTR",f.cipher.modes.ctr),c("3DES-ECB",f.cipher.modes.ecb),c("3DES-CBC",f.cipher.modes.cbc),c("3DES-CFB",f.cipher.modes.cfb),c("3DES-OFB",f.cipher.modes.ofb),c("3DES-CTR",f.cipher.modes.ctr);var v=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],w=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],F=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],B=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],T=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],A=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],x=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],I=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function J(L,W,P,K){var S,E=32===L.length?3:9;S=3===E?K?[30,-2,-2]:[0,32,2]:K?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var _,Q=W[0],j=W[1];Q^=(_=252645135&(Q>>>4^j))<<4,Q^=(_=65535&(Q>>>16^(j^=_)))<<16,Q^=_=858993459&((j^=_)>>>2^Q),Q^=_=16711935&((j^=_<<2)>>>8^Q),Q=(Q^=(_=1431655765&(Q>>>1^(j^=_<<8)))<<1)<<1|Q>>>31,j=(j^=_)<<1|j>>>31;for(var ne=0;ne<E;ne+=3){for(var O=S[ne+1],N=S[ne+2],G=S[ne];G!=O;G+=N){var g=j^L[G],V=(j>>>4|j<<28)^L[G+1];_=Q,Q=j,j=_^(w[g>>>24&63]|B[g>>>16&63]|A[g>>>8&63]|I[63&g]|v[V>>>24&63]|F[V>>>16&63]|T[V>>>8&63]|x[63&V])}_=Q,Q=j,j=_}j=j>>>1|j<<31,j^=_=1431655765&((Q=Q>>>1|Q<<31)>>>1^j),j^=(_=16711935&(j>>>8^(Q^=_<<1)))<<8,j^=(_=858993459&(j>>>2^(Q^=_)))<<2,j^=_=65535&((Q^=_)>>>16^j),j^=_=252645135&((Q^=_<<16)>>>4^j),P[0]=Q^=_<<4,P[1]=j}function R(L){var K,P="DES-"+((L=L||{}).mode||"CBC").toUpperCase(),E=(K=L.decrypt?f.cipher.createDecipher(P,L.key):f.cipher.createCipher(P,L.key)).start;return K.start=function(S,_){var Q=null;_ instanceof f.util.ByteBuffer&&(Q=_,_={}),(_=_||{}).output=Q,_.iv=S,E.call(K,_)},K}},4187:(tt,de,H)=>{var f=H(8659);H(730),H(8365),H(8985),H(4747);var c=H(8877),v=c.publicKeyValidator,w=c.privateKeyValidator;if(typeof F>"u")var F=f.jsbn.BigInteger;var B=f.util.ByteBuffer,T=typeof Buffer>"u"?Uint8Array:Buffer;f.pki=f.pki||{},tt.exports=f.pki.ed25519=f.ed25519=f.ed25519||{};var A=f.ed25519;function x(et){var gt=et.message;if(gt instanceof Uint8Array||gt instanceof T)return gt;var X=et.encoding;if(void 0===gt){if(!et.md)throw new TypeError('"options.message" or "options.md" not specified.');gt=et.md.digest().getBytes(),X="binary"}if("string"==typeof gt&&!X)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof gt){if(typeof Buffer<"u")return Buffer.from(gt,X);gt=new B(gt,X)}else if(!(gt instanceof B))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Z=new T(gt.length()),ue=0;ue<Z.length;++ue)Z[ue]=gt.at(ue);return Z}A.constants={},A.constants.PUBLIC_KEY_BYTE_LENGTH=32,A.constants.PRIVATE_KEY_BYTE_LENGTH=64,A.constants.SEED_BYTE_LENGTH=32,A.constants.SIGN_BYTE_LENGTH=64,A.constants.HASH_BYTE_LENGTH=64,A.generateKeyPair=function(et){var gt=(et=et||{}).seed;if(void 0===gt)gt=f.random.getBytesSync(A.constants.SEED_BYTE_LENGTH);else if("string"==typeof gt){if(gt.length!==A.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+A.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(gt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');gt=x({message:gt,encoding:"binary"});for(var X=new T(A.constants.PUBLIC_KEY_BYTE_LENGTH),Z=new T(A.constants.PRIVATE_KEY_BYTE_LENGTH),ue=0;ue<32;++ue)Z[ue]=gt[ue];return function S(et,gt){var Z,X=[ht(),ht(),ht(),ht()],ue=E(gt,32);for(ue[0]&=248,ue[31]&=127,ue[31]|=64,Ue(X,ue),G(et,X),Z=0;Z<32;++Z)gt[Z+32]=et[Z]}(X,Z),{publicKey:X,privateKey:Z}},A.privateKeyFromAsn1=function(et){var gt={},X=[];if(!f.asn1.validate(et,w,gt,X)){var ue=new Error("Invalid Key.");throw ue.errors=X,ue}var Le=f.asn1.derToOid(gt.privateKeyOid),Xe=f.oids.EdDSA25519;if(Le!==Xe)throw new Error('Invalid OID "'+Le+'"; OID must be "'+Xe+'".');return{privateKeyBytes:x({message:f.asn1.fromDer(gt.privateKey).value,encoding:"binary"})}},A.publicKeyFromAsn1=function(et){var gt={},X=[];if(!f.asn1.validate(et,v,gt,X)){var ue=new Error("Invalid Key.");throw ue.errors=X,ue}var Le=f.asn1.derToOid(gt.publicKeyOid),Xe=f.oids.EdDSA25519;if(Le!==Xe)throw new Error('Invalid OID "'+Le+'"; OID must be "'+Xe+'".');var ee=gt.ed25519PublicKey;if(ee.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return x({message:ee,encoding:"binary"})},A.publicKeyFromPrivateKey=function(et){var gt=x({message:(et=et||{}).privateKey,encoding:"binary"});if(gt.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+A.constants.PRIVATE_KEY_BYTE_LENGTH);for(var X=new T(A.constants.PUBLIC_KEY_BYTE_LENGTH),Z=0;Z<X.length;++Z)X[Z]=gt[32+Z];return X},A.sign=function(et){var gt=x(et=et||{}),X=x({message:et.privateKey,encoding:"binary"});if(X.length===A.constants.SEED_BYTE_LENGTH)X=A.generateKeyPair({seed:X}).privateKey;else if(X.length!==A.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+A.constants.SEED_BYTE_LENGTH+" or "+A.constants.PRIVATE_KEY_BYTE_LENGTH);var ue=new T(A.constants.SIGN_BYTE_LENGTH+gt.length);!function _(et,gt,X,Z){var ue,Le,Xe=new Float64Array(64),ee=[ht(),ht(),ht(),ht()],Me=E(Z,32);Me[0]&=248,Me[31]&=127,Me[31]|=64;var Ot=X+64;for(ue=0;ue<X;++ue)et[64+ue]=gt[ue];for(ue=0;ue<32;++ue)et[32+ue]=Me[32+ue];var ar=E(et.subarray(32),X+32);for(ne(ar),Ue(ee,ar),G(et,ee),ue=32;ue<64;++ue)et[ue]=Z[ue];var rr=E(et,X+64);for(ne(rr),ue=32;ue<64;++ue)Xe[ue]=0;for(ue=0;ue<32;++ue)Xe[ue]=ar[ue];for(ue=0;ue<32;++ue)for(Le=0;Le<32;Le++)Xe[ue+Le]+=rr[ue]*Me[Le];j(et.subarray(32),Xe)}(ue,gt,gt.length,X);for(var Le=new T(A.constants.SIGN_BYTE_LENGTH),Xe=0;Xe<Le.length;++Xe)Le[Xe]=ue[Xe];return Le},A.verify=function(et){var gt=x(et=et||{});if(void 0===et.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var X=x({message:et.signature,encoding:"binary"});if(X.length!==A.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+A.constants.SIGN_BYTE_LENGTH);var Z=x({message:et.publicKey,encoding:"binary"});if(Z.length!==A.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+A.constants.PUBLIC_KEY_BYTE_LENGTH);var Xe,ue=new T(A.constants.SIGN_BYTE_LENGTH+gt.length),Le=new T(A.constants.SIGN_BYTE_LENGTH+gt.length);for(Xe=0;Xe<A.constants.SIGN_BYTE_LENGTH;++Xe)ue[Xe]=X[Xe];for(Xe=0;Xe<gt.length;++Xe)ue[Xe+A.constants.SIGN_BYTE_LENGTH]=gt[Xe];return function Q(et,gt,X,Z){var ue,Xe=new T(32),ee=[ht(),ht(),ht(),ht()],Me=[ht(),ht(),ht(),ht()];if(X<64||function V(et,gt){var X=ht(),Z=ht(),ue=ht(),Le=ht(),Xe=ht(),ee=ht(),Me=ht();return qe(et[2],M),function ae(et,gt){var X;for(X=0;X<16;++X)et[X]=gt[2*X]+(gt[2*X+1]<<8);et[15]&=32767}(et[1],gt),xr(ue,et[1]),sr(Le,ue,J),Rt(ue,ue,et[2]),gr(Le,et[2],Le),xr(Xe,Le),xr(ee,Xe),sr(Me,ee,Xe),sr(X,Me,ue),sr(X,X,Le),function re(et,gt){var Z,X=ht();for(Z=0;Z<16;++Z)X[Z]=gt[Z];for(Z=250;Z>=0;--Z)xr(X,X),1!==Z&&sr(X,X,gt);for(Z=0;Z<16;++Z)et[Z]=X[Z]}(X,X),sr(X,X,ue),sr(X,X,Le),sr(X,X,Le),sr(et[0],X,Le),xr(Z,et[0]),sr(Z,Z,Le),xe(Z,ue)&&sr(et[0],et[0],K),xr(Z,et[0]),sr(Z,Z,Le),xe(Z,ue)?-1:(nt(et[0])===gt[31]>>7&&Rt(et[0],I,et[0]),sr(et[3],et[0],et[1]),0)}(Me,Z))return-1;for(ue=0;ue<X;++ue)et[ue]=gt[ue];for(ue=0;ue<32;++ue)et[ue+32]=Z[ue];var Ot=E(et,X);if(ne(Ot),it(ee,Me,Ot),Ue(Me,gt.subarray(32)),O(ee,Me),G(Xe,ee),X-=64,Be(gt,0,Xe,0)){for(ue=0;ue<X;++ue)et[ue]=0;return-1}for(ue=0;ue<X;++ue)et[ue]=gt[ue+64];return X}(Le,ue,ue.length,Z)>=0};var I=ht(),M=ht([1]),J=ht([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),R=ht([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),L=ht([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),W=ht([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),K=ht([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(et,gt){var X=f.md.sha512.create(),Z=new B(et);X.update(Z.getBytes(gt),"binary");var ue=X.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(ue,"binary");for(var Le=new T(A.constants.HASH_BYTE_LENGTH),Xe=0;Xe<64;++Xe)Le[Xe]=ue.charCodeAt(Xe);return Le}function j(et,gt){var X,Z,ue,Le;for(Z=63;Z>=32;--Z){for(X=0,ue=Z-32,Le=Z-12;ue<Le;++ue)gt[ue]+=X-16*gt[Z]*P[ue-(Z-32)],gt[ue]-=256*(X=gt[ue]+128>>8);gt[ue]+=X,gt[Z]=0}for(X=0,ue=0;ue<32;++ue)gt[ue]+=X-(gt[31]>>4)*P[ue],X=gt[ue]>>8,gt[ue]&=255;for(ue=0;ue<32;++ue)gt[ue]-=X*P[ue];for(Z=0;Z<32;++Z)gt[Z+1]+=gt[Z]>>8,et[Z]=255&gt[Z]}function ne(et){for(var gt=new Float64Array(64),X=0;X<64;++X)gt[X]=et[X],et[X]=0;j(et,gt)}function O(et,gt){var X=ht(),Z=ht(),ue=ht(),Le=ht(),Xe=ht(),ee=ht(),Me=ht(),Ot=ht(),ar=ht();Rt(X,et[1],et[0]),Rt(ar,gt[1],gt[0]),sr(X,X,ar),gr(Z,et[0],et[1]),gr(ar,gt[0],gt[1]),sr(Z,Z,ar),sr(ue,et[3],gt[3]),sr(ue,ue,R),sr(Le,et[2],gt[2]),gr(Le,Le,Le),Rt(Xe,Z,X),Rt(ee,Le,ue),gr(Me,Le,ue),gr(Ot,Z,X),sr(et[0],Xe,ee),sr(et[1],Ot,Me),sr(et[2],Me,ee),sr(et[3],Xe,Ot)}function N(et,gt,X){for(var Z=0;Z<4;++Z)Yt(et[Z],gt[Z],X)}function G(et,gt){var X=ht(),Z=ht(),ue=ht();(function ft(et,gt){var Z,X=ht();for(Z=0;Z<16;++Z)X[Z]=gt[Z];for(Z=253;Z>=0;--Z)xr(X,X),2!==Z&&4!==Z&&sr(X,X,gt);for(Z=0;Z<16;++Z)et[Z]=X[Z]})(ue,gt[2]),sr(X,gt[0],ue),sr(Z,gt[1],ue),g(et,Z),et[31]^=nt(X)<<7}function g(et,gt){var X,Z,ue,Le=ht(),Xe=ht();for(X=0;X<16;++X)Xe[X]=gt[X];for(Je(Xe),Je(Xe),Je(Xe),Z=0;Z<2;++Z){for(Le[0]=Xe[0]-65517,X=1;X<15;++X)Le[X]=Xe[X]-65535-(Le[X-1]>>16&1),Le[X-1]&=65535;Le[15]=Xe[15]-32767-(Le[14]>>16&1),ue=Le[15]>>16&1,Le[14]&=65535,Yt(Xe,Le,1-ue)}for(X=0;X<16;X++)et[2*X]=255&Xe[X],et[2*X+1]=Xe[X]>>8}function xe(et,gt){var X=new T(32),Z=new T(32);return g(X,et),g(Z,gt),Be(X,0,Z,0)}function Be(et,gt,X,Z){return function Ve(et,gt,X,Z,ue){var Le,Xe=0;for(Le=0;Le<ue;++Le)Xe|=et[gt+Le]^X[Z+Le];return(1&Xe-1>>>8)-1}(et,gt,X,Z,32)}function nt(et){var gt=new T(32);return g(gt,et),1&gt[0]}function it(et,gt,X){var Z,ue;for(qe(et[0],I),qe(et[1],M),qe(et[2],M),qe(et[3],I),ue=255;ue>=0;--ue)N(et,gt,Z=X[ue/8|0]>>(7&ue)&1),O(gt,et),O(et,et),N(et,gt,Z)}function Ue(et,gt){var X=[ht(),ht(),ht(),ht()];qe(X[0],L),qe(X[1],W),qe(X[2],M),sr(X[3],L,W),it(et,X,gt)}function qe(et,gt){var X;for(X=0;X<16;X++)et[X]=0|gt[X]}function Je(et){var gt,X,Z=1;for(gt=0;gt<16;++gt)X=et[gt]+Z+65535,Z=Math.floor(X/65536),et[gt]=X-65536*Z;et[0]+=Z-1+37*(Z-1)}function Yt(et,gt,X){for(var Z,ue=~(X-1),Le=0;Le<16;++Le)et[Le]^=Z=ue&(et[Le]^gt[Le]),gt[Le]^=Z}function ht(et){var gt,X=new Float64Array(16);if(et)for(gt=0;gt<et.length;++gt)X[gt]=et[gt];return X}function gr(et,gt,X){for(var Z=0;Z<16;++Z)et[Z]=gt[Z]+X[Z]}function Rt(et,gt,X){for(var Z=0;Z<16;++Z)et[Z]=gt[Z]-X[Z]}function xr(et,gt){sr(et,gt,gt)}function sr(et,gt,X){var Z,ue,Le=0,Xe=0,ee=0,Me=0,Ot=0,ar=0,rr=0,Bt=0,Wt=0,yr=0,Sr=0,te=0,Mt=0,on=0,qr=0,br=0,kt=0,Yr=0,Br=0,Pr=0,cn=0,Tn=0,hn=0,qt=0,Gn=0,qn=0,Zn=0,dn=0,ni=0,kn=0,Jn=0,bn=X[0],tn=X[1],xn=X[2],an=X[3],mn=X[4],Nr=X[5],Fr=X[6],rn=X[7],Qt=X[8],fn=X[9],nn=X[10],Kr=X[11],gn=X[12],vn=X[13],dr=X[14],In=X[15];Le+=(Z=gt[0])*bn,Xe+=Z*tn,ee+=Z*xn,Me+=Z*an,Ot+=Z*mn,ar+=Z*Nr,rr+=Z*Fr,Bt+=Z*rn,Wt+=Z*Qt,yr+=Z*fn,Sr+=Z*nn,te+=Z*Kr,Mt+=Z*gn,on+=Z*vn,qr+=Z*dr,br+=Z*In,Xe+=(Z=gt[1])*bn,ee+=Z*tn,Me+=Z*xn,Ot+=Z*an,ar+=Z*mn,rr+=Z*Nr,Bt+=Z*Fr,Wt+=Z*rn,yr+=Z*Qt,Sr+=Z*fn,te+=Z*nn,Mt+=Z*Kr,on+=Z*gn,qr+=Z*vn,br+=Z*dr,kt+=Z*In,ee+=(Z=gt[2])*bn,Me+=Z*tn,Ot+=Z*xn,ar+=Z*an,rr+=Z*mn,Bt+=Z*Nr,Wt+=Z*Fr,yr+=Z*rn,Sr+=Z*Qt,te+=Z*fn,Mt+=Z*nn,on+=Z*Kr,qr+=Z*gn,br+=Z*vn,kt+=Z*dr,Yr+=Z*In,Me+=(Z=gt[3])*bn,Ot+=Z*tn,ar+=Z*xn,rr+=Z*an,Bt+=Z*mn,Wt+=Z*Nr,yr+=Z*Fr,Sr+=Z*rn,te+=Z*Qt,Mt+=Z*fn,on+=Z*nn,qr+=Z*Kr,br+=Z*gn,kt+=Z*vn,Yr+=Z*dr,Br+=Z*In,Ot+=(Z=gt[4])*bn,ar+=Z*tn,rr+=Z*xn,Bt+=Z*an,Wt+=Z*mn,yr+=Z*Nr,Sr+=Z*Fr,te+=Z*rn,Mt+=Z*Qt,on+=Z*fn,qr+=Z*nn,br+=Z*Kr,kt+=Z*gn,Yr+=Z*vn,Br+=Z*dr,Pr+=Z*In,ar+=(Z=gt[5])*bn,rr+=Z*tn,Bt+=Z*xn,Wt+=Z*an,yr+=Z*mn,Sr+=Z*Nr,te+=Z*Fr,Mt+=Z*rn,on+=Z*Qt,qr+=Z*fn,br+=Z*nn,kt+=Z*Kr,Yr+=Z*gn,Br+=Z*vn,Pr+=Z*dr,cn+=Z*In,rr+=(Z=gt[6])*bn,Bt+=Z*tn,Wt+=Z*xn,yr+=Z*an,Sr+=Z*mn,te+=Z*Nr,Mt+=Z*Fr,on+=Z*rn,qr+=Z*Qt,br+=Z*fn,kt+=Z*nn,Yr+=Z*Kr,Br+=Z*gn,Pr+=Z*vn,cn+=Z*dr,Tn+=Z*In,Bt+=(Z=gt[7])*bn,Wt+=Z*tn,yr+=Z*xn,Sr+=Z*an,te+=Z*mn,Mt+=Z*Nr,on+=Z*Fr,qr+=Z*rn,br+=Z*Qt,kt+=Z*fn,Yr+=Z*nn,Br+=Z*Kr,Pr+=Z*gn,cn+=Z*vn,Tn+=Z*dr,hn+=Z*In,Wt+=(Z=gt[8])*bn,yr+=Z*tn,Sr+=Z*xn,te+=Z*an,Mt+=Z*mn,on+=Z*Nr,qr+=Z*Fr,br+=Z*rn,kt+=Z*Qt,Yr+=Z*fn,Br+=Z*nn,Pr+=Z*Kr,cn+=Z*gn,Tn+=Z*vn,hn+=Z*dr,qt+=Z*In,yr+=(Z=gt[9])*bn,Sr+=Z*tn,te+=Z*xn,Mt+=Z*an,on+=Z*mn,qr+=Z*Nr,br+=Z*Fr,kt+=Z*rn,Yr+=Z*Qt,Br+=Z*fn,Pr+=Z*nn,cn+=Z*Kr,Tn+=Z*gn,hn+=Z*vn,qt+=Z*dr,Gn+=Z*In,Sr+=(Z=gt[10])*bn,te+=Z*tn,Mt+=Z*xn,on+=Z*an,qr+=Z*mn,br+=Z*Nr,kt+=Z*Fr,Yr+=Z*rn,Br+=Z*Qt,Pr+=Z*fn,cn+=Z*nn,Tn+=Z*Kr,hn+=Z*gn,qt+=Z*vn,Gn+=Z*dr,qn+=Z*In,te+=(Z=gt[11])*bn,Mt+=Z*tn,on+=Z*xn,qr+=Z*an,br+=Z*mn,kt+=Z*Nr,Yr+=Z*Fr,Br+=Z*rn,Pr+=Z*Qt,cn+=Z*fn,Tn+=Z*nn,hn+=Z*Kr,qt+=Z*gn,Gn+=Z*vn,qn+=Z*dr,Zn+=Z*In,Mt+=(Z=gt[12])*bn,on+=Z*tn,qr+=Z*xn,br+=Z*an,kt+=Z*mn,Yr+=Z*Nr,Br+=Z*Fr,Pr+=Z*rn,cn+=Z*Qt,Tn+=Z*fn,hn+=Z*nn,qt+=Z*Kr,Gn+=Z*gn,qn+=Z*vn,Zn+=Z*dr,dn+=Z*In,on+=(Z=gt[13])*bn,qr+=Z*tn,br+=Z*xn,kt+=Z*an,Yr+=Z*mn,Br+=Z*Nr,Pr+=Z*Fr,cn+=Z*rn,Tn+=Z*Qt,hn+=Z*fn,qt+=Z*nn,Gn+=Z*Kr,qn+=Z*gn,Zn+=Z*vn,dn+=Z*dr,ni+=Z*In,qr+=(Z=gt[14])*bn,br+=Z*tn,kt+=Z*xn,Yr+=Z*an,Br+=Z*mn,Pr+=Z*Nr,cn+=Z*Fr,Tn+=Z*rn,hn+=Z*Qt,qt+=Z*fn,Gn+=Z*nn,qn+=Z*Kr,Zn+=Z*gn,dn+=Z*vn,ni+=Z*dr,kn+=Z*In,br+=(Z=gt[15])*bn,Xe+=38*(Yr+=Z*xn),ee+=38*(Br+=Z*an),Me+=38*(Pr+=Z*mn),Ot+=38*(cn+=Z*Nr),ar+=38*(Tn+=Z*Fr),rr+=38*(hn+=Z*rn),Bt+=38*(qt+=Z*Qt),Wt+=38*(Gn+=Z*fn),yr+=38*(qn+=Z*nn),Sr+=38*(Zn+=Z*Kr),te+=38*(dn+=Z*gn),Mt+=38*(ni+=Z*vn),on+=38*(kn+=Z*dr),qr+=38*(Jn+=Z*In),Le=(Z=(Le+=38*(kt+=Z*tn))+(ue=1)+65535)-65536*(ue=Math.floor(Z/65536)),Xe=(Z=Xe+ue+65535)-65536*(ue=Math.floor(Z/65536)),ee=(Z=ee+ue+65535)-65536*(ue=Math.floor(Z/65536)),Me=(Z=Me+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ot=(Z=Ot+ue+65535)-65536*(ue=Math.floor(Z/65536)),ar=(Z=ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),rr=(Z=rr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Bt=(Z=Bt+ue+65535)-65536*(ue=Math.floor(Z/65536)),Wt=(Z=Wt+ue+65535)-65536*(ue=Math.floor(Z/65536)),yr=(Z=yr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Sr=(Z=Sr+ue+65535)-65536*(ue=Math.floor(Z/65536)),te=(Z=te+ue+65535)-65536*(ue=Math.floor(Z/65536)),Mt=(Z=Mt+ue+65535)-65536*(ue=Math.floor(Z/65536)),on=(Z=on+ue+65535)-65536*(ue=Math.floor(Z/65536)),qr=(Z=qr+ue+65535)-65536*(ue=Math.floor(Z/65536)),br=(Z=br+ue+65535)-65536*(ue=Math.floor(Z/65536)),Le=(Z=(Le+=ue-1+37*(ue-1))+(ue=1)+65535)-65536*(ue=Math.floor(Z/65536)),Xe=(Z=Xe+ue+65535)-65536*(ue=Math.floor(Z/65536)),ee=(Z=ee+ue+65535)-65536*(ue=Math.floor(Z/65536)),Me=(Z=Me+ue+65535)-65536*(ue=Math.floor(Z/65536)),Ot=(Z=Ot+ue+65535)-65536*(ue=Math.floor(Z/65536)),ar=(Z=ar+ue+65535)-65536*(ue=Math.floor(Z/65536)),rr=(Z=rr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Bt=(Z=Bt+ue+65535)-65536*(ue=Math.floor(Z/65536)),Wt=(Z=Wt+ue+65535)-65536*(ue=Math.floor(Z/65536)),yr=(Z=yr+ue+65535)-65536*(ue=Math.floor(Z/65536)),Sr=(Z=Sr+ue+65535)-65536*(ue=Math.floor(Z/65536)),te=(Z=te+ue+65535)-65536*(ue=Math.floor(Z/65536)),Mt=(Z=Mt+ue+65535)-65536*(ue=Math.floor(Z/65536)),on=(Z=on+ue+65535)-65536*(ue=Math.floor(Z/65536)),qr=(Z=qr+ue+65535)-65536*(ue=Math.floor(Z/65536)),br=(Z=br+ue+65535)-65536*(ue=Math.floor(Z/65536)),et[0]=Le+=ue-1+37*(ue-1),et[1]=Xe,et[2]=ee,et[3]=Me,et[4]=Ot,et[5]=ar,et[6]=rr,et[7]=Bt,et[8]=Wt,et[9]=yr,et[10]=Sr,et[11]=te,et[12]=Mt,et[13]=on,et[14]=qr,et[15]=br}},8659:tt=>{tt.exports={options:{usePureJavaScript:!1}}},9032:(tt,de,H)=>{var f=H(8659);H(979),H(4747),(tt.exports=f.hmac=f.hmac||{}).create=function(){var v=null,w=null,F=null,B=null,T={start:function(A,x){if(null!==A)if("string"==typeof A){if(!((A=A.toLowerCase())in f.md.algorithms))throw new Error('Unknown hash algorithm "'+A+'"');w=f.md.algorithms[A].create()}else w=A;if(null===x)x=v;else{if("string"==typeof x)x=f.util.createBuffer(x);else if(f.util.isArray(x)){var I=x;x=f.util.createBuffer();for(var M=0;M<I.length;++M)x.putByte(I[M])}var J=x.length();for(J>w.blockLength&&(w.start(),w.update(x.bytes()),x=w.digest()),F=f.util.createBuffer(),B=f.util.createBuffer(),J=x.length(),M=0;M<J;++M)I=x.at(M),F.putByte(54^I),B.putByte(92^I);if(J<w.blockLength)for(I=w.blockLength-J,M=0;M<I;++M)F.putByte(54),B.putByte(92);v=x,F=F.bytes(),B=B.bytes()}w.start(),w.update(F)},update:function(A){w.update(A)},getMac:function(){var A=w.digest().bytes();return w.start(),w.update(B),w.update(A),w.digest()}};return T.digest=T.getMac,T}},592:(tt,de,H)=>{tt.exports=H(8659),H(1298),H(6683),H(7791),H(3311),H(279),H(4187),H(9032),H(7196),H(6113),H(4752),H(8449),H(7949),H(8604),H(7246),H(562),H(422),H(1965),H(9709),H(4473),H(7256),H(8365),H(209),H(1015),H(2266),H(4747)},730:(tt,de,H)=>{var c,f=H(8659);function F(fe,we,Se){this.data=[],null!=fe&&("number"==typeof fe?this.fromNumber(fe,we,Se):this.fromString(fe,null==we&&"string"!=typeof fe?256:we))}function B(){return new F(null)}function x(fe,we,Se,at,Ft,Lt){for(var Kt=16383&we,Gt=we>>14;--Lt>=0;){var st=16383&this.data[fe],ke=this.data[fe++]>>14,fr=Gt*st+ke*Kt;Ft=((st=Kt*st+((16383&fr)<<14)+Se.data[at]+Ft)>>28)+(fr>>14)+Gt*ke,Se.data[at++]=268435455&st}return Ft}tt.exports=f.jsbn=f.jsbn||{},f.jsbn.BigInteger=F,typeof navigator>"u"?(F.prototype.am=x,c=28):"Microsoft Internet Explorer"==navigator.appName?(F.prototype.am=function A(fe,we,Se,at,Ft,Lt){for(var Kt=32767&we,Gt=we>>15;--Lt>=0;){var st=32767&this.data[fe],ke=this.data[fe++]>>15,fr=Gt*st+ke*Kt;Ft=((st=Kt*st+((32767&fr)<<15)+Se.data[at]+(1073741823&Ft))>>>30)+(fr>>>15)+Gt*ke+(Ft>>>30),Se.data[at++]=1073741823&st}return Ft},c=30):"Netscape"!=navigator.appName?(F.prototype.am=function T(fe,we,Se,at,Ft,Lt){for(;--Lt>=0;){var Kt=we*this.data[fe++]+Se.data[at]+Ft;Ft=Math.floor(Kt/67108864),Se.data[at++]=67108863&Kt}return Ft},c=26):(F.prototype.am=x,c=28),F.prototype.DB=c,F.prototype.DM=(1<<c)-1,F.prototype.DV=1<<c,F.prototype.FV=Math.pow(2,52),F.prototype.F1=52-c,F.prototype.F2=2*c-52;var R,L,J=new Array;for(R="0".charCodeAt(0),L=0;L<=9;++L)J[R++]=L;for(R="a".charCodeAt(0),L=10;L<36;++L)J[R++]=L;for(R="A".charCodeAt(0),L=10;L<36;++L)J[R++]=L;function W(fe){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(fe)}function P(fe,we){return J[fe.charCodeAt(we)]??-1}function S(fe){var we=B();return we.fromInt(fe),we}function G(fe){var Se,we=1;return 0!=(Se=fe>>>16)&&(fe=Se,we+=16),0!=(Se=fe>>8)&&(fe=Se,we+=8),0!=(Se=fe>>4)&&(fe=Se,we+=4),0!=(Se=fe>>2)&&(fe=Se,we+=2),0!=(Se=fe>>1)&&(fe=Se,we+=1),we}function qe(fe){this.m=fe}function xr(fe){this.m=fe,this.mp=fe.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<fe.DB-15)-1,this.mt2=2*fe.t}function kt(fe,we){return fe&we}function Br(fe,we){return fe|we}function cn(fe,we){return fe^we}function hn(fe,we){return fe&~we}function dn(fe){if(0==fe)return-1;var we=0;return 0==(65535&fe)&&(fe>>=16,we+=16),0==(255&fe)&&(fe>>=8,we+=8),0==(15&fe)&&(fe>>=4,we+=4),0==(3&fe)&&(fe>>=2,we+=2),0==(1&fe)&&++we,we}function kn(fe){for(var we=0;0!=fe;)fe&=fe-1,++we;return we}function dr(){}function In(fe){return fe}function oe(fe){this.r2=B(),this.q3=B(),F.ONE.dlShiftTo(2*fe.t,this.r2),this.mu=this.r2.divide(fe),this.m=fe}qe.prototype.convert=function ft(fe){return fe.s<0||fe.compareTo(this.m)>=0?fe.mod(this.m):fe},qe.prototype.revert=function Je(fe){return fe},qe.prototype.reduce=function Yt(fe){fe.divRemTo(this.m,null,fe)},qe.prototype.mulTo=function ht(fe,we,Se){fe.multiplyTo(we,Se),this.reduce(Se)},qe.prototype.sqrTo=function gr(fe,we){fe.squareTo(we),this.reduce(we)},xr.prototype.convert=function sr(fe){var we=B();return fe.abs().dlShiftTo(this.m.t,we),we.divRemTo(this.m,null,we),fe.s<0&&we.compareTo(F.ZERO)>0&&this.m.subTo(we,we),we},xr.prototype.revert=function et(fe){var we=B();return fe.copyTo(we),this.reduce(we),we},xr.prototype.reduce=function gt(fe){for(;fe.t<=this.mt2;)fe.data[fe.t++]=0;for(var we=0;we<this.m.t;++we){var Se=32767&fe.data[we],at=Se*this.mpl+((Se*this.mph+(fe.data[we]>>15)*this.mpl&this.um)<<15)&fe.DM;for(fe.data[Se=we+this.m.t]+=this.m.am(0,at,fe,we,0,this.m.t);fe.data[Se]>=fe.DV;)fe.data[Se]-=fe.DV,fe.data[++Se]++}fe.clamp(),fe.drShiftTo(this.m.t,fe),fe.compareTo(this.m)>=0&&fe.subTo(this.m,fe)},xr.prototype.mulTo=function Z(fe,we,Se){fe.multiplyTo(we,Se),this.reduce(Se)},xr.prototype.sqrTo=function X(fe,we){fe.squareTo(we),this.reduce(we)},F.prototype.copyTo=function K(fe){for(var we=this.t-1;we>=0;--we)fe.data[we]=this.data[we];fe.t=this.t,fe.s=this.s},F.prototype.fromInt=function E(fe){this.t=1,this.s=fe<0?-1:0,fe>0?this.data[0]=fe:fe<-1?this.data[0]=fe+this.DV:this.t=0},F.prototype.fromString=function _(fe,we){var Se;if(16==we)Se=4;else if(8==we)Se=3;else if(256==we)Se=8;else if(2==we)Se=1;else if(32==we)Se=5;else{if(4!=we)return void this.fromRadix(fe,we);Se=2}this.t=0,this.s=0;for(var at=fe.length,Ft=!1,Lt=0;--at>=0;){var Kt=8==Se?255&fe[at]:P(fe,at);Kt<0?"-"==fe.charAt(at)&&(Ft=!0):(Ft=!1,0==Lt?this.data[this.t++]=Kt:Lt+Se>this.DB?(this.data[this.t-1]|=(Kt&(1<<this.DB-Lt)-1)<<Lt,this.data[this.t++]=Kt>>this.DB-Lt):this.data[this.t-1]|=Kt<<Lt,(Lt+=Se)>=this.DB&&(Lt-=this.DB))}8==Se&&0!=(128&fe[0])&&(this.s=-1,Lt>0&&(this.data[this.t-1]|=(1<<this.DB-Lt)-1<<Lt)),this.clamp(),Ft&&F.ZERO.subTo(this,this)},F.prototype.clamp=function Q(){for(var fe=this.s&this.DM;this.t>0&&this.data[this.t-1]==fe;)--this.t},F.prototype.dlShiftTo=function V(fe,we){var Se;for(Se=this.t-1;Se>=0;--Se)we.data[Se+fe]=this.data[Se];for(Se=fe-1;Se>=0;--Se)we.data[Se]=0;we.t=this.t+fe,we.s=this.s},F.prototype.drShiftTo=function ae(fe,we){for(var Se=fe;Se<this.t;++Se)we.data[Se-fe]=this.data[Se];we.t=Math.max(this.t-fe,0),we.s=this.s},F.prototype.lShiftTo=function re(fe,we){var Gt,Se=fe%this.DB,at=this.DB-Se,Ft=(1<<at)-1,Lt=Math.floor(fe/this.DB),Kt=this.s<<Se&this.DM;for(Gt=this.t-1;Gt>=0;--Gt)we.data[Gt+Lt+1]=this.data[Gt]>>at|Kt,Kt=(this.data[Gt]&Ft)<<Se;for(Gt=Lt-1;Gt>=0;--Gt)we.data[Gt]=0;we.data[Lt]=Kt,we.t=this.t+Lt+1,we.s=this.s,we.clamp()},F.prototype.rShiftTo=function xe(fe,we){we.s=this.s;var Se=Math.floor(fe/this.DB);if(Se>=this.t)we.t=0;else{var at=fe%this.DB,Ft=this.DB-at,Lt=(1<<at)-1;we.data[0]=this.data[Se]>>at;for(var Kt=Se+1;Kt<this.t;++Kt)we.data[Kt-Se-1]|=(this.data[Kt]&Lt)<<Ft,we.data[Kt-Se]=this.data[Kt]>>at;at>0&&(we.data[this.t-Se-1]|=(this.s&Lt)<<Ft),we.t=this.t-Se,we.clamp()}},F.prototype.subTo=function Be(fe,we){for(var Se=0,at=0,Ft=Math.min(fe.t,this.t);Se<Ft;)at+=this.data[Se]-fe.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;if(fe.t<this.t){for(at-=fe.s;Se<this.t;)at+=this.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;at+=this.s}else{for(at+=this.s;Se<fe.t;)at-=fe.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;at-=fe.s}we.s=at<0?-1:0,at<-1?we.data[Se++]=this.DV+at:at>0&&(we.data[Se++]=at),we.t=Se,we.clamp()},F.prototype.multiplyTo=function Ve(fe,we){var Se=this.abs(),at=fe.abs(),Ft=Se.t;for(we.t=Ft+at.t;--Ft>=0;)we.data[Ft]=0;for(Ft=0;Ft<at.t;++Ft)we.data[Ft+Se.t]=Se.am(0,at.data[Ft],we,Ft,0,Se.t);we.s=0,we.clamp(),this.s!=fe.s&&F.ZERO.subTo(we,we)},F.prototype.squareTo=function nt(fe){for(var we=this.abs(),Se=fe.t=2*we.t;--Se>=0;)fe.data[Se]=0;for(Se=0;Se<we.t-1;++Se){var at=we.am(Se,we.data[Se],fe,2*Se,0,1);(fe.data[Se+we.t]+=we.am(Se+1,2*we.data[Se],fe,2*Se+1,at,we.t-Se-1))>=we.DV&&(fe.data[Se+we.t]-=we.DV,fe.data[Se+we.t+1]=1)}fe.t>0&&(fe.data[fe.t-1]+=we.am(Se,we.data[Se],fe,2*Se,0,1)),fe.s=0,fe.clamp()},F.prototype.divRemTo=function it(fe,we,Se){var at=fe.abs();if(!(at.t<=0)){var Ft=this.abs();if(Ft.t<at.t)return we?.fromInt(0),void(null!=Se&&this.copyTo(Se));null==Se&&(Se=B());var Lt=B(),Kt=this.s,Gt=fe.s,st=this.DB-G(at.data[at.t-1]);st>0?(at.lShiftTo(st,Lt),Ft.lShiftTo(st,Se)):(at.copyTo(Lt),Ft.copyTo(Se));var ke=Lt.t,fr=Lt.data[ke-1];if(0!=fr){var Mr=fr*(1<<this.F1)+(ke>1?Lt.data[ke-2]>>this.F2:0),zn=this.FV/Mr,sa=(1<<this.F1)/Mr,ui=1<<this.F2,Nn=Se.t,Ir=Nn-ke,Ci=we??B();for(Lt.dlShiftTo(Ir,Ci),Se.compareTo(Ci)>=0&&(Se.data[Se.t++]=1,Se.subTo(Ci,Se)),F.ONE.dlShiftTo(ke,Ci),Ci.subTo(Lt,Lt);Lt.t<ke;)Lt.data[Lt.t++]=0;for(;--Ir>=0;){var oa=Se.data[--Nn]==fr?this.DM:Math.floor(Se.data[Nn]*zn+(Se.data[Nn-1]+ui)*sa);if((Se.data[Nn]+=Lt.am(0,oa,Se,Ir,0,ke))<oa)for(Lt.dlShiftTo(Ir,Ci),Se.subTo(Ci,Se);Se.data[Nn]<--oa;)Se.subTo(Ci,Se)}null!=we&&(Se.drShiftTo(ke,we),Kt!=Gt&&F.ZERO.subTo(we,we)),Se.t=ke,Se.clamp(),st>0&&Se.rShiftTo(st,Se),Kt<0&&F.ZERO.subTo(Se,Se)}}},F.prototype.invDigit=function Rt(){if(this.t<1)return 0;var fe=this.data[0];if(0==(1&fe))return 0;var we=3&fe;return(we=(we=(we=(we=we*(2-(15&fe)*we)&15)*(2-(255&fe)*we)&255)*(2-((65535&fe)*we&65535))&65535)*(2-fe*we%this.DV)%this.DV)>0?this.DV-we:-we},F.prototype.isEven=function ue(){return 0==(this.t>0?1&this.data[0]:this.s)},F.prototype.exp=function Le(fe,we){if(fe>4294967295||fe<1)return F.ONE;var Se=B(),at=B(),Ft=we.convert(this),Lt=G(fe)-1;for(Ft.copyTo(Se);--Lt>=0;)if(we.sqrTo(Se,at),(fe&1<<Lt)>0)we.mulTo(at,Ft,Se);else{var Kt=Se;Se=at,at=Kt}return we.revert(Se)},F.prototype.toString=function j(fe){if(this.s<0)return"-"+this.negate().toString(fe);var we;if(16==fe)we=4;else if(8==fe)we=3;else if(2==fe)we=1;else if(32==fe)we=5;else{if(4!=fe)return this.toRadix(fe);we=2}var at,Se=(1<<we)-1,Ft=!1,Lt="",Kt=this.t,Gt=this.DB-Kt*this.DB%we;if(Kt-- >0)for(Gt<this.DB&&(at=this.data[Kt]>>Gt)>0&&(Ft=!0,Lt=W(at));Kt>=0;)Gt<we?(at=(this.data[Kt]&(1<<Gt)-1)<<we-Gt,at|=this.data[--Kt]>>(Gt+=this.DB-we)):(at=this.data[Kt]>>(Gt-=we)&Se,Gt<=0&&(Gt+=this.DB,--Kt)),at>0&&(Ft=!0),Ft&&(Lt+=W(at));return Ft?Lt:"0"},F.prototype.negate=function ne(){var fe=B();return F.ZERO.subTo(this,fe),fe},F.prototype.abs=function O(){return this.s<0?this.negate():this},F.prototype.compareTo=function N(fe){var we=this.s-fe.s;if(0!=we)return we;var Se=this.t;if(0!=(we=Se-fe.t))return this.s<0?-we:we;for(;--Se>=0;)if(0!=(we=this.data[Se]-fe.data[Se]))return we;return 0},F.prototype.bitLength=function g(){return this.t<=0?0:this.DB*(this.t-1)+G(this.data[this.t-1]^this.s&this.DM)},F.prototype.mod=function Ue(fe){var we=B();return this.abs().divRemTo(fe,null,we),this.s<0&&we.compareTo(F.ZERO)>0&&fe.subTo(we,we),we},F.prototype.modPowInt=function Xe(fe,we){var Se;return Se=fe<256||we.isEven()?new qe(we):new xr(we),this.exp(fe,Se)},F.ZERO=S(0),F.ONE=S(1),dr.prototype.convert=In,dr.prototype.revert=In,dr.prototype.mulTo=function li(fe,we,Se){fe.multiplyTo(we,Se)},dr.prototype.sqrTo=function Ni(fe,we){fe.squareTo(we)},oe.prototype.convert=function me(fe){if(fe.s<0||fe.t>2*this.m.t)return fe.mod(this.m);if(fe.compareTo(this.m)<0)return fe;var we=B();return fe.copyTo(we),this.reduce(we),we},oe.prototype.revert=function Pe(fe){return fe},oe.prototype.reduce=function Ce(fe){for(fe.drShiftTo(this.m.t-1,this.r2),fe.t>this.m.t+1&&(fe.t=this.m.t+1,fe.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);fe.compareTo(this.r2)<0;)fe.dAddOffset(1,this.m.t+1);for(fe.subTo(this.r2,fe);fe.compareTo(this.m)>=0;)fe.subTo(this.m,fe)},oe.prototype.mulTo=function _t(fe,we,Se){fe.multiplyTo(we,Se),this.reduce(Se)},oe.prototype.sqrTo=function Tt(fe,we){fe.squareTo(we),this.reduce(we)};var lr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Vn=(1<<26)/lr[lr.length-1];F.prototype.chunkSize=function rr(fe){return Math.floor(Math.LN2*this.DB/Math.log(fe))},F.prototype.toRadix=function Wt(fe){if(null==fe&&(fe=10),0==this.signum()||fe<2||fe>36)return"0";var we=this.chunkSize(fe),Se=Math.pow(fe,we),at=S(Se),Ft=B(),Lt=B(),Kt="";for(this.divRemTo(at,Ft,Lt);Ft.signum()>0;)Kt=(Se+Lt.intValue()).toString(fe).substr(1)+Kt,Ft.divRemTo(at,Ft,Lt);return Lt.intValue().toString(fe)+Kt},F.prototype.fromRadix=function yr(fe,we){this.fromInt(0),null==we&&(we=10);for(var Se=this.chunkSize(we),at=Math.pow(we,Se),Ft=!1,Lt=0,Kt=0,Gt=0;Gt<fe.length;++Gt){var st=P(fe,Gt);st<0?"-"==fe.charAt(Gt)&&0==this.signum()&&(Ft=!0):(Kt=we*Kt+st,++Lt>=Se&&(this.dMultiply(at),this.dAddOffset(Kt,0),Lt=0,Kt=0))}Lt>0&&(this.dMultiply(Math.pow(we,Lt)),this.dAddOffset(Kt,0)),Ft&&F.ZERO.subTo(this,this)},F.prototype.fromNumber=function Sr(fe,we,Se){if("number"==typeof we)if(fe<2)this.fromInt(1);else for(this.fromNumber(fe,Se),this.testBit(fe-1)||this.bitwiseTo(F.ONE.shiftLeft(fe-1),Br,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(we);)this.dAddOffset(2,0),this.bitLength()>fe&&this.subTo(F.ONE.shiftLeft(fe-1),this);else{var at=new Array,Ft=7&fe;at.length=1+(fe>>3),we.nextBytes(at),Ft>0?at[0]&=(1<<Ft)-1:at[0]=0,this.fromString(at,256)}},F.prototype.bitwiseTo=function br(fe,we,Se){var at,Ft,Lt=Math.min(fe.t,this.t);for(at=0;at<Lt;++at)Se.data[at]=we(this.data[at],fe.data[at]);if(fe.t<this.t){for(Ft=fe.s&this.DM,at=Lt;at<this.t;++at)Se.data[at]=we(this.data[at],Ft);Se.t=this.t}else{for(Ft=this.s&this.DM,at=Lt;at<fe.t;++at)Se.data[at]=we(Ft,fe.data[at]);Se.t=fe.t}Se.s=we(this.s,fe.s),Se.clamp()},F.prototype.changeBit=function tn(fe,we){var Se=F.ONE.shiftLeft(fe);return this.bitwiseTo(Se,we,Se),Se},F.prototype.addTo=function Nr(fe,we){for(var Se=0,at=0,Ft=Math.min(fe.t,this.t);Se<Ft;)at+=this.data[Se]+fe.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;if(fe.t<this.t){for(at+=fe.s;Se<this.t;)at+=this.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;at+=this.s}else{for(at+=this.s;Se<fe.t;)at+=fe.data[Se],we.data[Se++]=at&this.DM,at>>=this.DB;at+=fe.s}we.s=at<0?-1:0,at>0?we.data[Se++]=at:at<-1&&(we.data[Se++]=this.DV+at),we.t=Se,we.clamp()},F.prototype.dMultiply=function gn(fe){this.data[this.t]=this.am(0,fe-1,this,0,0,this.t),++this.t,this.clamp()},F.prototype.dAddOffset=function vn(fe,we){if(0!=fe){for(;this.t<=we;)this.data[this.t++]=0;for(this.data[we]+=fe;this.data[we]>=this.DV;)this.data[we]-=this.DV,++we>=this.t&&(this.data[this.t++]=0),++this.data[we]}},F.prototype.multiplyLowerTo=function pe(fe,we,Se){var Ft,at=Math.min(this.t+fe.t,we);for(Se.s=0,Se.t=at;at>0;)Se.data[--at]=0;for(Ft=Se.t-this.t;at<Ft;++at)Se.data[at+this.t]=this.am(0,fe.data[at],Se,at,0,this.t);for(Ft=Math.min(fe.t,we);at<Ft;++at)this.am(0,fe.data[at],Se,at,0,we-at);Se.clamp()},F.prototype.multiplyUpperTo=function ce(fe,we,Se){--we;var at=Se.t=this.t+fe.t-we;for(Se.s=0;--at>=0;)Se.data[at]=0;for(at=Math.max(we-this.t,0);at<fe.t;++at)Se.data[this.t+at-we]=this.am(we-at,fe.data[at],Se,0,0,this.t+at-we);Se.clamp(),Se.drShiftTo(1,Se)},F.prototype.modInt=function mr(fe){if(fe<=0)return 0;var we=this.DV%fe,Se=this.s<0?fe-1:0;if(this.t>0)if(0==we)Se=this.data[0]%fe;else for(var at=this.t-1;at>=0;--at)Se=(we*Se+this.data[at])%fe;return Se},F.prototype.millerRabin=function On(fe){var we=this.subtract(F.ONE),Se=we.getLowestSetBit();if(Se<=0)return!1;for(var Lt,at=we.shiftRight(Se),Ft=function jr(){return{nextBytes:function(fe){for(var we=0;we<fe.length;++we)fe[we]=Math.floor(256*Math.random())}}}(),Kt=0;Kt<fe;++Kt){do{Lt=new F(this.bitLength(),Ft)}while(Lt.compareTo(F.ONE)<=0||Lt.compareTo(we)>=0);var Gt=Lt.modPow(at,this);if(0!=Gt.compareTo(F.ONE)&&0!=Gt.compareTo(we)){for(var st=1;st++<Se&&0!=Gt.compareTo(we);)if(0==(Gt=Gt.modPowInt(2,this)).compareTo(F.ONE))return!1;if(0!=Gt.compareTo(we))return!1}}return!0},F.prototype.clone=function ee(){var fe=B();return this.copyTo(fe),fe},F.prototype.intValue=function Me(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},F.prototype.byteValue=function Ot(){return 0==this.t?this.s:this.data[0]<<24>>24},F.prototype.shortValue=function ar(){return 0==this.t?this.s:this.data[0]<<16>>16},F.prototype.signum=function Bt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},F.prototype.toByteArray=function te(){var fe=this.t,we=new Array;we[0]=this.s;var at,Se=this.DB-fe*this.DB%8,Ft=0;if(fe-- >0)for(Se<this.DB&&(at=this.data[fe]>>Se)!=(this.s&this.DM)>>Se&&(we[Ft++]=at|this.s<<this.DB-Se);fe>=0;)Se<8?(at=(this.data[fe]&(1<<Se)-1)<<8-Se,at|=this.data[--fe]>>(Se+=this.DB-8)):(at=this.data[fe]>>(Se-=8)&255,Se<=0&&(Se+=this.DB,--fe)),0!=(128&at)&&(at|=-256),0==Ft&&(128&this.s)!=(128&at)&&++Ft,(Ft>0||at!=this.s)&&(we[Ft++]=at);return we},F.prototype.equals=function Mt(fe){return 0==this.compareTo(fe)},F.prototype.min=function on(fe){return this.compareTo(fe)<0?this:fe},F.prototype.max=function qr(fe){return this.compareTo(fe)>0?this:fe},F.prototype.and=function Yr(fe){var we=B();return this.bitwiseTo(fe,kt,we),we},F.prototype.or=function Pr(fe){var we=B();return this.bitwiseTo(fe,Br,we),we},F.prototype.xor=function Tn(fe){var we=B();return this.bitwiseTo(fe,cn,we),we},F.prototype.andNot=function qt(fe){var we=B();return this.bitwiseTo(fe,hn,we),we},F.prototype.not=function Gn(){for(var fe=B(),we=0;we<this.t;++we)fe.data[we]=this.DM&~this.data[we];return fe.t=this.t,fe.s=~this.s,fe},F.prototype.shiftLeft=function qn(fe){var we=B();return fe<0?this.rShiftTo(-fe,we):this.lShiftTo(fe,we),we},F.prototype.shiftRight=function Zn(fe){var we=B();return fe<0?this.lShiftTo(-fe,we):this.rShiftTo(fe,we),we},F.prototype.getLowestSetBit=function ni(){for(var fe=0;fe<this.t;++fe)if(0!=this.data[fe])return fe*this.DB+dn(this.data[fe]);return this.s<0?this.t*this.DB:-1},F.prototype.bitCount=function Jn(){for(var fe=0,we=this.s&this.DM,Se=0;Se<this.t;++Se)fe+=kn(this.data[Se]^we);return fe},F.prototype.testBit=function bn(fe){var we=Math.floor(fe/this.DB);return we>=this.t?0!=this.s:0!=(this.data[we]&1<<fe%this.DB)},F.prototype.setBit=function xn(fe){return this.changeBit(fe,Br)},F.prototype.clearBit=function an(fe){return this.changeBit(fe,hn)},F.prototype.flipBit=function mn(fe){return this.changeBit(fe,cn)},F.prototype.add=function Fr(fe){var we=B();return this.addTo(fe,we),we},F.prototype.subtract=function rn(fe){var we=B();return this.subTo(fe,we),we},F.prototype.multiply=function Qt(fe){var we=B();return this.multiplyTo(fe,we),we},F.prototype.divide=function fn(fe){var we=B();return this.divRemTo(fe,we,null),we},F.prototype.remainder=function nn(fe){var we=B();return this.divRemTo(fe,null,we),we},F.prototype.divideAndRemainder=function Kr(fe){var we=B(),Se=B();return this.divRemTo(fe,we,Se),new Array(we,Se)},F.prototype.modPow=function Vt(fe,we){var at,Lt,Se=fe.bitLength(),Ft=S(1);if(Se<=0)return Ft;at=Se<18?1:Se<48?3:Se<144?4:Se<768?5:6,Lt=Se<8?new qe(we):we.isEven()?new oe(we):new xr(we);var Kt=new Array,Gt=3,st=at-1,ke=(1<<at)-1;if(Kt[1]=Lt.convert(this),at>1){var fr=B();for(Lt.sqrTo(Kt[1],fr);Gt<=ke;)Kt[Gt]=B(),Lt.mulTo(fr,Kt[Gt-2],Kt[Gt]),Gt+=2}var zn,Nn,Mr=fe.t-1,sa=!0,ui=B();for(Se=G(fe.data[Mr])-1;Mr>=0;){for(Se>=st?zn=fe.data[Mr]>>Se-st&ke:(zn=(fe.data[Mr]&(1<<Se+1)-1)<<st-Se,Mr>0&&(zn|=fe.data[Mr-1]>>this.DB+Se-st)),Gt=at;0==(1&zn);)zn>>=1,--Gt;if((Se-=Gt)<0&&(Se+=this.DB,--Mr),sa)Kt[zn].copyTo(Ft),sa=!1;else{for(;Gt>1;)Lt.sqrTo(Ft,ui),Lt.sqrTo(ui,Ft),Gt-=2;Gt>0?Lt.sqrTo(Ft,ui):(Nn=Ft,Ft=ui,ui=Nn),Lt.mulTo(ui,Kt[zn],Ft)}for(;Mr>=0&&0==(fe.data[Mr]&1<<Se);)Lt.sqrTo(Ft,ui),Nn=Ft,Ft=ui,ui=Nn,--Se<0&&(Se=this.DB-1,--Mr)}return Lt.revert(Ft)},F.prototype.modInverse=function Er(fe){var we=fe.isEven();if(this.isEven()&&we||0==fe.signum())return F.ZERO;for(var Se=fe.clone(),at=this.clone(),Ft=S(1),Lt=S(0),Kt=S(0),Gt=S(1);0!=Se.signum();){for(;Se.isEven();)Se.rShiftTo(1,Se),we?((!Ft.isEven()||!Lt.isEven())&&(Ft.addTo(this,Ft),Lt.subTo(fe,Lt)),Ft.rShiftTo(1,Ft)):Lt.isEven()||Lt.subTo(fe,Lt),Lt.rShiftTo(1,Lt);for(;at.isEven();)at.rShiftTo(1,at),we?((!Kt.isEven()||!Gt.isEven())&&(Kt.addTo(this,Kt),Gt.subTo(fe,Gt)),Kt.rShiftTo(1,Kt)):Gt.isEven()||Gt.subTo(fe,Gt),Gt.rShiftTo(1,Gt);Se.compareTo(at)>=0?(Se.subTo(at,Se),we&&Ft.subTo(Kt,Ft),Lt.subTo(Gt,Lt)):(at.subTo(Se,at),we&&Kt.subTo(Ft,Kt),Gt.subTo(Lt,Gt))}return 0!=at.compareTo(F.ONE)?F.ZERO:Gt.compareTo(fe)>=0?Gt.subtract(fe):Gt.signum()<0?(Gt.addTo(fe,Gt),Gt.signum()<0?Gt.add(fe):Gt):Gt},F.prototype.pow=function Aa(fe){return this.exp(fe,new dr)},F.prototype.gcd=function Ut(fe){var we=this.s<0?this.negate():this.clone(),Se=fe.s<0?fe.negate():fe.clone();if(we.compareTo(Se)<0){var at=we;we=Se,Se=at}var Ft=we.getLowestSetBit(),Lt=Se.getLowestSetBit();if(Lt<0)return we;for(Ft<Lt&&(Lt=Ft),Lt>0&&(we.rShiftTo(Lt,we),Se.rShiftTo(Lt,Se));we.signum()>0;)(Ft=we.getLowestSetBit())>0&&we.rShiftTo(Ft,we),(Ft=Se.getLowestSetBit())>0&&Se.rShiftTo(Ft,Se),we.compareTo(Se)>=0?(we.subTo(Se,we),we.rShiftTo(1,we)):(Se.subTo(we,Se),Se.rShiftTo(1,Se));return Lt>0&&Se.lShiftTo(Lt,Se),Se},F.prototype.isProbablePrime=function Xr(fe){var we,Se=this.abs();if(1==Se.t&&Se.data[0]<=lr[lr.length-1]){for(we=0;we<lr.length;++we)if(Se.data[0]==lr[we])return!0;return!1}if(Se.isEven())return!1;for(we=1;we<lr.length;){for(var at=lr[we],Ft=we+1;Ft<lr.length&&at<Vn;)at*=lr[Ft++];for(at=Se.modInt(at);we<Ft;)if(at%lr[we++]==0)return!1}return Se.millerRabin(fe)}},7196:(tt,de,H)=>{var f=H(8659);H(4747),H(8365),H(730),tt.exports=f.kem=f.kem||{};var c=f.jsbn.BigInteger;function v(w,F,B,T){w.generate=function(A,x){for(var I=new f.util.ByteBuffer,M=Math.ceil(x/T)+B,J=new f.util.ByteBuffer,R=B;R<M;++R){J.putInt32(R),F.start(),F.update(A+J.getBytes());var L=F.digest();I.putBytes(L.getBytes(T))}return I.truncate(I.length()-x),I.getBytes()}}f.kem.rsa={},f.kem.rsa.create=function(w,F){var B=(F=F||{}).prng||f.random;return{encrypt:function(A,x){var M,I=Math.ceil(A.n.bitLength()/8);do{M=new c(f.util.bytesToHex(B.getBytesSync(I)),16).mod(A.n)}while(M.compareTo(c.ONE)<=0);var J=I-(M=f.util.hexToBytes(M.toString(16))).length;return J>0&&(M=f.util.fillString(String.fromCharCode(0),J)+M),{encapsulation:A.encrypt(M,"NONE"),key:w.generate(M,x)}},decrypt:function(A,x,I){var M=A.decrypt(x,"NONE");return w.generate(M,I)}}},f.kem.kdf1=function(w,F){v(this,w,0,F||w.digestLength)},f.kem.kdf2=function(w,F){v(this,w,1,F||w.digestLength)}},6113:(tt,de,H)=>{var f=H(8659);H(4747),tt.exports=f.log=f.log||{},f.log.levels=["none","error","warning","info","debug","verbose","max"];var c={},v=[],w=null;f.log.LEVEL_LOCKED=2,f.log.NO_LEVEL_CHECK=4,f.log.INTERPOLATE=8;for(var F=0;F<f.log.levels.length;++F){var B=f.log.levels[F];c[B]={index:F,name:B.toUpperCase()}}f.log.logMessage=function(R){for(var L=c[R.level].index,W=0;W<v.length;++W){var P=v[W];P.flags&f.log.NO_LEVEL_CHECK?P.f(R):L<=c[P.level].index&&P.f(P,R)}},f.log.prepareStandard=function(R){"standard"in R||(R.standard=c[R.level].name+" ["+R.category+"] "+R.message)},f.log.prepareFull=function(R){if(!("full"in R)){var L=[R.message];L=L.concat([]),R.full=f.util.format.apply(this,L)}},f.log.prepareStandardFull=function(R){"standardFull"in R||(f.log.prepareStandard(R),R.standardFull=R.standard)};var T=["error","warning","info","debug","verbose"];for(F=0;F<T.length;++F)!function(L){f.log[L]=function(W,P){var K=Array.prototype.slice.call(arguments).slice(2),E={timestamp:new Date,level:L,category:W,message:P,arguments:K};f.log.logMessage(E)}}(T[F]);if(f.log.makeLogger=function(R){var L={flags:0,f:R};return f.log.setLevel(L,"none"),L},f.log.setLevel=function(R,L){var W=!1;if(R&&!(R.flags&f.log.LEVEL_LOCKED))for(var P=0;P<f.log.levels.length;++P)if(L==f.log.levels[P]){R.level=L,W=!0;break}return W},f.log.lock=function(R,L){typeof L>"u"||L?R.flags|=f.log.LEVEL_LOCKED:R.flags&=~f.log.LEVEL_LOCKED},f.log.addLogger=function(R){v.push(R)},typeof console<"u"&&"log"in console){var A;if(console.error&&console.warn&&console.info&&console.debug){var x={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},I=function(R,L){f.log.prepareStandard(L);var W=x[L.level],P=[L.standard];P=P.concat(L.arguments.slice()),W.apply(console,P)};A=f.log.makeLogger(I)}else I=function(L,W){f.log.prepareStandardFull(W),console.log(W.standardFull)},A=f.log.makeLogger(I);f.log.setLevel(A,"debug"),f.log.addLogger(A),w=A}else console={log:function(){}};if(null!==w&&typeof window<"u"&&window.location){var M=new URL(window.location.href).searchParams;M.has("console.level")&&f.log.setLevel(w,M.get("console.level").slice(-1)[0]),M.has("console.lock")&&"true"==M.get("console.lock").slice(-1)[0]&&f.log.lock(w)}f.log.consoleLogger=w},4752:(tt,de,H)=>{tt.exports=H(979),H(2687),H(7690),H(1594),H(8985)},979:(tt,de,H)=>{var f=H(8659);tt.exports=f.md=f.md||{},f.md.algorithms=f.md.algorithms||{}},2687:(tt,de,H)=>{var f=H(8659);H(979),H(4747);var c=tt.exports=f.md5=f.md5||{};f.md.md5=f.md.algorithms.md5=c,c.create=function(){T||function A(){v=String.fromCharCode(128),v+=f.util.fillString(String.fromCharCode(0),64),w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],F=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],B=new Array(64);for(var I=0;I<64;++I)B[I]=Math.floor(4294967296*Math.abs(Math.sin(I+1)));T=!0}();var I=null,M=f.util.createBuffer(),J=new Array(16),R={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){R.messageLength=0,R.fullMessageLength=R.messageLength64=[];for(var L=R.messageLengthSize/4,W=0;W<L;++W)R.fullMessageLength.push(0);return M=f.util.createBuffer(),I={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},R}};return R.start(),R.update=function(L,W){"utf8"===W&&(L=f.util.encodeUtf8(L));var P=L.length;R.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var K=R.fullMessageLength.length-1;K>=0;--K)R.fullMessageLength[K]+=P[1],P[1]=P[0]+(R.fullMessageLength[K]/4294967296>>>0),R.fullMessageLength[K]=R.fullMessageLength[K]>>>0,P[0]=P[1]/4294967296>>>0;return M.putBytes(L),x(I,J,M),(M.read>2048||0===M.length())&&M.compact(),R},R.digest=function(){var L=f.util.createBuffer();L.putBytes(M.bytes()),L.putBytes(v.substr(0,R.blockLength-(R.fullMessageLength[R.fullMessageLength.length-1]+R.messageLengthSize&R.blockLength-1)));for(var K,E=0,S=R.fullMessageLength.length-1;S>=0;--S)E=(K=8*R.fullMessageLength[S]+E)/4294967296>>>0,L.putInt32Le(K>>>0);var _={h0:I.h0,h1:I.h1,h2:I.h2,h3:I.h3};x(_,J,L);var Q=f.util.createBuffer();return Q.putInt32Le(_.h0),Q.putInt32Le(_.h1),Q.putInt32Le(_.h2),Q.putInt32Le(_.h3),Q},R};var v=null,w=null,F=null,B=null,T=!1;function x(I,M,J){for(var R,L,W,P,K,S,_,Q=J.length();Q>=64;){for(L=I.h0,W=I.h1,P=I.h2,K=I.h3,_=0;_<16;++_)M[_]=J.getInt32Le(),R=L+(K^W&(P^K))+B[_]+M[_],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<32;++_)R=L+(P^K&(W^P))+B[_]+M[w[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<48;++_)R=L+(W^P^K)+B[_]+M[w[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;for(;_<64;++_)R=L+(P^(W|~K))+B[_]+M[w[_]],L=K,K=P,P=W,W+=R<<(S=F[_])|R>>>32-S;I.h0=I.h0+L|0,I.h1=I.h1+W|0,I.h2=I.h2+P|0,I.h3=I.h3+K|0,Q-=64}}},9386:(tt,de,H)=>{var f=H(8659);H(8449),tt.exports=f.mgf=f.mgf||{},f.mgf.mgf1=f.mgf1},8449:(tt,de,H)=>{var f=H(8659);H(4747),f.mgf=f.mgf||{},(tt.exports=f.mgf.mgf1=f.mgf1=f.mgf1||{}).create=function(v){return{generate:function(F,B){for(var T=new f.util.ByteBuffer,A=Math.ceil(B/v.digestLength),x=0;x<A;x++){var I=new f.util.ByteBuffer;I.putInt32(x),v.start(),v.update(F+I.getBytes()),T.putBuffer(v.digest())}return T.truncate(T.length()-B),T.getBytes()}}}},6078:(tt,de,H)=>{var f=H(8659);f.pki=f.pki||{};var c=tt.exports=f.pki.oids=f.oids=f.oids||{};function v(F,B){c[F]=B,c[B]=F}function w(F,B){c[F]=B}v("1.2.840.113549.1.1.1","rsaEncryption"),v("1.2.840.113549.1.1.4","md5WithRSAEncryption"),v("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),v("1.2.840.113549.1.1.7","RSAES-OAEP"),v("1.2.840.113549.1.1.8","mgf1"),v("1.2.840.113549.1.1.9","pSpecified"),v("1.2.840.113549.1.1.10","RSASSA-PSS"),v("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),v("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),v("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),v("1.3.101.112","EdDSA25519"),v("1.2.840.10040.4.3","dsa-with-sha1"),v("1.3.14.3.2.7","desCBC"),v("1.3.14.3.2.26","sha1"),v("1.3.14.3.2.29","sha1WithRSASignature"),v("2.16.840.1.101.3.4.2.1","sha256"),v("2.16.840.1.101.3.4.2.2","sha384"),v("2.16.840.1.101.3.4.2.3","sha512"),v("2.16.840.1.101.3.4.2.4","sha224"),v("2.16.840.1.101.3.4.2.5","sha512-224"),v("2.16.840.1.101.3.4.2.6","sha512-256"),v("1.2.840.113549.2.2","md2"),v("1.2.840.113549.2.5","md5"),v("1.2.840.113549.1.7.1","data"),v("1.2.840.113549.1.7.2","signedData"),v("1.2.840.113549.1.7.3","envelopedData"),v("1.2.840.113549.1.7.4","signedAndEnvelopedData"),v("1.2.840.113549.1.7.5","digestedData"),v("1.2.840.113549.1.7.6","encryptedData"),v("1.2.840.113549.1.9.1","emailAddress"),v("1.2.840.113549.1.9.2","unstructuredName"),v("1.2.840.113549.1.9.3","contentType"),v("1.2.840.113549.1.9.4","messageDigest"),v("1.2.840.113549.1.9.5","signingTime"),v("1.2.840.113549.1.9.6","counterSignature"),v("1.2.840.113549.1.9.7","challengePassword"),v("1.2.840.113549.1.9.8","unstructuredAddress"),v("1.2.840.113549.1.9.14","extensionRequest"),v("1.2.840.113549.1.9.20","friendlyName"),v("1.2.840.113549.1.9.21","localKeyId"),v("1.2.840.113549.1.9.22.1","x509Certificate"),v("1.2.840.113549.1.12.10.1.1","keyBag"),v("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),v("1.2.840.113549.1.12.10.1.3","certBag"),v("1.2.840.113549.1.12.10.1.4","crlBag"),v("1.2.840.113549.1.12.10.1.5","secretBag"),v("1.2.840.113549.1.12.10.1.6","safeContentsBag"),v("1.2.840.113549.1.5.13","pkcs5PBES2"),v("1.2.840.113549.1.5.12","pkcs5PBKDF2"),v("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),v("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),v("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),v("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),v("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),v("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),v("1.2.840.113549.2.7","hmacWithSHA1"),v("1.2.840.113549.2.8","hmacWithSHA224"),v("1.2.840.113549.2.9","hmacWithSHA256"),v("1.2.840.113549.2.10","hmacWithSHA384"),v("1.2.840.113549.2.11","hmacWithSHA512"),v("1.2.840.113549.3.7","des-EDE3-CBC"),v("2.16.840.1.101.3.4.1.2","aes128-CBC"),v("2.16.840.1.101.3.4.1.22","aes192-CBC"),v("2.16.840.1.101.3.4.1.42","aes256-CBC"),v("2.5.4.3","commonName"),v("2.5.4.4","surname"),v("2.5.4.5","serialNumber"),v("2.5.4.6","countryName"),v("2.5.4.7","localityName"),v("2.5.4.8","stateOrProvinceName"),v("2.5.4.9","streetAddress"),v("2.5.4.10","organizationName"),v("2.5.4.11","organizationalUnitName"),v("2.5.4.12","title"),v("2.5.4.13","description"),v("2.5.4.15","businessCategory"),v("2.5.4.17","postalCode"),v("2.5.4.42","givenName"),v("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),v("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),v("2.16.840.1.113730.1.1","nsCertType"),v("2.16.840.1.113730.1.13","nsComment"),w("2.5.29.1","authorityKeyIdentifier"),w("2.5.29.2","keyAttributes"),w("2.5.29.3","certificatePolicies"),w("2.5.29.4","keyUsageRestriction"),w("2.5.29.5","policyMapping"),w("2.5.29.6","subtreesConstraint"),w("2.5.29.7","subjectAltName"),w("2.5.29.8","issuerAltName"),w("2.5.29.9","subjectDirectoryAttributes"),w("2.5.29.10","basicConstraints"),w("2.5.29.11","nameConstraints"),w("2.5.29.12","policyConstraints"),w("2.5.29.13","basicConstraints"),v("2.5.29.14","subjectKeyIdentifier"),v("2.5.29.15","keyUsage"),w("2.5.29.16","privateKeyUsagePeriod"),v("2.5.29.17","subjectAltName"),v("2.5.29.18","issuerAltName"),v("2.5.29.19","basicConstraints"),w("2.5.29.20","cRLNumber"),w("2.5.29.21","cRLReason"),w("2.5.29.22","expirationDate"),w("2.5.29.23","instructionCode"),w("2.5.29.24","invalidityDate"),w("2.5.29.25","cRLDistributionPoints"),w("2.5.29.26","issuingDistributionPoint"),w("2.5.29.27","deltaCRLIndicator"),w("2.5.29.28","issuingDistributionPoint"),w("2.5.29.29","certificateIssuer"),w("2.5.29.30","nameConstraints"),v("2.5.29.31","cRLDistributionPoints"),v("2.5.29.32","certificatePolicies"),w("2.5.29.33","policyMappings"),w("2.5.29.34","policyConstraints"),v("2.5.29.35","authorityKeyIdentifier"),w("2.5.29.36","policyConstraints"),v("2.5.29.37","extKeyUsage"),w("2.5.29.46","freshestCRL"),w("2.5.29.54","inhibitAnyPolicy"),v("1.3.6.1.4.1.11129.2.4.2","timestampList"),v("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),v("1.3.6.1.5.5.7.3.1","serverAuth"),v("1.3.6.1.5.5.7.3.2","clientAuth"),v("1.3.6.1.5.5.7.3.3","codeSigning"),v("1.3.6.1.5.5.7.3.4","emailProtection"),v("1.3.6.1.5.5.7.3.8","timeStamping")},2158:(tt,de,H)=>{var f=H(8659);if(H(1298),H(7791),H(279),H(979),H(6078),H(7949),H(8604),H(8365),H(209),H(5517),H(4747),typeof c>"u")var c=f.jsbn.BigInteger;var v=f.asn1,w=f.pki=f.pki||{};tt.exports=w.pbe=f.pbe=f.pbe||{};var F=w.oids,B={name:"EncryptedPrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},T={name:"PBES2Algorithms",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},A={name:"pkcs-12PbeParams",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"iterations"}]};function x(R,L){return R.start().update(L).digest().getBytes()}function I(R){var L;if(R){if(!(L=w.oids[v.derToOid(R)])){var W=new Error("Unsupported PRF OID.");throw W.oid=R,W.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],W}}else L="hmacWithSHA1";return M(L)}function M(R){var L=f.md;switch(R){case"hmacWithSHA224":L=f.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":R=R.substr(8).toLowerCase();break;default:var W=new Error("Unsupported PRF algorithm.");throw W.algorithm=R,W.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],W}if(!L||!(R in L))throw new Error("Unknown hash algorithm: "+R);return L[R].create()}w.encryptPrivateKeyInfo=function(R,L,W){(W=W||{}).saltSize=W.saltSize||8,W.count=W.count||2048,W.algorithm=W.algorithm||"aes128",W.prfAlgorithm=W.prfAlgorithm||"sha1";var S,_,Q,P=f.random.getBytesSync(W.saltSize),K=W.count,E=v.integerToDer(K);if(0===W.algorithm.indexOf("aes")||"des"===W.algorithm){var j,ne,O;switch(W.algorithm){case"aes128":S=16,j=16,ne=F["aes128-CBC"],O=f.aes.createEncryptionCipher;break;case"aes192":S=24,j=16,ne=F["aes192-CBC"],O=f.aes.createEncryptionCipher;break;case"aes256":S=32,j=16,ne=F["aes256-CBC"],O=f.aes.createEncryptionCipher;break;case"des":S=8,j=8,ne=F.desCBC,O=f.des.createEncryptionCipher;break;default:throw(N=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=W.algorithm,N}var G="hmacWith"+W.prfAlgorithm.toUpperCase(),g=M(G),V=f.pkcs5.pbkdf2(L,P,K,S,g),ae=f.random.getBytesSync(j);(re=O(V)).start(ae),re.update(v.toDer(R)),re.finish(),Q=re.output.getBytes();var xe=function J(R,L,W,P){var K=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,R),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,L.getBytes())]);return"hmacWithSHA1"!==P&&K.value.push(v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,f.util.hexToBytes(W.toString(16))),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(w.oids[P]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")])),K}(P,E,S,G);_=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(F.pkcs5PBES2).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(F.pkcs5PBKDF2).getBytes()),xe]),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(ne).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,ae)])])])}else{var N;if("3des"!==W.algorithm)throw(N=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=W.algorithm,N;S=24;var re,Be=new f.util.ByteBuffer(P);V=w.pbe.generatePkcs12Key(L,Be,1,K,S),ae=w.pbe.generatePkcs12Key(L,Be,2,K,S),(re=f.des.createEncryptionCipher(V)).start(ae),re.update(v.toDer(R)),re.finish(),Q=re.output.getBytes(),_=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(F["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,P),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,E.getBytes())])])}return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[_,v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,Q)])},w.decryptPrivateKeyInfo=function(R,L){var W=null,P={},K=[];if(!v.validate(R,B,P,K)){var E=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw E.errors=K,E}var S=v.derToOid(P.encryptionOid),_=w.pbe.getCipher(S,P.encryptionParams,L),Q=f.util.createBuffer(P.encryptedData);return _.update(Q),_.finish()&&(W=v.fromDer(_.output)),W},w.encryptedPrivateKeyToPem=function(R,L){var W={type:"ENCRYPTED PRIVATE KEY",body:v.toDer(R).getBytes()};return f.pem.encode(W,{maxline:L})},w.encryptedPrivateKeyFromPem=function(R){var L=f.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==L.type){var W=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw W.headerType=L.type,W}if(L.procType&&"ENCRYPTED"===L.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return v.fromDer(L.body)},w.encryptRsaPrivateKey=function(R,L,W){if(!(W=W||{}).legacy){var P=w.wrapRsaPrivateKey(w.privateKeyToAsn1(R));return P=w.encryptPrivateKeyInfo(P,L,W),w.encryptedPrivateKeyToPem(P)}var K,E,S,_;switch(W.algorithm){case"aes128":K="AES-128-CBC",S=16,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"aes192":K="AES-192-CBC",S=24,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"aes256":K="AES-256-CBC",S=32,E=f.random.getBytesSync(16),_=f.aes.createEncryptionCipher;break;case"3des":K="DES-EDE3-CBC",S=24,E=f.random.getBytesSync(8),_=f.des.createEncryptionCipher;break;case"des":K="DES-CBC",S=8,E=f.random.getBytesSync(8),_=f.des.createEncryptionCipher;break;default:var Q=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+W.algorithm+'".');throw Q.algorithm=W.algorithm,Q}var ne=_(f.pbe.opensslDeriveBytes(L,E.substr(0,8),S));ne.start(E),ne.update(v.toDer(w.privateKeyToAsn1(R))),ne.finish();var O={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:K,parameters:f.util.bytesToHex(E).toUpperCase()},body:ne.output.getBytes()};return f.pem.encode(O)},w.decryptRsaPrivateKey=function(R,L){var W=null,P=f.pem.decode(R)[0];if("ENCRYPTED PRIVATE KEY"!==P.type&&"PRIVATE KEY"!==P.type&&"RSA PRIVATE KEY"!==P.type)throw(K=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=K,K;if(P.procType&&"ENCRYPTED"===P.procType.type){var E,S;switch(P.dekInfo.algorithm){case"DES-CBC":E=8,S=f.des.createDecryptionCipher;break;case"DES-EDE3-CBC":E=24,S=f.des.createDecryptionCipher;break;case"AES-128-CBC":E=16,S=f.aes.createDecryptionCipher;break;case"AES-192-CBC":E=24,S=f.aes.createDecryptionCipher;break;case"AES-256-CBC":E=32,S=f.aes.createDecryptionCipher;break;case"RC2-40-CBC":E=5,S=function(O){return f.rc2.createDecryptionCipher(O,40)};break;case"RC2-64-CBC":E=8,S=function(O){return f.rc2.createDecryptionCipher(O,64)};break;case"RC2-128-CBC":E=16,S=function(O){return f.rc2.createDecryptionCipher(O,128)};break;default:var K;throw(K=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".')).algorithm=P.dekInfo.algorithm,K}var _=f.util.hexToBytes(P.dekInfo.parameters),j=S(f.pbe.opensslDeriveBytes(L,_.substr(0,8),E));if(j.start(_),j.update(f.util.createBuffer(P.body)),!j.finish())return W;W=j.output.getBytes()}else W=P.body;return null!==(W="ENCRYPTED PRIVATE KEY"===P.type?w.decryptPrivateKeyInfo(v.fromDer(W),L):v.fromDer(W))&&(W=w.privateKeyFromAsn1(W)),W},w.pbe.generatePkcs12Key=function(R,L,W,P,K,E){var S,_;if(typeof E>"u"||null===E){if(!("sha1"in f.md))throw new Error('"sha1" hash algorithm unavailable.');E=f.md.sha1.create()}var Q=E.digestLength,j=E.blockLength,ne=new f.util.ByteBuffer,O=new f.util.ByteBuffer;if(null!=R){for(_=0;_<R.length;_++)O.putInt16(R.charCodeAt(_));O.putInt16(0)}var N=O.length(),G=L.length(),g=new f.util.ByteBuffer;g.fillWithByte(W,j);var V=j*Math.ceil(G/j),ae=new f.util.ByteBuffer;for(_=0;_<V;_++)ae.putByte(L.at(_%G));var re=j*Math.ceil(N/j),xe=new f.util.ByteBuffer;for(_=0;_<re;_++)xe.putByte(O.at(_%N));var Be=ae;Be.putBuffer(xe);for(var Ve=Math.ceil(K/Q),nt=1;nt<=Ve;nt++){var it=new f.util.ByteBuffer;it.putBytes(g.bytes()),it.putBytes(Be.bytes());for(var Ue=0;Ue<P;Ue++)E.start(),E.update(it.getBytes()),it=E.digest();var qe=new f.util.ByteBuffer;for(_=0;_<j;_++)qe.putByte(it.at(_%Q));var ft=Math.ceil(G/j)+Math.ceil(N/j),Je=new f.util.ByteBuffer;for(S=0;S<ft;S++){var Yt=new f.util.ByteBuffer(Be.getBytes(j)),ht=511;for(_=qe.length()-1;_>=0;_--)ht>>=8,ht+=qe.at(_)+Yt.at(_),Yt.setAt(_,255&ht);Je.putBuffer(Yt)}Be=Je,ne.putBuffer(it)}return ne.truncate(ne.length()-K),ne},w.pbe.getCipher=function(R,L,W){switch(R){case w.oids.pkcs5PBES2:return w.pbe.getCipherForPBES2(R,L,W);case w.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case w.oids["pbewithSHAAnd40BitRC2-CBC"]:return w.pbe.getCipherForPKCS12PBE(R,L,W);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=R,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},w.pbe.getCipherForPBES2=function(R,L,W){var E,P={},K=[];if(!v.validate(L,T,P,K))throw(E=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=K,E;if((R=v.derToOid(P.kdfOid))!==w.oids.pkcs5PBKDF2)throw(E=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=R,E.supportedOids=["pkcs5PBKDF2"],E;if((R=v.derToOid(P.encOid))!==w.oids["aes128-CBC"]&&R!==w.oids["aes192-CBC"]&&R!==w.oids["aes256-CBC"]&&R!==w.oids["des-EDE3-CBC"]&&R!==w.oids.desCBC)throw(E=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=R,E.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],E;var Q,j,S=P.kdfSalt,_=f.util.createBuffer(P.kdfIterationCount);switch(_=_.getInt(_.length()<<3),w.oids[R]){case"aes128-CBC":Q=16,j=f.aes.createDecryptionCipher;break;case"aes192-CBC":Q=24,j=f.aes.createDecryptionCipher;break;case"aes256-CBC":Q=32,j=f.aes.createDecryptionCipher;break;case"des-EDE3-CBC":Q=24,j=f.des.createDecryptionCipher;break;case"desCBC":Q=8,j=f.des.createDecryptionCipher}var ne=I(P.prfOid),O=f.pkcs5.pbkdf2(W,S,_,Q,ne),N=P.encIv,G=j(O);return G.start(N),G},w.pbe.getCipherForPKCS12PBE=function(R,L,W){var P={},K=[];if(!v.validate(L,A,P,K))throw(E=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=K,E;var Q,j,ne,S=f.util.createBuffer(P.salt),_=f.util.createBuffer(P.iterations);switch(_=_.getInt(_.length()<<3),R){case w.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:Q=24,j=8,ne=f.des.startDecrypting;break;case w.oids["pbewithSHAAnd40BitRC2-CBC"]:Q=5,j=8,ne=function(V,ae){var re=f.rc2.createDecryptionCipher(V,40);return re.start(ae,null),re};break;default:var E;throw(E=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=R,E}var O=I(P.prfOid),N=w.pbe.generatePkcs12Key(W,S,1,_,Q,O);return O.start(),ne(N,w.pbe.generatePkcs12Key(W,S,2,_,j,O))},w.pbe.opensslDeriveBytes=function(R,L,W,P){if(typeof P>"u"||null===P){if(!("md5"in f.md))throw new Error('"md5" hash algorithm unavailable.');P=f.md.md5.create()}null===L&&(L="");for(var K=[x(P,R+L)],E=16,S=1;E<W;++S,E+=16)K.push(x(P,K[S-1]+R+L));return K.join("").substr(0,W)}},7949:(tt,de,H)=>{var f=H(8659);H(9032),H(979),H(4747);var v,c=f.pkcs5=f.pkcs5||{};f.util.isNodejs&&!f.options.usePureJavaScript&&(v=H(5819)),tt.exports=f.pbkdf2=c.pbkdf2=function(w,F,B,T,A,x){if("function"==typeof A&&(x=A,A=null),f.util.isNodejs&&!f.options.usePureJavaScript&&v.pbkdf2&&(null===A||"object"!=typeof A)&&(v.pbkdf2Sync.length>4||!A||"sha1"===A))return"string"!=typeof A&&(A="sha1"),w=Buffer.from(w,"binary"),F=Buffer.from(F,"binary"),x?4===v.pbkdf2Sync.length?v.pbkdf2(w,F,B,T,function(ne,O){if(ne)return x(ne);x(null,O.toString("binary"))}):v.pbkdf2(w,F,B,T,A,function(ne,O){if(ne)return x(ne);x(null,O.toString("binary"))}):4===v.pbkdf2Sync.length?v.pbkdf2Sync(w,F,B,T).toString("binary"):v.pbkdf2Sync(w,F,B,T,A).toString("binary");if((typeof A>"u"||null===A)&&(A="sha1"),"string"==typeof A){if(!(A in f.md.algorithms))throw new Error("Unknown hash algorithm: "+A);A=f.md[A].create()}var I=A.digestLength;if(T>4294967295*I){var M=new Error("Derived key is too long.");if(x)return x(M);throw M}var J=Math.ceil(T/I),R=T-(J-1)*I,L=f.hmac.create();L.start(A,w);var P,K,E,W="";if(!x){for(var S=1;S<=J;++S){L.start(null,null),L.update(F),L.update(f.util.int32ToBytes(S)),P=E=L.digest().getBytes();for(var _=2;_<=B;++_)L.start(null,null),L.update(E),K=L.digest().getBytes(),P=f.util.xorBytes(P,K,I),E=K;W+=S<J?P:P.substr(0,R)}return W}function Q(){if(S>J)return x(null,W);L.start(null,null),L.update(F),L.update(f.util.int32ToBytes(S)),P=E=L.digest().getBytes(),_=2,j()}function j(){if(_<=B)return L.start(null,null),L.update(E),K=L.digest().getBytes(),P=f.util.xorBytes(P,K,I),E=K,++_,f.util.setImmediate(j);W+=S<J?P:P.substr(0,R),++S,Q()}S=1,Q()}},8604:(tt,de,H)=>{var f=H(8659);H(4747);var c=tt.exports=f.pem=f.pem||{};function v(F){for(var B=F.name+": ",T=[],A=function(R,L){return" "+L},x=0;x<F.values.length;++x)T.push(F.values[x].replace(/^(\S+\r\n)/,A));B+=T.join(",")+"\r\n";var I=0,M=-1;for(x=0;x<B.length;++x,++I)if(I>65&&-1!==M){var J=B[M];","===J?(++M,B=B.substr(0,M)+"\r\n "+B.substr(M)):B=B.substr(0,M)+"\r\n"+J+B.substr(M+1),I=x-M-1,M=-1,++x}else(" "===B[x]||"\t"===B[x]||","===B[x])&&(M=x);return B}function w(F){return F.replace(/^\s+/,"")}c.encode=function(F,B){B=B||{};var A,T="-----BEGIN "+F.type+"-----\r\n";if(F.procType&&(T+=v(A={name:"Proc-Type",values:[String(F.procType.version),F.procType.type]})),F.contentDomain&&(T+=v(A={name:"Content-Domain",values:[F.contentDomain]})),F.dekInfo&&(A={name:"DEK-Info",values:[F.dekInfo.algorithm]},F.dekInfo.parameters&&A.values.push(F.dekInfo.parameters),T+=v(A)),F.headers)for(var x=0;x<F.headers.length;++x)T+=v(F.headers[x]);return F.procType&&(T+="\r\n"),(T+=f.util.encode64(F.body,B.maxline||64)+"\r\n")+"-----END "+F.type+"-----\r\n"},c.decode=function(F){for(var I,B=[],T=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,A=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,x=/\r?\n/;I=T.exec(F);){var M=I[1];"NEW CERTIFICATE REQUEST"===M&&(M="CERTIFICATE REQUEST");var J={type:M,procType:null,contentDomain:null,dekInfo:null,headers:[],body:f.util.decode64(I[3])};if(B.push(J),I[2]){for(var R=I[2].split(x),L=0;I&&L<R.length;){for(var W=R[L].replace(/\s+$/,""),P=L+1;P<R.length;++P){var K=R[P];if(!/\s/.test(K[0]))break;W+=K,L=P}if(I=W.match(A)){for(var E={name:I[1],values:[]},S=I[2].split(","),_=0;_<S.length;++_)E.values.push(w(S[_]));if(J.procType)if(J.contentDomain||"Content-Domain"!==E.name)if(J.dekInfo||"DEK-Info"!==E.name)J.headers.push(E);else{if(0===E.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');J.dekInfo={algorithm:S[0],parameters:S[1]||null}}else J.contentDomain=S[0]||"";else{if("Proc-Type"!==E.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==E.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');J.procType={version:S[0],type:S[1]}}}++L}if("ENCRYPTED"===J.procType&&!J.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===B.length)throw new Error("Invalid PEM formatted message.");return B}},7246:(tt,de,H)=>{var f=H(8659);H(4747),H(8365),H(7690);var c=tt.exports=f.pkcs1=f.pkcs1||{};function v(w,F,B){B||(B=f.md.sha1.create());for(var T="",A=Math.ceil(F/B.digestLength),x=0;x<A;++x){var I=String.fromCharCode(x>>24&255,x>>16&255,x>>8&255,255&x);B.start(),B.update(w+I),T+=B.digest().getBytes()}return T.substring(0,F)}c.encode_rsa_oaep=function(w,F,B){var T,A,x,I;"string"==typeof B?(T=B,A=arguments[3]||void 0,x=arguments[4]||void 0):B&&(T=B.label||void 0,A=B.seed||void 0,x=B.md||void 0,B.mgf1&&B.mgf1.md&&(I=B.mgf1.md)),x?x.start():x=f.md.sha1.create(),I||(I=x);var M=Math.ceil(w.n.bitLength()/8),J=M-2*x.digestLength-2;if(F.length>J)throw(R=new Error("RSAES-OAEP input message length is too long.")).length=F.length,R.maxLength=J,R;T||(T=""),x.update(T,"raw");for(var L=x.digest(),W="",P=J-F.length,K=0;K<P;K++)W+="\0";var E=L.getBytes()+W+"\x01"+F;if(A){if(A.length!==x.digestLength){var R;throw(R=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=A.length,R.digestLength=x.digestLength,R}}else A=f.random.getBytes(x.digestLength);var S=v(A,M-x.digestLength-1,I),_=f.util.xorBytes(E,S,E.length),Q=v(_,x.digestLength,I),j=f.util.xorBytes(A,Q,A.length);return"\0"+j+_},c.decode_rsa_oaep=function(w,F,B){var T,A,x;"string"==typeof B?(T=B,A=arguments[3]||void 0):B&&(T=B.label||void 0,A=B.md||void 0,B.mgf1&&B.mgf1.md&&(x=B.mgf1.md));var I=Math.ceil(w.n.bitLength()/8);if(F.length!==I)throw(_=new Error("RSAES-OAEP encoded message length is invalid.")).length=F.length,_.expectedLength=I,_;if(void 0===A?A=f.md.sha1.create():A.start(),x||(x=A),I<2*A.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");T||(T=""),A.update(T,"raw");for(var M=A.digest().getBytes(),J=F.charAt(0),R=F.substring(1,A.digestLength+1),L=F.substring(1+A.digestLength),W=v(L,A.digestLength,x),P=f.util.xorBytes(R,W,R.length),K=v(P,I-A.digestLength-1,x),E=f.util.xorBytes(L,K,L.length),S=E.substring(0,A.digestLength),_="\0"!==J,Q=0;Q<A.digestLength;++Q)_|=M.charAt(Q)!==S.charAt(Q);for(var j=1,ne=A.digestLength,O=A.digestLength;O<E.length;O++){var N=E.charCodeAt(O),G=1&N^1,g=j?65534:0;_|=N&g,ne+=j&=G}if(_||1!==E.charCodeAt(ne))throw new Error("Invalid RSAES-OAEP padding.");return E.substring(ne+1)}},562:(tt,de,H)=>{var f=H(8659);H(7791),H(9032),H(6078),H(4957),H(2158),H(8365),H(5517),H(7690),H(4747),H(5911);var c=f.asn1,v=f.pki,w=tt.exports=f.pkcs12=f.pkcs12||{},F={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},B={name:"PFX",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},F,{name:"PFX.macData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},T={name:"SafeBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},A={name:"Attribute",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,capture:"values"}]},x={name:"CertBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:c.Class.UNIVERSAL,type:c.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function I(P,K,E,S){for(var _=[],Q=0;Q<P.length;Q++)for(var j=0;j<P[Q].safeBags.length;j++){var ne=P[Q].safeBags[j];if(void 0===S||ne.type===S){if(null===K){_.push(ne);continue}void 0!==ne.attributes[K]&&ne.attributes[K].indexOf(E)>=0&&_.push(ne)}}return _}function M(P){if(P.composed||P.constructed){for(var K=f.util.createBuffer(),E=0;E<P.value.length;++E)K.putBytes(P.value[E].value);P.composed=P.constructed=!1,P.value=K.getBytes()}return P}function R(P,K){var E={},S=[];if(!c.validate(P,f.pkcs7.asn1.encryptedDataValidator,E,S))throw(_=new Error("Cannot read EncryptedContentInfo.")).errors=S,_;var _,Q=c.derToOid(E.contentType);if(Q!==v.oids.data)throw(_=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=Q,_;Q=c.derToOid(E.encAlgorithm);var j=v.pbe.getCipher(Q,E.encParameter,K),ne=M(E.encryptedContentAsn1),O=f.util.createBuffer(ne.value);if(j.update(O),!j.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return j.output.getBytes()}function L(P,K,E){if(!K&&0===P.length)return[];if((P=c.fromDer(P,K)).tagClass!==c.Class.UNIVERSAL||P.type!==c.Type.SEQUENCE||!0!==P.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var S=[],_=0;_<P.value.length;_++){var j={},ne=[];if(!c.validate(P.value[_],T,j,ne))throw(O=new Error("Cannot read SafeBag.")).errors=ne,O;var N={type:c.derToOid(j.bagId),attributes:W(j.bagAttributes)};S.push(N);var G,g,V=j.bagValue.value[0];switch(N.type){case v.oids.pkcs8ShroudedKeyBag:if(null===(V=v.decryptPrivateKeyInfo(V,E)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case v.oids.keyBag:try{N.key=v.privateKeyFromAsn1(V)}catch{N.key=null,N.asn1=V}continue;case v.oids.certBag:G=x,g=function(){if(c.derToOid(j.certId)!==v.oids.x509Certificate){var re=new Error("Unsupported certificate type, only X.509 supported.");throw re.oid=c.derToOid(j.certId),re}var xe=c.fromDer(j.cert,K);try{N.cert=v.certificateFromAsn1(xe,!0)}catch{N.cert=null,N.asn1=xe}};break;default:var O;throw(O=new Error("Unsupported PKCS#12 SafeBag type.")).oid=N.type,O}if(void 0!==G&&!c.validate(V,G,j,ne))throw(O=new Error("Cannot read PKCS#12 "+G.name)).errors=ne,O;g()}return S}function W(P){var K={};if(void 0!==P)for(var E=0;E<P.length;++E){var S={},_=[];if(!c.validate(P[E],A,S,_)){var Q=new Error("Cannot read PKCS#12 BagAttribute.");throw Q.errors=_,Q}var j=c.derToOid(S.oid);if(void 0!==v.oids[j]){K[v.oids[j]]=[];for(var ne=0;ne<S.values.length;++ne)K[v.oids[j]].push(S.values[ne].value)}}return K}w.pkcs12FromAsn1=function(P,K,E){"string"==typeof K?(E=K,K=!0):void 0===K&&(K=!0);var S={};if(!c.validate(P,B,S,[]))throw(Q=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=Q,Q;var Q,j={version:S.version.charCodeAt(0),safeContents:[],getBags:function(Be){var nt,Ve={};return"localKeyId"in Be?nt=Be.localKeyId:"localKeyIdHex"in Be&&(nt=f.util.hexToBytes(Be.localKeyIdHex)),void 0===nt&&!("friendlyName"in Be)&&"bagType"in Be&&(Ve[Be.bagType]=I(j.safeContents,null,null,Be.bagType)),void 0!==nt&&(Ve.localKeyId=I(j.safeContents,"localKeyId",nt,Be.bagType)),"friendlyName"in Be&&(Ve.friendlyName=I(j.safeContents,"friendlyName",Be.friendlyName,Be.bagType)),Ve},getBagsByFriendlyName:function(Be,Ve){return I(j.safeContents,"friendlyName",Be,Ve)},getBagsByLocalKeyId:function(Be,Ve){return I(j.safeContents,"localKeyId",Be,Ve)}};if(3!==S.version.charCodeAt(0))throw(Q=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=S.version.charCodeAt(0),Q;if(c.derToOid(S.contentType)!==v.oids.data)throw(Q=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=c.derToOid(S.contentType),Q;var ne=S.content.value[0];if(ne.tagClass!==c.Class.UNIVERSAL||ne.type!==c.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(ne=M(ne),S.mac){var O=null,N=0,G=c.derToOid(S.macAlgorithm);switch(G){case v.oids.sha1:O=f.md.sha1.create(),N=20;break;case v.oids.sha256:O=f.md.sha256.create(),N=32;break;case v.oids.sha384:O=f.md.sha384.create(),N=48;break;case v.oids.sha512:O=f.md.sha512.create(),N=64;break;case v.oids.md5:O=f.md.md5.create(),N=16}if(null===O)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+G);var g=new f.util.ByteBuffer(S.macSalt),V="macIterations"in S?parseInt(f.util.bytesToHex(S.macIterations),16):1,ae=w.generateKey(E,g,3,V,N,O),re=f.hmac.create();if(re.start(O,ae),re.update(ne.value),re.getMac().getBytes()!==S.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function J(P,K,E,S){if((K=c.fromDer(K,E)).tagClass!==c.Class.UNIVERSAL||K.type!==c.Type.SEQUENCE||!0!==K.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var _=0;_<K.value.length;_++){var j={},ne=[];if(!c.validate(K.value[_],F,j,ne))throw(O=new Error("Cannot read ContentInfo.")).errors=ne,O;var N={encrypted:!1},G=null,g=j.content.value[0];switch(c.derToOid(j.contentType)){case v.oids.data:if(g.tagClass!==c.Class.UNIVERSAL||g.type!==c.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");G=M(g).value;break;case v.oids.encryptedData:G=R(g,S),N.encrypted=!0;break;default:var O;throw(O=new Error("Unsupported PKCS#12 contentType.")).contentType=c.derToOid(j.contentType),O}N.safeBags=L(G,E,S),P.safeContents.push(N)}}(j,ne.value,K,E),j},w.toPkcs12Asn1=function(P,K,E,S){(S=S||{}).saltSize=S.saltSize||8,S.count=S.count||2048,S.algorithm=S.algorithm||S.encAlgorithm||"aes128","useMac"in S||(S.useMac=!0),"localKeyId"in S||(S.localKeyId=null),"generateLocalKeyId"in S||(S.generateLocalKeyId=!0);var Q,_=S.localKeyId;if(null!==_)_=f.util.hexToBytes(_);else if(S.generateLocalKeyId)if(K){var j=f.util.isArray(K)?K[0]:K;"string"==typeof j&&(j=v.certificateFromPem(j)),(ne=f.md.sha1.create()).update(c.toDer(v.certificateToAsn1(j)).getBytes()),_=ne.digest().getBytes()}else _=f.random.getBytes(20);var O=[];null!==_&&O.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.localKeyId).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_)])])),"friendlyName"in S&&O.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.friendlyName).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.BMPSTRING,!1,S.friendlyName)])])),O.length>0&&(Q=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,O));var N=[],G=[];null!==K&&(G=f.util.isArray(K)?K:[K]);for(var g=[],V=0;V<G.length;++V){"string"==typeof(K=G[V])&&(K=v.certificateFromPem(K));var ae=0===V?Q:void 0,re=v.certificateToAsn1(K),xe=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.certBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.x509Certificate).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(re).getBytes())])])]),ae]);g.push(xe)}if(g.length>0){var Be=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,g),Ve=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(Be).getBytes())])]);N.push(Ve)}var nt=null;if(null!==P){var it=v.wrapRsaPrivateKey(v.privateKeyToAsn1(P));nt=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,null===E?[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.keyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[it]),Q]:[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.pkcs8ShroudedKeyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[v.encryptPrivateKeyInfo(it,E,S)]),Q]);var Ue=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[nt]),qe=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(Ue).getBytes())])]);N.push(qe)}var Je,ft=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,N);if(S.useMac){var ne=f.md.sha1.create(),Yt=new f.util.ByteBuffer(f.random.getBytes(S.saltSize)),ht=S.count,gr=(P=w.generateKey(E,Yt,3,ht,20),f.hmac.create());gr.start(ne,P),gr.update(c.toDer(ft).getBytes());var Rt=gr.getMac();Je=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.sha1).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,Rt.getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,Yt.getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(ht).getBytes())])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(3).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(v.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(ft).getBytes())])]),Je])},w.generateKey=f.pbe.generatePkcs12Key},422:(tt,de,H)=>{var f=H(8659);H(1298),H(7791),H(279),H(6078),H(8604),H(4957),H(8365),H(4747),H(5911);var c=f.asn1,v=tt.exports=f.pkcs7=f.pkcs7||{};function w(P){var K={},E=[];if(!c.validate(P,v.asn1.recipientInfoValidator,K,E)){var S=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw S.errors=E,S}return{version:K.version.charCodeAt(0),issuer:f.pki.RDNAttributesAsArray(K.issuer),serialNumber:f.util.createBuffer(K.serial).toHex(),encryptedContent:{algorithm:c.derToOid(K.encAlgorithm),parameter:K.encParameter?K.encParameter.value:void 0,content:K.encKey}}}function F(P){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:P.issuer}),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(P.serialNumber))]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.encryptedContent.algorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.encryptedContent.content)])}function T(P){for(var K=[],E=0;E<P.length;++E)K.push(F(P[E]));return K}function x(P){var K=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[f.pki.distinguishedNameToAsn1({attributes:P.issuer}),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(P.serialNumber))]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.digestAlgorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])]);if(P.authenticatedAttributesAsn1&&K.value.push(P.authenticatedAttributesAsn1),K.value.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.signatureAlgorithm).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])),K.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.signature)),P.unauthenticatedAttributes.length>0){for(var E=c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<P.unauthenticatedAttributes.length;++S)E.values.push(J(P.unauthenticatedAttributes[S]));K.value.push(E)}return K}function J(P){var K;if(P.type===f.pki.oids.contentType)K=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.value).getBytes());else if(P.type===f.pki.oids.messageDigest)K=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.value.bytes());else if(P.type===f.pki.oids.signingTime){var E=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z"),_=P.value;if("string"==typeof _){var Q=Date.parse(_);_=isNaN(Q)?13===_.length?c.utcTimeToDate(_):c.generalizedTimeToDate(_):new Date(Q)}K=_>=E&&_<S?c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(_)):c.create(c.Class.UNIVERSAL,c.Type.GENERALIZEDTIME,!1,c.dateToGeneralizedTime(_))}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[K])])}function R(P){return[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.pki.oids.data).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.algorithm).getBytes()),P.parameter?c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.parameter.getBytes()):void 0]),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.content.getBytes())])]}function L(P,K,E){var S={};if(!c.validate(K,E,S,[])){var Q=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw Q.errors=Q,Q}if(c.derToOid(S.contentType)!==f.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(S.encryptedContent){var ne="";if(f.util.isArray(S.encryptedContent))for(var O=0;O<S.encryptedContent.length;++O){if(S.encryptedContent[O].type!==c.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");ne+=S.encryptedContent[O].value}else ne=S.encryptedContent;P.encryptedContent={algorithm:c.derToOid(S.encAlgorithm),parameter:f.util.createBuffer(S.encParameter.value),content:f.util.createBuffer(ne)}}if(S.content){if(ne="",f.util.isArray(S.content))for(O=0;O<S.content.length;++O){if(S.content[O].type!==c.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");ne+=S.content[O].value}else ne=S.content;P.content=f.util.createBuffer(ne)}return P.version=S.version.charCodeAt(0),P.rawCapture=S,S}function W(P){if(void 0===P.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===P.content){var K;switch(P.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:case f.pki.oids["aes192-CBC"]:case f.pki.oids["aes256-CBC"]:K=f.aes.createDecryptionCipher(P.encryptedContent.key);break;case f.pki.oids.desCBC:case f.pki.oids["des-EDE3-CBC"]:K=f.des.createDecryptionCipher(P.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+P.encryptedContent.algorithm)}if(K.start(P.encryptedContent.parameter),K.update(P.encryptedContent.content),!K.finish())throw new Error("Symmetric decryption failed.");P.content=K.output}}v.messageFromPem=function(P){var K=f.pem.decode(P)[0];if("PKCS7"!==K.type){var E=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw E.headerType=K.type,E}if(K.procType&&"ENCRYPTED"===K.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var S=c.fromDer(K.body);return v.messageFromAsn1(S)},v.messageToPem=function(P,K){var E={type:"PKCS7",body:c.toDer(P.toAsn1()).getBytes()};return f.pem.encode(E,{maxline:K})},v.messageFromAsn1=function(P){var K={},E=[];if(!c.validate(P,v.asn1.contentInfoValidator,K,E)){var S=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw S.errors=E,S}var Q,_=c.derToOid(K.contentType);switch(_){case f.pki.oids.envelopedData:Q=v.createEnvelopedData();break;case f.pki.oids.encryptedData:Q=v.createEncryptedData();break;case f.pki.oids.signedData:Q=v.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+_+" is not (yet) supported.")}return Q.fromAsn1(K.content.value[0]),Q},v.createSignedData=function(){var P=null;return P={type:f.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(S){if(L(P,S,v.asn1.signedDataValidator),P.certificates=[],P.crls=[],P.digestAlgorithmIdentifiers=[],P.contentInfo=null,P.signerInfos=[],P.rawCapture.certificates)for(var _=P.rawCapture.certificates.value,Q=0;Q<_.length;++Q)P.certificates.push(f.pki.certificateFromAsn1(_[Q]))},toAsn1:function(){P.contentInfo||P.sign();for(var S=[],_=0;_<P.certificates.length;++_)S.push(f.pki.certificateToAsn1(P.certificates[_]));var Q=[],j=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,P.digestAlgorithmIdentifiers),P.contentInfo])]);return S.length>0&&j.value[0].value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,S)),Q.length>0&&j.value[0].value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,Q)),j.value[0].value.push(c.create(c.Class.UNIVERSAL,c.Type.SET,!0,P.signerInfos)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),j])},addSigner:function(S){var _=S.issuer,Q=S.serialNumber;if(S.certificate){var j=S.certificate;"string"==typeof j&&(j=f.pki.certificateFromPem(j)),_=j.issuer.attributes,Q=j.serialNumber}var ne=S.key;if(!ne)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof ne&&(ne=f.pki.privateKeyFromPem(ne));var O=S.digestAlgorithm||f.pki.oids.sha1;switch(O){case f.pki.oids.sha1:case f.pki.oids.sha256:case f.pki.oids.sha384:case f.pki.oids.sha512:case f.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+O)}var N=S.authenticatedAttributes||[];if(N.length>0){for(var G=!1,g=!1,V=0;V<N.length;++V){var ae=N[V];if(G||ae.type!==f.pki.oids.contentType){if(g||ae.type!==f.pki.oids.messageDigest);else if(g=!0,G)break}else if(G=!0,g)break}if(!G||!g)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}P.signers.push({key:ne,version:1,issuer:_,serialNumber:Q,digestAlgorithm:O,signatureAlgorithm:f.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:N,unauthenticatedAttributes:[]})},sign:function(S){var _;if(S=S||{},"object"==typeof P.content&&null!==P.contentInfo||(P.contentInfo=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.pki.oids.data).getBytes())]),!("content"in P))||(P.content instanceof f.util.ByteBuffer?_=P.content.bytes():"string"==typeof P.content&&(_=f.util.encodeUtf8(P.content)),S.detached?P.detachedContent=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_):P.contentInfo.value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,_)]))),0!==P.signers.length){var Q=function K(){for(var S={},_=0;_<P.signers.length;++_){var Q=P.signers[_];(j=Q.digestAlgorithm)in S||(S[j]=f.md[f.pki.oids[j]].create()),Q.md=0===Q.authenticatedAttributes.length?S[j]:f.md[f.pki.oids[j]].create()}for(var j in P.digestAlgorithmIdentifiers=[],S)P.digestAlgorithmIdentifiers.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(j).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]));return S}();!function E(S){var _;if(!(_=P.detachedContent?P.detachedContent:(_=P.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var Q=c.derToOid(P.contentInfo.value[0].value),j=c.toDer(_);for(var ne in j.getByte(),c.getBerValueLength(j),j=j.getBytes(),S)S[ne].start().update(j);for(var O=new Date,N=0;N<P.signers.length;++N){var G=P.signers[N];if(0===G.authenticatedAttributes.length){if(Q!==f.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{G.authenticatedAttributesAsn1=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var g=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[]),V=0;V<G.authenticatedAttributes.length;++V){var ae=G.authenticatedAttributes[V];ae.type===f.pki.oids.messageDigest?ae.value=S[G.digestAlgorithm].digest():ae.type===f.pki.oids.signingTime&&(ae.value||(ae.value=O)),g.value.push(J(ae)),G.authenticatedAttributesAsn1.value.push(J(ae))}j=c.toDer(g).getBytes(),G.md.start().update(j)}G.signature=G.key.sign(G.md,"RSASSA-PKCS1-V1_5")}P.signerInfos=function M(P){for(var K=[],E=0;E<P.length;++E)K.push(x(P[E]));return K}(P.signers)}(Q)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(S){"string"==typeof S&&(S=f.pki.certificateFromPem(S)),P.certificates.push(S)},addCertificateRevokationList:function(S){throw new Error("PKCS#7 CRL support not yet implemented.")}}},v.createEncryptedData=function(){var P=null;return P={type:f.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(K){L(P,K,v.asn1.encryptedDataValidator)},decrypt:function(K){void 0!==K&&(P.encryptedContent.key=K),W(P)}}},v.createEnvelopedData=function(){var P=null;return P={type:f.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:f.pki.oids["aes256-CBC"]},fromAsn1:function(K){var E=L(P,K,v.asn1.envelopedDataValidator);P.recipients=function B(P){for(var K=[],E=0;E<P.length;++E)K.push(w(P[E]));return K}(E.recipientInfos.value)},toAsn1:function(){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(P.type).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(P.version).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,T(P.recipients)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,R(P.encryptedContent))])])])},findRecipient:function(K){for(var E=K.issuer.attributes,S=0;S<P.recipients.length;++S){var _=P.recipients[S],Q=_.issuer;if(_.serialNumber===K.serialNumber&&Q.length===E.length){for(var j=!0,ne=0;ne<E.length;++ne)if(Q[ne].type!==E[ne].type||Q[ne].value!==E[ne].value){j=!1;break}if(j)return _}}return null},decrypt:function(K,E){if(void 0===P.encryptedContent.key&&void 0!==K&&void 0!==E)switch(K.encryptedContent.algorithm){case f.pki.oids.rsaEncryption:case f.pki.oids.desCBC:var S=E.decrypt(K.encryptedContent.content);P.encryptedContent.key=f.util.createBuffer(S);break;default:throw new Error("Unsupported asymmetric cipher, OID "+K.encryptedContent.algorithm)}W(P)},addRecipient:function(K){P.recipients.push({version:0,issuer:K.issuer.attributes,serialNumber:K.serialNumber,encryptedContent:{algorithm:f.pki.oids.rsaEncryption,key:K.publicKey}})},encrypt:function(K,E){if(void 0===P.encryptedContent.content){var S,_,Q;switch(K=K||P.encryptedContent.key,E=E||P.encryptedContent.algorithm){case f.pki.oids["aes128-CBC"]:S=16,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["aes192-CBC"]:S=24,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["aes256-CBC"]:S=32,_=16,Q=f.aes.createEncryptionCipher;break;case f.pki.oids["des-EDE3-CBC"]:S=24,_=8,Q=f.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+E)}if(void 0===K)K=f.util.createBuffer(f.random.getBytes(S));else if(K.length()!=S)throw new Error("Symmetric key has wrong length; got "+K.length()+" bytes, expected "+S+".");P.encryptedContent.algorithm=E,P.encryptedContent.key=K,P.encryptedContent.parameter=f.util.createBuffer(f.random.getBytes(_));var j=Q(K);if(j.start(P.encryptedContent.parameter.copy()),j.update(P.content),!j.finish())throw new Error("Symmetric encryption failed.");P.encryptedContent.content=j.output}for(var ne=0;ne<P.recipients.length;++ne){var O=P.recipients[ne];if(void 0===O.encryptedContent.content){if(O.encryptedContent.algorithm!==f.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+O.encryptedContent.algorithm);O.encryptedContent.content=O.encryptedContent.key.encrypt(P.encryptedContent.key.data)}}}}}},4957:(tt,de,H)=>{var f=H(8659);H(7791),H(4747);var c=f.asn1,v=tt.exports=f.pkcs7asn1=f.pkcs7asn1||{};f.pkcs7=f.pkcs7||{},f.pkcs7.asn1=v;var w={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};v.contentInfoValidator=w;var F={name:"EncryptedContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};v.envelopedDataValidator={name:"EnvelopedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(F)},v.encryptedDataValidator={name:"EncryptedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"}].concat(F)},v.signedDataValidator={name:"SignedData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},w,{name:"SignedData.Certificates",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},v.recipientInfoValidator={name:"RecipientInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:c.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},1965:(tt,de,H)=>{var f=H(8659);H(7791),H(6078),H(2158),H(8604),H(7949),H(562),H(7256),H(5517),H(4747),H(5911);var c=f.asn1,v=tt.exports=f.pki=f.pki||{};v.pemToDer=function(w){var F=f.pem.decode(w)[0];if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return f.util.createBuffer(F.body)},v.privateKeyFromPem=function(w){var F=f.pem.decode(w)[0];if("PRIVATE KEY"!==F.type&&"RSA PRIVATE KEY"!==F.type){var B=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw B.headerType=F.type,B}if(F.procType&&"ENCRYPTED"===F.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var T=c.fromDer(F.body);return v.privateKeyFromAsn1(T)},v.privateKeyToPem=function(w,F){var B={type:"RSA PRIVATE KEY",body:c.toDer(v.privateKeyToAsn1(w)).getBytes()};return f.pem.encode(B,{maxline:F})},v.privateKeyInfoToPem=function(w,F){var B={type:"PRIVATE KEY",body:c.toDer(w).getBytes()};return f.pem.encode(B,{maxline:F})}},9709:(tt,de,H)=>{var f=H(8659);H(4747),H(730),H(8365),function(){if(f.prime)tt.exports=f.prime;else{var c=tt.exports=f.prime=f.prime||{},v=f.jsbn.BigInteger,w=[6,4,2,4,2,4,6,2],F=new v(null);F.fromInt(30);var B=function(R,L){return R|L};c.generateProbablePrime=function(R,L,W){"function"==typeof L&&(W=L,L={});var P=(L=L||{}).algorithm||"PRIMEINC";"string"==typeof P&&(P={name:P}),P.options=P.options||{};var K=L.prng||f.random;if("PRIMEINC"===P.name)return function T(R,L,W,P){return"workers"in W?function I(R,L,W,P){if(typeof Worker>"u")return A(R,L,W,P);var K=M(R,L),E=W.workers,S=W.workLoad||100,_=30*S/8,Q=W.workerScript||"forge/prime.worker.js";if(-1===E)return f.util.estimateCores(function(ne,O){ne&&(O=2),E=O-1,j()});function j(){E=Math.max(1,E);for(var ne=[],O=0;O<E;++O)ne[O]=new Worker(Q);for(O=0;O<E;++O)ne[O].addEventListener("message",g);var G=!1;function g(V){if(!G){var ae=V.data;if(ae.found){for(var re=0;re<ne.length;++re)ne[re].terminate();return G=!0,P(null,new v(ae.prime,16))}K.bitLength()>R&&(K=M(R,L));var xe=K.toString(16);V.target.postMessage({hex:xe,workLoad:S}),K.dAddOffset(_,0)}}}j()}(R,L,W,P):A(R,L,W,P)}(R,{nextBytes:function(S){for(var _=K.getBytesSync(S.length),Q=0;Q<S.length;++Q)S[Q]=_.charCodeAt(Q)}},P.options,W);throw new Error("Invalid prime generation algorithm: "+P.name)}}function A(R,L,W,P){var K=M(R,L),S=function J(R){return R<=100?27:R<=150?18:R<=200?15:R<=250?12:R<=300?9:R<=350?8:R<=400?7:R<=500?6:R<=600?5:R<=800?4:R<=1250?3:2}(K.bitLength());"millerRabinTests"in W&&(S=W.millerRabinTests);var _=10;"maxBlockTime"in W&&(_=W.maxBlockTime),x(K,R,L,0,S,_,P)}function x(R,L,W,P,K,E,S){var _=+new Date;do{if(R.bitLength()>L&&(R=M(L,W)),R.isProbablePrime(K))return S(null,R);R.dAddOffset(w[P++%8],0)}while(E<0||+new Date-_<E);f.util.setImmediate(function(){x(R,L,W,P,K,E,S)})}function M(R,L){var W=new v(R,L),P=R-1;return W.testBit(P)||W.bitwiseTo(v.ONE.shiftLeft(P),B,W),W.dAddOffset(31-W.mod(F).byteValue(),0),W}}()},4473:(tt,de,H)=>{var f=H(8659);H(4747);var c=null;f.util.isNodejs&&!f.options.usePureJavaScript&&!process.versions["node-webkit"]&&(c=H(5819)),(tt.exports=f.prng=f.prng||{}).create=function(w){for(var F={plugin:w,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},B=w.md,T=new Array(32),A=0;A<32;++A)T[A]=B.create();function I(){if(F.pools[0].messageLength>=32)return M();F.collect(F.seedFileSync(32-F.pools[0].messageLength<<5)),M()}function M(){F.reseeds=4294967295===F.reseeds?0:F.reseeds+1;var R=F.plugin.md.create();R.update(F.keyBytes);for(var L=1,W=0;W<32;++W)F.reseeds%L==0&&(R.update(F.pools[W].digest().getBytes()),F.pools[W].start()),L<<=1;F.keyBytes=R.digest().getBytes(),R.start(),R.update(F.keyBytes);var P=R.digest().getBytes();F.key=F.plugin.formatKey(F.keyBytes),F.seed=F.plugin.formatSeed(P),F.generated=0}function J(R){var L=null,W=f.util.globalScope,P=W.crypto||W.msCrypto;P&&P.getRandomValues&&(L=function(N){return P.getRandomValues(N)});var K=f.util.createBuffer();if(L)for(;K.length()<R;){var E=Math.max(1,Math.min(R-K.length(),65536)/4),S=new Uint32Array(Math.floor(E));try{L(S);for(var _=0;_<S.length;++_)K.putInt32(S[_])}catch(N){if(!(typeof QuotaExceededError<"u"&&N instanceof QuotaExceededError))throw N}}if(K.length()<R)for(var Q,j,ne,O=Math.floor(65536*Math.random());K.length()<R;)for(j=16807*(65535&O),j+=(32767&(Q=16807*(O>>16)))<<16,O=4294967295&(j=(2147483647&(j+=Q>>15))+(j>>31)),_=0;_<3;++_)ne=O>>>(_<<3),ne^=Math.floor(256*Math.random()),K.putByte(255&ne);return K.getBytes(R)}return F.pools=T,F.pool=0,F.generate=function(R,L){if(!L)return F.generateSync(R);var W=F.plugin.cipher,P=F.plugin.increment,K=F.plugin.formatKey,E=F.plugin.formatSeed,S=f.util.createBuffer();F.key=null,function _(Q){if(Q)return L(Q);if(S.length()>=R)return L(null,S.getBytes(R));if(F.generated>1048575&&(F.key=null),null===F.key)return f.util.nextTick(function(){!function x(R){if(F.pools[0].messageLength>=32)return M(),R();F.seedFile(32-F.pools[0].messageLength<<5,function(W,P){if(W)return R(W);F.collect(P),M(),R()})}(_)});var j=W(F.key,F.seed);F.generated+=j.length,S.putBytes(j),F.key=K(W(F.key,P(F.seed))),F.seed=E(W(F.key,F.seed)),f.util.setImmediate(_)}()},F.generateSync=function(R){var L=F.plugin.cipher,W=F.plugin.increment,P=F.plugin.formatKey,K=F.plugin.formatSeed;F.key=null;for(var E=f.util.createBuffer();E.length()<R;){F.generated>1048575&&(F.key=null),null===F.key&&I();var S=L(F.key,F.seed);F.generated+=S.length,E.putBytes(S),F.key=P(L(F.key,W(F.seed))),F.seed=K(L(F.key,F.seed))}return E.getBytes(R)},c?(F.seedFile=function(R,L){c.randomBytes(R,function(W,P){if(W)return L(W);L(null,P.toString())})},F.seedFileSync=function(R){return c.randomBytes(R).toString()}):(F.seedFile=function(R,L){try{L(null,J(R))}catch(W){L(W)}},F.seedFileSync=J),F.collect=function(R){for(var L=R.length,W=0;W<L;++W)F.pools[F.pool].update(R.substr(W,1)),F.pool=31===F.pool?0:F.pool+1},F.collectInt=function(R,L){for(var W="",P=0;P<L;P+=8)W+=String.fromCharCode(R>>P&255);F.collect(W)},F.registerWorker=function(R){R===self?F.seedFile=function(W,P){self.addEventListener("message",function K(E){var S=E.data;S.forge&&S.forge.prng&&(self.removeEventListener("message",K),P(S.forge.prng.err,S.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:W}}})}:R.addEventListener("message",function(W){var P=W.data;P.forge&&P.forge.prng&&F.seedFile(P.forge.prng.needed,function(K,E){R.postMessage({forge:{prng:{err:K,bytes:E}}})})})},F}},7256:(tt,de,H)=>{var f=H(8659);H(8365),H(4747),(tt.exports=f.pss=f.pss||{}).create=function(v){3===arguments.length&&(v={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var A,w=v.md,F=v.mgf,B=w.digestLength,T=v.salt||null;if("string"==typeof T&&(T=f.util.createBuffer(T)),"saltLength"in v)A=v.saltLength;else{if(null===T)throw new Error("Salt length not specified or specific salt not given.");A=T.length()}if(null!==T&&T.length()!==A)throw new Error("Given salt length does not match length of given salt.");var x=v.prng||f.random,I={encode:function(M,J){var R,K,L=J-1,W=Math.ceil(L/8),P=M.digest().getBytes();if(W<B+A+2)throw new Error("Message is too long to encrypt.");K=null===T?x.getBytesSync(A):T.bytes();var E=new f.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(P),E.putBytes(K),w.start(),w.update(E.getBytes());var S=w.digest().getBytes(),_=new f.util.ByteBuffer;_.fillWithByte(0,W-A-B-2),_.putByte(1),_.putBytes(K);var Q=_.getBytes(),j=W-B-1,ne=F.generate(S,j),O="";for(R=0;R<j;R++)O+=String.fromCharCode(Q.charCodeAt(R)^ne.charCodeAt(R));var N=65280>>8*W-L&255;return(O=String.fromCharCode(O.charCodeAt(0)&~N)+O.substr(1))+S+String.fromCharCode(188)},verify:function(M,J,R){var L,W=R-1,P=Math.ceil(W/8);if(J=J.substr(-P),P<B+A+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==J.charCodeAt(P-1))throw new Error("Encoded message does not end in 0xBC.");var K=P-B-1,E=J.substr(0,K),S=J.substr(K,B),_=65280>>8*P-W&255;if(0!=(E.charCodeAt(0)&_))throw new Error("Bits beyond keysize not zero as expected.");var Q=F.generate(S,K),j="";for(L=0;L<K;L++)j+=String.fromCharCode(E.charCodeAt(L)^Q.charCodeAt(L));j=String.fromCharCode(j.charCodeAt(0)&~_)+j.substr(1);var ne=P-B-A-2;for(L=0;L<ne;L++)if(0!==j.charCodeAt(L))throw new Error("Leftmost octets not zero as expected");if(1!==j.charCodeAt(ne))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var O=j.substr(-A),N=new f.util.ByteBuffer;return N.fillWithByte(0,8),N.putBytes(M),N.putBytes(O),w.start(),w.update(N.getBytes()),S===w.digest().getBytes()}};return I}},8365:(tt,de,H)=>{var f=H(8659);H(1298),H(1594),H(4473),H(4747),f.random&&f.random.getBytes?tt.exports=f.random:function(c){var v={},w=new Array(4),F=f.util.createBuffer();function B(){var R=f.prng.create(v);return R.getBytes=function(L,W){return R.generate(L,W)},R.getBytesSync=function(L){return R.generate(L)},R}v.formatKey=function(R){var L=f.util.createBuffer(R);return(R=new Array(4))[0]=L.getInt32(),R[1]=L.getInt32(),R[2]=L.getInt32(),R[3]=L.getInt32(),f.aes._expandKey(R,!1)},v.formatSeed=function(R){var L=f.util.createBuffer(R);return(R=new Array(4))[0]=L.getInt32(),R[1]=L.getInt32(),R[2]=L.getInt32(),R[3]=L.getInt32(),R},v.cipher=function(R,L){return f.aes._updateBlock(R,L,w,!1),F.putInt32(w[0]),F.putInt32(w[1]),F.putInt32(w[2]),F.putInt32(w[3]),F.getBytes()},v.increment=function(R){return++R[3],R},v.md=f.md.sha256;var T=B(),A=null,x=f.util.globalScope,I=x.crypto||x.msCrypto;if(I&&I.getRandomValues&&(A=function(R){return I.getRandomValues(R)}),f.options.usePureJavaScript||!f.util.isNodejs&&!A){if(typeof window>"u"||window,T.collectInt(+new Date,32),typeof navigator<"u"){var M="";for(var J in navigator)try{"string"==typeof navigator[J]&&(M+=navigator[J])}catch{}T.collect(M),M=null}c&&(c().mousemove(function(R){T.collectInt(R.clientX,16),T.collectInt(R.clientY,16)}),c().keypress(function(R){T.collectInt(R.charCode,8)}))}if(f.random)for(var J in T)f.random[J]=T[J];else f.random=T;f.random.createInstance=B,tt.exports=f.random}(typeof jQuery<"u"?jQuery:null)},209:(tt,de,H)=>{var f=H(8659);H(4747);var c=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],v=[1,2,3,5],w=function(T,A){return T<<A&65535|(65535&T)>>16-A},F=function(T,A){return(65535&T)>>A|T<<16-A&65535};tt.exports=f.rc2=f.rc2||{},f.rc2.expandKey=function(T,A){"string"==typeof T&&(T=f.util.createBuffer(T)),A=A||128;var L,x=T,I=T.length(),M=A,J=Math.ceil(M/8),R=255>>(7&M);for(L=I;L<128;L++)x.putByte(c[x.at(L-1)+x.at(L-I)&255]);for(x.setAt(128-J,c[x.at(128-J)&R]),L=127-J;L>=0;L--)x.setAt(L,c[x.at(L+1)^x.at(L+J)]);return x};var B=function(T,A,x){var L,W,P,K,I=!1,M=null,J=null,R=null,E=[];for(T=f.rc2.expandKey(T,A),P=0;P<64;P++)E.push(T.getInt16Le());x?(L=function(Q){for(P=0;P<4;P++)Q[P]+=E[K]+(Q[(P+3)%4]&Q[(P+2)%4])+(~Q[(P+3)%4]&Q[(P+1)%4]),Q[P]=w(Q[P],v[P]),K++},W=function(Q){for(P=0;P<4;P++)Q[P]+=E[63&Q[(P+3)%4]]}):(L=function(Q){for(P=3;P>=0;P--)Q[P]=F(Q[P],v[P]),Q[P]-=E[K]+(Q[(P+3)%4]&Q[(P+2)%4])+(~Q[(P+3)%4]&Q[(P+1)%4]),K--},W=function(Q){for(P=3;P>=0;P--)Q[P]-=E[63&Q[(P+3)%4]]});var S=function(Q){var j=[];for(P=0;P<4;P++){var ne=M.getInt16Le();null!==R&&(x?ne^=R.getInt16Le():R.putInt16Le(ne)),j.push(65535&ne)}K=x?0:63;for(var O=0;O<Q.length;O++)for(var N=0;N<Q[O][0];N++)Q[O][1](j);for(P=0;P<4;P++)null!==R&&(x?R.putInt16Le(j[P]):j[P]^=R.getInt16Le()),J.putInt16Le(j[P])},_=null;return _={start:function(Q,j){Q&&"string"==typeof Q&&(Q=f.util.createBuffer(Q)),I=!1,M=f.util.createBuffer(),J=j||new f.util.createBuffer,R=Q,_.output=J},update:function(Q){for(I||M.putBuffer(Q);M.length()>=8;)S([[5,L],[1,W],[6,L],[1,W],[5,L]])},finish:function(Q){var j=!0;if(x)if(Q)j=Q(8,M,!x);else{var ne=8===M.length()?8:8-M.length();M.fillWithByte(ne,ne)}if(j&&(I=!0,_.update()),!x&&(j=0===M.length()))if(Q)j=Q(8,J,!x);else{var O=J.length(),N=J.at(O-1);N>O?j=!1:J.truncate(N)}return j}}};f.rc2.startEncrypting=function(T,A,x){var I=f.rc2.createEncryptionCipher(T,128);return I.start(A,x),I},f.rc2.createEncryptionCipher=function(T,A){return B(T,A,!0)},f.rc2.startDecrypting=function(T,A,x){var I=f.rc2.createDecryptionCipher(T,128);return I.start(A,x),I},f.rc2.createDecryptionCipher=function(T,A){return B(T,A,!1)}},5517:(tt,de,H)=>{var f=H(8659);if(H(7791),H(730),H(6078),H(7246),H(9709),H(8365),H(4747),typeof c>"u")var c=f.jsbn.BigInteger;var v=f.util.isNodejs?H(5819):null,w=f.asn1,F=f.util;f.pki=f.pki||{},tt.exports=f.pki.rsa=f.rsa=f.rsa||{};var B=f.pki,T=[6,4,2,4,2,4,6,2],A={name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x={name:"RSAPrivateKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},I={name:"RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},M=f.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},J={name:"DigestInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},R=function(g){if(!(g.algorithm in B.oids)){var ae=new Error("Unknown message digest algorithm.");throw ae.algorithm=g.algorithm,ae}var re=w.oidToDer(B.oids[g.algorithm]).getBytes(),xe=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),Be=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);Be.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,re)),Be.value.push(w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,""));var Ve=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,g.digest().getBytes());return xe.value.push(Be),xe.value.push(Ve),w.toDer(xe).getBytes()},L=function(g,V,ae){if(ae)return g.modPow(V.e,V.n);if(!V.p||!V.q)return g.modPow(V.d,V.n);var re;V.dP||(V.dP=V.d.mod(V.p.subtract(c.ONE))),V.dQ||(V.dQ=V.d.mod(V.q.subtract(c.ONE))),V.qInv||(V.qInv=V.q.modInverse(V.p));do{re=new c(f.util.bytesToHex(f.random.getBytes(V.n.bitLength()/8)),16)}while(re.compareTo(V.n)>=0||!re.gcd(V.n).equals(c.ONE));for(var xe=(g=g.multiply(re.modPow(V.e,V.n)).mod(V.n)).mod(V.p).modPow(V.dP,V.p),Be=g.mod(V.q).modPow(V.dQ,V.q);xe.compareTo(Be)<0;)xe=xe.add(V.p);var Ve=xe.subtract(Be).multiply(V.qInv).mod(V.p).multiply(V.q).add(Be);return Ve.multiply(re.modInverse(V.n)).mod(V.n)};function W(g,V,ae){var re=f.util.createBuffer(),xe=Math.ceil(V.n.bitLength()/8);if(g.length>xe-11){var Be=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Be.length=g.length,Be.max=xe-11,Be}re.putByte(0),re.putByte(ae);var nt,Ve=xe-3-g.length;if(0===ae||1===ae){nt=0===ae?0:255;for(var it=0;it<Ve;++it)re.putByte(nt)}else for(;Ve>0;){var Ue=0,qe=f.random.getBytes(Ve);for(it=0;it<Ve;++it)0===(nt=qe.charCodeAt(it))?++Ue:re.putByte(nt);Ve=Ue}return re.putByte(0),re.putBytes(g),re}function P(g,V,ae,re){var xe=Math.ceil(V.n.bitLength()/8),Be=f.util.createBuffer(g),Ve=Be.getByte(),nt=Be.getByte();if(0!==Ve||ae&&0!==nt&&1!==nt||!ae&&2!=nt||ae&&0===nt&&typeof re>"u")throw new Error("Encryption block is invalid.");var it=0;if(0===nt){it=xe-3-re;for(var Ue=0;Ue<it;++Ue)if(0!==Be.getByte())throw new Error("Encryption block is invalid.")}else if(1===nt)for(it=0;Be.length()>1;){if(255!==Be.getByte()){--Be.read;break}++it}else if(2===nt)for(it=0;Be.length()>1;){if(0===Be.getByte()){--Be.read;break}++it}if(0!==Be.getByte()||it!==xe-3-Be.length())throw new Error("Encryption block is invalid.");return Be.getBytes()}function K(g,V,ae){"function"==typeof V&&(ae=V,V={});var re={algorithm:{name:(V=V||{}).algorithm||"PRIMEINC",options:{workers:V.workers||2,workLoad:V.workLoad||100,workerScript:V.workerScript}}};function xe(){Be(g.pBits,function(nt,it){return nt?ae(nt):(g.p=it,null!==g.q?Ve(nt,g.q):void Be(g.qBits,Ve))})}function Be(nt,it){f.prime.generateProbablePrime(nt,re,it)}function Ve(nt,it){if(nt)return ae(nt);if(g.q=it,g.p.compareTo(g.q)<0){var Ue=g.p;g.p=g.q,g.q=Ue}if(0!==g.p.subtract(c.ONE).gcd(g.e).compareTo(c.ONE))return g.p=null,void xe();if(0!==g.q.subtract(c.ONE).gcd(g.e).compareTo(c.ONE))return g.q=null,void Be(g.qBits,Ve);if(g.p1=g.p.subtract(c.ONE),g.q1=g.q.subtract(c.ONE),g.phi=g.p1.multiply(g.q1),0!==g.phi.gcd(g.e).compareTo(c.ONE))return g.p=g.q=null,void xe();if(g.n=g.p.multiply(g.q),g.n.bitLength()!==g.bits)return g.q=null,void Be(g.qBits,Ve);var qe=g.e.modInverse(g.phi);g.keys={privateKey:B.rsa.setPrivateKey(g.n,g.e,qe,g.p,g.q,qe.mod(g.p1),qe.mod(g.q1),g.q.modInverse(g.p)),publicKey:B.rsa.setPublicKey(g.n,g.e)},ae(null,g.keys)}"prng"in V&&(re.prng=V.prng),xe()}function E(g){var V=g.toString(16);V[0]>="8"&&(V="00"+V);var ae=f.util.hexToBytes(V);return ae.length>1&&(0===ae.charCodeAt(0)&&0==(128&ae.charCodeAt(1))||255===ae.charCodeAt(0)&&128==(128&ae.charCodeAt(1)))?ae.substr(1):ae}function S(g){return g<=100?27:g<=150?18:g<=200?15:g<=250?12:g<=300?9:g<=350?8:g<=400?7:g<=500?6:g<=600?5:g<=800?4:g<=1250?3:2}function _(g){return f.util.isNodejs&&"function"==typeof v[g]}function Q(g){return typeof F.globalScope<"u"&&"object"==typeof F.globalScope.crypto&&"object"==typeof F.globalScope.crypto.subtle&&"function"==typeof F.globalScope.crypto.subtle[g]}function j(g){return typeof F.globalScope<"u"&&"object"==typeof F.globalScope.msCrypto&&"object"==typeof F.globalScope.msCrypto.subtle&&"function"==typeof F.globalScope.msCrypto.subtle[g]}function ne(g){for(var V=f.util.hexToBytes(g.toString(16)),ae=new Uint8Array(V.length),re=0;re<V.length;++re)ae[re]=V.charCodeAt(re);return ae}B.rsa.encrypt=function(g,V,ae){var xe,re=ae,Be=Math.ceil(V.n.bitLength()/8);!1!==ae&&!0!==ae?(re=2===ae,xe=W(g,V,ae)):(xe=f.util.createBuffer()).putBytes(g);for(var Ve=new c(xe.toHex(),16),it=L(Ve,V,re).toString(16),Ue=f.util.createBuffer(),qe=Be-Math.ceil(it.length/2);qe>0;)Ue.putByte(0),--qe;return Ue.putBytes(f.util.hexToBytes(it)),Ue.getBytes()},B.rsa.decrypt=function(g,V,ae,re){var xe=Math.ceil(V.n.bitLength()/8);if(g.length!==xe){var Be=new Error("Encrypted message length is invalid.");throw Be.length=g.length,Be.expected=xe,Be}var Ve=new c(f.util.createBuffer(g).toHex(),16);if(Ve.compareTo(V.n)>=0)throw new Error("Encrypted message is invalid.");for(var it=L(Ve,V,ae).toString(16),Ue=f.util.createBuffer(),qe=xe-Math.ceil(it.length/2);qe>0;)Ue.putByte(0),--qe;return Ue.putBytes(f.util.hexToBytes(it)),!1!==re?P(Ue.getBytes(),V,ae):Ue.getBytes()},B.rsa.createKeyPairGenerationState=function(g,V,ae){"string"==typeof g&&(g=parseInt(g,10)),g=g||2048;var Ve,re=(ae=ae||{}).prng||f.random,xe={nextBytes:function(nt){for(var it=re.getBytesSync(nt.length),Ue=0;Ue<nt.length;++Ue)nt[Ue]=it.charCodeAt(Ue)}},Be=ae.algorithm||"PRIMEINC";if("PRIMEINC"!==Be)throw new Error("Invalid key generation algorithm: "+Be);return(Ve={algorithm:Be,state:0,bits:g,rng:xe,eInt:V||65537,e:new c(null),p:null,q:null,qBits:g>>1,pBits:g-(g>>1),pqState:0,num:null,keys:null}).e.fromInt(Ve.eInt),Ve},B.rsa.stepKeyPairGenerationState=function(g,V){"algorithm"in g||(g.algorithm="PRIMEINC");var ae=new c(null);ae.fromInt(30);for(var Ve,re=0,xe=function(ft,Je){return ft|Je},Be=+new Date,nt=0;null===g.keys&&(V<=0||nt<V);){if(0===g.state){var it=null===g.p?g.pBits:g.qBits,Ue=it-1;0===g.pqState?(g.num=new c(it,g.rng),g.num.testBit(Ue)||g.num.bitwiseTo(c.ONE.shiftLeft(Ue),xe,g.num),g.num.dAddOffset(31-g.num.mod(ae).byteValue(),0),re=0,++g.pqState):1===g.pqState?g.num.bitLength()>it?g.pqState=0:g.num.isProbablePrime(S(g.num.bitLength()))?++g.pqState:g.num.dAddOffset(T[re++%8],0):2===g.pqState?g.pqState=0===g.num.subtract(c.ONE).gcd(g.e).compareTo(c.ONE)?3:0:3===g.pqState&&(g.pqState=0,null===g.p?g.p=g.num:g.q=g.num,null!==g.p&&null!==g.q&&++g.state,g.num=null)}else if(1===g.state)g.p.compareTo(g.q)<0&&(g.num=g.p,g.p=g.q,g.q=g.num),++g.state;else if(2===g.state)g.p1=g.p.subtract(c.ONE),g.q1=g.q.subtract(c.ONE),g.phi=g.p1.multiply(g.q1),++g.state;else if(3===g.state)0===g.phi.gcd(g.e).compareTo(c.ONE)?++g.state:(g.p=null,g.q=null,g.state=0);else if(4===g.state)g.n=g.p.multiply(g.q),g.n.bitLength()===g.bits?++g.state:(g.q=null,g.state=0);else if(5===g.state){var qe=g.e.modInverse(g.phi);g.keys={privateKey:B.rsa.setPrivateKey(g.n,g.e,qe,g.p,g.q,qe.mod(g.p1),qe.mod(g.q1),g.q.modInverse(g.p)),publicKey:B.rsa.setPublicKey(g.n,g.e)}}nt+=(Ve=+new Date)-Be,Be=Ve}return null!==g.keys},B.rsa.generateKeyPair=function(g,V,ae,re){if(1===arguments.length?"object"==typeof g?(ae=g,g=void 0):"function"==typeof g&&(re=g,g=void 0):2===arguments.length?"number"==typeof g?"function"==typeof V?(re=V,V=void 0):"number"!=typeof V&&(ae=V,V=void 0):(ae=g,re=V,g=void 0,V=void 0):3===arguments.length&&("number"==typeof V?"function"==typeof ae&&(re=ae,ae=void 0):(re=ae,ae=V,V=void 0)),ae=ae||{},void 0===g&&(g=ae.bits||2048),void 0===V&&(V=ae.e||65537),!f.options.usePureJavaScript&&!ae.prng&&g>=256&&g<=16384&&(65537===V||3===V))if(re){if(_("generateKeyPair"))return v.generateKeyPair("rsa",{modulusLength:g,publicExponent:V,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(nt,it,Ue){if(nt)return re(nt);re(null,{privateKey:B.privateKeyFromPem(Ue),publicKey:B.publicKeyFromPem(it)})});if(Q("generateKey")&&Q("exportKey"))return F.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:ne(V),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(nt){return F.globalScope.crypto.subtle.exportKey("pkcs8",nt.privateKey)}).then(void 0,function(nt){re(nt)}).then(function(nt){if(nt){var it=B.privateKeyFromAsn1(w.fromDer(f.util.createBuffer(nt)));re(null,{privateKey:it,publicKey:B.setRsaPublicKey(it.n,it.e)})}});if(j("generateKey")&&j("exportKey")){var xe=F.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:ne(V),hash:{name:"SHA-256"}},!0,["sign","verify"]);return xe.oncomplete=function(nt){var Ue=F.globalScope.msCrypto.subtle.exportKey("pkcs8",nt.target.result.privateKey);Ue.oncomplete=function(qe){var Je=B.privateKeyFromAsn1(w.fromDer(f.util.createBuffer(qe.target.result)));re(null,{privateKey:Je,publicKey:B.setRsaPublicKey(Je.n,Je.e)})},Ue.onerror=function(qe){re(qe)}},void(xe.onerror=function(nt){re(nt)})}}else if(_("generateKeyPairSync")){var Be=v.generateKeyPairSync("rsa",{modulusLength:g,publicExponent:V,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:B.privateKeyFromPem(Be.privateKey),publicKey:B.publicKeyFromPem(Be.publicKey)}}var Ve=B.rsa.createKeyPairGenerationState(g,V,ae);if(!re)return B.rsa.stepKeyPairGenerationState(Ve,0),Ve.keys;K(Ve,ae,re)},B.setRsaPublicKey=B.rsa.setPublicKey=function(g,V){var ae={n:g,e:V,encrypt:function(re,xe,Be){if("string"==typeof xe?xe=xe.toUpperCase():void 0===xe&&(xe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===xe)xe={encode:function(nt,it,Ue){return W(nt,it,2).getBytes()}};else if("RSA-OAEP"===xe||"RSAES-OAEP"===xe)xe={encode:function(nt,it){return f.pkcs1.encode_rsa_oaep(it,nt,Be)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(xe))xe={encode:function(nt){return nt}};else if("string"==typeof xe)throw new Error('Unsupported encryption scheme: "'+xe+'".');var Ve=xe.encode(re,ae,!0);return B.rsa.encrypt(Ve,ae,!0)},verify:function(re,xe,Be,Ve){"string"==typeof Be?Be=Be.toUpperCase():void 0===Be&&(Be="RSASSA-PKCS1-V1_5"),void 0===Ve&&(Ve={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in Ve||(Ve._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Be?Be={verify:function(it,Ue){Ue=P(Ue,ae,!0);var qe=w.fromDer(Ue,{parseAllBytes:Ve._parseAllDigestBytes}),ft={},Je=[];if(!w.validate(qe,J,ft,Je))throw(Yt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Je,Yt;var Yt,ht=w.derToOid(ft.algorithmIdentifier);if(ht!==f.oids.md2&&ht!==f.oids.md5&&ht!==f.oids.sha1&&ht!==f.oids.sha224&&ht!==f.oids.sha256&&ht!==f.oids.sha384&&ht!==f.oids.sha512&&ht!==f.oids["sha512-224"]&&ht!==f.oids["sha512-256"])throw(Yt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=ht,Yt;if((ht===f.oids.md2||ht===f.oids.md5)&&!("parameters"in ft))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return it===ft.digest}}:("NONE"===Be||"NULL"===Be||null===Be)&&(Be={verify:function(it,Ue){return it===P(Ue,ae,!0)}});var nt=B.rsa.decrypt(xe,ae,!0,!1);return Be.verify(re,nt,ae.n.bitLength())}};return ae},B.setRsaPrivateKey=B.rsa.setPrivateKey=function(g,V,ae,re,xe,Be,Ve,nt){var it={n:g,e:V,d:ae,p:re,q:xe,dP:Be,dQ:Ve,qInv:nt,decrypt:function(Ue,qe,ft){"string"==typeof qe?qe=qe.toUpperCase():void 0===qe&&(qe="RSAES-PKCS1-V1_5");var Je=B.rsa.decrypt(Ue,it,!1,!1);if("RSAES-PKCS1-V1_5"===qe)qe={decode:P};else if("RSA-OAEP"===qe||"RSAES-OAEP"===qe)qe={decode:function(Yt,ht){return f.pkcs1.decode_rsa_oaep(ht,Yt,ft)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(qe))throw new Error('Unsupported encryption scheme: "'+qe+'".');qe={decode:function(Yt){return Yt}}}return qe.decode(Je,it,!1)},sign:function(Ue,qe){var ft=!1;"string"==typeof qe&&(qe=qe.toUpperCase()),void 0===qe||"RSASSA-PKCS1-V1_5"===qe?(qe={encode:R},ft=1):("NONE"===qe||"NULL"===qe||null===qe)&&(qe={encode:function(){return Ue}},ft=1);var Je=qe.encode(Ue,it.n.bitLength());return B.rsa.encrypt(Je,it,ft)}};return it},B.wrapRsaPrivateKey=function(g){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(B.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,w.toDer(g).getBytes())])},B.privateKeyFromAsn1=function(g){var xe,Be,Ve,nt,it,Ue,qe,ft,V={},ae=[];if(w.validate(g,A,V,ae)&&(g=w.fromDer(f.util.createBuffer(V.privateKey))),!w.validate(g,x,V={},ae=[])){var re=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw re.errors=ae,re}return xe=f.util.createBuffer(V.privateKeyModulus).toHex(),Be=f.util.createBuffer(V.privateKeyPublicExponent).toHex(),Ve=f.util.createBuffer(V.privateKeyPrivateExponent).toHex(),nt=f.util.createBuffer(V.privateKeyPrime1).toHex(),it=f.util.createBuffer(V.privateKeyPrime2).toHex(),Ue=f.util.createBuffer(V.privateKeyExponent1).toHex(),qe=f.util.createBuffer(V.privateKeyExponent2).toHex(),ft=f.util.createBuffer(V.privateKeyCoefficient).toHex(),B.setRsaPrivateKey(new c(xe,16),new c(Be,16),new c(Ve,16),new c(nt,16),new c(it,16),new c(Ue,16),new c(qe,16),new c(ft,16))},B.privateKeyToAsn1=B.privateKeyToRSAPrivateKey=function(g){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.e)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.d)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.p)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.q)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.dP)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.dQ)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.qInv))])},B.publicKeyFromAsn1=function(g){var V={},ae=[];if(w.validate(g,M,V,ae)){var xe,re=w.derToOid(V.publicKeyOid);if(re!==B.oids.rsaEncryption)throw(xe=new Error("Cannot read public key. Unknown OID.")).oid=re,xe;g=V.rsaPublicKey}if(!w.validate(g,I,V,ae=[]))throw(xe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=ae,xe;var Be=f.util.createBuffer(V.publicKeyModulus).toHex(),Ve=f.util.createBuffer(V.publicKeyExponent).toHex();return B.setRsaPublicKey(new c(Be,16),new c(Ve,16))},B.publicKeyToAsn1=B.publicKeyToSubjectPublicKeyInfo=function(g){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(B.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,[B.publicKeyToRSAPublicKey(g)])])},B.publicKeyToRSAPublicKey=function(g){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,E(g.e))])}},7690:(tt,de,H)=>{var f=H(8659);H(979),H(4747);var c=tt.exports=f.sha1=f.sha1||{};f.md.sha1=f.md.algorithms.sha1=c,c.create=function(){w||function F(){v=String.fromCharCode(128),v+=f.util.fillString(String.fromCharCode(0),64),w=!0}();var T=null,A=f.util.createBuffer(),x=new Array(80),I={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){I.messageLength=0,I.fullMessageLength=I.messageLength64=[];for(var M=I.messageLengthSize/4,J=0;J<M;++J)I.fullMessageLength.push(0);return A=f.util.createBuffer(),T={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},I}};return I.start(),I.update=function(M,J){"utf8"===J&&(M=f.util.encodeUtf8(M));var R=M.length;I.messageLength+=R,R=[R/4294967296>>>0,R>>>0];for(var L=I.fullMessageLength.length-1;L>=0;--L)I.fullMessageLength[L]+=R[1],R[1]=R[0]+(I.fullMessageLength[L]/4294967296>>>0),I.fullMessageLength[L]=I.fullMessageLength[L]>>>0,R[0]=R[1]/4294967296>>>0;return A.putBytes(M),B(T,x,A),(A.read>2048||0===A.length())&&A.compact(),I},I.digest=function(){var M=f.util.createBuffer();M.putBytes(A.bytes()),M.putBytes(v.substr(0,I.blockLength-(I.fullMessageLength[I.fullMessageLength.length-1]+I.messageLengthSize&I.blockLength-1)));for(var L,P=8*I.fullMessageLength[0],K=0;K<I.fullMessageLength.length-1;++K)M.putInt32((P+=(L=8*I.fullMessageLength[K+1])/4294967296>>>0)>>>0),P=L>>>0;M.putInt32(P);var E={h0:T.h0,h1:T.h1,h2:T.h2,h3:T.h3,h4:T.h4};B(E,x,M);var S=f.util.createBuffer();return S.putInt32(E.h0),S.putInt32(E.h1),S.putInt32(E.h2),S.putInt32(E.h3),S.putInt32(E.h4),S},I};var v=null,w=!1;function B(T,A,x){for(var I,M,J,R,L,W,K,E=x.length();E>=64;){for(M=T.h0,J=T.h1,R=T.h2,L=T.h3,W=T.h4,K=0;K<16;++K)I=x.getInt32(),A[K]=I,I=(M<<5|M>>>27)+(L^J&(R^L))+W+1518500249+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<20;++K)A[K]=I=(I=A[K-3]^A[K-8]^A[K-14]^A[K-16])<<1|I>>>31,I=(M<<5|M>>>27)+(L^J&(R^L))+W+1518500249+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<32;++K)A[K]=I=(I=A[K-3]^A[K-8]^A[K-14]^A[K-16])<<1|I>>>31,I=(M<<5|M>>>27)+(J^R^L)+W+1859775393+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<40;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J^R^L)+W+1859775393+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<60;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J&R|L&(J^R))+W+2400959708+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;for(;K<80;++K)A[K]=I=(I=A[K-6]^A[K-16]^A[K-28]^A[K-32])<<2|I>>>30,I=(M<<5|M>>>27)+(J^R^L)+W+3395469782+I,W=L,L=R,R=(J<<30|J>>>2)>>>0,J=M,M=I;T.h0=T.h0+M|0,T.h1=T.h1+J|0,T.h2=T.h2+R|0,T.h3=T.h3+L|0,T.h4=T.h4+W|0,E-=64}}},1594:(tt,de,H)=>{var f=H(8659);H(979),H(4747);var c=tt.exports=f.sha256=f.sha256||{};f.md.sha256=f.md.algorithms.sha256=c,c.create=function(){w||function B(){v=String.fromCharCode(128),v+=f.util.fillString(String.fromCharCode(0),64),F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=!0}();var A=null,x=f.util.createBuffer(),I=new Array(64),M={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){M.messageLength=0,M.fullMessageLength=M.messageLength64=[];for(var J=M.messageLengthSize/4,R=0;R<J;++R)M.fullMessageLength.push(0);return x=f.util.createBuffer(),A={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},M}};return M.start(),M.update=function(J,R){"utf8"===R&&(J=f.util.encodeUtf8(J));var L=J.length;M.messageLength+=L,L=[L/4294967296>>>0,L>>>0];for(var W=M.fullMessageLength.length-1;W>=0;--W)M.fullMessageLength[W]+=L[1],L[1]=L[0]+(M.fullMessageLength[W]/4294967296>>>0),M.fullMessageLength[W]=M.fullMessageLength[W]>>>0,L[0]=L[1]/4294967296>>>0;return x.putBytes(J),T(A,I,x),(x.read>2048||0===x.length())&&x.compact(),M},M.digest=function(){var J=f.util.createBuffer();J.putBytes(x.bytes()),J.putBytes(v.substr(0,M.blockLength-(M.fullMessageLength[M.fullMessageLength.length-1]+M.messageLengthSize&M.blockLength-1)));for(var W,K=8*M.fullMessageLength[0],E=0;E<M.fullMessageLength.length-1;++E)J.putInt32((K+=(W=8*M.fullMessageLength[E+1])/4294967296>>>0)>>>0),K=W>>>0;J.putInt32(K);var S={h0:A.h0,h1:A.h1,h2:A.h2,h3:A.h3,h4:A.h4,h5:A.h5,h6:A.h6,h7:A.h7};T(S,I,J);var _=f.util.createBuffer();return _.putInt32(S.h0),_.putInt32(S.h1),_.putInt32(S.h2),_.putInt32(S.h3),_.putInt32(S.h4),_.putInt32(S.h5),_.putInt32(S.h6),_.putInt32(S.h7),_},M};var v=null,w=!1,F=null;function T(A,x,I){for(var M,J,P,K,E,S,_,Q,j,ne,O,N,G=I.length();G>=64;){for(K=0;K<16;++K)x[K]=I.getInt32();for(;K<64;++K)x[K]=(M=((M=x[K-2])>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)+x[K-7]+(J=((J=x[K-15])>>>7|J<<25)^(J>>>18|J<<14)^J>>>3)+x[K-16]|0;for(E=A.h0,S=A.h1,_=A.h2,Q=A.h3,j=A.h4,ne=A.h5,O=A.h6,N=A.h7,K=0;K<64;++K)P=E&S|_&(E^S),M=N+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(O^j&(ne^O))+F[K]+x[K],N=O,O=ne,ne=j,j=Q+M>>>0,Q=_,_=S,S=E,E=M+(J=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+P)>>>0;A.h0=A.h0+E|0,A.h1=A.h1+S|0,A.h2=A.h2+_|0,A.h3=A.h3+Q|0,A.h4=A.h4+j|0,A.h5=A.h5+ne|0,A.h6=A.h6+O|0,A.h7=A.h7+N|0,G-=64}}},8985:(tt,de,H)=>{var f=H(8659);H(979),H(4747);var c=tt.exports=f.sha512=f.sha512||{};f.md.sha512=f.md.algorithms.sha512=c;var v=f.sha384=f.sha512.sha384=f.sha512.sha384||{};v.create=function(){return c.create("SHA-384")},f.md.sha384=f.md.algorithms.sha384=v,f.sha512.sha256=f.sha512.sha256||{create:function(){return c.create("SHA-512/256")}},f.md["sha512/256"]=f.md.algorithms["sha512/256"]=f.sha512.sha256,f.sha512.sha224=f.sha512.sha224||{create:function(){return c.create("SHA-512/224")}},f.md["sha512/224"]=f.md.algorithms["sha512/224"]=f.sha512.sha224,c.create=function(I){if(F||function A(){w=String.fromCharCode(128),w+=f.util.fillString(String.fromCharCode(0),128),B=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(T={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],T["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],T["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],T["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],F=!0}(),typeof I>"u"&&(I="SHA-512"),!(I in T))throw new Error("Invalid SHA-512 algorithm: "+I);for(var M=T[I],J=null,R=f.util.createBuffer(),L=new Array(80),W=0;W<80;++W)L[W]=new Array(2);var P=64;switch(I){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28}var K={algorithm:I.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){K.messageLength=0,K.fullMessageLength=K.messageLength128=[];for(var E=K.messageLengthSize/4,S=0;S<E;++S)K.fullMessageLength.push(0);for(R=f.util.createBuffer(),J=new Array(M.length),S=0;S<M.length;++S)J[S]=M[S].slice(0);return K}};return K.start(),K.update=function(E,S){"utf8"===S&&(E=f.util.encodeUtf8(E));var _=E.length;K.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var Q=K.fullMessageLength.length-1;Q>=0;--Q)K.fullMessageLength[Q]+=_[1],_[1]=_[0]+(K.fullMessageLength[Q]/4294967296>>>0),K.fullMessageLength[Q]=K.fullMessageLength[Q]>>>0,_[0]=_[1]/4294967296>>>0;return R.putBytes(E),x(J,L,R),(R.read>2048||0===R.length())&&R.compact(),K},K.digest=function(){var E=f.util.createBuffer();E.putBytes(R.bytes()),E.putBytes(w.substr(0,K.blockLength-(K.fullMessageLength[K.fullMessageLength.length-1]+K.messageLengthSize&K.blockLength-1)));for(var Q,ne=8*K.fullMessageLength[0],O=0;O<K.fullMessageLength.length-1;++O)E.putInt32((ne+=(Q=8*K.fullMessageLength[O+1])/4294967296>>>0)>>>0),ne=Q>>>0;E.putInt32(ne);var N=new Array(J.length);for(O=0;O<J.length;++O)N[O]=J[O].slice(0);x(N,L,E);var g,G=f.util.createBuffer();for(g="SHA-512"===I?N.length:"SHA-384"===I?N.length-2:N.length-4,O=0;O<g;++O)G.putInt32(N[O][0]),(O!==g-1||"SHA-512/224"!==I)&&G.putInt32(N[O][1]);return G},K};var w=null,F=!1,B=null,T=null;function x(I,M,J){for(var R,L,W,P,N,G,g,V,ae,re,xe,Be,Ve,nt,it,Ue,qe,ft,Je,Yt,ht,gr,Rt,xr,sr,et,gt,X=J.length();X>=128;){for(ht=0;ht<16;++ht)M[ht][0]=J.getInt32()>>>0,M[ht][1]=J.getInt32()>>>0;for(;ht<80;++ht)L=(((gr=(xr=M[ht-2])[0])<<13|(Rt=xr[1])>>>19)^(Rt<<3|gr>>>29)^(gr<<26|Rt>>>6))>>>0,M[ht][0]=(R=((gr>>>19|Rt<<13)^(Rt>>>29|gr<<3)^gr>>>6)>>>0)+(sr=M[ht-7])[0]+(W=(((gr=(et=M[ht-15])[0])>>>1|(Rt=et[1])<<31)^(gr>>>8|Rt<<24)^gr>>>7)>>>0)+(gt=M[ht-16])[0]+((Rt=L+sr[1]+(P=((gr<<31|Rt>>>1)^(gr<<24|Rt>>>8)^(gr<<25|Rt>>>7))>>>0)+gt[1])/4294967296>>>0)>>>0,M[ht][1]=Rt>>>0;for(N=I[0][0],G=I[0][1],g=I[1][0],V=I[1][1],ae=I[2][0],re=I[2][1],xe=I[3][0],Be=I[3][1],Ve=I[4][0],nt=I[4][1],it=I[5][0],Ue=I[5][1],qe=I[6][0],ft=I[6][1],Je=I[7][0],Yt=I[7][1],ht=0;ht<80;++ht)R=Je+(((Ve>>>14|nt<<18)^(Ve>>>18|nt<<14)^(nt>>>9|Ve<<23))>>>0)+((qe^Ve&(it^qe))>>>0)+B[ht][0]+M[ht][0]+((Rt=Yt+(((Ve<<18|nt>>>14)^(Ve<<14|nt>>>18)^(nt<<23|Ve>>>9))>>>0)+((ft^nt&(Ue^ft))>>>0)+B[ht][1]+M[ht][1])/4294967296>>>0)>>>0,L=Rt>>>0,W=(((N>>>28|G<<4)^(G>>>2|N<<30)^(G>>>7|N<<25))>>>0)+((N&g|ae&(N^g))>>>0)+((Rt=(((N<<4|G>>>28)^(G<<30|N>>>2)^(G<<25|N>>>7))>>>0)+((G&V|re&(G^V))>>>0))/4294967296>>>0)>>>0,P=Rt>>>0,Je=qe,Yt=ft,qe=it,ft=Ue,it=Ve,Ue=nt,Ve=xe+R+((Rt=Be+L)/4294967296>>>0)>>>0,nt=Rt>>>0,xe=ae,Be=re,ae=g,re=V,g=N,V=G,N=R+W+((Rt=L+P)/4294967296>>>0)>>>0,G=Rt>>>0;I[0][0]=I[0][0]+N+((Rt=I[0][1]+G)/4294967296>>>0)>>>0,I[0][1]=Rt>>>0,I[1][0]=I[1][0]+g+((Rt=I[1][1]+V)/4294967296>>>0)>>>0,I[1][1]=Rt>>>0,I[2][0]=I[2][0]+ae+((Rt=I[2][1]+re)/4294967296>>>0)>>>0,I[2][1]=Rt>>>0,I[3][0]=I[3][0]+xe+((Rt=I[3][1]+Be)/4294967296>>>0)>>>0,I[3][1]=Rt>>>0,I[4][0]=I[4][0]+Ve+((Rt=I[4][1]+nt)/4294967296>>>0)>>>0,I[4][1]=Rt>>>0,I[5][0]=I[5][0]+it+((Rt=I[5][1]+Ue)/4294967296>>>0)>>>0,I[5][1]=Rt>>>0,I[6][0]=I[6][0]+qe+((Rt=I[6][1]+ft)/4294967296>>>0)>>>0,I[6][1]=Rt>>>0,I[7][0]=I[7][0]+Je+((Rt=I[7][1]+Yt)/4294967296>>>0)>>>0,I[7][1]=Rt>>>0,X-=128}}},1015:(tt,de,H)=>{var f=H(8659);H(1298),H(9032),H(2687),H(7690),H(4747);var c=tt.exports=f.ssh=f.ssh||{};function v(B,T){var A=T.toString(16);A[0]>="8"&&(A="00"+A);var x=f.util.hexToBytes(A);B.putInt32(x.length),B.putBytes(x)}function w(B,T){B.putInt32(T.length),B.putString(T)}function F(){for(var B=f.md.sha1.create(),T=arguments.length,A=0;A<T;++A)B.update(arguments[A]);return B.digest()}c.privateKeyToPutty=function(B,T,A){var x="ssh-rsa",I=""===(T=T||"")?"none":"aes256-cbc",M="PuTTY-User-Key-File-2: "+x+"\r\n";M+="Encryption: "+I+"\r\n",M+="Comment: "+(A=A||"")+"\r\n";var J=f.util.createBuffer();w(J,x),v(J,B.e),v(J,B.n);var R=f.util.encode64(J.bytes(),64),L=Math.floor(R.length/66)+1;M+="Public-Lines: "+L+"\r\n",M+=R;var P,W=f.util.createBuffer();if(v(W,B.d),v(W,B.p),v(W,B.q),v(W,B.qInv),T){var K=W.length()+16-1;K-=K%16;var E=F(W.bytes());E.truncate(E.length()-K+W.length()),W.putBuffer(E);var S=f.util.createBuffer();S.putBuffer(F("\0\0\0\0",T)),S.putBuffer(F("\0\0\0\x01",T));var _=f.aes.createEncryptionCipher(S.truncate(8),"CBC");_.start(f.util.createBuffer().fillWithByte(0,16)),_.update(W.copy()),_.finish();var Q=_.output;Q.truncate(16),P=f.util.encode64(Q.bytes(),64)}else P=f.util.encode64(W.bytes(),64);M+="\r\nPrivate-Lines: "+(L=Math.floor(P.length/66)+1)+"\r\n",M+=P;var j=F("putty-private-key-file-mac-key",T),ne=f.util.createBuffer();w(ne,x),w(ne,I),w(ne,A),ne.putInt32(J.length()),ne.putBuffer(J),ne.putInt32(W.length()),ne.putBuffer(W);var O=f.hmac.create();return O.start("sha1",j),O.update(ne.bytes()),M+"\r\nPrivate-MAC: "+O.digest().toHex()+"\r\n"},c.publicKeyToOpenSSH=function(B,T){var A="ssh-rsa";T=T||"";var x=f.util.createBuffer();return w(x,A),v(x,B.e),v(x,B.n),A+" "+f.util.encode64(x.bytes())+" "+T},c.privateKeyToOpenSSH=function(B,T){return T?f.pki.encryptRsaPrivateKey(B,T,{legacy:!0,algorithm:"aes128"}):f.pki.privateKeyToPem(B)},c.getPublicKeyFingerprint=function(B,T){var A=(T=T||{}).md||f.md.md5.create(),I=f.util.createBuffer();w(I,"ssh-rsa"),v(I,B.e),v(I,B.n),A.start(),A.update(I.getBytes());var M=A.digest();if("hex"===T.encoding){var J=M.toHex();return T.delimiter?J.match(/.{2}/g).join(T.delimiter):J}if("binary"===T.encoding)return M.getBytes();if(T.encoding)throw new Error('Unknown encoding "'+T.encoding+'".');return M}},2266:(tt,de,H)=>{var f=H(8659);H(7791),H(9032),H(2687),H(8604),H(1965),H(8365),H(7690),H(4747);var c=function(X,Z,ue,Le){var Xe=f.util.createBuffer(),ee=X.length>>1,Me=ee+(1&X.length),Ot=X.substr(0,Me),ar=X.substr(ee,Me),rr=f.util.createBuffer(),Bt=f.hmac.create();ue=Z+ue;var Wt=Math.ceil(Le/16),yr=Math.ceil(Le/20);Bt.start("MD5",Ot);var Sr=f.util.createBuffer();rr.putBytes(ue);for(var te=0;te<Wt;++te)Bt.start(null,null),Bt.update(rr.getBytes()),rr.putBuffer(Bt.digest()),Bt.start(null,null),Bt.update(rr.bytes()+ue),Sr.putBuffer(Bt.digest());Bt.start("SHA1",ar);var Mt=f.util.createBuffer();for(rr.clear(),rr.putBytes(ue),te=0;te<yr;++te)Bt.start(null,null),Bt.update(rr.getBytes()),rr.putBuffer(Bt.digest()),Bt.start(null,null),Bt.update(rr.bytes()+ue),Mt.putBuffer(Bt.digest());return Xe.putBytes(f.util.xorBytes(Sr.getBytes(),Mt.getBytes(),Le)),Xe},F=function(X,Z,ue){var Le=!1;try{var Xe=X.deflate(Z.fragment.getBytes());Z.fragment=f.util.createBuffer(Xe),Z.length=Xe.length,Le=!0}catch{}return Le},B=function(X,Z,ue){var Le=!1;try{var Xe=X.inflate(Z.fragment.getBytes());Z.fragment=f.util.createBuffer(Xe),Z.length=Xe.length,Le=!0}catch{}return Le},T=function(X,Z){var ue=0;switch(Z){case 1:ue=X.getByte();break;case 2:ue=X.getInt16();break;case 3:ue=X.getInt24();break;case 4:ue=X.getInt32()}return f.util.createBuffer(X.getBytes(ue))},A=function(X,Z,ue){X.putInt(ue.length(),Z<<3),X.putBuffer(ue)},x={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};x.SupportedVersions=[x.Versions.TLS_1_1,x.Versions.TLS_1_0],x.Version=x.SupportedVersions[0],x.MaxFragment=15360,x.ConnectionEnd={server:0,client:1},x.PRFAlgorithm={tls_prf_sha256:0},x.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},x.CipherType={stream:0,block:1,aead:2},x.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},x.CompressionMethod={none:0,deflate:1},x.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},x.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},x.Alert={},x.Alert.Level={warning:1,fatal:2},x.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},x.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},x.CipherSuites={},x.getCipherSuite=function(X){var Z=null;for(var ue in x.CipherSuites){var Le=x.CipherSuites[ue];if(Le.id[0]===X.charCodeAt(0)&&Le.id[1]===X.charCodeAt(1)){Z=Le;break}}return Z},x.handleUnexpected=function(X,Z){!X.open&&X.entity===x.ConnectionEnd.client||X.error(X,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})},x.handleHelloRequest=function(X,Z,ue){!X.handshaking&&X.handshakes>0&&(x.queue(X,x.createAlert(X,{level:x.Alert.Level.warning,description:x.Alert.Description.no_renegotiation})),x.flush(X)),X.process()},x.parseHelloMessage=function(X,Z,ue){var Le=null,Xe=X.entity===x.ConnectionEnd.client;if(ue<38)X.error(X,{message:Xe?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});else{var ee=Z.fragment,Me=ee.length();if(Le={version:{major:ee.getByte(),minor:ee.getByte()},random:f.util.createBuffer(ee.getBytes(32)),session_id:T(ee,1),extensions:[]},Xe?(Le.cipher_suite=ee.getBytes(2),Le.compression_method=ee.getByte()):(Le.cipher_suites=T(ee,2),Le.compression_methods=T(ee,1)),(Me=ue-(Me-ee.length()))>0){for(var Ot=T(ee,2);Ot.length()>0;)Le.extensions.push({type:[Ot.getByte(),Ot.getByte()],data:T(Ot,2)});if(!Xe)for(var ar=0;ar<Le.extensions.length;++ar){var rr=Le.extensions[ar];if(0===rr.type[0]&&0===rr.type[1])for(var Bt=T(rr.data,2);Bt.length()>0&&0===Bt.getByte();)X.session.extensions.server_name.serverNameList.push(T(Bt,2).getBytes())}}if(X.session.version&&(Le.version.major!==X.session.version.major||Le.version.minor!==X.session.version.minor))return X.error(X,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});if(Xe)X.session.cipherSuite=x.getCipherSuite(Le.cipher_suite);else for(var yr=f.util.createBuffer(Le.cipher_suites.bytes());yr.length()>0&&(X.session.cipherSuite=x.getCipherSuite(yr.getBytes(2)),null===X.session.cipherSuite););if(null===X.session.cipherSuite)return X.error(X,{message:"No cipher suites in common.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure},cipherSuite:f.util.bytesToHex(Le.cipher_suite)});X.session.compressionMethod=Xe?Le.compression_method:x.CompressionMethod.none}return Le},x.createSecurityParameters=function(X,Z){var ue=X.entity===x.ConnectionEnd.client,Le=Z.random.bytes(),Xe=ue?X.session.sp.client_random:Le,ee=ue?Le:x.createRandom().getBytes();X.session.sp={entity:X.entity,prf_algorithm:x.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:X.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Xe,server_random:ee}},x.handleServerHello=function(X,Z,ue){var Le=x.parseHelloMessage(X,Z,ue);if(!X.fail){if(!(Le.version.minor<=X.version.minor))return X.error(X,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});X.version.minor=Le.version.minor,X.session.version=X.version;var Xe=Le.session_id.bytes();Xe.length>0&&Xe===X.session.id?(X.expect=W,X.session.resuming=!0,X.session.sp.server_random=Le.random.bytes()):(X.expect=M,X.session.resuming=!1,x.createSecurityParameters(X,Le)),X.session.id=Xe,X.process()}},x.handleClientHello=function(X,Z,ue){var Le=x.parseHelloMessage(X,Z,ue);if(!X.fail){var Xe=Le.session_id.bytes(),ee=null;if(X.sessionCache&&(null===(ee=X.sessionCache.getSession(Xe))?Xe="":(ee.version.major!==Le.version.major||ee.version.minor>Le.version.minor)&&(ee=null,Xe="")),0===Xe.length&&(Xe=f.random.getBytes(32)),X.session.id=Xe,X.session.clientHelloVersion=Le.version,X.session.sp={},ee)X.version=X.session.version=ee.version,X.session.sp=ee.sp;else{for(var Me,Ot=1;Ot<x.SupportedVersions.length&&!((Me=x.SupportedVersions[Ot]).minor<=Le.version.minor);++Ot);X.version={major:Me.major,minor:Me.minor},X.session.version=X.version}null!==ee?(X.expect=ne,X.session.resuming=!0,X.session.sp.client_random=Le.random.bytes()):(X.expect=!1!==X.verifyClient?_:Q,X.session.resuming=!1,x.createSecurityParameters(X,Le)),X.open=!0,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerHello(X)})),X.session.resuming?(x.queue(X,x.createRecord(X,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),X.state.pending=x.createConnectionState(X),X.state.current.write=X.state.pending.write,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createFinished(X)}))):(x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificate(X)})),X.fail||(x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerKeyExchange(X)})),!1!==X.verifyClient&&x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificateRequest(X)})),x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createServerHelloDone(X)})))),x.flush(X),X.process()}},x.handleCertificate=function(X,Z,ue){if(ue<3)return X.error(X,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var ee,Me,Xe={certificate_list:T(Z.fragment,3)},Ot=[];try{for(;Xe.certificate_list.length()>0;)ee=T(Xe.certificate_list,3),Me=f.asn1.fromDer(ee),ee=f.pki.certificateFromAsn1(Me,!0),Ot.push(ee)}catch(rr){return X.error(X,{message:"Could not parse certificate list.",cause:rr,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var ar=X.entity===x.ConnectionEnd.client;!ar&&!0!==X.verifyClient||0!==Ot.length?0===Ot.length?X.expect=ar?J:Q:(ar?X.session.serverCertificate=Ot[0]:X.session.clientCertificate=Ot[0],x.verifyCertificateChain(X,Ot)&&(X.expect=ar?J:Q)):X.error(X,{message:ar?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}}),X.process()},x.handleServerKeyExchange=function(X,Z,ue){if(ue>0)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});X.expect=R,X.process()},x.handleClientKeyExchange=function(X,Z,ue){if(ue<48)return X.error(X,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});var Xe={enc_pre_master_secret:T(Z.fragment,2).getBytes()},ee=null;if(X.getPrivateKey)try{ee=X.getPrivateKey(X,X.session.serverCertificate),ee=f.pki.privateKeyFromPem(ee)}catch(ar){X.error(X,{message:"Could not get private key.",cause:ar,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}if(null===ee)return X.error(X,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}});try{var Me=X.session.sp;Me.pre_master_secret=ee.decrypt(Xe.enc_pre_master_secret);var Ot=X.session.clientHelloVersion;if(Ot.major!==Me.pre_master_secret.charCodeAt(0)||Ot.minor!==Me.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Me.pre_master_secret=f.random.getBytes(48)}X.expect=ne,null!==X.session.clientCertificate&&(X.expect=j),X.process()},x.handleCertificateRequest=function(X,Z,ue){if(ue<3)return X.error(X,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var Le=Z.fragment,Xe={certificate_types:T(Le,1),certificate_authorities:T(Le,2)};X.session.certificateRequest=Xe,X.expect=L,X.process()},x.handleCertificateVerify=function(X,Z,ue){if(ue<2)return X.error(X,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var Le=Z.fragment;Le.read-=4;var Xe=Le.bytes();Le.read+=4;var ee={signature:T(Le,2).getBytes()},Me=f.util.createBuffer();Me.putBuffer(X.session.md5.digest()),Me.putBuffer(X.session.sha1.digest()),Me=Me.getBytes();try{if(!X.session.clientCertificate.publicKey.verify(Me,ee.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");X.session.md5.update(Xe),X.session.sha1.update(Xe)}catch{return X.error(X,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure}})}X.expect=ne,X.process()},x.handleServerHelloDone=function(X,Z,ue){if(ue>0)return X.error(X,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.record_overflow}});if(null===X.serverCertificate){var Le={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.insufficient_security}},ee=X.verify(X,Le.alert.description,0,[]);if(!0!==ee)return(ee||0===ee)&&("object"!=typeof ee||f.util.isArray(ee)?"number"==typeof ee&&(Le.alert.description=ee):(ee.message&&(Le.message=ee.message),ee.alert&&(Le.alert.description=ee.alert))),X.error(X,Le)}null!==X.session.certificateRequest&&(Z=x.createRecord(X,{type:x.ContentType.handshake,data:x.createCertificate(X)}),x.queue(X,Z)),Z=x.createRecord(X,{type:x.ContentType.handshake,data:x.createClientKeyExchange(X)}),x.queue(X,Z),X.expect=E;var Me=function(Ot,ar){null!==Ot.session.certificateRequest&&null!==Ot.session.clientCertificate&&x.queue(Ot,x.createRecord(Ot,{type:x.ContentType.handshake,data:x.createCertificateVerify(Ot,ar)})),x.queue(Ot,x.createRecord(Ot,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),Ot.state.pending=x.createConnectionState(Ot),Ot.state.current.write=Ot.state.pending.write,x.queue(Ot,x.createRecord(Ot,{type:x.ContentType.handshake,data:x.createFinished(Ot)})),Ot.expect=W,x.flush(Ot),Ot.process()};if(null===X.session.certificateRequest||null===X.session.clientCertificate)return Me(X,null);x.getClientSignature(X,Me)},x.handleChangeCipherSpec=function(X,Z){if(1!==Z.fragment.getByte())return X.error(X,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var ue=X.entity===x.ConnectionEnd.client;(X.session.resuming&&ue||!X.session.resuming&&!ue)&&(X.state.pending=x.createConnectionState(X)),X.state.current.read=X.state.pending.read,(!X.session.resuming&&ue||X.session.resuming&&!ue)&&(X.state.pending=null),X.expect=ue?P:O,X.process()},x.handleFinished=function(X,Z,ue){var Le=Z.fragment;Le.read-=4;var Xe=Le.bytes();Le.read+=4;var ee=Z.fragment.getBytes();(Le=f.util.createBuffer()).putBuffer(X.session.md5.digest()),Le.putBuffer(X.session.sha1.digest());var Me=X.entity===x.ConnectionEnd.client;if((Le=c(X.session.sp.master_secret,Me?"server finished":"client finished",Le.getBytes(),12)).getBytes()!==ee)return X.error(X,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decrypt_error}});X.session.md5.update(Xe),X.session.sha1.update(Xe),(X.session.resuming&&Me||!X.session.resuming&&!Me)&&(x.queue(X,x.createRecord(X,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),X.state.current.write=X.state.pending.write,X.state.pending=null,x.queue(X,x.createRecord(X,{type:x.ContentType.handshake,data:x.createFinished(X)}))),X.expect=Me?K:N,X.handshaking=!1,++X.handshakes,X.peerCertificate=Me?X.session.serverCertificate:X.session.clientCertificate,x.flush(X),X.isConnected=!0,X.connected(X),X.process()},x.handleAlert=function(X,Z){var Xe,ue=Z.fragment,Le={level:ue.getByte(),description:ue.getByte()};switch(Le.description){case x.Alert.Description.close_notify:Xe="Connection closed.";break;case x.Alert.Description.unexpected_message:Xe="Unexpected message.";break;case x.Alert.Description.bad_record_mac:Xe="Bad record MAC.";break;case x.Alert.Description.decryption_failed:Xe="Decryption failed.";break;case x.Alert.Description.record_overflow:Xe="Record overflow.";break;case x.Alert.Description.decompression_failure:Xe="Decompression failed.";break;case x.Alert.Description.handshake_failure:Xe="Handshake failure.";break;case x.Alert.Description.bad_certificate:Xe="Bad certificate.";break;case x.Alert.Description.unsupported_certificate:Xe="Unsupported certificate.";break;case x.Alert.Description.certificate_revoked:Xe="Certificate revoked.";break;case x.Alert.Description.certificate_expired:Xe="Certificate expired.";break;case x.Alert.Description.certificate_unknown:Xe="Certificate unknown.";break;case x.Alert.Description.illegal_parameter:Xe="Illegal parameter.";break;case x.Alert.Description.unknown_ca:Xe="Unknown certificate authority.";break;case x.Alert.Description.access_denied:Xe="Access denied.";break;case x.Alert.Description.decode_error:Xe="Decode error.";break;case x.Alert.Description.decrypt_error:Xe="Decrypt error.";break;case x.Alert.Description.export_restriction:Xe="Export restriction.";break;case x.Alert.Description.protocol_version:Xe="Unsupported protocol version.";break;case x.Alert.Description.insufficient_security:Xe="Insufficient security.";break;case x.Alert.Description.internal_error:Xe="Internal error.";break;case x.Alert.Description.user_canceled:Xe="User canceled.";break;case x.Alert.Description.no_renegotiation:Xe="Renegotiation not supported.";break;default:Xe="Unknown error."}if(Le.description===x.Alert.Description.close_notify)return X.close();X.error(X,{message:Xe,send:!1,origin:X.entity===x.ConnectionEnd.client?"server":"client",alert:Le}),X.process()},x.handleHandshake=function(X,Z){var ue=Z.fragment,Le=ue.getByte(),Xe=ue.getInt24();if(Xe>ue.length())return X.fragmented=Z,Z.fragment=f.util.createBuffer(),ue.read-=4,X.process();X.fragmented=null,ue.read-=4;var ee=ue.bytes(Xe+4);ue.read+=4,Le in ht[X.entity][X.expect]?(X.entity===x.ConnectionEnd.server&&!X.open&&!X.fail&&(X.handshaking=!0,X.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:f.md.md5.create(),sha1:f.md.sha1.create()}),Le!==x.HandshakeType.hello_request&&Le!==x.HandshakeType.certificate_verify&&Le!==x.HandshakeType.finished&&(X.session.md5.update(ee),X.session.sha1.update(ee)),ht[X.entity][X.expect][Le](X,Z,Xe)):x.handleUnexpected(X,Z)},x.handleApplicationData=function(X,Z){X.data.putBuffer(Z.fragment),X.dataReady(X),X.process()},x.handleHeartbeat=function(X,Z){var ue=Z.fragment,Le=ue.getByte(),Xe=ue.getInt16(),ee=ue.getBytes(Xe);if(Le===x.HeartbeatMessageType.heartbeat_request){if(X.handshaking||Xe>ee.length)return X.process();x.queue(X,x.createRecord(X,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_response,ee)})),x.flush(X)}else if(Le===x.HeartbeatMessageType.heartbeat_response){if(ee!==X.expectedHeartbeatPayload)return X.process();X.heartbeatReceived&&X.heartbeatReceived(X,f.util.createBuffer(ee))}X.process()};var M=1,J=2,R=3,L=4,W=5,P=6,K=7,E=8,_=1,Q=2,j=3,ne=4,O=5,N=6,g=x.handleUnexpected,V=x.handleChangeCipherSpec,ae=x.handleAlert,re=x.handleHandshake,xe=x.handleApplicationData,Be=x.handleHeartbeat,Ve=[];Ve[x.ConnectionEnd.client]=[[g,ae,re,g,Be],[g,ae,re,g,Be],[g,ae,re,g,Be],[g,ae,re,g,Be],[g,ae,re,g,Be],[V,ae,g,g,Be],[g,ae,re,g,Be],[g,ae,re,xe,Be],[g,ae,re,g,Be]],Ve[x.ConnectionEnd.server]=[[g,ae,re,g,Be],[g,ae,re,g,Be],[g,ae,re,g,Be],[g,ae,re,g,Be],[V,ae,g,g,Be],[g,ae,re,g,Be],[g,ae,re,xe,Be],[g,ae,re,g,Be]];var nt=x.handleHelloRequest,Ue=x.handleCertificate,qe=x.handleServerKeyExchange,ft=x.handleCertificateRequest,Je=x.handleServerHelloDone,Yt=x.handleFinished,ht=[];ht[x.ConnectionEnd.client]=[[g,g,x.handleServerHello,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,Ue,qe,ft,Je,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,qe,ft,Je,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,g,ft,Je,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,g,g,Je,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Yt],[nt,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[nt,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]],ht[x.ConnectionEnd.server]=[[g,x.handleClientHello,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,Ue,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x.handleClientKeyExchange,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x.handleCertificateVerify,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Yt],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]],x.generateKeys=function(X,Z){var ue=c,Le=Z.client_random+Z.server_random;X.session.resuming||(Z.master_secret=ue(Z.pre_master_secret,"master secret",Le,48).bytes(),Z.pre_master_secret=null);var Xe=2*Z.mac_key_length+2*Z.enc_key_length,ee=X.version.major===x.Versions.TLS_1_0.major&&X.version.minor===x.Versions.TLS_1_0.minor;ee&&(Xe+=2*Z.fixed_iv_length);var Me=ue(Z.master_secret,"key expansion",Le=Z.server_random+Z.client_random,Xe),Ot={client_write_MAC_key:Me.getBytes(Z.mac_key_length),server_write_MAC_key:Me.getBytes(Z.mac_key_length),client_write_key:Me.getBytes(Z.enc_key_length),server_write_key:Me.getBytes(Z.enc_key_length)};return ee&&(Ot.client_write_IV=Me.getBytes(Z.fixed_iv_length),Ot.server_write_IV=Me.getBytes(Z.fixed_iv_length)),Ot},x.createConnectionState=function(X){var Z=X.entity===x.ConnectionEnd.client,ue=function(){var ee={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Me){return!0},compressionState:null,compressFunction:function(Me){return!0},updateSequenceNumber:function(){4294967295===ee.sequenceNumber[1]?(ee.sequenceNumber[1]=0,++ee.sequenceNumber[0]):++ee.sequenceNumber[1]}};return ee},Le={read:ue(),write:ue()};if(Le.read.update=function(ee,Me){return Le.read.cipherFunction(Me,Le.read)?Le.read.compressFunction(ee,Me,Le.read)||ee.error(ee,{message:"Could not decompress record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decompression_failure}}):ee.error(ee,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_record_mac}}),!ee.fail},Le.write.update=function(ee,Me){return Le.write.compressFunction(ee,Me,Le.write)?Le.write.cipherFunction(Me,Le.write)||ee.error(ee,{message:"Could not encrypt record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):ee.error(ee,{message:"Could not compress record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}),!ee.fail},X.session){var Xe=X.session.sp;switch(X.session.cipherSuite.initSecurityParameters(Xe),Xe.keys=x.generateKeys(X,Xe),Le.read.macKey=Z?Xe.keys.server_write_MAC_key:Xe.keys.client_write_MAC_key,Le.write.macKey=Z?Xe.keys.client_write_MAC_key:Xe.keys.server_write_MAC_key,X.session.cipherSuite.initConnectionState(Le,X,Xe),Xe.compression_algorithm){case x.CompressionMethod.none:break;case x.CompressionMethod.deflate:Le.read.compressFunction=B,Le.write.compressFunction=F;break;default:throw new Error("Unsupported compression algorithm.")}}return Le},x.createRandom=function(){var X=new Date,Z=+X+6e4*X.getTimezoneOffset(),ue=f.util.createBuffer();return ue.putInt32(Z),ue.putBytes(f.random.getBytes(28)),ue},x.createRecord=function(X,Z){return Z.data?{type:Z.type,version:{major:X.version.major,minor:X.version.minor},length:Z.data.length(),fragment:Z.data}:null},x.createAlert=function(X,Z){var ue=f.util.createBuffer();return ue.putByte(Z.level),ue.putByte(Z.description),x.createRecord(X,{type:x.ContentType.alert,data:ue})},x.createClientHello=function(X){X.session.clientHelloVersion={major:X.version.major,minor:X.version.minor};for(var Z=f.util.createBuffer(),ue=0;ue<X.cipherSuites.length;++ue){var Le=X.cipherSuites[ue];Z.putByte(Le.id[0]),Z.putByte(Le.id[1])}var Xe=Z.length(),ee=f.util.createBuffer();ee.putByte(x.CompressionMethod.none);var Me=ee.length(),Ot=f.util.createBuffer();if(X.virtualHost){var ar=f.util.createBuffer();ar.putByte(0),ar.putByte(0);var rr=f.util.createBuffer();rr.putByte(0),A(rr,2,f.util.createBuffer(X.virtualHost));var Bt=f.util.createBuffer();A(Bt,2,rr),A(ar,2,Bt),Ot.putBuffer(ar)}var Wt=Ot.length();Wt>0&&(Wt+=2);var yr=X.session.id,Sr=yr.length+1+2+4+28+2+Xe+1+Me+Wt,te=f.util.createBuffer();return te.putByte(x.HandshakeType.client_hello),te.putInt24(Sr),te.putByte(X.version.major),te.putByte(X.version.minor),te.putBytes(X.session.sp.client_random),A(te,1,f.util.createBuffer(yr)),A(te,2,Z),A(te,1,ee),Wt>0&&A(te,2,Ot),te},x.createServerHello=function(X){var Z=X.session.id,ue=Z.length+1+2+4+28+2+1,Le=f.util.createBuffer();return Le.putByte(x.HandshakeType.server_hello),Le.putInt24(ue),Le.putByte(X.version.major),Le.putByte(X.version.minor),Le.putBytes(X.session.sp.server_random),A(Le,1,f.util.createBuffer(Z)),Le.putByte(X.session.cipherSuite.id[0]),Le.putByte(X.session.cipherSuite.id[1]),Le.putByte(X.session.compressionMethod),Le},x.createCertificate=function(X){var Z=X.entity===x.ConnectionEnd.client,ue=null;X.getCertificate&&(ue=X.getCertificate(X,Z?X.session.certificateRequest:X.session.extensions.server_name.serverNameList));var Xe=f.util.createBuffer();if(null!==ue)try{f.util.isArray(ue)||(ue=[ue]);for(var ee=null,Me=0;Me<ue.length;++Me){var Ot=f.pem.decode(ue[Me])[0];if("CERTIFICATE"!==Ot.type&&"X509 CERTIFICATE"!==Ot.type&&"TRUSTED CERTIFICATE"!==Ot.type){var ar=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ar.headerType=Ot.type,ar}if(Ot.procType&&"ENCRYPTED"===Ot.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var rr=f.util.createBuffer(Ot.body);null===ee&&(ee=f.asn1.fromDer(rr.bytes(),!1));var Bt=f.util.createBuffer();A(Bt,3,rr),Xe.putBuffer(Bt)}ue=f.pki.certificateFromAsn1(ee),Z?X.session.clientCertificate=ue:X.session.serverCertificate=ue}catch(Sr){return X.error(X,{message:"Could not send certificate list.",cause:Sr,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var Wt=3+Xe.length(),yr=f.util.createBuffer();return yr.putByte(x.HandshakeType.certificate),yr.putInt24(Wt),A(yr,3,Xe),yr},x.createClientKeyExchange=function(X){var Z=f.util.createBuffer();Z.putByte(X.session.clientHelloVersion.major),Z.putByte(X.session.clientHelloVersion.minor),Z.putBytes(f.random.getBytes(46));var ue=X.session.sp;ue.pre_master_secret=Z.getBytes();var Xe=(Z=X.session.serverCertificate.publicKey.encrypt(ue.pre_master_secret)).length+2,ee=f.util.createBuffer();return ee.putByte(x.HandshakeType.client_key_exchange),ee.putInt24(Xe),ee.putInt16(Z.length),ee.putBytes(Z),ee},x.createServerKeyExchange=function(X){return f.util.createBuffer()},x.getClientSignature=function(X,Z){var ue=f.util.createBuffer();ue.putBuffer(X.session.md5.digest()),ue.putBuffer(X.session.sha1.digest()),ue=ue.getBytes(),X.getSignature=X.getSignature||function(Le,Xe,ee){var Me=null;if(Le.getPrivateKey)try{Me=Le.getPrivateKey(Le,Le.session.clientCertificate),Me=f.pki.privateKeyFromPem(Me)}catch(Ot){Le.error(Le,{message:"Could not get private key.",cause:Ot,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}null===Me?Le.error(Le,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):Xe=Me.sign(Xe,null),ee(Le,Xe)},X.getSignature(X,ue,Z)},x.createCertificateVerify=function(X,Z){var ue=Z.length+2,Le=f.util.createBuffer();return Le.putByte(x.HandshakeType.certificate_verify),Le.putInt24(ue),Le.putInt16(Z.length),Le.putBytes(Z),Le},x.createCertificateRequest=function(X){var Z=f.util.createBuffer();Z.putByte(1);var ue=f.util.createBuffer();for(var Le in X.caStore.certs){var ee=f.pki.distinguishedNameToAsn1(X.caStore.certs[Le].subject),Me=f.asn1.toDer(ee);ue.putInt16(Me.length()),ue.putBuffer(Me)}var Ot=1+Z.length()+2+ue.length(),ar=f.util.createBuffer();return ar.putByte(x.HandshakeType.certificate_request),ar.putInt24(Ot),A(ar,1,Z),A(ar,2,ue),ar},x.createServerHelloDone=function(X){var Z=f.util.createBuffer();return Z.putByte(x.HandshakeType.server_hello_done),Z.putInt24(0),Z},x.createChangeCipherSpec=function(){var X=f.util.createBuffer();return X.putByte(1),X},x.createFinished=function(X){var Z=f.util.createBuffer();Z.putBuffer(X.session.md5.digest()),Z.putBuffer(X.session.sha1.digest()),Z=c(X.session.sp.master_secret,X.entity===x.ConnectionEnd.client?"client finished":"server finished",Z.getBytes(),12);var Ot=f.util.createBuffer();return Ot.putByte(x.HandshakeType.finished),Ot.putInt24(Z.length()),Ot.putBuffer(Z),Ot},x.createHeartbeat=function(X,Z,ue){typeof ue>"u"&&(ue=Z.length);var Le=f.util.createBuffer();Le.putByte(X),Le.putInt16(ue),Le.putBytes(Z);var Xe=Le.length(),ee=Math.max(16,Xe-ue-3);return Le.putBytes(f.random.getBytes(ee)),Le},x.queue=function(X,Z){if(Z&&(0!==Z.fragment.length()||Z.type!==x.ContentType.handshake&&Z.type!==x.ContentType.alert&&Z.type!==x.ContentType.change_cipher_spec)){if(Z.type===x.ContentType.handshake){var ue=Z.fragment.bytes();X.session.md5.update(ue),X.session.sha1.update(ue),ue=null}var Le;if(Z.fragment.length()<=x.MaxFragment)Le=[Z];else{Le=[];for(var Xe=Z.fragment.bytes();Xe.length>x.MaxFragment;)Le.push(x.createRecord(X,{type:Z.type,data:f.util.createBuffer(Xe.slice(0,x.MaxFragment))})),Xe=Xe.slice(x.MaxFragment);Xe.length>0&&Le.push(x.createRecord(X,{type:Z.type,data:f.util.createBuffer(Xe)}))}for(var ee=0;ee<Le.length&&!X.fail;++ee){var Me=Le[ee];X.state.current.write.update(X,Me)&&X.records.push(Me)}}},x.flush=function(X){for(var Z=0;Z<X.records.length;++Z){var ue=X.records[Z];X.tlsData.putByte(ue.type),X.tlsData.putByte(ue.version.major),X.tlsData.putByte(ue.version.minor),X.tlsData.putInt16(ue.fragment.length()),X.tlsData.putBuffer(X.records[Z].fragment)}return X.records=[],X.tlsDataReady(X)};var sr=function(X){switch(X){case!0:return!0;case f.pki.certificateError.bad_certificate:return x.Alert.Description.bad_certificate;case f.pki.certificateError.unsupported_certificate:return x.Alert.Description.unsupported_certificate;case f.pki.certificateError.certificate_revoked:return x.Alert.Description.certificate_revoked;case f.pki.certificateError.certificate_expired:return x.Alert.Description.certificate_expired;case f.pki.certificateError.certificate_unknown:return x.Alert.Description.certificate_unknown;case f.pki.certificateError.unknown_ca:return x.Alert.Description.unknown_ca;default:return x.Alert.Description.bad_certificate}};for(var gt in x.verifyCertificateChain=function(X,Z){try{var ue={};for(var Le in X.verifyOptions)ue[Le]=X.verifyOptions[Le];ue.verify=function(ee,Me,Ot){sr(ee);var rr=X.verify(X,ee,Me,Ot);if(!0!==rr){if("object"==typeof rr&&!f.util.isArray(rr)){var Bt=new Error("The application rejected the certificate.");throw Bt.send=!0,Bt.alert={level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate},rr.message&&(Bt.message=rr.message),rr.alert&&(Bt.alert.description=rr.alert),Bt}rr!==ee&&(rr=function(X){switch(X){case!0:return!0;case x.Alert.Description.bad_certificate:return f.pki.certificateError.bad_certificate;case x.Alert.Description.unsupported_certificate:return f.pki.certificateError.unsupported_certificate;case x.Alert.Description.certificate_revoked:return f.pki.certificateError.certificate_revoked;case x.Alert.Description.certificate_expired:return f.pki.certificateError.certificate_expired;case x.Alert.Description.certificate_unknown:return f.pki.certificateError.certificate_unknown;case x.Alert.Description.unknown_ca:return f.pki.certificateError.unknown_ca;default:return f.pki.certificateError.bad_certificate}}(rr))}return rr},f.pki.verifyCertificateChain(X.caStore,Z,ue)}catch(ee){var Xe=ee;("object"!=typeof Xe||f.util.isArray(Xe))&&(Xe={send:!0,alert:{level:x.Alert.Level.fatal,description:sr(ee)}}),"send"in Xe||(Xe.send=!0),"alert"in Xe||(Xe.alert={level:x.Alert.Level.fatal,description:sr(Xe.error)}),X.error(X,Xe)}return!X.fail},x.createSessionCache=function(X,Z){var ue=null;if(X&&X.getSession&&X.setSession&&X.order)ue=X;else{for(var Le in(ue={}).cache=X||{},ue.capacity=Math.max(Z||100,1),ue.order=[],X)ue.order.length<=Z?ue.order.push(Le):delete X[Le];ue.getSession=function(Xe){var ee=null,Me=null;if(Xe?Me=f.util.bytesToHex(Xe):ue.order.length>0&&(Me=ue.order[0]),null!==Me&&Me in ue.cache)for(var Ot in ee=ue.cache[Me],delete ue.cache[Me],ue.order)if(ue.order[Ot]===Me){ue.order.splice(Ot,1);break}return ee},ue.setSession=function(Xe,ee){if(ue.order.length===ue.capacity){var Me=ue.order.shift();delete ue.cache[Me]}Me=f.util.bytesToHex(Xe),ue.order.push(Me),ue.cache[Me]=ee}}return ue},x.createConnection=function(X){var Z;Z=X.caStore?f.util.isArray(X.caStore)?f.pki.createCaStore(X.caStore):X.caStore:f.pki.createCaStore();var ue=X.cipherSuites||null;if(null===ue)for(var Le in ue=[],x.CipherSuites)ue.push(x.CipherSuites[Le]);var Xe=X.server?x.ConnectionEnd.server:x.ConnectionEnd.client,ee=X.sessionCache?x.createSessionCache(X.sessionCache):null,Me={version:{major:x.Version.major,minor:x.Version.minor},entity:Xe,sessionId:X.sessionId,caStore:Z,sessionCache:ee,cipherSuites:ue,connected:X.connected,virtualHost:X.virtualHost||null,verifyClient:X.verifyClient||!1,verify:X.verify||function(Bt,Wt,yr,Sr){return Wt},verifyOptions:X.verifyOptions||{},getCertificate:X.getCertificate||null,getPrivateKey:X.getPrivateKey||null,getSignature:X.getSignature||null,input:f.util.createBuffer(),tlsData:f.util.createBuffer(),data:f.util.createBuffer(),tlsDataReady:X.tlsDataReady,dataReady:X.dataReady,heartbeatReceived:X.heartbeatReceived,closed:X.closed,error:function(Bt,Wt){Wt.origin=Wt.origin||(Bt.entity===x.ConnectionEnd.client?"client":"server"),Wt.send&&(x.queue(Bt,x.createAlert(Bt,Wt.alert)),x.flush(Bt));var yr=!1!==Wt.fatal;yr&&(Bt.fail=!0),X.error(Bt,Wt),yr&&Bt.close(!1)},deflate:X.deflate||null,inflate:X.inflate||null,reset:function(Bt){Me.version={major:x.Version.major,minor:x.Version.minor},Me.record=null,Me.session=null,Me.peerCertificate=null,Me.state={pending:null,current:null},Me.expect=0,Me.fragmented=null,Me.records=[],Me.open=!1,Me.handshakes=0,Me.handshaking=!1,Me.isConnected=!1,Me.fail=!(Bt||typeof Bt>"u"),Me.input.clear(),Me.tlsData.clear(),Me.data.clear(),Me.state.current=x.createConnectionState(Me)}};return Me.reset(),Me.handshake=function(Bt){if(Me.entity!==x.ConnectionEnd.client)Me.error(Me,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Me.handshaking)Me.error(Me,{message:"Handshake already in progress.",fatal:!1});else{Me.fail&&!Me.open&&0===Me.handshakes&&(Me.fail=!1),Me.handshaking=!0;var Wt=null;(Bt=Bt||"").length>0&&(Me.sessionCache&&(Wt=Me.sessionCache.getSession(Bt)),null===Wt&&(Bt="")),0===Bt.length&&Me.sessionCache&&null!==(Wt=Me.sessionCache.getSession())&&(Bt=Wt.id),Me.session={id:Bt,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:f.md.md5.create(),sha1:f.md.sha1.create()},Wt&&(Me.version=Wt.version,Me.session.sp=Wt.sp),Me.session.sp.client_random=x.createRandom().getBytes(),Me.open=!0,x.queue(Me,x.createRecord(Me,{type:x.ContentType.handshake,data:x.createClientHello(Me)})),x.flush(Me)}},Me.process=function(Bt){var Wt=0;return Bt&&Me.input.putBytes(Bt),Me.fail||(null!==Me.record&&Me.record.ready&&Me.record.fragment.isEmpty()&&(Me.record=null),null===Me.record&&(Wt=function(Bt){var Wt=0,yr=Bt.input,Sr=yr.length();if(Sr<5)Wt=5-Sr;else{Bt.record={type:yr.getByte(),version:{major:yr.getByte(),minor:yr.getByte()},length:yr.getInt16(),fragment:f.util.createBuffer(),ready:!1};var te=Bt.record.version.major===Bt.version.major;te&&Bt.session&&Bt.session.version&&(te=Bt.record.version.minor===Bt.version.minor),te||Bt.error(Bt,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}})}return Wt}(Me)),!Me.fail&&null!==Me.record&&!Me.record.ready&&(Wt=function(Bt){var Wt=0,yr=Bt.input,Sr=yr.length();return Sr<Bt.record.length?Wt=Bt.record.length-Sr:(Bt.record.fragment.putBytes(yr.getBytes(Bt.record.length)),yr.compact(),Bt.state.current.read.update(Bt,Bt.record)&&(null!==Bt.fragmented&&(Bt.fragmented.type===Bt.record.type?(Bt.fragmented.fragment.putBuffer(Bt.record.fragment),Bt.record=Bt.fragmented):Bt.error(Bt,{message:"Invalid fragmented record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})),Bt.record.ready=!0)),Wt}(Me)),!Me.fail&&null!==Me.record&&Me.record.ready&&function(Bt,Wt){var yr=Wt.type-x.ContentType.change_cipher_spec,Sr=Ve[Bt.entity][Bt.expect];yr in Sr?Sr[yr](Bt,Wt):x.handleUnexpected(Bt,Wt)}(Me,Me.record)),Wt},Me.prepare=function(Bt){return x.queue(Me,x.createRecord(Me,{type:x.ContentType.application_data,data:f.util.createBuffer(Bt)})),x.flush(Me)},Me.prepareHeartbeatRequest=function(Bt,Wt){return Bt instanceof f.util.ByteBuffer&&(Bt=Bt.bytes()),typeof Wt>"u"&&(Wt=Bt.length),Me.expectedHeartbeatPayload=Bt,x.queue(Me,x.createRecord(Me,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_request,Bt,Wt)})),x.flush(Me)},Me.close=function(Bt){if(!Me.fail&&Me.sessionCache&&Me.session){var Wt={id:Me.session.id,version:Me.session.version,sp:Me.session.sp};Wt.sp.keys=null,Me.sessionCache.setSession(Wt.id,Wt)}Me.open&&(Me.open=!1,Me.input.clear(),(Me.isConnected||Me.handshaking)&&(Me.isConnected=Me.handshaking=!1,x.queue(Me,x.createAlert(Me,{level:x.Alert.Level.warning,description:x.Alert.Description.close_notify})),x.flush(Me)),Me.closed(Me)),Me.reset(Bt)},Me},tt.exports=f.tls=f.tls||{},x)"function"!=typeof x[gt]&&(f.tls[gt]=x[gt]);f.tls.prf_tls1=c,f.tls.hmac_sha1=function(X,Z,ue){var Le=f.hmac.create();Le.start("SHA1",X);var Xe=f.util.createBuffer();return Xe.putInt32(Z[0]),Xe.putInt32(Z[1]),Xe.putByte(ue.type),Xe.putByte(ue.version.major),Xe.putByte(ue.version.minor),Xe.putInt16(ue.length),Xe.putBytes(ue.fragment.bytes()),Le.update(Xe.getBytes()),Le.digest().getBytes()},f.tls.createSessionCache=x.createSessionCache,f.tls.createConnection=x.createConnection},4747:(tt,de,H)=>{var f=H(8659),c=H(2020),v=tt.exports=f.util=f.util||{};function w(E){if(8!==E&&16!==E&&24!==E&&32!==E)throw new Error("Only 8, 16, 24, or 32 bits supported: "+E)}function F(E){if(this.data="",this.read=0,"string"==typeof E)this.data=E;else if(v.isArrayBuffer(E)||v.isArrayBufferView(E))if(typeof Buffer<"u"&&E instanceof Buffer)this.data=E.toString("binary");else{var S=new Uint8Array(E);try{this.data=String.fromCharCode.apply(null,S)}catch{for(var _=0;_<S.length;++_)this.putByte(S[_])}}else(E instanceof F||"object"==typeof E&&"string"==typeof E.data&&"number"==typeof E.read)&&(this.data=E.data,this.read=E.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return v.nextTick=process.nextTick,void(v.setImmediate="function"==typeof setImmediate?setImmediate:v.nextTick);if("function"==typeof setImmediate)return v.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(v.nextTick=function(N){return setImmediate(N)});if(v.setImmediate=function(N){setTimeout(N,0)},typeof window<"u"&&"function"==typeof window.postMessage){let N=function(G){if(G.source===window&&G.data===E){G.stopPropagation();var g=S.slice();S.length=0,g.forEach(function(V){V()})}};var E="forge.setImmediate",S=[];v.setImmediate=function(G){S.push(G),1===S.length&&window.postMessage(E,"*")},window.addEventListener("message",N,!0)}if(typeof MutationObserver<"u"){var _=Date.now(),Q=!0,j=document.createElement("div");S=[],new MutationObserver(function(){var G=S.slice();S.length=0,G.forEach(function(g){g()})}).observe(j,{attributes:!0});var ne=v.setImmediate;v.setImmediate=function(G){Date.now()-_>15?(_=Date.now(),ne(G)):(S.push(G),1===S.length&&j.setAttribute("a",Q=!Q))}}v.nextTick=v.setImmediate})(),v.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,v.globalScope=v.isNodejs?global:typeof self>"u"?window:self,v.isArray=Array.isArray||function(E){return"[object Array]"===Object.prototype.toString.call(E)},v.isArrayBuffer=function(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer},v.isArrayBufferView=function(E){return E&&v.isArrayBuffer(E.buffer)&&void 0!==E.byteLength},v.ByteBuffer=F,v.ByteStringBuffer=F,v.ByteStringBuffer.prototype._optimizeConstructedString=function(E){this._constructedStringLength+=E,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},v.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},v.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},v.ByteStringBuffer.prototype.putByte=function(E){return this.putBytes(String.fromCharCode(E))},v.ByteStringBuffer.prototype.fillWithByte=function(E,S){E=String.fromCharCode(E);for(var _=this.data;S>0;)1&S&&(_+=E),(S>>>=1)>0&&(E+=E);return this.data=_,this._optimizeConstructedString(S),this},v.ByteStringBuffer.prototype.putBytes=function(E){return this.data+=E,this._optimizeConstructedString(E.length),this},v.ByteStringBuffer.prototype.putString=function(E){return this.putBytes(v.encodeUtf8(E))},v.ByteStringBuffer.prototype.putInt16=function(E){return this.putBytes(String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},v.ByteStringBuffer.prototype.putInt24=function(E){return this.putBytes(String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},v.ByteStringBuffer.prototype.putInt32=function(E){return this.putBytes(String.fromCharCode(E>>24&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E))},v.ByteStringBuffer.prototype.putInt16Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255))},v.ByteStringBuffer.prototype.putInt24Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255)+String.fromCharCode(E>>16&255))},v.ByteStringBuffer.prototype.putInt32Le=function(E){return this.putBytes(String.fromCharCode(255&E)+String.fromCharCode(E>>8&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>24&255))},v.ByteStringBuffer.prototype.putInt=function(E,S){w(S);var _="";do{S-=8,_+=String.fromCharCode(E>>S&255)}while(S>0);return this.putBytes(_)},v.ByteStringBuffer.prototype.putSignedInt=function(E,S){return E<0&&(E+=2<<S-1),this.putInt(E,S)},v.ByteStringBuffer.prototype.putBuffer=function(E){return this.putBytes(E.getBytes())},v.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},v.ByteStringBuffer.prototype.getInt16=function(){var E=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,E},v.ByteStringBuffer.prototype.getInt24=function(){var E=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,E},v.ByteStringBuffer.prototype.getInt32=function(){var E=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,E},v.ByteStringBuffer.prototype.getInt16Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,E},v.ByteStringBuffer.prototype.getInt24Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,E},v.ByteStringBuffer.prototype.getInt32Le=function(){var E=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,E},v.ByteStringBuffer.prototype.getInt=function(E){w(E);var S=0;do{S=(S<<8)+this.data.charCodeAt(this.read++),E-=8}while(E>0);return S},v.ByteStringBuffer.prototype.getSignedInt=function(E){var S=this.getInt(E),_=2<<E-2;return S>=_&&(S-=_<<1),S},v.ByteStringBuffer.prototype.getBytes=function(E){var S;return E?(E=Math.min(this.length(),E),S=this.data.slice(this.read,this.read+E),this.read+=E):0===E?S="":(S=0===this.read?this.data:this.data.slice(this.read),this.clear()),S},v.ByteStringBuffer.prototype.bytes=function(E){return typeof E>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+E)},v.ByteStringBuffer.prototype.at=function(E){return this.data.charCodeAt(this.read+E)},v.ByteStringBuffer.prototype.setAt=function(E,S){return this.data=this.data.substr(0,this.read+E)+String.fromCharCode(S)+this.data.substr(this.read+E+1),this},v.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},v.ByteStringBuffer.prototype.copy=function(){var E=v.createBuffer(this.data);return E.read=this.read,E},v.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},v.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},v.ByteStringBuffer.prototype.truncate=function(E){var S=Math.max(0,this.length()-E);return this.data=this.data.substr(this.read,S),this.read=0,this},v.ByteStringBuffer.prototype.toHex=function(){for(var E="",S=this.read;S<this.data.length;++S){var _=this.data.charCodeAt(S);_<16&&(E+="0"),E+=_.toString(16)}return E},v.ByteStringBuffer.prototype.toString=function(){return v.decodeUtf8(this.bytes())},v.DataBuffer=function T(E,S){this.read=(S=S||{}).readOffset||0,this.growSize=S.growSize||1024;var _=v.isArrayBuffer(E),Q=v.isArrayBufferView(E);if(_||Q)return this.data=_?new DataView(E):new DataView(E.buffer,E.byteOffset,E.byteLength),void(this.write="writeOffset"in S?S.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=E&&this.putBytes(E),"writeOffset"in S&&(this.write=S.writeOffset)},v.DataBuffer.prototype.length=function(){return this.write-this.read},v.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},v.DataBuffer.prototype.accommodate=function(E,S){if(this.length()>=E)return this;S=Math.max(S||this.growSize,E);var _=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),Q=new Uint8Array(this.length()+S);return Q.set(_),this.data=new DataView(Q.buffer),this},v.DataBuffer.prototype.putByte=function(E){return this.accommodate(1),this.data.setUint8(this.write++,E),this},v.DataBuffer.prototype.fillWithByte=function(E,S){this.accommodate(S);for(var _=0;_<S;++_)this.data.setUint8(E);return this},v.DataBuffer.prototype.putBytes=function(E,S){if(v.isArrayBufferView(E)){var Q=(_=new Uint8Array(E.buffer,E.byteOffset,E.byteLength)).byteLength-_.byteOffset;return this.accommodate(Q),new Uint8Array(this.data.buffer,this.write).set(_),this.write+=Q,this}if(v.isArrayBuffer(E)){var _=new Uint8Array(E);return this.accommodate(_.byteLength),new Uint8Array(this.data.buffer).set(_,this.write),this.write+=_.byteLength,this}if(E instanceof v.DataBuffer||"object"==typeof E&&"number"==typeof E.read&&"number"==typeof E.write&&v.isArrayBufferView(E.data))return _=new Uint8Array(E.data.byteLength,E.read,E.length()),this.accommodate(_.byteLength),new Uint8Array(E.data.byteLength,this.write).set(_),this.write+=_.byteLength,this;if(E instanceof v.ByteStringBuffer&&(E=E.data,S="binary"),S=S||"binary","string"==typeof E){var ne;if("hex"===S)return this.accommodate(Math.ceil(E.length/2)),ne=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.hex.decode(E,ne,this.write),this;if("base64"===S)return this.accommodate(3*Math.ceil(E.length/4)),ne=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.base64.decode(E,ne,this.write),this;if("utf8"===S&&(E=v.encodeUtf8(E),S="binary"),"binary"===S||"raw"===S)return this.accommodate(E.length),ne=new Uint8Array(this.data.buffer,this.write),this.write+=v.binary.raw.decode(ne),this;if("utf16"===S)return this.accommodate(2*E.length),ne=new Uint16Array(this.data.buffer,this.write),this.write+=v.text.utf16.encode(ne),this;throw new Error("Invalid encoding: "+S)}throw Error("Invalid parameter: "+E)},v.DataBuffer.prototype.putBuffer=function(E){return this.putBytes(E),E.clear(),this},v.DataBuffer.prototype.putString=function(E){return this.putBytes(E,"utf16")},v.DataBuffer.prototype.putInt16=function(E){return this.accommodate(2),this.data.setInt16(this.write,E),this.write+=2,this},v.DataBuffer.prototype.putInt24=function(E){return this.accommodate(3),this.data.setInt16(this.write,E>>8&65535),this.data.setInt8(this.write,E>>16&255),this.write+=3,this},v.DataBuffer.prototype.putInt32=function(E){return this.accommodate(4),this.data.setInt32(this.write,E),this.write+=4,this},v.DataBuffer.prototype.putInt16Le=function(E){return this.accommodate(2),this.data.setInt16(this.write,E,!0),this.write+=2,this},v.DataBuffer.prototype.putInt24Le=function(E){return this.accommodate(3),this.data.setInt8(this.write,E>>16&255),this.data.setInt16(this.write,E>>8&65535,!0),this.write+=3,this},v.DataBuffer.prototype.putInt32Le=function(E){return this.accommodate(4),this.data.setInt32(this.write,E,!0),this.write+=4,this},v.DataBuffer.prototype.putInt=function(E,S){w(S),this.accommodate(S/8);do{S-=8,this.data.setInt8(this.write++,E>>S&255)}while(S>0);return this},v.DataBuffer.prototype.putSignedInt=function(E,S){return w(S),this.accommodate(S/8),E<0&&(E+=2<<S-1),this.putInt(E,S)},v.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},v.DataBuffer.prototype.getInt16=function(){var E=this.data.getInt16(this.read);return this.read+=2,E},v.DataBuffer.prototype.getInt24=function(){var E=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,E},v.DataBuffer.prototype.getInt32=function(){var E=this.data.getInt32(this.read);return this.read+=4,E},v.DataBuffer.prototype.getInt16Le=function(){var E=this.data.getInt16(this.read,!0);return this.read+=2,E},v.DataBuffer.prototype.getInt24Le=function(){var E=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,E},v.DataBuffer.prototype.getInt32Le=function(){var E=this.data.getInt32(this.read,!0);return this.read+=4,E},v.DataBuffer.prototype.getInt=function(E){w(E);var S=0;do{S=(S<<8)+this.data.getInt8(this.read++),E-=8}while(E>0);return S},v.DataBuffer.prototype.getSignedInt=function(E){var S=this.getInt(E),_=2<<E-2;return S>=_&&(S-=_<<1),S},v.DataBuffer.prototype.getBytes=function(E){var S;return E?(E=Math.min(this.length(),E),S=this.data.slice(this.read,this.read+E),this.read+=E):0===E?S="":(S=0===this.read?this.data:this.data.slice(this.read),this.clear()),S},v.DataBuffer.prototype.bytes=function(E){return typeof E>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+E)},v.DataBuffer.prototype.at=function(E){return this.data.getUint8(this.read+E)},v.DataBuffer.prototype.setAt=function(E,S){return this.data.setUint8(E,S),this},v.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},v.DataBuffer.prototype.copy=function(){return new v.DataBuffer(this)},v.DataBuffer.prototype.compact=function(){if(this.read>0){var E=new Uint8Array(this.data.buffer,this.read),S=new Uint8Array(E.byteLength);S.set(E),this.data=new DataView(S),this.write-=this.read,this.read=0}return this},v.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},v.DataBuffer.prototype.truncate=function(E){return this.write=Math.max(0,this.length()-E),this.read=Math.min(this.read,this.write),this},v.DataBuffer.prototype.toHex=function(){for(var E="",S=this.read;S<this.data.byteLength;++S){var _=this.data.getUint8(S);_<16&&(E+="0"),E+=_.toString(16)}return E},v.DataBuffer.prototype.toString=function(E){var S=new Uint8Array(this.data,this.read,this.length());if("binary"===(E=E||"utf8")||"raw"===E)return v.binary.raw.encode(S);if("hex"===E)return v.binary.hex.encode(S);if("base64"===E)return v.binary.base64.encode(S);if("utf8"===E)return v.text.utf8.decode(S);if("utf16"===E)return v.text.utf16.decode(S);throw new Error("Invalid encoding: "+E)},v.createBuffer=function(E,S){return S=S||"raw",void 0!==E&&"utf8"===S&&(E=v.encodeUtf8(E)),new v.ByteBuffer(E)},v.fillString=function(E,S){for(var _="";S>0;)1&S&&(_+=E),(S>>>=1)>0&&(E+=E);return _},v.xorBytes=function(E,S,_){for(var Q="",j="",ne="",O=0,N=0;_>0;--_,++O)j=E.charCodeAt(O)^S.charCodeAt(O),N>=10&&(Q+=ne,ne="",N=0),ne+=String.fromCharCode(j),++N;return Q+ne},v.hexToBytes=function(E){var S="",_=0;for(!0&E.length&&(_=1,S+=String.fromCharCode(parseInt(E[0],16)));_<E.length;_+=2)S+=String.fromCharCode(parseInt(E.substr(_,2),16));return S},v.bytesToHex=function(E){return v.createBuffer(E).toHex()},v.int32ToBytes=function(E){return String.fromCharCode(E>>24&255)+String.fromCharCode(E>>16&255)+String.fromCharCode(E>>8&255)+String.fromCharCode(255&E)};var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],I="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";v.encode64=function(E,S){for(var j,ne,O,_="",Q="",N=0;N<E.length;)j=E.charCodeAt(N++),ne=E.charCodeAt(N++),O=E.charCodeAt(N++),_+=A.charAt(j>>2),_+=A.charAt((3&j)<<4|ne>>4),isNaN(ne)?_+="==":(_+=A.charAt((15&ne)<<2|O>>6),_+=isNaN(O)?"=":A.charAt(63&O)),S&&_.length>S&&(Q+=_.substr(0,S)+"\r\n",_=_.substr(S));return Q+_},v.decode64=function(E){E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var _,Q,j,ne,S="",O=0;O<E.length;)_=x[E.charCodeAt(O++)-43],Q=x[E.charCodeAt(O++)-43],j=x[E.charCodeAt(O++)-43],ne=x[E.charCodeAt(O++)-43],S+=String.fromCharCode(_<<2|Q>>4),64!==j&&(S+=String.fromCharCode((15&Q)<<4|j>>2),64!==ne&&(S+=String.fromCharCode((3&j)<<6|ne)));return S},v.encodeUtf8=function(E){return unescape(encodeURIComponent(E))},v.decodeUtf8=function(E){return decodeURIComponent(escape(E))},v.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:c.encode,decode:c.decode}},v.binary.raw.encode=function(E){return String.fromCharCode.apply(null,E)},v.binary.raw.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(E.length));for(var j=_=_||0,ne=0;ne<E.length;++ne)Q[j++]=E.charCodeAt(ne);return S?j-_:Q},v.binary.hex.encode=v.bytesToHex,v.binary.hex.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(Math.ceil(E.length/2)));var j=0,ne=_=_||0;for(1&E.length&&(j=1,Q[ne++]=parseInt(E[0],16));j<E.length;j+=2)Q[ne++]=parseInt(E.substr(j,2),16);return S?ne-_:Q},v.binary.base64.encode=function(E,S){for(var j,ne,O,_="",Q="",N=0;N<E.byteLength;)j=E[N++],ne=E[N++],O=E[N++],_+=A.charAt(j>>2),_+=A.charAt((3&j)<<4|ne>>4),isNaN(ne)?_+="==":(_+=A.charAt((15&ne)<<2|O>>6),_+=isNaN(O)?"=":A.charAt(63&O)),S&&_.length>S&&(Q+=_.substr(0,S)+"\r\n",_=_.substr(S));return Q+_},v.binary.base64.decode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(3*Math.ceil(E.length/4))),E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var j,ne,O,N,G=0,g=_=_||0;G<E.length;)j=x[E.charCodeAt(G++)-43],ne=x[E.charCodeAt(G++)-43],O=x[E.charCodeAt(G++)-43],N=x[E.charCodeAt(G++)-43],Q[g++]=j<<2|ne>>4,64!==O&&(Q[g++]=(15&ne)<<4|O>>2,64!==N&&(Q[g++]=(3&O)<<6|N));return S?g-_:Q.subarray(0,g)},v.binary.base58.encode=function(E,S){return v.binary.baseN.encode(E,I,S)},v.binary.base58.decode=function(E,S){return v.binary.baseN.decode(E,I,S)},v.text={utf8:{},utf16:{}},v.text.utf8.encode=function(E,S,_){E=v.encodeUtf8(E);var Q=S;Q||(Q=new Uint8Array(E.length));for(var j=_=_||0,ne=0;ne<E.length;++ne)Q[j++]=E.charCodeAt(ne);return S?j-_:Q},v.text.utf8.decode=function(E){return v.decodeUtf8(String.fromCharCode.apply(null,E))},v.text.utf16.encode=function(E,S,_){var Q=S;Q||(Q=new Uint8Array(2*E.length));for(var j=new Uint16Array(Q.buffer),ne=_=_||0,O=_,N=0;N<E.length;++N)j[O++]=E.charCodeAt(N),ne+=2;return S?ne-_:Q},v.text.utf16.decode=function(E){return String.fromCharCode.apply(null,new Uint16Array(E.buffer))},v.deflate=function(E,S,_){if(S=v.decode64(E.deflate(v.encode64(S)).rval),_){var Q=2;32&S.charCodeAt(1)&&(Q=6),S=S.substring(Q,S.length-4)}return S},v.inflate=function(E,S,_){var Q=E.inflate(v.encode64(S)).rval;return null===Q?null:v.decode64(Q)};var M=function(E,S,_){if(!E)throw new Error("WebStorage not available.");var Q;if(null===_?Q=E.removeItem(S):(_=v.encode64(JSON.stringify(_)),Q=E.setItem(S,_)),typeof Q<"u"&&!0!==Q.rval){var j=new Error(Q.error.message);throw j.id=Q.error.id,j.name=Q.error.name,j}},J=function(E,S){if(!E)throw new Error("WebStorage not available.");var _=E.getItem(S);if(E.init)if(null===_.rval){if(_.error){var Q=new Error(_.error.message);throw Q.id=_.error.id,Q.name=_.error.name,Q}_=null}else _=_.rval;return null!==_&&(_=JSON.parse(v.decode64(_))),_},R=function(E,S,_,Q){var j=J(E,S);null===j&&(j={}),j[_]=Q,M(E,S,j)},L=function(E,S,_){var Q=J(E,S);return null!==Q&&(Q=_ in Q?Q[_]:null),Q},W=function(E,S,_){var Q=J(E,S);if(null!==Q&&_ in Q){delete Q[_];var j=!0;for(var ne in Q){j=!1;break}j&&(Q=null),M(E,S,Q)}},P=function(E,S){M(E,S,null)},K=function(E,S,_){var Q=null;typeof _>"u"&&(_=["web","flash"]);var j,ne=!1,O=null;for(var N in _){j=_[N];try{if("flash"===j||"both"===j){if(null===S[0])throw new Error("Flash local storage not available.");Q=E.apply(this,S),ne="flash"===j}("web"===j||"both"===j)&&(S[0]=localStorage,Q=E.apply(this,S),ne=!0)}catch(G){O=G}if(ne)break}if(!ne)throw O;return Q};v.setItem=function(E,S,_,Q,j){K(R,arguments,j)},v.getItem=function(E,S,_,Q){return K(L,arguments,Q)},v.removeItem=function(E,S,_,Q){K(W,arguments,Q)},v.clearItems=function(E,S,_){K(P,arguments,_)},v.isEmpty=function(E){for(var S in E)if(E.hasOwnProperty(S))return!1;return!0},v.format=function(E){for(var _,Q,S=/%./g,j=0,ne=[],O=0;_=S.exec(E);){(Q=E.substring(O,S.lastIndex-2)).length>0&&ne.push(Q),O=S.lastIndex;var N=_[0][1];switch(N){case"s":case"o":ne.push(j<arguments.length?arguments[1+j++]:"<?>");break;case"%":ne.push("%");break;default:ne.push("<%"+N+"?>")}}return ne.push(E.substring(O)),ne.join("")},v.formatNumber=function(E,S,_,Q){var j=E,ne=isNaN(S=Math.abs(S))?2:S,O=void 0===_?",":_,N=void 0===Q?".":Q,G=j<0?"-":"",g=parseInt(j=Math.abs(+j||0).toFixed(ne),10)+"",V=g.length>3?g.length%3:0;return G+(V?g.substr(0,V)+N:"")+g.substr(V).replace(/(\d{3})(?=\d)/g,"$1"+N)+(ne?O+Math.abs(j-g).toFixed(ne).slice(2):"")},v.formatSize=function(E){return E>=1073741824?v.formatNumber(E/1073741824,2,".","")+" GiB":E>=1048576?v.formatNumber(E/1048576,2,".","")+" MiB":E>=1024?v.formatNumber(E/1024,0)+" KiB":v.formatNumber(E,0)+" bytes"},v.bytesFromIP=function(E){return-1!==E.indexOf(".")?v.bytesFromIPv4(E):-1!==E.indexOf(":")?v.bytesFromIPv6(E):null},v.bytesFromIPv4=function(E){if(4!==(E=E.split(".")).length)return null;for(var S=v.createBuffer(),_=0;_<E.length;++_){var Q=parseInt(E[_],10);if(isNaN(Q))return null;S.putByte(Q)}return S.getBytes()},v.bytesFromIPv6=function(E){for(var S=0,_=2*(8-(E=E.split(":").filter(function(O){return 0===O.length&&++S,!0})).length+S),Q=v.createBuffer(),j=0;j<8;++j)if(E[j]&&0!==E[j].length){var ne=v.hexToBytes(E[j]);ne.length<2&&Q.putByte(0),Q.putBytes(ne)}else Q.fillWithByte(0,_),_=0;return Q.getBytes()},v.bytesToIP=function(E){return 4===E.length?v.bytesToIPv4(E):16===E.length?v.bytesToIPv6(E):null},v.bytesToIPv4=function(E){if(4!==E.length)return null;for(var S=[],_=0;_<E.length;++_)S.push(E.charCodeAt(_));return S.join(".")},v.bytesToIPv6=function(E){if(16!==E.length)return null;for(var S=[],_=[],Q=0,j=0;j<E.length;j+=2){for(var ne=v.bytesToHex(E[j]+E[j+1]);"0"===ne[0]&&"0"!==ne;)ne=ne.substr(1);if("0"===ne){var O=_[_.length-1],N=S.length;O&&N===O.end+1?(O.end=N,O.end-O.start>_[Q].end-_[Q].start&&(Q=_.length-1)):_.push({start:N,end:N})}S.push(ne)}if(_.length>0){var G=_[Q];G.end-G.start>0&&(S.splice(G.start,G.end-G.start+1,""),0===G.start&&S.unshift(""),7===G.end&&S.push(""))}return S.join(":")},v.estimateCores=function(E,S){if("function"==typeof E&&(S=E,E={}),E=E||{},"cores"in v&&!E.update)return S(null,v.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return v.cores=navigator.hardwareConcurrency,S(null,v.cores);if(typeof Worker>"u")return v.cores=1,S(null,v.cores);if(typeof Blob>"u")return v.cores=2,S(null,v.cores);var _=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(O){for(var N=Date.now(),G=N+4;Date.now()<G;);self.postMessage({st:N,et:G})})}.toString(),")()"],{type:"application/javascript"}));!function Q(O,N,G){if(0===N){var g=Math.floor(O.reduce(function(V,ae){return V+ae},0)/O.length);return v.cores=Math.max(1,g),URL.revokeObjectURL(_),S(null,v.cores)}!function j(O,N){for(var G=[],g=[],V=0;V<O;++V){var ae=new Worker(_);ae.addEventListener("message",function(re){if(g.push(re.data),g.length===O){for(var xe=0;xe<O;++xe)G[xe].terminate();N(null,g)}}),G.push(ae)}for(V=0;V<O;++V)G[V].postMessage(V)}(G,function(V,ae){O.push(function ne(O,N){for(var G=[],g=0;g<O;++g)for(var V=N[g],ae=G[g]=[],re=0;re<O;++re)if(g!==re){var xe=N[re];(V.st>xe.st&&V.st<xe.et||xe.st>V.st&&xe.st<V.et)&&ae.push(re)}return G.reduce(function(Be,Ve){return Math.max(Be,Ve.length)},0)}(G,ae)),Q(O,N-1,G)})}([],5,16)}},5911:(tt,de,H)=>{var f=H(8659);H(1298),H(7791),H(279),H(979),H(9386),H(6078),H(8604),H(7256),H(5517),H(4747);var c=f.asn1,v=tt.exports=f.pki=f.pki||{},w=v.oids,F={};F.CN=w.commonName,F.commonName="CN",F.C=w.countryName,F.countryName="C",F.L=w.localityName,F.localityName="L",F.ST=w.stateOrProvinceName,F.stateOrProvinceName="ST",F.O=w.organizationName,F.organizationName="O",F.OU=w.organizationalUnitName,F.organizationalUnitName="OU",F.E=w.emailAddress,F.emailAddress="E";var B=f.pki.rsa.publicKeyValidator,T={name:"Certificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},B,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},A={name:"rsapss",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},I={name:"CertificationRequest",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},B,{name:"CertificationRequestInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function M(O,N){"string"==typeof N&&(N={shortName:N});for(var g,G=null,V=0;null===G&&V<O.attributes.length;++V)g=O.attributes[V],(N.type&&N.type===g.type||N.name&&N.name===g.name||N.shortName&&N.shortName===g.shortName)&&(G=g);return G}v.RDNAttributesAsArray=function(O,N){for(var g,V,ae,G=[],re=0;re<O.value.length;++re){g=O.value[re];for(var xe=0;xe<g.value.length;++xe)(ae={}).type=c.derToOid((V=g.value[xe]).value[0].value),ae.value=V.value[1].value,ae.valueTagClass=V.value[1].type,ae.type in w&&(ae.name=w[ae.type],ae.name in F&&(ae.shortName=F[ae.name])),N&&(N.update(ae.type),N.update(ae.value)),G.push(ae)}return G},v.CRIAttributesAsArray=function(O){for(var N=[],G=0;G<O.length;++G)for(var g=O[G],V=c.derToOid(g.value[0].value),ae=g.value[1].value,re=0;re<ae.length;++re){var xe={};if(xe.type=V,xe.value=ae[re].value,xe.valueTagClass=ae[re].type,xe.type in w&&(xe.name=w[xe.type],xe.name in F&&(xe.shortName=F[xe.name])),xe.type===w.extensionRequest){xe.extensions=[];for(var Be=0;Be<xe.value.length;++Be)xe.extensions.push(v.certificateExtensionFromAsn1(xe.value[Be]))}N.push(xe)}return N};var J=function(O,N,G){var g={};if(O!==w["RSASSA-PSS"])return g;G&&(g={hash:{algorithmOid:w.sha1},mgf:{algorithmOid:w.mgf1,hash:{algorithmOid:w.sha1}},saltLength:20});var V={},ae=[];if(!c.validate(N,A,V,ae)){var re=new Error("Cannot read RSASSA-PSS parameter block.");throw re.errors=ae,re}return void 0!==V.hashOid&&(g.hash=g.hash||{},g.hash.algorithmOid=c.derToOid(V.hashOid)),void 0!==V.maskGenOid&&(g.mgf=g.mgf||{},g.mgf.algorithmOid=c.derToOid(V.maskGenOid),g.mgf.hash=g.mgf.hash||{},g.mgf.hash.algorithmOid=c.derToOid(V.maskGenHashOid)),void 0!==V.saltLength&&(g.saltLength=V.saltLength.charCodeAt(0)),g},R=function(O){switch(w[O.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return f.md.sha1.create();case"md5WithRSAEncryption":return f.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return f.md.sha256.create();case"sha384WithRSAEncryption":return f.md.sha384.create();case"sha512WithRSAEncryption":return f.md.sha512.create();default:var N=new Error("Could not compute "+O.type+" digest. Unknown signature OID.");throw N.signatureOid=O.signatureOid,N}},L=function(O){var G,N=O.certificate;switch(N.signatureOid){case w.sha1WithRSAEncryption:case w.sha1WithRSASignature:break;case w["RSASSA-PSS"]:var g,V,ae;if(void 0===(g=w[N.signatureParameters.mgf.hash.algorithmOid])||void 0===f.md[g])throw(ae=new Error("Unsupported MGF hash function.")).oid=N.signatureParameters.mgf.hash.algorithmOid,ae.name=g,ae;if(void 0===(V=w[N.signatureParameters.mgf.algorithmOid])||void 0===f.mgf[V])throw(ae=new Error("Unsupported MGF function.")).oid=N.signatureParameters.mgf.algorithmOid,ae.name=V,ae;if(V=f.mgf[V].create(f.md[g].create()),void 0===(g=w[N.signatureParameters.hash.algorithmOid])||void 0===f.md[g])throw(ae=new Error("Unsupported RSASSA-PSS hash function.")).oid=N.signatureParameters.hash.algorithmOid,ae.name=g,ae;G=f.pss.create(f.md[g].create(),V,N.signatureParameters.saltLength)}return N.publicKey.verify(O.md.digest().getBytes(),O.signature,G)};function W(O){for(var G,g,N=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),V=O.attributes,ae=0;ae<V.length;++ae){var re=(G=V[ae]).value,xe=c.Type.PRINTABLESTRING;"valueTagClass"in G&&(xe=G.valueTagClass)===c.Type.UTF8&&(re=f.util.encodeUtf8(re)),g=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(G.type).getBytes()),c.create(c.Class.UNIVERSAL,xe,!1,re)])]),N.value.push(g)}return N}function K(O){for(var N,G=0;G<O.length;++G){if(typeof(N=O[G]).name>"u"&&(N.type&&N.type in v.oids?N.name=v.oids[N.type]:N.shortName&&N.shortName in F&&(N.name=v.oids[F[N.shortName]])),typeof N.type>"u"){if(!N.name||!(N.name in v.oids))throw(g=new Error("Attribute type not specified.")).attribute=N,g;N.type=v.oids[N.name]}if(typeof N.shortName>"u"&&N.name&&N.name in F&&(N.shortName=F[N.name]),N.type===w.extensionRequest&&(N.valueConstructed=!0,N.valueTagClass=c.Type.SEQUENCE,!N.value&&N.extensions)){N.value=[];for(var V=0;V<N.extensions.length;++V)N.value.push(v.certificateExtensionToAsn1(E(N.extensions[V])))}var g;if(typeof N.value>"u")throw(g=new Error("Attribute value not specified.")).attribute=N,g}}function E(O,N){if(N=N||{},typeof O.name>"u"&&O.id&&O.id in v.oids&&(O.name=v.oids[O.id]),typeof O.id>"u"){if(!O.name||!(O.name in v.oids))throw(G=new Error("Extension ID not specified.")).extension=O,G;O.id=v.oids[O.name]}if(typeof O.value<"u")return O;if("keyUsage"===O.name){var g=0,V=0,ae=0;O.digitalSignature&&(V|=128,g=7),O.nonRepudiation&&(V|=64,g=6),O.keyEncipherment&&(V|=32,g=5),O.dataEncipherment&&(V|=16,g=4),O.keyAgreement&&(V|=8,g=3),O.keyCertSign&&(V|=4,g=2),O.cRLSign&&(V|=2,g=1),O.encipherOnly&&(V|=1,g=0),O.decipherOnly&&(ae|=128,g=7);var re=String.fromCharCode(g);0!==ae?re+=String.fromCharCode(V)+String.fromCharCode(ae):0!==V&&(re+=String.fromCharCode(V)),O.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,re)}else if("basicConstraints"===O.name)O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),O.cA&&O.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in O&&O.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.pathLenConstraint).getBytes()));else if("extKeyUsage"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);var xe=O.value.value;for(var Be in O)!0===O[Be]&&(Be in w?xe.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(w[Be]).getBytes())):-1!==Be.indexOf(".")&&xe.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(Be).getBytes())))}else if("nsCertType"===O.name)g=0,V=0,O.client&&(V|=128,g=7),O.server&&(V|=64,g=6),O.email&&(V|=32,g=5),O.objsign&&(V|=16,g=4),O.reserved&&(V|=8,g=3),O.sslCA&&(V|=4,g=2),O.emailCA&&(V|=2,g=1),O.objCA&&(V|=1,g=0),re=String.fromCharCode(g),0!==V&&(re+=String.fromCharCode(V)),O.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,re);else if("subjectAltName"===O.name||"issuerAltName"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);for(var nt=0;nt<O.altNames.length;++nt){if(re=(Ve=O.altNames[nt]).value,7===Ve.type&&Ve.ip){if(null===(re=f.util.bytesFromIP(Ve.ip)))throw(G=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=O,G}else 8===Ve.type&&(re=c.oidToDer(Ve.oid?c.oidToDer(Ve.oid):re));O.value.value.push(c.create(c.Class.CONTEXT_SPECIFIC,Ve.type,!1,re))}}else if("nsComment"===O.name&&N.cert){if(!/^[\x00-\x7F]*$/.test(O.comment)||O.comment.length<1||O.comment.length>128)throw new Error('Invalid "nsComment" content.');O.value=c.create(c.Class.UNIVERSAL,c.Type.IA5STRING,!1,O.comment)}else if("subjectKeyIdentifier"===O.name&&N.cert){var it=N.cert.generateSubjectKeyIdentifier();O.subjectKeyIdentifier=it.toHex(),O.value=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,it.getBytes())}else if("authorityKeyIdentifier"===O.name&&N.cert){if(O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),xe=O.value.value,O.keyIdentifier){var Ue=!0===O.keyIdentifier?N.cert.generateSubjectKeyIdentifier().getBytes():O.keyIdentifier;xe.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!1,Ue))}if(O.authorityCertIssuer){var qe=[c.create(c.Class.CONTEXT_SPECIFIC,4,!0,[W(!0===O.authorityCertIssuer?N.cert.issuer:O.authorityCertIssuer)])];xe.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,qe))}if(O.serialNumber){var ft=f.util.hexToBytes(!0===O.serialNumber?N.cert.serialNumber:O.serialNumber);xe.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!1,ft))}}else if("cRLDistributionPoints"===O.name){O.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),xe=O.value.value;var Ve,Je=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),Yt=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);for(nt=0;nt<O.altNames.length;++nt){if(re=(Ve=O.altNames[nt]).value,7===Ve.type&&Ve.ip){if(null===(re=f.util.bytesFromIP(Ve.ip)))throw(G=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=O,G}else 8===Ve.type&&(re=c.oidToDer(Ve.oid?c.oidToDer(Ve.oid):re));Yt.value.push(c.create(c.Class.CONTEXT_SPECIFIC,Ve.type,!1,re))}Je.value.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[Yt])),xe.push(Je)}var G;if(typeof O.value>"u")throw(G=new Error("Extension value not specified.")).extension=O,G;return O}function S(O,N){if(O===w["RSASSA-PSS"]){var G=[];return void 0!==N.hash.algorithmOid&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])),void 0!==N.mgf.algorithmOid&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.mgf.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(N.mgf.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])])),void 0!==N.saltLength&&G.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(N.saltLength).getBytes())])),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,G)}return c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")}function _(O){var N=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===O.attributes.length)return N;for(var G=O.attributes,g=0;g<G.length;++g){var V=G[g],ae=V.value,re=c.Type.UTF8;"valueTagClass"in V&&(re=V.valueTagClass),re===c.Type.UTF8&&(ae=f.util.encodeUtf8(ae));var xe=!1;"valueConstructed"in V&&(xe=V.valueConstructed);var Be=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(V.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,re,xe,ae)])]);N.value.push(Be)}return N}v.certificateFromPem=function(O,N,G){var g=f.pem.decode(O)[0];if("CERTIFICATE"!==g.type&&"X509 CERTIFICATE"!==g.type&&"TRUSTED CERTIFICATE"!==g.type){var V=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw V.headerType=g.type,V}if(g.procType&&"ENCRYPTED"===g.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var ae=c.fromDer(g.body,G);return v.certificateFromAsn1(ae,N)},v.certificateToPem=function(O,N){var G={type:"CERTIFICATE",body:c.toDer(v.certificateToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},v.publicKeyFromPem=function(O){var N=f.pem.decode(O)[0];if("PUBLIC KEY"!==N.type&&"RSA PUBLIC KEY"!==N.type){var G=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw G.headerType=N.type,G}if(N.procType&&"ENCRYPTED"===N.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var g=c.fromDer(N.body);return v.publicKeyFromAsn1(g)},v.publicKeyToPem=function(O,N){var G={type:"PUBLIC KEY",body:c.toDer(v.publicKeyToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},v.publicKeyToRSAPublicKeyPem=function(O,N){var G={type:"RSA PUBLIC KEY",body:c.toDer(v.publicKeyToRSAPublicKey(O)).getBytes()};return f.pem.encode(G,{maxline:N})},v.getPublicKeyFingerprint=function(O,N){var V,G=(N=N||{}).md||f.md.sha1.create();switch(N.type||"RSAPublicKey"){case"RSAPublicKey":V=c.toDer(v.publicKeyToRSAPublicKey(O)).getBytes();break;case"SubjectPublicKeyInfo":V=c.toDer(v.publicKeyToAsn1(O)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+N.type+'".')}G.start(),G.update(V);var ae=G.digest();if("hex"===N.encoding){var re=ae.toHex();return N.delimiter?re.match(/.{2}/g).join(N.delimiter):re}if("binary"===N.encoding)return ae.getBytes();if(N.encoding)throw new Error('Unknown encoding "'+N.encoding+'".');return ae},v.certificationRequestFromPem=function(O,N,G){var g=f.pem.decode(O)[0];if("CERTIFICATE REQUEST"!==g.type){var V=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw V.headerType=g.type,V}if(g.procType&&"ENCRYPTED"===g.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var ae=c.fromDer(g.body,G);return v.certificationRequestFromAsn1(ae,N)},v.certificationRequestToPem=function(O,N){var G={type:"CERTIFICATE REQUEST",body:c.toDer(v.certificationRequestToAsn1(O)).getBytes()};return f.pem.encode(G,{maxline:N})},v.createCertificate=function(){var O={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return O.siginfo.algorithmOid=null,O.validity={},O.validity.notBefore=new Date,O.validity.notAfter=new Date,O.issuer={},O.issuer.getField=function(N){return M(O.issuer,N)},O.issuer.addField=function(N){K([N]),O.issuer.attributes.push(N)},O.issuer.attributes=[],O.issuer.hash=null,O.subject={},O.subject.getField=function(N){return M(O.subject,N)},O.subject.addField=function(N){K([N]),O.subject.attributes.push(N)},O.subject.attributes=[],O.subject.hash=null,O.extensions=[],O.publicKey=null,O.md=null,O.setSubject=function(N,G){K(N),O.subject.attributes=N,delete O.subject.uniqueId,G&&(O.subject.uniqueId=G),O.subject.hash=null},O.setIssuer=function(N,G){K(N),O.issuer.attributes=N,delete O.issuer.uniqueId,G&&(O.issuer.uniqueId=G),O.issuer.hash=null},O.setExtensions=function(N){for(var G=0;G<N.length;++G)E(N[G],{cert:O});O.extensions=N},O.getExtension=function(N){"string"==typeof N&&(N={name:N});for(var g,G=null,V=0;null===G&&V<O.extensions.length;++V)g=O.extensions[V],(N.id&&g.id===N.id||N.name&&g.name===N.name)&&(G=g);return G},O.sign=function(N,G){O.md=G||f.md.sha1.create();var g=w[O.md.algorithm+"WithRSAEncryption"];if(!g){var V=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw V.algorithm=O.md.algorithm,V}O.signatureOid=O.siginfo.algorithmOid=g,O.tbsCertificate=v.getTBSCertificate(O);var ae=c.toDer(O.tbsCertificate);O.md.update(ae.getBytes()),O.signature=N.sign(O.md)},O.verify=function(N){var G=!1;if(!O.issued(N)){var g=N.issuer,V=O.subject,ae=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw ae.expectedIssuer=V.attributes,ae.actualIssuer=g.attributes,ae}var re=N.md;if(null===re){re=R({signatureOid:N.signatureOid,type:"certificate"});var xe=N.tbsCertificate||v.getTBSCertificate(N),Be=c.toDer(xe);re.update(Be.getBytes())}return null!==re&&(G=L({certificate:O,md:re,signature:N.signature})),G},O.isIssuer=function(N){var G=!1,g=O.issuer,V=N.subject;if(g.hash&&V.hash)G=g.hash===V.hash;else if(g.attributes.length===V.attributes.length){G=!0;for(var ae,re,xe=0;G&&xe<g.attributes.length;++xe)((ae=g.attributes[xe]).type!==(re=V.attributes[xe]).type||ae.value!==re.value)&&(G=!1)}return G},O.issued=function(N){return N.isIssuer(O)},O.generateSubjectKeyIdentifier=function(){return v.getPublicKeyFingerprint(O.publicKey,{type:"RSAPublicKey"})},O.verifySubjectKeyIdentifier=function(){for(var N=w.subjectKeyIdentifier,G=0;G<O.extensions.length;++G){var g=O.extensions[G];if(g.id===N){var V=O.generateSubjectKeyIdentifier().getBytes();return f.util.hexToBytes(g.subjectKeyIdentifier)===V}}return!1},O},v.certificateFromAsn1=function(O,N){var G={},g=[];if(!c.validate(O,T,G,g)){var V=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw V.errors=g,V}if(c.derToOid(G.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var re=v.createCertificate();re.version=G.certVersion?G.certVersion.charCodeAt(0):0;var xe=f.util.createBuffer(G.certSerialNumber);re.serialNumber=xe.toHex(),re.signatureOid=f.asn1.derToOid(G.certSignatureOid),re.signatureParameters=J(re.signatureOid,G.certSignatureParams,!0),re.siginfo.algorithmOid=f.asn1.derToOid(G.certinfoSignatureOid),re.siginfo.parameters=J(re.siginfo.algorithmOid,G.certinfoSignatureParams,!1),re.signature=G.certSignature;var Be=[];if(void 0!==G.certValidity1UTCTime&&Be.push(c.utcTimeToDate(G.certValidity1UTCTime)),void 0!==G.certValidity2GeneralizedTime&&Be.push(c.generalizedTimeToDate(G.certValidity2GeneralizedTime)),void 0!==G.certValidity3UTCTime&&Be.push(c.utcTimeToDate(G.certValidity3UTCTime)),void 0!==G.certValidity4GeneralizedTime&&Be.push(c.generalizedTimeToDate(G.certValidity4GeneralizedTime)),Be.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Be.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(re.validity.notBefore=Be[0],re.validity.notAfter=Be[1],re.tbsCertificate=G.tbsCertificate,N){re.md=R({signatureOid:re.signatureOid,type:"certificate"});var Ve=c.toDer(re.tbsCertificate);re.md.update(Ve.getBytes())}var nt=f.md.sha1.create(),it=c.toDer(G.certIssuer);nt.update(it.getBytes()),re.issuer.getField=function(ft){return M(re.issuer,ft)},re.issuer.addField=function(ft){K([ft]),re.issuer.attributes.push(ft)},re.issuer.attributes=v.RDNAttributesAsArray(G.certIssuer),G.certIssuerUniqueId&&(re.issuer.uniqueId=G.certIssuerUniqueId),re.issuer.hash=nt.digest().toHex();var Ue=f.md.sha1.create(),qe=c.toDer(G.certSubject);return Ue.update(qe.getBytes()),re.subject.getField=function(ft){return M(re.subject,ft)},re.subject.addField=function(ft){K([ft]),re.subject.attributes.push(ft)},re.subject.attributes=v.RDNAttributesAsArray(G.certSubject),G.certSubjectUniqueId&&(re.subject.uniqueId=G.certSubjectUniqueId),re.subject.hash=Ue.digest().toHex(),re.extensions=G.certExtensions?v.certificateExtensionsFromAsn1(G.certExtensions):[],re.publicKey=v.publicKeyFromAsn1(G.subjectPublicKeyInfo),re},v.certificateExtensionsFromAsn1=function(O){for(var N=[],G=0;G<O.value.length;++G)for(var g=O.value[G],V=0;V<g.value.length;++V)N.push(v.certificateExtensionFromAsn1(g.value[V]));return N},v.certificateExtensionFromAsn1=function(O){var N={};if(N.id=c.derToOid(O.value[0].value),N.critical=!1,O.value[1].type===c.Type.BOOLEAN?(N.critical=0!==O.value[1].value.charCodeAt(0),N.value=O.value[2].value):N.value=O.value[1].value,N.id in w)if(N.name=w[N.id],"keyUsage"===N.name){var g=0,V=0;(G=c.fromDer(N.value)).value.length>1&&(g=G.value.charCodeAt(1),V=G.value.length>2?G.value.charCodeAt(2):0),N.digitalSignature=128==(128&g),N.nonRepudiation=64==(64&g),N.keyEncipherment=32==(32&g),N.dataEncipherment=16==(16&g),N.keyAgreement=8==(8&g),N.keyCertSign=4==(4&g),N.cRLSign=2==(2&g),N.encipherOnly=1==(1&g),N.decipherOnly=128==(128&V)}else if("basicConstraints"===N.name){var G=c.fromDer(N.value);N.cA=G.value.length>0&&G.value[0].type===c.Type.BOOLEAN&&0!==G.value[0].value.charCodeAt(0);var ae=null;G.value.length>0&&G.value[0].type===c.Type.INTEGER?ae=G.value[0].value:G.value.length>1&&(ae=G.value[1].value),null!==ae&&(N.pathLenConstraint=c.derToInteger(ae))}else if("extKeyUsage"===N.name){G=c.fromDer(N.value);for(var re=0;re<G.value.length;++re){var xe=c.derToOid(G.value[re].value);xe in w?N[w[xe]]=!0:N[xe]=!0}}else if("nsCertType"===N.name)g=0,(G=c.fromDer(N.value)).value.length>1&&(g=G.value.charCodeAt(1)),N.client=128==(128&g),N.server=64==(64&g),N.email=32==(32&g),N.objsign=16==(16&g),N.reserved=8==(8&g),N.sslCA=4==(4&g),N.emailCA=2==(2&g),N.objCA=1==(1&g);else if("subjectAltName"===N.name||"issuerAltName"===N.name){N.altNames=[],G=c.fromDer(N.value);for(var Be,Ve=0;Ve<G.value.length;++Ve){var nt={type:(Be=G.value[Ve]).type,value:Be.value};switch(N.altNames.push(nt),Be.type){case 1:case 2:case 6:break;case 7:nt.ip=f.util.bytesToIP(Be.value);break;case 8:nt.oid=c.derToOid(Be.value)}}}else"subjectKeyIdentifier"===N.name&&(G=c.fromDer(N.value),N.subjectKeyIdentifier=f.util.bytesToHex(G.value));return N},v.certificationRequestFromAsn1=function(O,N){var G={},g=[];if(!c.validate(O,I,G,g)){var V=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw V.errors=g,V}if(c.derToOid(G.publicKeyOid)!==v.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var re=v.createCertificationRequest();if(re.version=G.csrVersion?G.csrVersion.charCodeAt(0):0,re.signatureOid=f.asn1.derToOid(G.csrSignatureOid),re.signatureParameters=J(re.signatureOid,G.csrSignatureParams,!0),re.siginfo.algorithmOid=f.asn1.derToOid(G.csrSignatureOid),re.siginfo.parameters=J(re.siginfo.algorithmOid,G.csrSignatureParams,!1),re.signature=G.csrSignature,re.certificationRequestInfo=G.certificationRequestInfo,N){re.md=R({signatureOid:re.signatureOid,type:"certification request"});var xe=c.toDer(re.certificationRequestInfo);re.md.update(xe.getBytes())}var Be=f.md.sha1.create();return re.subject.getField=function(Ve){return M(re.subject,Ve)},re.subject.addField=function(Ve){K([Ve]),re.subject.attributes.push(Ve)},re.subject.attributes=v.RDNAttributesAsArray(G.certificationRequestInfoSubject,Be),re.subject.hash=Be.digest().toHex(),re.publicKey=v.publicKeyFromAsn1(G.subjectPublicKeyInfo),re.getAttribute=function(Ve){return M(re,Ve)},re.addAttribute=function(Ve){K([Ve]),re.attributes.push(Ve)},re.attributes=v.CRIAttributesAsArray(G.certificationRequestInfoAttributes||[]),re},v.createCertificationRequest=function(){var O={version:0,signatureOid:null,signature:null,siginfo:{}};return O.siginfo.algorithmOid=null,O.subject={},O.subject.getField=function(N){return M(O.subject,N)},O.subject.addField=function(N){K([N]),O.subject.attributes.push(N)},O.subject.attributes=[],O.subject.hash=null,O.publicKey=null,O.attributes=[],O.getAttribute=function(N){return M(O,N)},O.addAttribute=function(N){K([N]),O.attributes.push(N)},O.md=null,O.setSubject=function(N){K(N),O.subject.attributes=N,O.subject.hash=null},O.setAttributes=function(N){K(N),O.attributes=N},O.sign=function(N,G){O.md=G||f.md.sha1.create();var g=w[O.md.algorithm+"WithRSAEncryption"];if(!g){var V=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw V.algorithm=O.md.algorithm,V}O.signatureOid=O.siginfo.algorithmOid=g,O.certificationRequestInfo=v.getCertificationRequestInfo(O);var ae=c.toDer(O.certificationRequestInfo);O.md.update(ae.getBytes()),O.signature=N.sign(O.md)},O.verify=function(){var N=!1,G=O.md;if(null===G){G=R({signatureOid:O.signatureOid,type:"certification request"});var g=O.certificationRequestInfo||v.getCertificationRequestInfo(O),V=c.toDer(g);G.update(V.getBytes())}return null!==G&&(N=L({certificate:O,md:G,signature:O.signature})),N},O};var Q=new Date("1950-01-01T00:00:00Z"),j=new Date("2050-01-01T00:00:00Z");function ne(O){return O>=Q&&O<j?c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(O)):c.create(c.Class.UNIVERSAL,c.Type.GENERALIZEDTIME,!1,c.dateToGeneralizedTime(O))}v.getTBSCertificate=function(O){var N=ne(O.validity.notBefore),G=ne(O.validity.notAfter),g=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.version).getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,f.util.hexToBytes(O.serialNumber)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.siginfo.algorithmOid).getBytes()),S(O.siginfo.algorithmOid,O.siginfo.parameters)]),W(O.issuer),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,G]),W(O.subject),v.publicKeyToAsn1(O.publicKey)]);return O.issuer.uniqueId&&g.value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.issuer.uniqueId)])),O.subject.uniqueId&&g.value.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.subject.uniqueId)])),O.extensions.length>0&&g.value.push(v.certificateExtensionsToAsn1(O.extensions)),g},v.getCertificationRequestInfo=function(O){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(O.version).getBytes()),W(O.subject),v.publicKeyToAsn1(O.publicKey),_(O)])},v.distinguishedNameToAsn1=function(O){return W(O)},v.certificateToAsn1=function(O){var N=O.tbsCertificate||v.getTBSCertificate(O);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.signatureOid).getBytes()),S(O.signatureOid,O.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.signature)])},v.certificateExtensionsToAsn1=function(O){var N=c.create(c.Class.CONTEXT_SPECIFIC,3,!0,[]),G=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);N.value.push(G);for(var g=0;g<O.length;++g)G.value.push(v.certificateExtensionToAsn1(O[g]));return N},v.certificateExtensionToAsn1=function(O){var N=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);N.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.id).getBytes())),O.critical&&N.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255)));var G=O.value;return"string"!=typeof O.value&&(G=c.toDer(G).getBytes()),N.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,G)),N},v.certificationRequestToAsn1=function(O){var N=O.certificationRequestInfo||v.getCertificationRequestInfo(O);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[N,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(O.signatureOid).getBytes()),S(O.signatureOid,O.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+O.signature)])},v.createCaStore=function(O){var N={certs:{}};function G(re){return g(re),N.certs[re.hash]||null}function g(re){if(!re.hash){var xe=f.md.sha1.create();re.attributes=v.RDNAttributesAsArray(W(re),xe),re.hash=xe.digest().toHex()}}if(N.getIssuer=function(re){return G(re.issuer)},N.addCertificate=function(re){if("string"==typeof re&&(re=f.pki.certificateFromPem(re)),g(re.subject),!N.hasCertificate(re))if(re.subject.hash in N.certs){var xe=N.certs[re.subject.hash];f.util.isArray(xe)||(xe=[xe]),xe.push(re),N.certs[re.subject.hash]=xe}else N.certs[re.subject.hash]=re},N.hasCertificate=function(re){"string"==typeof re&&(re=f.pki.certificateFromPem(re));var xe=G(re.subject);if(!xe)return!1;f.util.isArray(xe)||(xe=[xe]);for(var Be=c.toDer(v.certificateToAsn1(re)).getBytes(),Ve=0;Ve<xe.length;++Ve)if(Be===c.toDer(v.certificateToAsn1(xe[Ve])).getBytes())return!0;return!1},N.listAllCertificates=function(){var re=[];for(var xe in N.certs)if(N.certs.hasOwnProperty(xe)){var Be=N.certs[xe];if(f.util.isArray(Be))for(var Ve=0;Ve<Be.length;++Ve)re.push(Be[Ve]);else re.push(Be)}return re},N.removeCertificate=function(re){var xe;if("string"==typeof re&&(re=f.pki.certificateFromPem(re)),g(re.subject),!N.hasCertificate(re))return null;var Be=G(re.subject);if(!f.util.isArray(Be))return xe=N.certs[re.subject.hash],delete N.certs[re.subject.hash],xe;for(var Ve=c.toDer(v.certificateToAsn1(re)).getBytes(),nt=0;nt<Be.length;++nt)Ve===c.toDer(v.certificateToAsn1(Be[nt])).getBytes()&&(xe=Be[nt],Be.splice(nt,1));return 0===Be.length&&delete N.certs[re.subject.hash],xe},O)for(var V=0;V<O.length;++V)N.addCertificate(O[V]);return N},v.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},v.verifyCertificateChain=function(O,N,G){"function"==typeof G&&(G={verify:G}),G=G||{};var g=(N=N.slice(0)).slice(0),V=G.validityCheckDate;typeof V>"u"&&(V=new Date);var ae=!0,re=null,xe=0;do{var Be=N.shift(),Ve=null,nt=!1;if(V&&(V<Be.validity.notBefore||V>Be.validity.notAfter)&&(re={message:"Certificate is not valid yet or has expired.",error:v.certificateError.certificate_expired,notBefore:Be.validity.notBefore,notAfter:Be.validity.notAfter,now:V}),null===re){if(null===(Ve=N[0]||O.getIssuer(Be))&&Be.isIssuer(Be)&&(nt=!0,Ve=Be),Ve){var it=Ve;f.util.isArray(it)||(it=[it]);for(var Ue=!1;!Ue&&it.length>0;){Ve=it.shift();try{Ue=Ve.verify(Be)}catch{}}Ue||(re={message:"Certificate signature is invalid.",error:v.certificateError.bad_certificate})}null===re&&(!Ve||nt)&&!O.hasCertificate(Be)&&(re={message:"Certificate is not trusted.",error:v.certificateError.unknown_ca})}if(null===re&&Ve&&!Be.isIssuer(Ve)&&(re={message:"Certificate issuer is invalid.",error:v.certificateError.bad_certificate}),null===re)for(var qe={keyUsage:!0,basicConstraints:!0},ft=0;null===re&&ft<Be.extensions.length;++ft){var Je=Be.extensions[ft];Je.critical&&!(Je.name in qe)&&(re={message:"Certificate has an unsupported critical extension.",error:v.certificateError.unsupported_certificate})}if(null===re&&(!ae||0===N.length&&(!Ve||nt))){var Yt=Be.getExtension("basicConstraints"),ht=Be.getExtension("keyUsage");null!==ht&&(!ht.keyCertSign||null===Yt)&&(re={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:v.certificateError.bad_certificate}),null===re&&null!==Yt&&!Yt.cA&&(re={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:v.certificateError.bad_certificate}),null===re&&null!==ht&&"pathLenConstraint"in Yt&&xe-1>Yt.pathLenConstraint&&(re={message:"Certificate basicConstraints pathLenConstraint violated.",error:v.certificateError.bad_certificate})}var Rt=null===re||re.error,xr=G.verify?G.verify(Rt,xe,g):Rt;if(!0!==xr)throw!0===Rt&&(re={message:"The application rejected the certificate.",error:v.certificateError.bad_certificate}),(xr||0===xr)&&("object"!=typeof xr||f.util.isArray(xr)?"string"==typeof xr&&(re.error=xr):(xr.message&&(re.message=xr.message),xr.error&&(re.error=xr.error))),re;re=null,ae=!1,++xe}while(N.length>0);return!0}},3259:(tt,de,H)=>{const c=H(8695),v=H(1465),w=H(3210),F=H(2334);function B(T,A,x,I,M){const J=[].slice.call(arguments,1),R=J.length,L="function"==typeof J[R-1];if(!L&&!c())throw new Error("Callback required as last argument");if(!L){if(R<1)throw new Error("Too few arguments provided");return 1===R?(x=A,A=I=void 0):2===R&&!A.getContext&&(I=x,x=A,A=void 0),new Promise(function(W,P){try{const K=v.create(x,I);W(T(K,A,I))}catch(K){P(K)}})}if(R<2)throw new Error("Too few arguments provided");2===R?(M=x,x=A,A=I=void 0):3===R&&(A.getContext&&typeof M>"u"?(M=I,I=void 0):(M=I,I=x,x=A,A=void 0));try{const W=v.create(x,I);M(null,T(W,A,I))}catch(W){M(W)}}B.bind(null,w.render),de.hz=B.bind(null,w.renderToDataURL),B.bind(null,function(T,A,x){return F.render(T,x)})},8695:tt=>{tt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(tt,de,H)=>{const f=H(4792).getSymbolSize;de.getRowColCoords=function(v){if(1===v)return[];const w=Math.floor(v/7)+2,F=f(v),B=145===F?26:2*Math.ceil((F-13)/(2*w-2)),T=[F-7];for(let A=1;A<w-1;A++)T[A]=T[A-1]-B;return T.push(6),T.reverse()},de.getPositions=function(v){const w=[],F=de.getRowColCoords(v),B=F.length;for(let T=0;T<B;T++)for(let A=0;A<B;A++)0===T&&0===A||0===T&&A===B-1||T===B-1&&0===A||w.push([F[T],F[A]]);return w}},2424:(tt,de,H)=>{const f=H(4016),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function v(w){this.mode=f.ALPHANUMERIC,this.data=w}v.getBitsLength=function(F){return 11*Math.floor(F/2)+F%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(F){let B;for(B=0;B+2<=this.data.length;B+=2){let T=45*c.indexOf(this.data[B]);T+=c.indexOf(this.data[B+1]),F.put(T,11)}this.data.length%2&&F.put(c.indexOf(this.data[B]),6)},tt.exports=v},2118:tt=>{function de(){this.buffer=[],this.length=0}de.prototype={get:function(H){const f=Math.floor(H/8);return 1==(this.buffer[f]>>>7-H%8&1)},put:function(H,f){for(let c=0;c<f;c++)this.putBit(1==(H>>>f-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(H){const f=Math.floor(this.length/8);this.buffer.length<=f&&this.buffer.push(0),H&&(this.buffer[f]|=128>>>this.length%8),this.length++}},tt.exports=de},4425:tt=>{function de(H){if(!H||H<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=H,this.data=new Uint8Array(H*H),this.reservedBit=new Uint8Array(H*H)}de.prototype.set=function(H,f,c,v){const w=H*this.size+f;this.data[w]=c,v&&(this.reservedBit[w]=!0)},de.prototype.get=function(H,f){return this.data[H*this.size+f]},de.prototype.xor=function(H,f,c){this.data[H*this.size+f]^=c},de.prototype.isReserved=function(H,f){return this.reservedBit[H*this.size+f]},tt.exports=de},5663:(tt,de,H)=>{const f=H(8419),c=H(4016);function v(w){this.mode=c.BYTE,"string"==typeof w&&(w=f(w)),this.data=new Uint8Array(w)}v.getBitsLength=function(F){return 8*F},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(w){for(let F=0,B=this.data.length;F<B;F++)w.put(this.data[F],8)},tt.exports=v},4655:(tt,de,H)=>{const f=H(2259),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];de.getBlocksCount=function(F,B){switch(B){case f.L:return c[4*(F-1)+0];case f.M:return c[4*(F-1)+1];case f.Q:return c[4*(F-1)+2];case f.H:return c[4*(F-1)+3];default:return}},de.getTotalCodewordsCount=function(F,B){switch(B){case f.L:return v[4*(F-1)+0];case f.M:return v[4*(F-1)+1];case f.Q:return v[4*(F-1)+2];case f.H:return v[4*(F-1)+3];default:return}}},2259:(tt,de)=>{de.L={bit:1},de.M={bit:0},de.Q={bit:3},de.H={bit:2},de.isValid=function(c){return c&&typeof c.bit<"u"&&c.bit>=0&&c.bit<4},de.from=function(c,v){if(de.isValid(c))return c;try{return function H(f){if("string"!=typeof f)throw new Error("Param is not a string");switch(f.toLowerCase()){case"l":case"low":return de.L;case"m":case"medium":return de.M;case"q":case"quartile":return de.Q;case"h":case"high":return de.H;default:throw new Error("Unknown EC Level: "+f)}}(c)}catch{return v}}},3114:(tt,de,H)=>{const f=H(4792).getSymbolSize;de.getPositions=function(w){const F=f(w);return[[0,0],[F-7,0],[0,F-7]]}},7078:(tt,de,H)=>{const f=H(4792),w=f.getBCHDigit(1335);de.getEncodedBits=function(B,T){const A=B.bit<<3|T;let x=A<<10;for(;f.getBCHDigit(x)-w>=0;)x^=1335<<f.getBCHDigit(x)-w;return 21522^(A<<10|x)}},5339:(tt,de)=>{const H=new Uint8Array(512),f=new Uint8Array(256);(function(){let v=1;for(let w=0;w<255;w++)H[w]=v,f[v]=w,v<<=1,256&v&&(v^=285);for(let w=255;w<512;w++)H[w]=H[w-255]})(),de.log=function(v){if(v<1)throw new Error("log("+v+")");return f[v]},de.exp=function(v){return H[v]},de.mul=function(v,w){return 0===v||0===w?0:H[f[v]+f[w]]}},449:(tt,de,H)=>{const f=H(4016),c=H(4792);function v(w){this.mode=f.KANJI,this.data=w}v.getBitsLength=function(F){return 13*F},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(w){let F;for(F=0;F<this.data.length;F++){let B=c.toSJIS(this.data[F]);if(B>=33088&&B<=40956)B-=33088;else{if(!(B>=57408&&B<=60351))throw new Error("Invalid SJIS character: "+this.data[F]+"\nMake sure your charset is UTF-8");B-=49472}B=192*(B>>>8&255)+(255&B),w.put(B,13)}},tt.exports=v},3667:(tt,de)=>{de.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function f(c,v,w){switch(c){case de.Patterns.PATTERN000:return(v+w)%2==0;case de.Patterns.PATTERN001:return v%2==0;case de.Patterns.PATTERN010:return w%3==0;case de.Patterns.PATTERN011:return(v+w)%3==0;case de.Patterns.PATTERN100:return(Math.floor(v/2)+Math.floor(w/3))%2==0;case de.Patterns.PATTERN101:return v*w%2+v*w%3==0;case de.Patterns.PATTERN110:return(v*w%2+v*w%3)%2==0;case de.Patterns.PATTERN111:return(v*w%3+(v+w)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}}de.isValid=function(v){return null!=v&&""!==v&&!isNaN(v)&&v>=0&&v<=7},de.from=function(v){return de.isValid(v)?parseInt(v,10):void 0},de.getPenaltyN1=function(v){const w=v.size;let F=0,B=0,T=0,A=null,x=null;for(let I=0;I<w;I++){B=T=0,A=x=null;for(let M=0;M<w;M++){let J=v.get(I,M);J===A?B++:(B>=5&&(F+=B-5+3),A=J,B=1),J=v.get(M,I),J===x?T++:(T>=5&&(F+=T-5+3),x=J,T=1)}B>=5&&(F+=B-5+3),T>=5&&(F+=T-5+3)}return F},de.getPenaltyN2=function(v){const w=v.size;let F=0;for(let B=0;B<w-1;B++)for(let T=0;T<w-1;T++){const A=v.get(B,T)+v.get(B,T+1)+v.get(B+1,T)+v.get(B+1,T+1);(4===A||0===A)&&F++}return 3*F},de.getPenaltyN3=function(v){const w=v.size;let F=0,B=0,T=0;for(let A=0;A<w;A++){B=T=0;for(let x=0;x<w;x++)B=B<<1&2047|v.get(A,x),x>=10&&(1488===B||93===B)&&F++,T=T<<1&2047|v.get(x,A),x>=10&&(1488===T||93===T)&&F++}return 40*F},de.getPenaltyN4=function(v){let w=0;const F=v.data.length;for(let T=0;T<F;T++)w+=v.data[T];return 10*Math.abs(Math.ceil(100*w/F/5)-10)},de.applyMask=function(v,w){const F=w.size;for(let B=0;B<F;B++)for(let T=0;T<F;T++)w.isReserved(T,B)||w.xor(T,B,f(v,T,B))},de.getBestMask=function(v,w){const F=Object.keys(de.Patterns).length;let B=0,T=1/0;for(let A=0;A<F;A++){w(A),de.applyMask(A,v);const x=de.getPenaltyN1(v)+de.getPenaltyN2(v)+de.getPenaltyN3(v)+de.getPenaltyN4(v);de.applyMask(A,v),x<T&&(T=x,B=A)}return B}},4016:(tt,de,H)=>{const f=H(4406),c=H(2699);de.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},de.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},de.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},de.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},de.MIXED={bit:-1},de.getCharCountIndicator=function(F,B){if(!F.ccBits)throw new Error("Invalid mode: "+F);if(!f.isValid(B))throw new Error("Invalid version: "+B);return B>=1&&B<10?F.ccBits[0]:B<27?F.ccBits[1]:F.ccBits[2]},de.getBestModeForData=function(F){return c.testNumeric(F)?de.NUMERIC:c.testAlphanumeric(F)?de.ALPHANUMERIC:c.testKanji(F)?de.KANJI:de.BYTE},de.toString=function(F){if(F&&F.id)return F.id;throw new Error("Invalid mode")},de.isValid=function(F){return F&&F.bit&&F.ccBits},de.from=function(F,B){if(de.isValid(F))return F;try{return function v(w){if("string"!=typeof w)throw new Error("Param is not a string");switch(w.toLowerCase()){case"numeric":return de.NUMERIC;case"alphanumeric":return de.ALPHANUMERIC;case"kanji":return de.KANJI;case"byte":return de.BYTE;default:throw new Error("Unknown mode: "+w)}}(F)}catch{return B}}},7783:(tt,de,H)=>{const f=H(4016);function c(v){this.mode=f.NUMERIC,this.data=v.toString()}c.getBitsLength=function(w){return 10*Math.floor(w/3)+(w%3?w%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(w){let F,B,T;for(F=0;F+3<=this.data.length;F+=3)B=this.data.substr(F,3),T=parseInt(B,10),w.put(T,10);const A=this.data.length-F;A>0&&(B=this.data.substr(F),T=parseInt(B,10),w.put(T,3*A+1))},tt.exports=c},1106:(tt,de,H)=>{const f=H(5339);de.mul=function(v,w){const F=new Uint8Array(v.length+w.length-1);for(let B=0;B<v.length;B++)for(let T=0;T<w.length;T++)F[B+T]^=f.mul(v[B],w[T]);return F},de.mod=function(v,w){let F=new Uint8Array(v);for(;F.length-w.length>=0;){const B=F[0];for(let A=0;A<w.length;A++)F[A]^=f.mul(w[A],B);let T=0;for(;T<F.length&&0===F[T];)T++;F=F.slice(T)}return F},de.generateECPolynomial=function(v){let w=new Uint8Array([1]);for(let F=0;F<v;F++)w=de.mul(w,new Uint8Array([1,f.exp(F)]));return w}},1465:(tt,de,H)=>{const f=H(4792),c=H(2259),v=H(2118),w=H(4425),F=H(6221),B=H(3114),T=H(3667),A=H(4655),x=H(2636),I=H(2088),M=H(7078),J=H(4016),R=H(2033);function E(ne,O,N){const G=ne.size,g=M.getEncodedBits(O,N);let V,ae;for(V=0;V<15;V++)ae=1==(g>>V&1),ne.set(V<6?V:V<8?V+1:G-15+V,8,ae,!0),ne.set(8,V<8?G-V-1:V<9?15-V-1+1:15-V-1,ae,!0);ne.set(G-8,8,1,!0)}function j(ne,O,N,G){let g;if(Array.isArray(ne))g=R.fromArray(ne);else{if("string"!=typeof ne)throw new Error("Invalid data");{let Be=O;if(!Be){const Ve=R.rawSplit(ne);Be=I.getBestVersionForData(Ve,N)}g=R.fromString(ne,Be||40)}}const V=I.getBestVersionForData(g,N);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<V)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+V+".\n")}else O=V;const ae=function _(ne,O,N){const G=new v;N.forEach(function(xe){G.put(xe.mode.bit,4),G.put(xe.getLength(),J.getCharCountIndicator(xe.mode,ne)),xe.write(G)});const ae=8*(f.getSymbolTotalCodewords(ne)-A.getTotalCodewordsCount(ne,O));for(G.getLengthInBits()+4<=ae&&G.put(0,4);G.getLengthInBits()%8!=0;)G.putBit(0);const re=(ae-G.getLengthInBits())/8;for(let xe=0;xe<re;xe++)G.put(xe%2?17:236,8);return function Q(ne,O,N){const G=f.getSymbolTotalCodewords(O),V=G-A.getTotalCodewordsCount(O,N),ae=A.getBlocksCount(O,N),xe=ae-G%ae,Be=Math.floor(G/ae),Ve=Math.floor(V/ae),nt=Ve+1,it=Be-Ve,Ue=new x(it);let qe=0;const ft=new Array(ae),Je=new Array(ae);let Yt=0;const ht=new Uint8Array(ne.buffer);for(let et=0;et<ae;et++){const gt=et<xe?Ve:nt;ft[et]=ht.slice(qe,qe+gt),Je[et]=Ue.encode(ft[et]),qe+=gt,Yt=Math.max(Yt,gt)}const gr=new Uint8Array(G);let xr,sr,Rt=0;for(xr=0;xr<Yt;xr++)for(sr=0;sr<ae;sr++)xr<ft[sr].length&&(gr[Rt++]=ft[sr][xr]);for(xr=0;xr<it;xr++)for(sr=0;sr<ae;sr++)gr[Rt++]=Je[sr][xr];return gr}(G,ne,O)}(O,N,g),re=f.getSymbolSize(O),xe=new w(re);return function L(ne,O){const N=ne.size,G=B.getPositions(O);for(let g=0;g<G.length;g++){const V=G[g][0],ae=G[g][1];for(let re=-1;re<=7;re++)if(!(V+re<=-1||N<=V+re))for(let xe=-1;xe<=7;xe++)ae+xe<=-1||N<=ae+xe||ne.set(V+re,ae+xe,re>=0&&re<=6&&(0===xe||6===xe)||xe>=0&&xe<=6&&(0===re||6===re)||re>=2&&re<=4&&xe>=2&&xe<=4,!0)}}(xe,O),function W(ne){const O=ne.size;for(let N=8;N<O-8;N++){const G=N%2==0;ne.set(N,6,G,!0),ne.set(6,N,G,!0)}}(xe),function P(ne,O){const N=F.getPositions(O);for(let G=0;G<N.length;G++){const g=N[G][0],V=N[G][1];for(let ae=-2;ae<=2;ae++)for(let re=-2;re<=2;re++)ne.set(g+ae,V+re,-2===ae||2===ae||-2===re||2===re||0===ae&&0===re,!0)}}(xe,O),E(xe,N,0),O>=7&&function K(ne,O){const N=ne.size,G=I.getEncodedBits(O);let g,V,ae;for(let re=0;re<18;re++)g=Math.floor(re/3),V=re%3+N-8-3,ae=1==(G>>re&1),ne.set(g,V,ae,!0),ne.set(V,g,ae,!0)}(xe,O),function S(ne,O){const N=ne.size;let G=-1,g=N-1,V=7,ae=0;for(let re=N-1;re>0;re-=2)for(6===re&&re--;;){for(let xe=0;xe<2;xe++)if(!ne.isReserved(g,re-xe)){let Be=!1;ae<O.length&&(Be=1==(O[ae]>>>V&1)),ne.set(g,re-xe,Be),V--,-1===V&&(ae++,V=7)}if(g+=G,g<0||N<=g){g-=G,G=-G;break}}}(xe,ae),isNaN(G)&&(G=T.getBestMask(xe,E.bind(null,xe,N))),T.applyMask(G,xe),E(xe,N,G),{modules:xe,version:O,errorCorrectionLevel:N,maskPattern:G,segments:g}}de.create=function(O,N){if(typeof O>"u"||""===O)throw new Error("No input text");let g,V,G=c.M;return typeof N<"u"&&(G=c.from(N.errorCorrectionLevel,c.M),g=I.from(N.version),V=T.from(N.maskPattern),N.toSJISFunc&&f.setToSJISFunction(N.toSJISFunc)),j(O,g,G,V)}},2636:(tt,de,H)=>{const f=H(1106);function c(v){this.genPoly=void 0,this.degree=v,this.degree&&this.initialize(this.degree)}c.prototype.initialize=function(w){this.degree=w,this.genPoly=f.generateECPolynomial(this.degree)},c.prototype.encode=function(w){if(!this.genPoly)throw new Error("Encoder not initialized");const F=new Uint8Array(w.length+this.degree);F.set(w);const B=f.mod(F,this.genPoly),T=this.degree-B.length;if(T>0){const A=new Uint8Array(this.degree);return A.set(B,T),A}return B},tt.exports=c},2699:(tt,de)=>{const H="[0-9]+";let c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";c=c.replace(/u/g,"\\u");const v="(?:(?![A-Z0-9 $%*+\\-./:]|"+c+")(?:.|[\r\n]))+";de.KANJI=new RegExp(c,"g"),de.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),de.BYTE=new RegExp(v,"g"),de.NUMERIC=new RegExp(H,"g"),de.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const w=new RegExp("^"+c+"$"),F=new RegExp("^"+H+"$"),B=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");de.testKanji=function(A){return w.test(A)},de.testNumeric=function(A){return F.test(A)},de.testAlphanumeric=function(A){return B.test(A)}},2033:(tt,de,H)=>{const f=H(4016),c=H(7783),v=H(2424),w=H(5663),F=H(449),B=H(2699),T=H(4792),A=H(4901);function x(K){return unescape(encodeURIComponent(K)).length}function I(K,E,S){const _=[];let Q;for(;null!==(Q=K.exec(S));)_.push({data:Q[0],index:Q.index,mode:E,length:Q[0].length});return _}function M(K){const E=I(B.NUMERIC,f.NUMERIC,K),S=I(B.ALPHANUMERIC,f.ALPHANUMERIC,K);let _,Q;return T.isKanjiModeEnabled()?(_=I(B.BYTE,f.BYTE,K),Q=I(B.KANJI,f.KANJI,K)):(_=I(B.BYTE_KANJI,f.BYTE,K),Q=[]),E.concat(S,_,Q).sort(function(ne,O){return ne.index-O.index}).map(function(ne){return{data:ne.data,mode:ne.mode,length:ne.length}})}function J(K,E){switch(E){case f.NUMERIC:return c.getBitsLength(K);case f.ALPHANUMERIC:return v.getBitsLength(K);case f.KANJI:return F.getBitsLength(K);case f.BYTE:return w.getBitsLength(K)}}function P(K,E){let S;const _=f.getBestModeForData(K);if(S=f.from(E,_),S!==f.BYTE&&S.bit<_.bit)throw new Error('"'+K+'" cannot be encoded with mode '+f.toString(S)+".\n Suggested mode is: "+f.toString(_));switch(S===f.KANJI&&!T.isKanjiModeEnabled()&&(S=f.BYTE),S){case f.NUMERIC:return new c(K);case f.ALPHANUMERIC:return new v(K);case f.KANJI:return new F(K);case f.BYTE:return new w(K)}}de.fromArray=function(E){return E.reduce(function(S,_){return"string"==typeof _?S.push(P(_,null)):_.data&&S.push(P(_.data,_.mode)),S},[])},de.fromString=function(E,S){const Q=function L(K){const E=[];for(let S=0;S<K.length;S++){const _=K[S];switch(_.mode){case f.NUMERIC:E.push([_,{data:_.data,mode:f.ALPHANUMERIC,length:_.length},{data:_.data,mode:f.BYTE,length:_.length}]);break;case f.ALPHANUMERIC:E.push([_,{data:_.data,mode:f.BYTE,length:_.length}]);break;case f.KANJI:E.push([_,{data:_.data,mode:f.BYTE,length:x(_.data)}]);break;case f.BYTE:E.push([{data:_.data,mode:f.BYTE,length:x(_.data)}])}}return E}(M(E,T.isKanjiModeEnabled())),j=function W(K,E){const S={},_={start:{}};let Q=["start"];for(let j=0;j<K.length;j++){const ne=K[j],O=[];for(let N=0;N<ne.length;N++){const G=ne[N],g=""+j+N;O.push(g),S[g]={node:G,lastCount:0},_[g]={};for(let V=0;V<Q.length;V++){const ae=Q[V];S[ae]&&S[ae].node.mode===G.mode?(_[ae][g]=J(S[ae].lastCount+G.length,G.mode)-J(S[ae].lastCount,G.mode),S[ae].lastCount+=G.length):(S[ae]&&(S[ae].lastCount=G.length),_[ae][g]=J(G.length,G.mode)+4+f.getCharCountIndicator(G.mode,E))}}Q=O}for(let j=0;j<Q.length;j++)_[Q[j]].end=0;return{map:_,table:S}}(Q,S),ne=A.find_path(j.map,"start","end"),O=[];for(let N=1;N<ne.length-1;N++)O.push(j.table[ne[N]].node);return de.fromArray(function R(K){return K.reduce(function(E,S){const _=E.length-1>=0?E[E.length-1]:null;return _&&_.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}(O))},de.rawSplit=function(E){return de.fromArray(M(E,T.isKanjiModeEnabled()))}},4792:(tt,de)=>{let H;const f=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];de.getSymbolSize=function(v){if(!v)throw new Error('"version" cannot be null or undefined');if(v<1||v>40)throw new Error('"version" should be in range from 1 to 40');return 4*v+17},de.getSymbolTotalCodewords=function(v){return f[v]},de.getBCHDigit=function(c){let v=0;for(;0!==c;)v++,c>>>=1;return v},de.setToSJISFunction=function(v){if("function"!=typeof v)throw new Error('"toSJISFunc" is not a valid function.');H=v},de.isKanjiModeEnabled=function(){return typeof H<"u"},de.toSJIS=function(v){return H(v)}},4406:(tt,de)=>{de.isValid=function(f){return!isNaN(f)&&f>=1&&f<=40}},2088:(tt,de,H)=>{const f=H(4792),c=H(4655),v=H(2259),w=H(4016),F=H(4406),T=f.getBCHDigit(7973);function x(J,R){return w.getCharCountIndicator(J,R)+4}function I(J,R){let L=0;return J.forEach(function(W){L+=x(W.mode,R)+W.getBitsLength()}),L}de.from=function(R,L){return F.isValid(R)?parseInt(R,10):L},de.getCapacity=function(R,L,W){if(!F.isValid(R))throw new Error("Invalid QR Code version");typeof W>"u"&&(W=w.BYTE);const E=8*(f.getSymbolTotalCodewords(R)-c.getTotalCodewordsCount(R,L));if(W===w.MIXED)return E;const S=E-x(W,R);switch(W){case w.NUMERIC:return Math.floor(S/10*3);case w.ALPHANUMERIC:return Math.floor(S/11*2);case w.KANJI:return Math.floor(S/13);default:return Math.floor(S/8)}},de.getBestVersionForData=function(R,L){let W;const P=v.from(L,v.M);if(Array.isArray(R)){if(R.length>1)return function M(J,R){for(let L=1;L<=40;L++)if(I(J,L)<=de.getCapacity(L,R,w.MIXED))return L}(R,P);if(0===R.length)return 1;W=R[0]}else W=R;return function A(J,R,L){for(let W=1;W<=40;W++)if(R<=de.getCapacity(W,L,J))return W}(W.mode,W.getLength(),P)},de.getEncodedBits=function(R){if(!F.isValid(R)||R<7)throw new Error("Invalid QR Code version");let L=R<<12;for(;f.getBCHDigit(L)-T>=0;)L^=7973<<f.getBCHDigit(L)-T;return R<<12|L}},3210:(tt,de,H)=>{const f=H(6355);de.render=function(F,B,T){let A=T,x=B;typeof A>"u"&&(!B||!B.getContext)&&(A=B,B=void 0),B||(x=function v(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),A=f.getOptions(A);const I=f.getImageWidth(F.modules.size,A),M=x.getContext("2d"),J=M.createImageData(I,I);return f.qrToImageData(J.data,F,A),function c(w,F,B){w.clearRect(0,0,F.width,F.height),F.style||(F.style={}),F.height=B,F.width=B,F.style.height=B+"px",F.style.width=B+"px"}(M,x,I),M.putImageData(J,0,0),x},de.renderToDataURL=function(F,B,T){let A=T;return typeof A>"u"&&(!B||!B.getContext)&&(A=B,B=void 0),A||(A={}),de.render(F,B,A).toDataURL(A.type||"image/png",(A.rendererOpts||{}).quality)}},2334:(tt,de,H)=>{const f=H(6355);function c(F,B){const T=F.a/255,A=B+'="'+F.hex+'"';return T<1?A+" "+B+'-opacity="'+T.toFixed(2).slice(1)+'"':A}function v(F,B,T){let A=F+B;return typeof T<"u"&&(A+=" "+T),A}de.render=function(B,T,A){const x=f.getOptions(T),I=B.modules.size,M=B.modules.data,J=I+2*x.margin,R=x.color.light.a?"<path "+c(x.color.light,"fill")+' d="M0 0h'+J+"v"+J+'H0z"/>':"",L="<path "+c(x.color.dark,"stroke")+' d="'+function w(F,B,T){let A="",x=0,I=!1,M=0;for(let J=0;J<F.length;J++){const R=Math.floor(J%B),L=Math.floor(J/B);!R&&!I&&(I=!0),F[J]?(M++,J>0&&R>0&&F[J-1]||(A+=I?v("M",R+T,.5+L+T):v("m",x,0),x=0,I=!1),R+1<B&&F[J+1]||(A+=v("h",M),M=0)):x++}return A}(M,I,x.margin)+'"/>',K='<svg xmlns="http://www.w3.org/2000/svg" '+(x.width?'width="'+x.width+'" height="'+x.width+'" ':"")+'viewBox="0 0 '+J+" "+J+'" shape-rendering="crispEdges">'+R+L+"</svg>\n";return"function"==typeof A&&A(null,K),K}},6355:(tt,de)=>{function H(f){if("number"==typeof f&&(f=f.toString()),"string"!=typeof f)throw new Error("Color should be defined as hex string");let c=f.slice().replace("#","").split("");if(c.length<3||5===c.length||c.length>8)throw new Error("Invalid hex color: "+f);(3===c.length||4===c.length)&&(c=Array.prototype.concat.apply([],c.map(function(w){return[w,w]}))),6===c.length&&c.push("F","F");const v=parseInt(c.join(""),16);return{r:v>>24&255,g:v>>16&255,b:v>>8&255,a:255&v,hex:"#"+c.slice(0,6).join("")}}de.getOptions=function(c){c||(c={}),c.color||(c.color={});const w=c.width&&c.width>=21?c.width:void 0;return{width:w,scale:w?4:c.scale||4,margin:typeof c.margin>"u"||null===c.margin||c.margin<0?4:c.margin,color:{dark:H(c.color.dark||"#000000ff"),light:H(c.color.light||"#ffffffff")},type:c.type,rendererOpts:c.rendererOpts||{}}},de.getScale=function(c,v){return v.width&&v.width>=c+2*v.margin?v.width/(c+2*v.margin):v.scale},de.getImageWidth=function(c,v){const w=de.getScale(c,v);return Math.floor((c+2*v.margin)*w)},de.qrToImageData=function(c,v,w){const F=v.modules.size,B=v.modules.data,T=de.getScale(F,w),A=Math.floor((F+2*w.margin)*T),x=w.margin*T,I=[w.color.light,w.color.dark];for(let M=0;M<A;M++)for(let J=0;J<A;J++){let R=4*(M*A+J),L=w.color.light;M>=x&&J>=x&&M<A-x&&J<A-x&&(L=I[B[Math.floor((M-x)/T)*F+Math.floor((J-x)/T)]?1:0]),c[R++]=L.r,c[R++]=L.g,c[R++]=L.b,c[R]=L.a}}},2480:()=>{},5819:()=>{},7156:tt=>{function de(f,c,v,w,F,B,T){try{var A=f[B](T),x=A.value}catch(I){return void v(I)}A.done?c(x):Promise.resolve(x).then(w,F)}tt.exports=function H(f){return function(){var c=this,v=arguments;return new Promise(function(w,F){var B=f.apply(c,v);function T(x){de(B,w,F,T,A,"next",x)}function A(x){de(B,w,F,T,A,"throw",x)}T(void 0)})}},tt.exports.__esModule=!0,tt.exports.default=tt.exports},4585:(tt,de,H)=>{"use strict";H.d(de,{HI:()=>Fl,IM:()=>Ul,Lo:()=>kl,Rk:()=>Pl,_:()=>ca,a:()=>Vn,b:()=>fr,c:()=>Xr,d:()=>Lt,e:()=>cs,f:()=>bt,g:()=>Ri,i:()=>On,k$:()=>Ll,m:()=>Er,pe:()=>Kl,r:()=>kr,tn:()=>Ml,u:()=>Se,xh:()=>Bl});var f=H(5861);const c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v=Symbol("doneWritingPromise"),w=Symbol("doneWritingResolve"),F=Symbol("doneWritingReject"),B=Symbol("readingIndex");class T extends Array{constructor(){super(),this[v]=new Promise((n,t)=>{this[w]=n,this[F]=t}),this[v].catch(()=>{})}}function A(i){return i&&i.getReader&&Array.isArray(i)}function x(i){if(!A(i)){const n=i.getWriter(),t=n.releaseLock;return n.releaseLock=()=>{n.closed.catch(function(){}),t.call(n)},n}this.stream=i}T.prototype.getReader=function(){var n,i=this;return void 0===this[B]&&(this[B]=0),{read:(n=(0,f.Z)(function*(){return yield i[v],i[B]===i.length?{value:void 0,done:!0}:{value:i[i[B]++],done:!1}}),function(){return n.apply(this,arguments)})}},T.prototype.readToEnd=function(){var i=(0,f.Z)(function*(n){yield this[v];const t=n(this.slice(this[B]));return this.length=0,t});return function(n){return i.apply(this,arguments)}}(),T.prototype.clone=function(){const i=new T;return i[v]=this[v].then(()=>{i.push(...this)}),i},x.prototype.write=function(){var i=(0,f.Z)(function*(n){this.stream.push(n)});return function(n){return i.apply(this,arguments)}}(),x.prototype.close=(0,f.Z)(function*(){this.stream[w]()}),x.prototype.abort=function(){var i=(0,f.Z)(function*(n){return this.stream[F](n),n});return function(n){return i.apply(this,arguments)}}(),x.prototype.releaseLock=function(){};const I="object"==typeof c.process&&"object"==typeof c.process.versions,M=I&&void 0;function J(i){return A(i)?"array":c.ReadableStream&&c.ReadableStream.prototype.isPrototypeOf(i)?"web":O&&O.prototype.isPrototypeOf(i)?"ponyfill":M&&M.prototype.isPrototypeOf(i)?"node":!(!i||!i.getReader)&&"web-like"}function R(i){return Uint8Array.prototype.isPrototypeOf(i)}function L(i){if(1===i.length)return i[0];let n=0;for(let u=0;u<i.length;u++){if(!R(i[u]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");n+=i[u].length}const t=new Uint8Array(n);let s=0;return i.forEach(function(u){t.set(u,s),s+=u.length}),t}const W=I&&void 0,P=I&&void 0;let K,E;if(P){K=function(n){let t=!1;return new O({start(s){n.pause(),n.on("data",u=>{t||(W.isBuffer(u)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),s.enqueue(u),n.pause())}),n.on("end",()=>{t||s.close()}),n.on("error",u=>s.error(u))},pull(){n.resume()},cancel(s){t=!0,n.destroy(s)}})};class i extends P{constructor(t,s){super(s),this._reader=Ve(t)}_read(t){var s=this;return(0,f.Z)(function*(){try{for(;;){const{done:u,value:h}=yield s._reader.read();if(u){s.push(null);break}if(!s.push(h)||s._cancelling){s._reading=!1;break}}}catch(u){s.emit("error",u)}})()}_destroy(t){this._reader.cancel(t)}}E=function(n,t){return new i(n,t)}}const S=new WeakSet,_=Symbol("externalBuffer");function Q(i){if(this.stream=i,i[_]&&(this[_]=i[_].slice()),A(i)){const s=i.getReader();return this._read=s.read.bind(s),this._releaseLock=()=>{},void(this._cancel=()=>{})}let n=J(i);if("node"===n&&(i=K(i)),n){const s=i.getReader();return this._read=s.read.bind(s),this._releaseLock=()=>{s.closed.catch(function(){}),s.releaseLock()},void(this._cancel=s.cancel.bind(s))}let t=!1;this._read=(0,f.Z)(function*(){return t||S.has(i)?{value:void 0,done:!0}:(t=!0,{value:i,done:!1})}),this._releaseLock=()=>{if(t)try{S.add(i)}catch{}}}Q.prototype.read=(0,f.Z)(function*(){return this[_]&&this[_].length?{done:!1,value:this[_].shift()}:this._read()}),Q.prototype.releaseLock=function(){this[_]&&(this.stream[_]=this[_]),this._releaseLock()},Q.prototype.cancel=function(i){return this._cancel(i)},Q.prototype.readLine=(0,f.Z)(function*(){let i,n=[];for(;!i;){let{done:t,value:s}=yield this.read();if(s+="",t)return n.length?Be(n):void 0;const u=s.indexOf("\n")+1;u&&(i=Be(n.concat(s.substr(0,u))),n=[]),u!==s.length&&n.push(s.substr(u))}return this.unshift(...n),i}),Q.prototype.readByte=(0,f.Z)(function*(){const{done:i,value:n}=yield this.read();if(i)return;const t=n[0];return this.unshift(sr(n,1)),t}),Q.prototype.readBytes=function(){var i=(0,f.Z)(function*(n){const t=[];let s=0;for(;;){const{done:u,value:h}=yield this.read();if(u)return t.length?Be(t):void 0;if(t.push(h),s+=h.length,s>=n){const y=Be(t);return this.unshift(sr(y,n)),sr(y,0,n)}}});return function(n){return i.apply(this,arguments)}}(),Q.prototype.peekBytes=function(){var i=(0,f.Z)(function*(n){const t=yield this.readBytes(n);return this.unshift(t),t});return function(n){return i.apply(this,arguments)}}(),Q.prototype.unshift=function(...i){this[_]||(this[_]=[]),1===i.length&&R(i[0])&&this[_].length&&i[0].length&&this[_][0].byteOffset>=i[0].length?this[_][0]=new Uint8Array(this[_][0].buffer,this[_][0].byteOffset-i[0].length,this[_][0].byteLength+i[0].length):this[_].unshift(...i.filter(n=>n&&n.length))},Q.prototype.readToEnd=(0,f.Z)(function*(i=Be){const n=[];for(;;){const{done:t,value:s}=yield this.read();if(t)break;n.push(s)}return i(n)});let j,ne,{ReadableStream:O,WritableStream:N,TransformStream:G}=c;function g(){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(){if(G)return;const[i,n]=yield Promise.all([H.e(7648).then(H.bind(H,7648)),H.e(1241).then(H.bind(H,1241))]);({ReadableStream:O,WritableStream:N,TransformStream:G}=i);const{createReadableStreamWrapper:t}=n;c.ReadableStream&&O!==c.ReadableStream&&(j=t(O),ne=t(c.ReadableStream))})).apply(this,arguments)}const ae=I&&void 0;function re(i){let n=J(i);return"node"===n?K(i):"web"===n&&j?j(i):n?i:new O({start(t){t.enqueue(i),t.close()}})}function xe(i){if(J(i))return i;const n=new T;return(0,f.Z)(function*(){const t=nt(n);yield t.write(i),yield t.close()})(),n}function Be(i){return i.some(n=>J(n)&&!A(n))?function(n){n=n.map(re);const t=ft(function(){var h=(0,f.Z)(function*(y){yield Promise.all(u.map(m=>X(m,y)))});return function(y){return h.apply(this,arguments)}}());let s=Promise.resolve();const u=n.map((h,y)=>Yt(h,(m,D)=>(s=s.then(()=>it(m,t.writable,{preventClose:y!==n.length-1})),s)));return t.readable}(i):i.some(n=>A(n))?function(n){const t=new T;let s=Promise.resolve();return n.forEach((u,h)=>(s=s.then(()=>it(u,t,{preventClose:h!==n.length-1})),s)),t}(i):"string"==typeof i[0]?i.join(""):ae&&ae.isBuffer(i[0])?ae.concat(i):L(i)}function Ve(i){return new Q(i)}function nt(i){return new x(i)}function it(i,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,f.Z)(function*(i,n,{preventClose:t=!1,preventAbort:s=!1,preventCancel:u=!1}={}){if(J(i)&&!A(i)){i=re(i);try{if(i[_]){const m=nt(n);for(let D=0;D<i[_].length;D++)yield m.ready,yield m.write(i[_][D]);m.releaseLock()}yield i.pipeTo(n,{preventClose:t,preventAbort:s,preventCancel:u})}catch{}return}const h=Ve(i=xe(i)),y=nt(n);try{for(;;){yield y.ready;const{done:m,value:D}=yield h.read();if(m){t||(yield y.close());break}yield y.write(D)}}catch(m){s||(yield y.abort(m))}finally{h.releaseLock(),y.releaseLock()}})).apply(this,arguments)}function qe(i,n){const t=new G(n);return it(i,t.writable),t.readable}function ft(i){let n,t,s=!1;return{readable:new O({start(u){t=u},pull(){n?n():s=!0},cancel:i},{highWaterMark:0}),writable:new N({write:(u=(0,f.Z)(function*(h){t.enqueue(h),s?s=!1:(yield new Promise(y=>{n=y}),n=null)}),function(y){return u.apply(this,arguments)}),close:t.close.bind(t),abort:t.error.bind(t)})};var u}function Je(i,n=(()=>{}),t=(()=>{})){if(A(i)){const h=new T;return(0,f.Z)(function*(){const y=nt(h);try{const m=yield et(i),D=n(m),b=t();let k;k=void 0!==D&&void 0!==b?Be([D,b]):void 0!==D?D:b,yield y.write(k),yield y.close()}catch(m){yield y.abort(m)}})(),h}if(J(i))return qe(i,{transform:(h,y)=>(0,f.Z)(function*(){try{const m=yield n(h);void 0!==m&&y.enqueue(m)}catch(m){y.error(m)}})(),flush:h=>(0,f.Z)(function*(){try{const y=yield t();void 0!==y&&h.enqueue(y)}catch(y){h.error(y)}})()});const s=n(i),u=t();return void 0!==s&&void 0!==u?Be([s,u]):void 0!==s?s:u}function Yt(i,n){if(J(i)&&!A(i)){let s;const u=new G({start(m){s=m}}),h=it(i,u.writable),y=ft(function(){var m=(0,f.Z)(function*(D){s.error(D),yield h,yield new Promise(setTimeout)});return function(D){return m.apply(this,arguments)}}());return n(u.readable,y.writable),y.readable}i=xe(i);const t=new T;return n(i,t),t}function ht(i,n){let t;const s=Yt(i,(u,h)=>{const y=Ve(u);y.remainder=()=>(y.releaseLock(),it(u,h),s),t=n(y)});return t}function gr(i){if(A(i))return i.clone();if(J(i)){const n=function(t){if(A(t))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(J(t)){const s=re(t).tee();return s[0][_]=s[1][_]=t[_],s}return[sr(t),sr(t)]}(i);return xr(i,n[0]),n[1]}return sr(i)}function Rt(i){return A(i)?gr(i):J(i)?new O({start(n){const t=Yt(i,function(){var s=(0,f.Z)(function*(u,h){const y=Ve(u),m=nt(h);try{for(;;){yield m.ready;const{done:D,value:b}=yield y.read();if(D){try{n.close()}catch{}return void(yield m.close())}try{n.enqueue(b)}catch{}yield m.write(b)}}catch(D){n.error(D),yield m.abort(D)}});return function(u,h){return s.apply(this,arguments)}}());xr(i,t)}}):sr(i)}function xr(i,n){Object.entries(Object.getOwnPropertyDescriptors(i.constructor.prototype)).forEach(([t,s])=>{"constructor"!==t&&(s.value?s.value=s.value.bind(n):s.get=s.get.bind(n),Object.defineProperty(i,t,s))})}function sr(i,n=0,t=1/0){if(A(i))throw Error("Not implemented");if(J(i)){if(n>=0&&t>=0){let s=0;return qe(i,{transform(u,h){s<t?(s+u.length>=n&&h.enqueue(sr(u,Math.max(n-s,0),t-s)),s+=u.length):h.terminate()}})}if(n<0&&(t<0||t===1/0)){let s=[];return Je(i,u=>{u.length>=-n?s=[u]:s.push(u)},()=>sr(Be(s),n,t))}if(0===n&&t<0){let s;return Je(i,u=>{const h=s?Be([s,u]):u;if(h.length>=-t)return s=sr(h,t),sr(h,n,t);s=h})}return console.warn(`stream.slice(input, ${n}, ${t}) not implemented efficiently.`),ue((0,f.Z)(function*(){return sr(yield et(i),n,t)}))}return i[_]&&(i=Be(i[_].concat([i]))),!R(i)||ae&&ae.isBuffer(i)?i.slice(n,t):(t===1/0&&(t=i.length),i.subarray(n,t))}function et(i){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(i,n=Be){return A(i)?i.readToEnd(n):J(i)?Ve(i).readToEnd(n):i})).apply(this,arguments)}function X(i,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(i,n){if(J(i)){if(i.cancel)return i.cancel(n);if(i.destroy)return i.destroy(n),yield new Promise(setTimeout),n}})).apply(this,arguments)}function ue(i){const n=new T;return(0,f.Z)(function*(){const t=nt(n);try{yield t.write(yield i()),yield t.close()}catch(s){yield t.abort(s)}})(),n}class Le{constructor(n){if(void 0===n)throw Error("Invalid BigInteger input");if(n instanceof Uint8Array){const t=n,s=Array(t.length);for(let u=0;u<t.length;u++){const h=t[u].toString(16);s[u]=t[u]<=15?"0"+h:h}this.value=BigInt("0x0"+s.join(""))}else this.value=BigInt(n)}clone(){return new Le(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(n){return this.value+=n.value,this}add(n){return this.clone().iadd(n)}isub(n){return this.value-=n.value,this}sub(n){return this.clone().isub(n)}imul(n){return this.value*=n.value,this}mul(n){return this.clone().imul(n)}imod(n){return this.value%=n.value,this.isNegative()&&this.iadd(n),this}mod(n){return this.clone().imod(n)}modExp(n,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new Le(0);if(n.isNegative())throw Error("Unsopported negative exponent");let s=n.value,u=this.value;u%=t.value;let h=BigInt(1);for(;s>BigInt(0);){const y=s&BigInt(1);s>>=BigInt(1);const m=h*u%t.value;h=y?m:h,u=u*u%t.value}return new Le(h)}modInv(n){const{gcd:t,x:s}=this._egcd(n);if(!t.isOne())throw Error("Inverse does not exist");return s.add(n).mod(n)}_egcd(n){let t=BigInt(0),s=BigInt(1),u=BigInt(1),h=BigInt(0),y=this.value;for(n=n.value;n!==BigInt(0);){const m=y/n;let D=t;t=u-m*t,u=D,D=s,s=h-m*s,h=D,D=n,n=y%n,y=D}return{x:new Le(u),y:new Le(h),gcd:new Le(y)}}gcd(n){let t=this.value;for(n=n.value;n!==BigInt(0);){const s=n;n=t%n,t=s}return new Le(t)}ileftShift(n){return this.value<<=n.value,this}leftShift(n){return this.clone().ileftShift(n)}irightShift(n){return this.value>>=n.value,this}rightShift(n){return this.clone().irightShift(n)}equal(n){return this.value===n.value}lt(n){return this.value<n.value}lte(n){return this.value<=n.value}gt(n){return this.value>n.value}gte(n){return this.value>=n.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const n=this.clone();return this.isNegative()&&(n.value=-n.value),n}toString(){return this.value.toString()}toNumber(){const n=Number(this.value);if(n>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return n}getBit(n){return(this.value>>BigInt(n)&BigInt(1))===BigInt(0)?0:1}bitLength(){const n=new Le(0),t=new Le(1),s=new Le(-1),u=this.isNegative()?s:n;let h=1;const y=this.clone();for(;!y.irightShift(t).equal(u);)h++;return h}byteLength(){const n=new Le(0),t=new Le(-1),s=this.isNegative()?t:n,u=new Le(8);let h=1;const y=this.clone();for(;!y.irightShift(u).equal(s);)h++;return h}toUint8Array(n="be",t){let s=this.value.toString(16);s.length%2==1&&(s="0"+s);const u=s.length/2,h=new Uint8Array(t||u),y=t?t-u:0;let m=0;for(;m<u;)h[m+y]=parseInt(s.slice(2*m,2*m+2),16),m++;return"be"!==n&&h.reverse(),h}}const Xe=(()=>{try{return!1}catch{}return!1})(),ee={isString:function(i){return"string"==typeof i||String.prototype.isPrototypeOf(i)},isArray:function(i){return Array.prototype.isPrototypeOf(i)},isUint8Array:R,isStream:J,readNumber:function(i){let n=0;for(let t=0;t<i.length;t++)n+=256**t*i[i.length-1-t];return n},writeNumber:function(i,n){const t=new Uint8Array(n);for(let s=0;s<n;s++)t[s]=i>>8*(n-s-1)&255;return t},readDate:function(i){const n=ee.readNumber(i);return new Date(1e3*n)},writeDate:function(i){const n=Math.floor(i.getTime()/1e3);return ee.writeNumber(n,4)},normalizeDate:function(i=Date.now()){return null===i||i===1/0?i:new Date(1e3*Math.floor(+i/1e3))},readMPI:function(i){return i.subarray(2,2+(7+(i[0]<<8|i[1])>>>3))},leftPad(i,n){const t=new Uint8Array(n);return t.set(i,n-i.length),t},uint8ArrayToMPI:function(i){const n=ee.uint8ArrayBitLength(i);if(0===n)throw Error("Zero MPI");const t=i.subarray(i.length-Math.ceil(n/8)),s=new Uint8Array([(65280&n)>>8,255&n]);return ee.concatUint8Array([s,t])},uint8ArrayBitLength:function(i){let n;for(n=0;n<i.length&&0===i[n];n++);if(n===i.length)return 0;const t=i.subarray(n);return 8*(t.length-1)+ee.nbits(t[0])},hexToUint8Array:function(i){const n=new Uint8Array(i.length>>1);for(let t=0;t<i.length>>1;t++)n[t]=parseInt(i.substr(t<<1,2),16);return n},uint8ArrayToHex:function(i){const n=[],t=i.length;let s,u=0;for(;u<t;){for(s=i[u++].toString(16);s.length<2;)s="0"+s;n.push(""+s)}return n.join("")},stringToUint8Array:function(i){return Je(i,n=>{if(!ee.isString(n))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(n.length);for(let s=0;s<n.length;s++)t[s]=n.charCodeAt(s);return t})},uint8ArrayToString:function(i){const n=[],s=(i=new Uint8Array(i)).length;for(let u=0;u<s;u+=16384)n.push(String.fromCharCode.apply(String,i.subarray(u,u+16384<s?u+16384:s)));return n.join("")},encodeUTF8:function(i){const n=new TextEncoder("utf-8");function t(s,u=!1){return n.encode(s,{stream:!u})}return Je(i,t,()=>t("",!0))},decodeUTF8:function(i){const n=new TextDecoder("utf-8");function t(s,u=!1){return n.decode(s,{stream:!u})}return Je(i,t,()=>t(new Uint8Array,!0))},concat:Be,concatUint8Array:L,equalsUint8Array:function(i,n){if(!ee.isUint8Array(i)||!ee.isUint8Array(n))throw Error("Data must be in the form of a Uint8Array");if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==n[t])return!1;return!0},writeChecksum:function(i){let n=0;for(let t=0;t<i.length;t++)n=n+i[t]&65535;return ee.writeNumber(n,2)},printDebug:function(i){Xe&&console.log(i)},printDebugError:function(i){Xe&&console.error(i)},nbits:function(i){let n=1,t=i>>>16;return 0!==t&&(i=t,n+=16),t=i>>8,0!==t&&(i=t,n+=8),t=i>>4,0!==t&&(i=t,n+=4),t=i>>2,0!==t&&(i=t,n+=2),t=i>>1,0!==t&&(i=t,n+=1),n},double:function(i){const n=new Uint8Array(i.length),t=i.length-1;for(let s=0;s<t;s++)n[s]=i[s]<<1^i[s+1]>>7;return n[t]=i[t]<<1^135*(i[0]>>7),n},shiftRight:function(i,n){if(n)for(let t=i.length-1;t>=0;t--)i[t]>>=n,t>0&&(i[t]|=i[t-1]<<8-n);return i},getWebCrypto:function(){return void 0!==c&&c.crypto&&c.crypto.subtle},detectBigInt:()=>typeof BigInt<"u",getBigInteger:(i=(0,f.Z)(function*(){if(ee.detectBigInt())return Le;{const{default:n}=yield Promise.all([H.e(2983),H.e(5058)]).then(H.bind(H,5058));return n}}),function(){return i.apply(this,arguments)}),getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(i){return!!ee.isString(i)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(i)},canonicalizeEOL:function(i){let n=!1;return Je(i,t=>{let s;n&&(t=ee.concatUint8Array([new Uint8Array([13]),t])),13===t[t.length-1]?(n=!0,t=t.subarray(0,-1)):n=!1;const u=[];for(let m=0;s=t.indexOf(10,m)+1,s;m=s)13!==t[s-2]&&u.push(s);if(!u.length)return t;const h=new Uint8Array(t.length+u.length);let y=0;for(let m=0;m<u.length;m++){const D=t.subarray(u[m-1]||0,u[m]);h.set(D,y),y+=D.length,h[y-1]=13,h[y]=10,y++}return h.set(t.subarray(u[u.length-1]||0),y),h},()=>n?new Uint8Array([13]):void 0)},nativeEOL:function(i){let n=!1;return Je(i,t=>{let s;13===(t=n&&10!==t[0]?ee.concatUint8Array([new Uint8Array([13]),t]):new Uint8Array(t))[t.length-1]?(n=!0,t=t.subarray(0,-1)):n=!1;let u=0;for(let h=0;h!==t.length;h=s){s=t.indexOf(13,h)+1,s||(s=t.length);const y=s-(10===t[s]?1:0);h&&t.copyWithin(u,h,y),u+=y-h}return t.subarray(0,u)},()=>n?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(i){return i.split("\n").map(n=>{let t=n.length-1;for(;t>=0&&(" "===n[t]||"\t"===n[t]||"\r"===n[t]);t--);return n.substr(0,t+1)}).join("\n")},wrapError:function(i,n){if(!n)return Error(i);try{n.message=i+": "+n.message}catch{}return n},constructAllowedPackets:function(i){const n={};return i.forEach(t=>{if(!t.tag)throw Error("Invalid input: expected a packet class");n[t.tag]=t}),n},anyPromise:function(i){return new Promise(function(){var n=(0,f.Z)(function*(t,s){let u;yield Promise.all(i.map(function(){var h=(0,f.Z)(function*(y){try{t(yield y)}catch(m){u=m}});return function(y){return h.apply(this,arguments)}}())),s(u)});return function(t,s){return n.apply(this,arguments)}}())},selectUint8Array:function(i,n,t){const s=Math.max(n.length,t.length),u=new Uint8Array(s);let h=0;for(let y=0;y<u.length;y++)u[y]=n[y]&256-i|t[y]&255+i,h+=i&y<n.length|1-i&y<t.length;return u.subarray(0,h)},selectUint8:function(i,n,t){return n&256-i|t&255+i}},Me=ee.getNodeBuffer();var i;let Ot,ar;function rr(i){let n=new Uint8Array;return Je(i,t=>{n=ee.concatUint8Array([n,t]);const s=[],u=Math.floor(n.length/45),h=45*u,y=Ot(n.subarray(0,h));for(let m=0;m<u;m++)s.push(y.substr(60*m,60)),s.push("\n");return n=n.subarray(h),s.join("")},()=>n.length?Ot(n)+"\n":"")}function Bt(i){let n="";return Je(i,t=>{n+=t;let s=0;const u=[" ","\t","\r","\n"];for(let m=0;m<u.length;m++){const D=u[m];for(let b=n.indexOf(D);-1!==b;b=n.indexOf(D,b+1))s++}let h=n.length;for(;h>0&&(h-s)%4!=0;h--)u.includes(n[h])&&s--;const y=ar(n.substr(0,h));return n=n.substr(h),y},()=>ar(n))}function Wt(i){return Bt(i.replace(/-/g,"+").replace(/_/g,"/"))}function yr(i,n){let t=rr(i).replace(/[\r\n]/g,"");return n&&(t=t.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),t}Me?(Ot=i=>Me.from(i).toString("base64"),ar=i=>{const n=Me.from(i,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}):(Ot=i=>btoa(ee.uint8ArrayToString(i)),ar=i=>ee.stringToUint8Array(atob(i)));const Sr=Symbol("byValue");var te={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(i,n){if("number"==typeof n&&(n=this.read(i,n)),void 0!==i[n])return i[n];throw Error("Invalid enum value.")},read:function(i,n){if(i[Sr]||(i[Sr]=[],Object.entries(i).forEach(([t,s])=>{i[Sr][s]=t})),void 0!==i[Sr][n])return i[Sr][n];throw Error("Invalid enum value.")}},Mt={preferredHashAlgorithm:te.hash.sha256,preferredSymmetricAlgorithm:te.symmetric.aes256,preferredCompressionAlgorithm:te.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:te.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([te.symmetric.aes128,te.symmetric.aes192,te.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.4.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([te.hash.md5,te.hash.ripemd]),rejectMessageHashAlgorithms:new Set([te.hash.md5,te.hash.ripemd,te.hash.sha1]),rejectPublicKeyAlgorithms:new Set([te.publicKey.elgamal,te.publicKey.dsa]),rejectCurves:new Set([te.curve.brainpoolP256r1,te.curve.brainpoolP384r1,te.curve.brainpoolP512r1,te.curve.secp256k1])};function on(i){const n=i.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!n)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(n[1])?te.armor.multipartSection:/MESSAGE, PART \d+/.test(n[1])?te.armor.multipartLast:/SIGNED MESSAGE/.test(n[1])?te.armor.signed:/MESSAGE/.test(n[1])?te.armor.message:/PUBLIC KEY BLOCK/.test(n[1])?te.armor.publicKey:/PRIVATE KEY BLOCK/.test(n[1])?te.armor.privateKey:/SIGNATURE/.test(n[1])?te.armor.signature:void 0}function qr(i,n){let t="";return n.showVersion&&(t+="Version: "+n.versionString+"\n"),n.showComment&&(t+="Comment: "+n.commentString+"\n"),i&&(t+="Comment: "+i+"\n"),t+="\n",t}function br(i){return rr(function(n){let t=13501623;return Je(n,s=>{const u=Yr?Math.floor(s.length/4):0,h=new Uint32Array(s.buffer,s.byteOffset,u);for(let y=0;y<u;y++)t^=h[y],t=kt[0][t>>24&255]^kt[1][t>>16&255]^kt[2][t>>8&255]^kt[3][t>>0&255];for(let y=4*u;y<s.length;y++)t=t>>8^kt[0][255&t^s[y]]},()=>new Uint8Array([t,t>>8,t>>16]))}(i))}const kt=[Array(255),Array(255),Array(255),Array(255)];for(let i=0;i<=255;i++){let n=i<<16;for(let t=0;t<8;t++)n=n<<1^(0!=(8388608&n)?8801531:0);kt[0][i]=(16711680&n)>>16|65280&n|(255&n)<<16}for(let i=0;i<=255;i++)kt[1][i]=kt[0][i]>>8^kt[0][255&kt[0][i]];for(let i=0;i<=255;i++)kt[2][i]=kt[1][i]>>8^kt[0][255&kt[1][i]];for(let i=0;i<=255;i++)kt[3][i]=kt[2][i]>>8^kt[0][255&kt[2][i]];const Yr=function(){const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,255,!0),255===new Int16Array(i)[0]}();function Br(i){for(let n=0;n<i.length;n++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(i[n]))throw Error("Improperly formatted armor header: "+i[n]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(i[n])||ee.printDebugError(Error("Unknown header: "+i[n]))}}function Pr(i){let n=i,t="";const s=i.lastIndexOf("=");return s>=0&&s!==i.length-1&&(n=i.slice(0,s),t=i.slice(s+1).substr(0,4)),{body:n,checksum:t}}function cn(i,n=Mt){return new Promise(function(){var t=(0,f.Z)(function*(s,u){try{const h=/^-----[^-]+-----$/m,y=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let m;const D=[];let b,k,q,le=D,ie=[],Ae=Bt(Yt(i,function(){var Ne=(0,f.Z)(function*(Ke,ct){const yt=Ve(Ke);try{for(;;){let Te=yield yt.readLine();if(void 0===Te)throw Error("Misformed armored text");if(Te=ee.removeTrailingSpaces(Te.replace(/[\r\n]/g,"")),m)if(b)k||2!==m||(h.test(Te)?(ie=ie.join("\r\n"),k=!0,Br(le),le=[],b=!1):ie.push(Te.replace(/^- /,"")));else if(h.test(Te)&&u(Error("Mandatory blank line missing between armor headers and armor data")),y.test(Te)){if(Br(le),b=!0,k||2!==m){s({text:ie,data:Ae,headers:D,type:m});break}}else le.push(Te);else h.test(Te)&&(m=on(Te))}}catch(Te){return void u(Te)}const $e=nt(ct);try{for(;;){yield $e.ready;const{done:Te,value:vt}=yield yt.read();if(Te)throw Error("Misformed armored text");const ut=vt+"";if(-1!==ut.indexOf("=")||-1!==ut.indexOf("-")){let xt=yield yt.readToEnd();xt.length||(xt=""),xt=ut+xt,xt=ee.removeTrailingSpaces(xt.replace(/\r/g,""));const Ct=xt.split(h);if(1===Ct.length)throw Error("Misformed armored text");const At=Pr(Ct[0].slice(0,-1));q=At.checksum,yield $e.write(At.body);break}yield $e.write(ut)}yield $e.ready,yield $e.close()}catch(Te){yield $e.abort(Te)}});return function(Ke,ct){return Ne.apply(this,arguments)}}()));Ae=Yt(Ae,function(){var Ne=(0,f.Z)(function*(Ke,ct){const yt=et(br(Rt(Ke)));yt.catch(()=>{}),yield it(Ke,ct,{preventClose:!0});const $e=nt(ct);try{const Te=(yield yt).replace("\n","");if(q!==Te&&(q||n.checksumRequired))throw Error("Ascii armor integrity check failed");yield $e.ready,yield $e.close()}catch(Te){yield $e.abort(Te)}});return function(Ke,ct){return Ne.apply(this,arguments)}}())}catch(h){u(h)}});return function(s,u){return t.apply(this,arguments)}}()).then(function(){var t=(0,f.Z)(function*(s){return A(s.data)&&(s.data=yield et(s.data)),s});return function(s){return t.apply(this,arguments)}}())}function Tn(i,n,t,s,u,h=Mt){let y,m;i===te.armor.signed&&(y=n.text,m=n.hash,n=n.data);const D=Rt(n),b=[];switch(i){case te.armor.multipartSection:b.push("-----BEGIN PGP MESSAGE, PART "+t+"/"+s+"-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP MESSAGE, PART "+t+"/"+s+"-----\n");break;case te.armor.multipartLast:b.push("-----BEGIN PGP MESSAGE, PART "+t+"-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP MESSAGE, PART "+t+"-----\n");break;case te.armor.signed:b.push("\n-----BEGIN PGP SIGNED MESSAGE-----\n"),b.push("Hash: "+m+"\n\n"),b.push(y.replace(/^-/gm,"- -")),b.push("\n-----BEGIN PGP SIGNATURE-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP SIGNATURE-----\n");break;case te.armor.message:b.push("-----BEGIN PGP MESSAGE-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP MESSAGE-----\n");break;case te.armor.publicKey:b.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case te.armor.privateKey:b.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case te.armor.signature:b.push("-----BEGIN PGP SIGNATURE-----\n"),b.push(qr(u,h)),b.push(rr(n)),b.push("=",br(D)),b.push("-----END PGP SIGNATURE-----\n")}return ee.concat(b)}class hn{constructor(){this.bytes=""}read(n){this.bytes=ee.uint8ArrayToString(n.subarray(0,8))}write(){return ee.stringToUint8Array(this.bytes)}toHex(){return ee.uint8ArrayToHex(ee.stringToUint8Array(this.bytes))}equals(n,t=!1){return t&&(n.isWildcard()||this.isWildcard())||this.bytes===n.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(n){return n.toHex()}static fromID(n){const t=new hn;return t.read(ee.hexToUint8Array(n)),t}static wildcard(){const n=new hn;return n.read(new Uint8Array(8)),n}}var qt=function(){var i,n,t=!1;function s(q,le){var ie=i[(n[q]+n[le])%255];return 0!==q&&0!==le||(ie=0),ie}var u,h,y,m,D=!1,k=function(q,le){D||function b(){function q(Ne){var Ke,ct,yt,$e,Te;for(Te=void 0,Te=i[255-n[$e=Ne]],0===$e&&(Te=0),ct=yt=Te,Ke=0;Ke<4;Ke++)yt^=ct=255&(ct<<1|ct>>>7);return 99^yt}t||function(){i=[],n=[];var Ne,Ke,ct=1;for(Ne=0;Ne<255;Ne++)i[Ne]=ct,Ke=128&ct,ct<<=1,ct&=255,128===Ke&&(ct^=27),ct^=i[Ne],n[i[Ne]]=Ne;i[255]=i[0],n[0]=0,t=!0}(),u=[],h=[],y=[[],[],[],[]],m=[[],[],[],[]];for(var le=0;le<256;le++){var ie=q(le);u[le]=ie,h[ie]=le,y[0][le]=s(2,ie)<<24|ie<<16|ie<<8|s(3,ie),m[0][ie]=s(14,le)<<24|s(9,le)<<16|s(13,le)<<8|s(11,le);for(var Ae=1;Ae<4;Ae++)y[Ae][le]=y[Ae-1][le]>>>8|y[Ae-1][le]<<24,m[Ae][ie]=m[Ae-1][ie]>>>8|m[Ae-1][ie]<<24}D=!0}();var ie=new Uint32Array(le);ie.set(u,512),ie.set(h,768);for(var Ae=0;Ae<4;Ae++)ie.set(y[Ae],4096+1024*Ae>>2),ie.set(m[Ae],8192+1024*Ae>>2);var Ne=function(Ke,ct,yt){var $e=0,Te=0,vt=0,ut=0,xt=0,Ct=0,At=0,Ht=0,cr=0,ur=0,Ar=0,Zt=0,mt=0,Gr=0,dt=0,jt=0,vr=0,Cr=0,pr=0,hr=0,_r=0,Jt=new Ke.Uint32Array(yt),Oe=new Ke.Uint8Array(yt);function ot(Ee,ve,_e,Xt,Hr,sn,un,en){ve|=0,Xt|=0,Hr|=0,sn|=0,un|=0,en|=0;var Kn,Wn,Qn,Jr=0,An=0,yn=0,zr=0;for(Kn=1024|(_e|=0),Wn=2048|_e,Qn=3072|_e,Hr^=Jt[(0|(Ee|=0))>>2],sn^=Jt[(4|Ee)>>2],un^=Jt[(8|Ee)>>2],en^=Jt[(12|Ee)>>2],zr=16;(0|zr)<=Xt<<4;zr=zr+16|0)Jr=Jt[(_e|sn>>22&1020)>>2]^Jt[(Kn|un>>14&1020)>>2]^Jt[(Wn|en>>6&1020)>>2]^Jt[(Qn|Hr<<2&1020)>>2]^Jt[(Ee|zr|4)>>2],An=Jt[(_e|un>>22&1020)>>2]^Jt[(Kn|en>>14&1020)>>2]^Jt[(Wn|Hr>>6&1020)>>2]^Jt[(Qn|sn<<2&1020)>>2]^Jt[(Ee|zr|8)>>2],yn=Jt[(_e|en>>22&1020)>>2]^Jt[(Kn|Hr>>14&1020)>>2]^Jt[(Wn|sn>>6&1020)>>2]^Jt[(Qn|un<<2&1020)>>2]^Jt[(Ee|zr|12)>>2],Hr=Jt[(_e|Hr>>22&1020)>>2]^Jt[(Kn|sn>>14&1020)>>2]^Jt[(Wn|un>>6&1020)>>2]^Jt[(Qn|en<<2&1020)>>2]^Jt[(Ee|zr|0)>>2],sn=Jr,un=An,en=yn;$e=Jt[(ve|Hr>>22&1020)>>2]<<24^Jt[(ve|sn>>14&1020)>>2]<<16^Jt[(ve|un>>6&1020)>>2]<<8^Jt[(ve|en<<2&1020)>>2]^Jt[(Ee|zr|0)>>2],Te=Jt[(ve|sn>>22&1020)>>2]<<24^Jt[(ve|un>>14&1020)>>2]<<16^Jt[(ve|en>>6&1020)>>2]<<8^Jt[(ve|Hr<<2&1020)>>2]^Jt[(Ee|zr|4)>>2],vt=Jt[(ve|un>>22&1020)>>2]<<24^Jt[(ve|en>>14&1020)>>2]<<16^Jt[(ve|Hr>>6&1020)>>2]<<8^Jt[(ve|sn<<2&1020)>>2]^Jt[(Ee|zr|8)>>2],ut=Jt[(ve|en>>22&1020)>>2]<<24^Jt[(ve|Hr>>14&1020)>>2]<<16^Jt[(ve|sn>>6&1020)>>2]<<8^Jt[(ve|un<<2&1020)>>2]^Jt[(Ee|zr|12)>>2]}function lt(Ee,ve,_e,Xt){ot(0,2048,4096,_r,Ee|=0,ve|=0,_e|=0,Xt|=0)}function Re(Ee,ve,_e,Xt){ot(0,2048,4096,_r,xt^(Ee|=0),Ct^(ve|=0),At^(_e|=0),Ht^(Xt|=0)),xt=$e,Ct=Te,At=vt,Ht=ut}var je=[lt,function Y(Ee,ve,_e,Xt){var Hr;ot(1024,3072,8192,_r,Ee|=0,Xt|=0,_e|=0,ve|=0),Hr=Te,Te=ut,ut=Hr},Re,function wt(Ee,ve,_e,Xt){var Hr;ot(1024,3072,8192,_r,Ee|=0,Xt|=0,_e|=0,ve|=0),Hr=Te,Te=ut,ut=Hr,$e^=xt,Te^=Ct,vt^=At,ut^=Ht,xt=Ee,Ct=ve,At=_e,Ht=Xt},function St(Ee,ve,_e,Xt){Ee|=0,ve|=0,_e|=0,Xt|=0,ot(0,2048,4096,_r,xt,Ct,At,Ht),xt=$e^=Ee,Ct=Te^=ve,At=vt^=_e,Ht=ut^=Xt},function It(Ee,ve,_e,Xt){Ee|=0,ve|=0,_e|=0,Xt|=0,ot(0,2048,4096,_r,xt,Ct,At,Ht),$e^=Ee,Te^=ve,vt^=_e,ut^=Xt,xt=Ee,Ct=ve,At=_e,Ht=Xt},function ge(Ee,ve,_e,Xt){Ee|=0,ve|=0,_e|=0,Xt|=0,ot(0,2048,4096,_r,xt,Ct,At,Ht),xt=$e,Ct=Te,At=vt,Ht=ut,$e^=Ee,Te^=ve,vt^=_e,ut^=Xt},function se(Ee,ve,_e,Xt){Ee|=0,ve|=0,_e|=0,Xt|=0,ot(0,2048,4096,_r,cr,ur,Ar,Zt),cr=~mt&cr|mt&cr+(0==(0|(ur=~Gr&ur|Gr&ur+(0==(0|(Ar=~dt&Ar|dt&Ar+(0==(0|(Zt=~jt&Zt|jt&Zt+1))))))))),$e^=Ee,Te^=ve,vt^=_e,ut^=Xt}],We=[Re,function ye(Ee,ve,_e,Xt){Ee|=0,ve|=0,_e|=0,Xt|=0;var Hr=0,sn=0,un=0,en=0,Kn=0,Wn=0,Qn=0,ci=0,Jr=0,An=0;for(Ee^=xt,ve^=Ct,_e^=At,Xt^=Ht,Hr=0|vr,sn=0|Cr,un=0|pr,en=0|hr;(0|Jr)<128;Jr=Jr+1|0)Hr>>>31&&(Kn^=Ee,Wn^=ve,Qn^=_e,ci^=Xt),Hr=Hr<<1|sn>>>31,sn=sn<<1|un>>>31,un=un<<1|en>>>31,en<<=1,An=1&Xt,Xt=Xt>>>1|_e<<31,_e=_e>>>1|ve<<31,ve=ve>>>1|Ee<<31,Ee>>>=1,An&&(Ee^=3774873600);xt=Kn,Ct=Wn,At=Qn,Ht=ci}];return{set_rounds:function be(Ee){_r=Ee|=0},set_state:function Ge(Ee,ve,_e,Xt){$e=Ee|=0,Te=ve|=0,vt=_e|=0,ut=Xt|=0},set_iv:function Fe(Ee,ve,_e,Xt){xt=Ee|=0,Ct=ve|=0,At=_e|=0,Ht=Xt|=0},set_nonce:function Ye(Ee,ve,_e,Xt){cr=Ee|=0,ur=ve|=0,Ar=_e|=0,Zt=Xt|=0},set_mask:function ir(Ee,ve,_e,Xt){mt=Ee|=0,Gr=ve|=0,dt=_e|=0,jt=Xt|=0},set_counter:function $t(Ee,ve,_e,Xt){Zt=~jt&Zt|jt&(Xt|=0),Ar=~dt&Ar|dt&(_e|=0),ur=~Gr&ur|Gr&(ve|=0),cr=~mt&cr|mt&(Ee|=0)},get_state:function nr(Ee){return 15&(Ee|=0)?-1:(Oe[0|Ee]=$e>>>24,Oe[1|Ee]=$e>>>16&255,Oe[2|Ee]=$e>>>8&255,Oe[3|Ee]=255&$e,Oe[4|Ee]=Te>>>24,Oe[5|Ee]=Te>>>16&255,Oe[6|Ee]=Te>>>8&255,Oe[7|Ee]=255&Te,Oe[8|Ee]=vt>>>24,Oe[9|Ee]=vt>>>16&255,Oe[10|Ee]=vt>>>8&255,Oe[11|Ee]=255&vt,Oe[12|Ee]=ut>>>24,Oe[13|Ee]=ut>>>16&255,Oe[14|Ee]=ut>>>8&255,Oe[15|Ee]=255&ut,16)},get_iv:function er(Ee){return 15&(Ee|=0)?-1:(Oe[0|Ee]=xt>>>24,Oe[1|Ee]=xt>>>16&255,Oe[2|Ee]=xt>>>8&255,Oe[3|Ee]=255&xt,Oe[4|Ee]=Ct>>>24,Oe[5|Ee]=Ct>>>16&255,Oe[6|Ee]=Ct>>>8&255,Oe[7|Ee]=255&Ct,Oe[8|Ee]=At>>>24,Oe[9|Ee]=At>>>16&255,Oe[10|Ee]=At>>>8&255,Oe[11|Ee]=255&At,Oe[12|Ee]=Ht>>>24,Oe[13|Ee]=Ht>>>16&255,Oe[14|Ee]=Ht>>>8&255,Oe[15|Ee]=255&Ht,16)},gcm_init:function ze(){lt(0,0,0,0),vr=$e,Cr=Te,pr=vt,hr=ut},cipher:function He(Ee,ve,_e){Ee|=0,_e|=0;var Xt=0;if(15&(ve|=0))return-1;for(;(0|_e)>=16;)je[7&Ee](Oe[0|ve]<<24|Oe[1|ve]<<16|Oe[2|ve]<<8|Oe[3|ve],Oe[4|ve]<<24|Oe[5|ve]<<16|Oe[6|ve]<<8|Oe[7|ve],Oe[8|ve]<<24|Oe[9|ve]<<16|Oe[10|ve]<<8|Oe[11|ve],Oe[12|ve]<<24|Oe[13|ve]<<16|Oe[14|ve]<<8|Oe[15|ve]),Oe[0|ve]=$e>>>24,Oe[1|ve]=$e>>>16&255,Oe[2|ve]=$e>>>8&255,Oe[3|ve]=255&$e,Oe[4|ve]=Te>>>24,Oe[5|ve]=Te>>>16&255,Oe[6|ve]=Te>>>8&255,Oe[7|ve]=255&Te,Oe[8|ve]=vt>>>24,Oe[9|ve]=vt>>>16&255,Oe[10|ve]=vt>>>8&255,Oe[11|ve]=255&vt,Oe[12|ve]=ut>>>24,Oe[13|ve]=ut>>>16&255,Oe[14|ve]=ut>>>8&255,Oe[15|ve]=255&ut,Xt=Xt+16|0,ve=ve+16|0,_e=_e-16|0;return 0|Xt},mac:function Ze(Ee,ve,_e){Ee|=0,_e|=0;var Xt=0;if(15&(ve|=0))return-1;for(;(0|_e)>=16;)We[1&Ee](Oe[0|ve]<<24|Oe[1|ve]<<16|Oe[2|ve]<<8|Oe[3|ve],Oe[4|ve]<<24|Oe[5|ve]<<16|Oe[6|ve]<<8|Oe[7|ve],Oe[8|ve]<<24|Oe[9|ve]<<16|Oe[10|ve]<<8|Oe[11|ve],Oe[12|ve]<<24|Oe[13|ve]<<16|Oe[14|ve]<<8|Oe[15|ve]),Xt=Xt+16|0,ve=ve+16|0,_e=_e-16|0;return 0|Xt}}}({Uint8Array,Uint32Array},0,le);return Ne.set_key=function(Ke,ct,yt,$e,Te,vt,ut,xt,Ct){var At=ie.subarray(0,60),Ht=ie.subarray(256,316);At.set([ct,yt,$e,Te,vt,ut,xt,Ct]);for(var cr=Ke,ur=1;cr<4*Ke+28;cr++){var Ar=At[cr-1];(cr%Ke==0||8===Ke&&cr%Ke==4)&&(Ar=u[Ar>>>24]<<24^u[Ar>>>16&255]<<16^u[Ar>>>8&255]<<8^u[255&Ar]),cr%Ke==0&&(Ar=Ar<<8^Ar>>>24^ur<<24,ur=ur<<1^(128&ur?27:0)),At[cr]=At[cr-Ke]^Ar}for(var Zt=0;Zt<cr;Zt+=4)for(var mt=0;mt<4;mt++)Ar=At[cr-(4+Zt)+(4-mt)%4],Ht[Zt+mt]=Zt<4||Zt>=cr-4?Ar:m[0][u[Ar>>>24]]^m[1][u[Ar>>>16&255]]^m[2][u[Ar>>>8&255]]^m[3][u[255&Ar]];Ne.set_rounds(Ke+5)},Ne};return k.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},k.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},k.MAC={CBC:0,GCM:1},k.HEAP_DATA=16384,k}();function Gn(i){return i instanceof Uint8Array}function qn(i,n){const t=i?i.byteLength:n||65536;if(4095&t||t<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return i||new Uint8Array(new ArrayBuffer(t))}function Zn(i,n,t,s,u){const h=i.length-n,y=h<u?h:u;return i.set(t.subarray(s,s+y),n),y}function dn(...i){const n=i.reduce((u,h)=>u+h.length,0),t=new Uint8Array(n);let s=0;for(let u=0;u<i.length;u++)t.set(i[u],s),s+=i[u].length;return t}class ni extends Error{constructor(...n){super(...n)}}class kn extends Error{constructor(...n){super(...n)}}class Jn extends Error{constructor(...n){super(...n)}}const bn=[],tn=[];class xn{constructor(n,t,s=!0,u,h,y){this.pos=0,this.len=0,this.mode=u,this.pos=0,this.len=0,this.key=n,this.iv=t,this.padding=s,this.acquire_asm(h,y)}acquire_asm(n,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=n||bn.pop()||qn().subarray(qt.HEAP_DATA),this.asm=t||tn.pop()||new qt(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(bn.push(this.heap),tn.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(n,t){const{asm:s}=this.acquire_asm(),u=n.length;if(16!==u&&24!==u&&32!==u)throw new kn("illegal key size");const h=new DataView(n.buffer,n.byteOffset,n.byteLength);if(s.set_key(u>>2,h.getUint32(0),h.getUint32(4),h.getUint32(8),h.getUint32(12),u>16?h.getUint32(16):0,u>16?h.getUint32(20):0,u>24?h.getUint32(24):0,u>24?h.getUint32(28):0),void 0!==t){if(16!==t.length)throw new kn("illegal iv size");let y=new DataView(t.buffer,t.byteOffset,t.byteLength);s.set_iv(y.getUint32(0),y.getUint32(4),y.getUint32(8),y.getUint32(12))}else s.set_iv(0,0,0,0)}AES_Encrypt_process(n){if(!Gn(n))throw new TypeError("data isn't of expected type");let{heap:t,asm:s}=this.acquire_asm(),u=qt.ENC[this.mode],h=qt.HEAP_DATA,y=this.pos,m=this.len,D=0,b=n.length||0,k=0,q=0,le=new Uint8Array(m+b&-16);for(;b>0;)q=Zn(t,y+m,n,D,b),m+=q,D+=q,b-=q,q=s.cipher(u,h+y,m),q&&le.set(t.subarray(y,y+q),k),k+=q,q<m?(y+=q,m-=q):(y=0,m=0);return this.pos=y,this.len=m,le}AES_Encrypt_finish(){let{heap:n,asm:t}=this.acquire_asm(),s=qt.ENC[this.mode],u=qt.HEAP_DATA,h=this.pos,y=this.len,m=16-y%16,D=y;if(this.hasOwnProperty("padding")){if(this.padding){for(let k=0;k<m;++k)n[h+y+k]=m;y+=m,D=y}else if(y%16)throw new kn("data length must be a multiple of the block size")}else y+=m;const b=new Uint8Array(D);return y&&t.cipher(s,u+h,y),D&&b.set(n.subarray(h,h+D)),this.pos=0,this.len=0,this.release_asm(),b}AES_Decrypt_process(n){if(!Gn(n))throw new TypeError("data isn't of expected type");let{heap:t,asm:s}=this.acquire_asm(),u=qt.DEC[this.mode],h=qt.HEAP_DATA,y=this.pos,m=this.len,D=0,b=n.length||0,k=0,q=m+b&-16,le=0,ie=0;this.padding&&(le=m+b-q||16,q-=le);const Ae=new Uint8Array(q);for(;b>0;)ie=Zn(t,y+m,n,D,b),m+=ie,D+=ie,b-=ie,ie=s.cipher(u,h+y,m-(b?0:le)),ie&&Ae.set(t.subarray(y,y+ie),k),k+=ie,ie<m?(y+=ie,m-=ie):(y=0,m=0);return this.pos=y,this.len=m,Ae}AES_Decrypt_finish(){let{heap:n,asm:t}=this.acquire_asm(),s=qt.DEC[this.mode],u=qt.HEAP_DATA,h=this.pos,y=this.len,m=y;if(y>0){if(y%16){if(this.hasOwnProperty("padding"))throw new kn("data length must be a multiple of the block size");y+=16-y%16}if(t.cipher(s,u+h,y),this.hasOwnProperty("padding")&&this.padding){let b=n[h+m-1];if(b<1||b>16||b>m)throw new Jn("bad padding");let k=0;for(let q=b;q>1;q--)k|=b^n[h+m-q];if(k)throw new Jn("bad padding");m-=b}}const D=new Uint8Array(m);return m>0&&D.set(n.subarray(h,h+m)),this.pos=0,this.len=0,this.release_asm(),D}}class an{static encrypt(n,t,s=!1){return new an(t,s).encrypt(n)}static decrypt(n,t,s=!1){return new an(t,s).decrypt(n)}constructor(n,t=!1,s){this.aes=s||new xn(n,void 0,t,"ECB")}encrypt(n){return dn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return dn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}function mn(i){const n=function(t){const s=new an(t);this.encrypt=function(u){return s.encrypt(u)},this.decrypt=function(u){return s.decrypt(u)}};return n.blockSize=n.prototype.blockSize=16,n.keySize=n.prototype.keySize=i/8,n}function Nr(i,n,t,s,u,h){const y=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],m=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],D=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],b=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],k=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],q=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],le=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],ie=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let Ae,Ne,Ke,ct,yt,$e,Te,vt,ut,xt,Ct,At,Ht,cr,ur=0,Ar=n.length;const Zt=32===i.length?3:9;vt=3===Zt?t?[0,32,2]:[30,-2,-2]:t?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],t&&(Ar=(n=function(dt,jt){const vr=8-dt.length%8;let Cr;if(2===jt&&vr<8)Cr=32;else if(1===jt)Cr=vr;else{if(jt||!(vr<8)){if(8===vr)return dt;throw Error("des: invalid padding")}Cr=0}const pr=new Uint8Array(dt.length+vr);for(let hr=0;hr<dt.length;hr++)pr[hr]=dt[hr];for(let hr=0;hr<vr;hr++)pr[dt.length+hr]=Cr;return pr}(n,h)).length);let mt=new Uint8Array(Ar),Gr=0;for(1===s&&(ut=u[ur++]<<24|u[ur++]<<16|u[ur++]<<8|u[ur++],Ct=u[ur++]<<24|u[ur++]<<16|u[ur++]<<8|u[ur++],ur=0);ur<Ar;){for($e=n[ur++]<<24|n[ur++]<<16|n[ur++]<<8|n[ur++],Te=n[ur++]<<24|n[ur++]<<16|n[ur++]<<8|n[ur++],1===s&&(t?($e^=ut,Te^=Ct):(xt=ut,At=Ct,ut=$e,Ct=Te)),Ke=252645135&($e>>>4^Te),Te^=Ke,$e^=Ke<<4,Ke=65535&($e>>>16^Te),Te^=Ke,$e^=Ke<<16,Ke=858993459&(Te>>>2^$e),$e^=Ke,Te^=Ke<<2,Ke=16711935&(Te>>>8^$e),$e^=Ke,Te^=Ke<<8,Ke=1431655765&($e>>>1^Te),Te^=Ke,$e^=Ke<<1,$e=$e<<1|$e>>>31,Te=Te<<1|Te>>>31,Ne=0;Ne<Zt;Ne+=3){for(Ht=vt[Ne+1],cr=vt[Ne+2],Ae=vt[Ne];Ae!==Ht;Ae+=cr)ct=Te^i[Ae],yt=(Te>>>4|Te<<28)^i[Ae+1],Ke=$e,$e=Te,Te=Ke^(m[ct>>>24&63]|b[ct>>>16&63]|q[ct>>>8&63]|ie[63&ct]|y[yt>>>24&63]|D[yt>>>16&63]|k[yt>>>8&63]|le[63&yt]);Ke=$e,$e=Te,Te=Ke}$e=$e>>>1|$e<<31,Te=Te>>>1|Te<<31,Ke=1431655765&($e>>>1^Te),Te^=Ke,$e^=Ke<<1,Ke=16711935&(Te>>>8^$e),$e^=Ke,Te^=Ke<<8,Ke=858993459&(Te>>>2^$e),$e^=Ke,Te^=Ke<<2,Ke=65535&($e>>>16^Te),Te^=Ke,$e^=Ke<<16,Ke=252645135&($e>>>4^Te),Te^=Ke,$e^=Ke<<4,1===s&&(t?(ut=$e,Ct=Te):($e^=xt,Te^=At)),mt[Gr++]=$e>>>24,mt[Gr++]=$e>>>16&255,mt[Gr++]=$e>>>8&255,mt[Gr++]=255&$e,mt[Gr++]=Te>>>24,mt[Gr++]=Te>>>16&255,mt[Gr++]=Te>>>8&255,mt[Gr++]=255&Te}return t||(mt=function(dt,jt){let vr,Cr=null;if(2===jt)vr=32;else if(1===jt)Cr=dt[dt.length-1];else{if(jt)throw Error("des: invalid padding");vr=0}if(!Cr){for(Cr=1;dt[dt.length-Cr]===vr;)Cr++;Cr--}return dt.subarray(0,dt.length-Cr)}(mt,h)),mt}function Fr(i){const n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],t=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],s=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],u=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],h=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],y=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],m=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],D=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],b=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],k=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],q=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],le=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],ie=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],Ae=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Ne=i.length>8?3:1,Ke=Array(32*Ne),ct=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let yt,$e,Te,vt=0,ut=0;for(let xt=0;xt<Ne;xt++){let Ct=i[vt++]<<24|i[vt++]<<16|i[vt++]<<8|i[vt++],At=i[vt++]<<24|i[vt++]<<16|i[vt++]<<8|i[vt++];Te=252645135&(Ct>>>4^At),At^=Te,Ct^=Te<<4,Te=65535&(At>>>-16^Ct),Ct^=Te,At^=Te<<-16,Te=858993459&(Ct>>>2^At),At^=Te,Ct^=Te<<2,Te=65535&(At>>>-16^Ct),Ct^=Te,At^=Te<<-16,Te=1431655765&(Ct>>>1^At),At^=Te,Ct^=Te<<1,Te=16711935&(At>>>8^Ct),Ct^=Te,At^=Te<<8,Te=1431655765&(Ct>>>1^At),At^=Te,Ct^=Te<<1,Te=Ct<<8|At>>>20&240,Ct=At<<24|At<<8&16711680|At>>>8&65280|At>>>24&240,At=Te;for(let Ht=0;Ht<16;Ht++)ct[Ht]?(Ct=Ct<<2|Ct>>>26,At=At<<2|At>>>26):(Ct=Ct<<1|Ct>>>27,At=At<<1|At>>>27),Ct&=-15,At&=-15,yt=n[Ct>>>28]|t[Ct>>>24&15]|s[Ct>>>20&15]|u[Ct>>>16&15]|h[Ct>>>12&15]|y[Ct>>>8&15]|m[Ct>>>4&15],$e=D[At>>>28]|b[At>>>24&15]|k[At>>>20&15]|q[At>>>16&15]|le[At>>>12&15]|ie[At>>>8&15]|Ae[At>>>4&15],Te=65535&($e>>>16^yt),Ke[ut++]=yt^Te,Ke[ut++]=$e^Te<<16}return Ke}function rn(i){this.key=[];for(let n=0;n<3;n++)this.key.push(new Uint8Array(i.subarray(8*n,8*n+8)));this.encrypt=function(n){return Nr(Fr(this.key[2]),Nr(Fr(this.key[1]),Nr(Fr(this.key[0]),n,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Qt(){this.BlockSize=8,this.KeySize=16,this.setKey=function(y){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),y.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(y),!0},this.reset=function(){for(let y=0;y<16;y++)this.masking[y]=0,this.rotate[y]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(y){const m=Array(y.length);for(let D=0;D<y.length;D+=8){let b,k=y[D]<<24|y[D+1]<<16|y[D+2]<<8|y[D+3],q=y[D+4]<<24|y[D+5]<<16|y[D+6]<<8|y[D+7];b=q,q=k^t(q,this.masking[0],this.rotate[0]),k=b,b=q,q=k^s(q,this.masking[1],this.rotate[1]),k=b,b=q,q=k^u(q,this.masking[2],this.rotate[2]),k=b,b=q,q=k^t(q,this.masking[3],this.rotate[3]),k=b,b=q,q=k^s(q,this.masking[4],this.rotate[4]),k=b,b=q,q=k^u(q,this.masking[5],this.rotate[5]),k=b,b=q,q=k^t(q,this.masking[6],this.rotate[6]),k=b,b=q,q=k^s(q,this.masking[7],this.rotate[7]),k=b,b=q,q=k^u(q,this.masking[8],this.rotate[8]),k=b,b=q,q=k^t(q,this.masking[9],this.rotate[9]),k=b,b=q,q=k^s(q,this.masking[10],this.rotate[10]),k=b,b=q,q=k^u(q,this.masking[11],this.rotate[11]),k=b,b=q,q=k^t(q,this.masking[12],this.rotate[12]),k=b,b=q,q=k^s(q,this.masking[13],this.rotate[13]),k=b,b=q,q=k^u(q,this.masking[14],this.rotate[14]),k=b,b=q,q=k^t(q,this.masking[15],this.rotate[15]),k=b,m[D]=q>>>24&255,m[D+1]=q>>>16&255,m[D+2]=q>>>8&255,m[D+3]=255&q,m[D+4]=k>>>24&255,m[D+5]=k>>>16&255,m[D+6]=k>>>8&255,m[D+7]=255&k}return m},this.decrypt=function(y){const m=Array(y.length);for(let D=0;D<y.length;D+=8){let b,k=y[D]<<24|y[D+1]<<16|y[D+2]<<8|y[D+3],q=y[D+4]<<24|y[D+5]<<16|y[D+6]<<8|y[D+7];b=q,q=k^t(q,this.masking[15],this.rotate[15]),k=b,b=q,q=k^u(q,this.masking[14],this.rotate[14]),k=b,b=q,q=k^s(q,this.masking[13],this.rotate[13]),k=b,b=q,q=k^t(q,this.masking[12],this.rotate[12]),k=b,b=q,q=k^u(q,this.masking[11],this.rotate[11]),k=b,b=q,q=k^s(q,this.masking[10],this.rotate[10]),k=b,b=q,q=k^t(q,this.masking[9],this.rotate[9]),k=b,b=q,q=k^u(q,this.masking[8],this.rotate[8]),k=b,b=q,q=k^s(q,this.masking[7],this.rotate[7]),k=b,b=q,q=k^t(q,this.masking[6],this.rotate[6]),k=b,b=q,q=k^u(q,this.masking[5],this.rotate[5]),k=b,b=q,q=k^s(q,this.masking[4],this.rotate[4]),k=b,b=q,q=k^t(q,this.masking[3],this.rotate[3]),k=b,b=q,q=k^u(q,this.masking[2],this.rotate[2]),k=b,b=q,q=k^s(q,this.masking[1],this.rotate[1]),k=b,b=q,q=k^t(q,this.masking[0],this.rotate[0]),k=b,m[D]=q>>>24&255,m[D+1]=q>>>16&255,m[D+2]=q>>>8&255,m[D+3]=255&q,m[D+4]=k>>>24&255,m[D+5]=k>>16&255,m[D+6]=k>>8&255,m[D+7]=255&k}return m};const i=[,,,,];i[0]=[,,,,],i[0][0]=[4,0,13,15,12,14,8],i[0][1]=[5,2,16,18,17,19,10],i[0][2]=[6,3,23,22,21,20,9],i[0][3]=[7,1,26,25,27,24,11],i[1]=[,,,,],i[1][0]=[0,6,21,23,20,22,16],i[1][1]=[1,4,0,2,1,3,18],i[1][2]=[2,5,7,6,5,4,17],i[1][3]=[3,7,10,9,11,8,19],i[2]=[,,,,],i[2][0]=[4,0,13,15,12,14,8],i[2][1]=[5,2,16,18,17,19,10],i[2][2]=[6,3,23,22,21,20,9],i[2][3]=[7,1,26,25,27,24,11],i[3]=[,,,,],i[3][0]=[0,6,21,23,20,22,16],i[3][1]=[1,4,0,2,1,3,18],i[3][2]=[2,5,7,6,5,4,17],i[3][3]=[3,7,10,9,11,8,19];const n=[,,,,];function t(y,m,D){const b=m+y,k=b<<D|b>>>32-D;return(h[0][k>>>24]^h[1][k>>>16&255])-h[2][k>>>8&255]+h[3][255&k]}function s(y,m,D){const b=m^y,k=b<<D|b>>>32-D;return h[0][k>>>24]-h[1][k>>>16&255]+h[2][k>>>8&255]^h[3][255&k]}function u(y,m,D){const b=m-y,k=b<<D|b>>>32-D;return(h[0][k>>>24]+h[1][k>>>16&255]^h[2][k>>>8&255])-h[3][255&k]}n[0]=[,,,,],n[0][0]=[24,25,23,22,18],n[0][1]=[26,27,21,20,22],n[0][2]=[28,29,19,18,25],n[0][3]=[30,31,17,16,28],n[1]=[,,,,],n[1][0]=[3,2,12,13,8],n[1][1]=[1,0,14,15,13],n[1][2]=[7,6,8,9,3],n[1][3]=[5,4,10,11,7],n[2]=[,,,,],n[2][0]=[19,18,28,29,25],n[2][1]=[17,16,30,31,28],n[2][2]=[23,22,24,25,18],n[2][3]=[21,20,26,27,22],n[3]=[,,,,],n[3][0]=[8,9,7,6,3],n[3][1]=[10,11,5,4,7],n[3][2]=[12,13,3,2,8],n[3][3]=[14,15,1,0,13],this.keySchedule=function(y){const m=[,,,,,,,,],D=Array(32);let b;for(let ie=0;ie<4;ie++)b=4*ie,m[ie]=y[b]<<24|y[b+1]<<16|y[b+2]<<8|y[b+3];const k=[6,7,4,5];let q,le=0;for(let ie=0;ie<2;ie++)for(let Ae=0;Ae<4;Ae++){for(b=0;b<4;b++){const Ne=i[Ae][b];q=m[Ne[1]],q^=h[4][m[Ne[2]>>>2]>>>24-8*(3&Ne[2])&255],q^=h[5][m[Ne[3]>>>2]>>>24-8*(3&Ne[3])&255],q^=h[6][m[Ne[4]>>>2]>>>24-8*(3&Ne[4])&255],q^=h[7][m[Ne[5]>>>2]>>>24-8*(3&Ne[5])&255],q^=h[k[b]][m[Ne[6]>>>2]>>>24-8*(3&Ne[6])&255],m[Ne[0]]=q}for(b=0;b<4;b++){const Ne=n[Ae][b];q=h[4][m[Ne[0]>>>2]>>>24-8*(3&Ne[0])&255],q^=h[5][m[Ne[1]>>>2]>>>24-8*(3&Ne[1])&255],q^=h[6][m[Ne[2]>>>2]>>>24-8*(3&Ne[2])&255],q^=h[7][m[Ne[3]>>>2]>>>24-8*(3&Ne[3])&255],q^=h[4+b][m[Ne[4]>>>2]>>>24-8*(3&Ne[4])&255],D[le]=q,le++}}for(let ie=0;ie<16;ie++)this.masking[ie]=D[ie],this.rotate[ie]=31&D[16+ie]};const h=[,,,,,,,,];h[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],h[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],h[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],h[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],h[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],h[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],h[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],h[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function fn(i){this.cast5=new Qt,this.cast5.setKey(i),this.encrypt=function(n){return this.cast5.encrypt(n)}}rn.keySize=rn.prototype.keySize=24,rn.blockSize=rn.prototype.blockSize=8,fn.blockSize=fn.prototype.blockSize=8,fn.keySize=fn.prototype.keySize=16;const nn=4294967295;function Kr(i,n){return(i<<n|i>>>32-n)&nn}function gn(i,n){return i[n]|i[n+1]<<8|i[n+2]<<16|i[n+3]<<24}function vn(i,n,t){i.splice(n,4,255&t,t>>>8&255,t>>>16&255,t>>>24&255)}function dr(i,n){return i>>>8*n&255}function In(i){this.tf=function(){let n=null,t=null,s=-1,u=[],h=[[],[],[],[]];function y(k){return h[0][dr(k,0)]^h[1][dr(k,1)]^h[2][dr(k,2)]^h[3][dr(k,3)]}function m(k){return h[0][dr(k,3)]^h[1][dr(k,0)]^h[2][dr(k,1)]^h[3][dr(k,2)]}function D(k,q){let le=y(q[0]),ie=m(q[1]);q[2]=Kr(q[2]^le+ie+u[4*k+8]&nn,31),q[3]=Kr(q[3],1)^le+2*ie+u[4*k+9]&nn,le=y(q[2]),ie=m(q[3]),q[0]=Kr(q[0]^le+ie+u[4*k+10]&nn,31),q[1]=Kr(q[1],1)^le+2*ie+u[4*k+11]&nn}function b(k,q){let le=y(q[0]),ie=m(q[1]);q[2]=Kr(q[2],1)^le+ie+u[4*k+10]&nn,q[3]=Kr(q[3]^le+2*ie+u[4*k+11]&nn,31),le=y(q[2]),ie=m(q[3]),q[0]=Kr(q[0],1)^le+ie+u[4*k+8]&nn,q[1]=Kr(q[1]^le+2*ie+u[4*k+9]&nn,31)}return{name:"twofish",blocksize:16,open:function(k){let q,le,ie,Ae,Ne;n=k;const Ke=[],ct=[],yt=[];let $e;const Te=[];let vt,ut,xt;const Ct=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],At=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],Ht=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],cr=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],ur=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],Ar=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],Zt=[[],[]],mt=[[],[],[],[]];function Gr(pr){return pr^pr>>2^[0,90,180,238][3&pr]}function dt(pr){return pr^pr>>1^pr>>2^[0,238,180,90][3&pr]}function jt(pr,hr){let _r,Jt,Oe;for(_r=0;_r<8;_r++)Jt=hr>>>24,hr=hr<<8&nn|pr>>>24,pr=pr<<8&nn,Oe=Jt<<1,128&Jt&&(Oe^=333),hr^=Jt^Oe<<16,Oe^=Jt>>>1,1&Jt&&(Oe^=166),hr^=Oe<<24|Oe<<8;return hr}function vr(pr,hr){const _r=hr>>4,Jt=15&hr,Oe=Ct[pr][_r^Jt],ot=At[pr][ur[Jt]^Ar[_r]];return cr[pr][ur[ot]^Ar[Oe]]<<4|Ht[pr][Oe^ot]}function Cr(pr,hr){let _r=dr(pr,0),Jt=dr(pr,1),Oe=dr(pr,2),ot=dr(pr,3);switch($e){case 4:_r=Zt[1][_r]^dr(hr[3],0),Jt=Zt[0][Jt]^dr(hr[3],1),Oe=Zt[0][Oe]^dr(hr[3],2),ot=Zt[1][ot]^dr(hr[3],3);case 3:_r=Zt[1][_r]^dr(hr[2],0),Jt=Zt[1][Jt]^dr(hr[2],1),Oe=Zt[0][Oe]^dr(hr[2],2),ot=Zt[0][ot]^dr(hr[2],3);case 2:_r=Zt[0][Zt[0][_r]^dr(hr[1],0)]^dr(hr[0],0),Jt=Zt[0][Zt[1][Jt]^dr(hr[1],1)]^dr(hr[0],1),Oe=Zt[1][Zt[0][Oe]^dr(hr[1],2)]^dr(hr[0],2),ot=Zt[1][Zt[1][ot]^dr(hr[1],3)]^dr(hr[0],3)}return mt[0][_r]^mt[1][Jt]^mt[2][Oe]^mt[3][ot]}for(n=n.slice(0,32),q=n.length;16!==q&&24!==q&&32!==q;)n[q++]=0;for(q=0;q<n.length;q+=4)yt[q>>2]=gn(n,q);for(q=0;q<256;q++)Zt[0][q]=vr(0,q),Zt[1][q]=vr(1,q);for(q=0;q<256;q++)vt=Zt[1][q],ut=Gr(vt),xt=dt(vt),mt[0][q]=vt+(ut<<8)+(xt<<16)+(xt<<24),mt[2][q]=ut+(xt<<8)+(vt<<16)+(xt<<24),vt=Zt[0][q],ut=Gr(vt),xt=dt(vt),mt[1][q]=xt+(xt<<8)+(ut<<16)+(vt<<24),mt[3][q]=ut+(vt<<8)+(xt<<16)+(ut<<24);for($e=yt.length/2,q=0;q<$e;q++)le=yt[q+q],Ke[q]=le,ie=yt[q+q+1],ct[q]=ie,Te[$e-q-1]=jt(le,ie);for(q=0;q<40;q+=2)le=16843009*q,ie=le+16843009,le=Cr(le,Ke),ie=Kr(Cr(ie,ct),8),u[q]=le+ie&nn,u[q+1]=Kr(le+2*ie,9);for(q=0;q<256;q++)switch(le=ie=Ae=Ne=q,$e){case 4:le=Zt[1][le]^dr(Te[3],0),ie=Zt[0][ie]^dr(Te[3],1),Ae=Zt[0][Ae]^dr(Te[3],2),Ne=Zt[1][Ne]^dr(Te[3],3);case 3:le=Zt[1][le]^dr(Te[2],0),ie=Zt[1][ie]^dr(Te[2],1),Ae=Zt[0][Ae]^dr(Te[2],2),Ne=Zt[0][Ne]^dr(Te[2],3);case 2:h[0][q]=mt[0][Zt[0][Zt[0][le]^dr(Te[1],0)]^dr(Te[0],0)],h[1][q]=mt[1][Zt[0][Zt[1][ie]^dr(Te[1],1)]^dr(Te[0],1)],h[2][q]=mt[2][Zt[1][Zt[0][Ae]^dr(Te[1],2)]^dr(Te[0],2)],h[3][q]=mt[3][Zt[1][Zt[1][Ne]^dr(Te[1],3)]^dr(Te[0],3)]}},close:function(){u=[],h=[[],[],[],[]]},encrypt:function(k,q){t=k,s=q;const le=[gn(t,s)^u[0],gn(t,s+4)^u[1],gn(t,s+8)^u[2],gn(t,s+12)^u[3]];for(let ie=0;ie<8;ie++)D(ie,le);return vn(t,s,le[2]^u[4]),vn(t,s+4,le[3]^u[5]),vn(t,s+8,le[0]^u[6]),vn(t,s+12,le[1]^u[7]),s+=16,t},decrypt:function(k,q){t=k,s=q;const le=[gn(t,s)^u[4],gn(t,s+4)^u[5],gn(t,s+8)^u[6],gn(t,s+12)^u[7]];for(let ie=7;ie>=0;ie--)b(ie,le);vn(t,s,le[2]^u[0]),vn(t,s+4,le[3]^u[1]),vn(t,s+8,le[0]^u[2]),vn(t,s+12,le[1]^u[3]),s+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(i),0),this.encrypt=function(n){return this.tf.encrypt(Array.from(n),0)}}function li(){}function Ni(i){this.bf=new li,this.bf.init(i),this.encrypt=function(n){return this.bf.encryptBlock(n)}}In.keySize=In.prototype.keySize=32,In.blockSize=In.prototype.blockSize=16,li.prototype.BLOCKSIZE=8,li.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],li.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],li.prototype.NN=16,li.prototype._clean=function(i){return i<0&&(i=2147483648+(2147483647&i)),i},li.prototype._F=function(i){let n;const t=255&i,s=255&(i>>>=8),u=255&(i>>>=8),h=255&(i>>>=8);return n=this.sboxes[0][h]+this.sboxes[1][u],n^=this.sboxes[2][s],n+=this.sboxes[3][t],n},li.prototype._encryptBlock=function(i){let n,t=i[0],s=i[1];for(n=0;n<this.NN;++n){t^=this.parray[n],s=this._F(t)^s;const u=t;t=s,s=u}t^=this.parray[this.NN+0],s^=this.parray[this.NN+1],i[0]=this._clean(s),i[1]=this._clean(t)},li.prototype.encryptBlock=function(i){let n;const t=[0,0],s=this.BLOCKSIZE/2;for(n=0;n<this.BLOCKSIZE/2;++n)t[0]=t[0]<<8|255&i[n+0],t[1]=t[1]<<8|255&i[n+s];this._encryptBlock(t);const u=[];for(n=0;n<this.BLOCKSIZE/2;++n)u[n+0]=t[0]>>>24-8*n&255,u[n+s]=t[1]>>>24-8*n&255;return u},li.prototype._decryptBlock=function(i){let n,t=i[0],s=i[1];for(n=this.NN+1;n>1;--n){t^=this.parray[n],s=this._F(t)^s;const u=t;t=s,s=u}t^=this.parray[1],s^=this.parray[0],i[0]=this._clean(s),i[1]=this._clean(t)},li.prototype.init=function(i){let n,t=0;for(this.parray=[],n=0;n<this.NN+2;++n){let u=0;for(let h=0;h<4;++h)u=u<<8|255&i[t],++t>=i.length&&(t=0);this.parray[n]=this.PARRAY[n]^u}for(this.sboxes=[],n=0;n<4;++n)for(this.sboxes[n]=[],t=0;t<256;++t)this.sboxes[n][t]=this.SBOXES[n][t];const s=[0,0];for(n=0;n<this.NN+2;n+=2)this._encryptBlock(s),this.parray[n+0]=s[0],this.parray[n+1]=s[1];for(n=0;n<4;++n)for(t=0;t<256;t+=2)this._encryptBlock(s),this.sboxes[n][t+0]=s[0],this.sboxes[n][t+1]=s[1]},Ni.keySize=Ni.prototype.keySize=16,Ni.blockSize=Ni.prototype.blockSize=8;const Aa=mn(128),pe=mn(192),ce=mn(256);var oe=Object.freeze({__proto__:null,aes128:Aa,aes192:pe,aes256:ce,des:function(i){this.key=i,this.encrypt=function(n,t){return Nr(Fr(this.key),n,!0,0,null,t)},this.decrypt=function(n,t){return Nr(Fr(this.key),n,!1,0,null,t)}},tripledes:rn,cast5:fn,twofish:In,blowfish:Ni,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),me=function(i,n,t){var s=0,u=0,h=0,y=0,m=0,D=0,b=0,k=0,q=0,le=0,ie=0,Ae=0,Ne=0,Ke=0,ct=0,yt=0,$e=0,Te=new i.Uint8Array(t);function vt(dt,jt,vr,Cr,pr,hr,_r,Jt,Oe,ot,lt,Y,Re,wt,St,It){var ir,$t,nr,er,ze,He,Ze,je,We,Ee,ve,_e,Xt,Hr,sn,un,en,Kn,Wn,Qn,ci,Jr,An,yn,zr,Pn,Bn,Dn,Dt,Pt,tr,Dr,Rr,Zr,Ur,Sn,Mn,Hi,Gi,Zi,$i,ts,rs,ns,is,as,ss,os,Us,Fs,w0,E0,A0,b0,C0,S0,t1,r1,n1,i1,a1,ge=0,se=0,ye=0,be=0,Ge=0,Fe=0,Ye=0;Ye=(dt|=0)+((ge=s)<<5|ge>>>27)+(Ge=m)+((se=u)&(ye=h)|~se&(be=y))+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(jt|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(vr|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Cr|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(pr|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(hr|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(_r|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Jt|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Oe|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ot|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(lt|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Y|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Re|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(wt|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(St|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(It|=0)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ir=(Fe=wt^Oe^vr^dt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=($t=(Fe=St^ot^Cr^jt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(nr=(Fe=It^lt^pr^vr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(er=(Fe=ir^Y^hr^Cr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|~se&be)+1518500249|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ze=(Fe=$t^Re^_r^pr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(He=(Fe=nr^wt^Jt^hr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Ze=(Fe=er^St^Oe^_r)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(je=(Fe=ze^It^ot^Jt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(We=(Fe=He^ir^lt^Oe)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Ee=(Fe=Ze^$t^Y^ot)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ve=(Fe=je^nr^Re^lt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(_e=(Fe=We^er^wt^Y)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Xt=(Fe=Ee^ze^St^Re)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Hr=(Fe=ve^He^It^wt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(sn=(Fe=_e^Ze^ir^St)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(un=(Fe=Xt^je^$t^It)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(en=(Fe=Hr^We^nr^ir)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Kn=(Fe=sn^Ee^er^$t)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Wn=(Fe=un^ve^ze^nr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Qn=(Fe=en^_e^He^er)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ci=(Fe=Kn^Xt^Ze^ze)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Jr=(Fe=Wn^Hr^je^He)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(An=(Fe=Qn^sn^We^Ze)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(yn=(Fe=ci^un^Ee^je)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)+1859775393|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(zr=(Fe=Jr^en^ve^We)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Pn=(Fe=An^Kn^_e^Ee)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Bn=(Fe=yn^Wn^Xt^ve)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Dn=(Fe=zr^Qn^Hr^_e)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Dt=(Fe=Pn^ci^sn^Xt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Pt=(Fe=Bn^Jr^un^Hr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(tr=(Fe=Dn^An^en^sn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Dr=(Fe=Dt^yn^Kn^un)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Rr=(Fe=Pt^zr^Wn^en)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Zr=(Fe=tr^Pn^Qn^Kn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Ur=(Fe=Dr^Bn^ci^Wn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Sn=(Fe=Rr^Dn^Jr^Qn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Mn=(Fe=Zr^Dt^An^ci)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Hi=(Fe=Ur^Pt^yn^Jr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Gi=(Fe=Sn^tr^zr^An)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Zi=(Fe=Mn^Dr^Pn^yn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=($i=(Fe=Hi^Rr^Bn^zr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ts=(Fe=Gi^Zr^Dn^Pn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(rs=(Fe=Zi^Ur^Dt^Bn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ns=(Fe=$i^Sn^Pt^Dn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se&ye|se&be|ye&be)-1894007588|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(is=(Fe=ts^Mn^tr^Dt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(as=(Fe=rs^Hi^Dr^Pt)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(ss=(Fe=ns^Gi^Rr^tr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(os=(Fe=is^Zi^Zr^Dr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Us=(Fe=as^$i^Ur^Rr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(Fs=(Fe=ss^ts^Sn^Zr)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(w0=(Fe=os^rs^Mn^Ur)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(E0=(Fe=Us^ns^Hi^Sn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(A0=(Fe=Fs^is^Gi^Mn)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(b0=(Fe=w0^as^Zi^Hi)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(C0=(Fe=E0^ss^$i^Gi)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(S0=(Fe=A0^os^ts^Zi)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(t1=(Fe=b0^Us^rs^$i)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(r1=(Fe=C0^Fs^ns^ts)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(n1=(Fe=S0^w0^is^rs)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(i1=(Fe=t1^E0^as^ns)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=(a1=(Fe=r1^A0^ss^is)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=((Fe=n1^b0^os^as)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=((Fe=i1^C0^Us^ss)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,Ye=((Fe=a1^S0^Fs^os)<<1|Fe>>>31)+((ge=Ye)<<5|ge>>>27)+Ge+(se^ye^be)-899497514|0,Ge=be,be=ye,ye=se<<30|se>>>2,se=ge,s=s+(ge=Ye)|0,u=u+se|0,h=h+ye|0,y=y+be|0,m=m+Ge|0}function ut(dt){vt(Te[0|(dt|=0)]<<24|Te[1|dt]<<16|Te[2|dt]<<8|Te[3|dt],Te[4|dt]<<24|Te[5|dt]<<16|Te[6|dt]<<8|Te[7|dt],Te[8|dt]<<24|Te[9|dt]<<16|Te[10|dt]<<8|Te[11|dt],Te[12|dt]<<24|Te[13|dt]<<16|Te[14|dt]<<8|Te[15|dt],Te[16|dt]<<24|Te[17|dt]<<16|Te[18|dt]<<8|Te[19|dt],Te[20|dt]<<24|Te[21|dt]<<16|Te[22|dt]<<8|Te[23|dt],Te[24|dt]<<24|Te[25|dt]<<16|Te[26|dt]<<8|Te[27|dt],Te[28|dt]<<24|Te[29|dt]<<16|Te[30|dt]<<8|Te[31|dt],Te[32|dt]<<24|Te[33|dt]<<16|Te[34|dt]<<8|Te[35|dt],Te[36|dt]<<24|Te[37|dt]<<16|Te[38|dt]<<8|Te[39|dt],Te[40|dt]<<24|Te[41|dt]<<16|Te[42|dt]<<8|Te[43|dt],Te[44|dt]<<24|Te[45|dt]<<16|Te[46|dt]<<8|Te[47|dt],Te[48|dt]<<24|Te[49|dt]<<16|Te[50|dt]<<8|Te[51|dt],Te[52|dt]<<24|Te[53|dt]<<16|Te[54|dt]<<8|Te[55|dt],Te[56|dt]<<24|Te[57|dt]<<16|Te[58|dt]<<8|Te[59|dt],Te[60|dt]<<24|Te[61|dt]<<16|Te[62|dt]<<8|Te[63|dt])}function xt(dt){Te[0|(dt|=0)]=s>>>24,Te[1|dt]=s>>>16&255,Te[2|dt]=s>>>8&255,Te[3|dt]=255&s,Te[4|dt]=u>>>24,Te[5|dt]=u>>>16&255,Te[6|dt]=u>>>8&255,Te[7|dt]=255&u,Te[8|dt]=h>>>24,Te[9|dt]=h>>>16&255,Te[10|dt]=h>>>8&255,Te[11|dt]=255&h,Te[12|dt]=y>>>24,Te[13|dt]=y>>>16&255,Te[14|dt]=y>>>8&255,Te[15|dt]=255&y,Te[16|dt]=m>>>24,Te[17|dt]=m>>>16&255,Te[18|dt]=m>>>8&255,Te[19|dt]=255&m}function Ct(){s=1732584193,u=4023233417,h=2562383102,y=271733878,m=3285377520,D=b=0}function Ht(dt,jt){jt|=0;var vr=0;if(63&(dt|=0))return-1;for(;(0|jt)>=64;)ut(dt),dt=dt+64|0,jt=jt-64|0,vr=vr+64|0;return(D=D+vr|0)>>>0<vr>>>0&&(b=b+1|0),0|vr}function cr(dt,jt,vr){vr|=0;var Cr=0,pr=0;if(63&(dt|=0)||~vr&&31&vr)return-1;if((0|(jt|=0))>=64){if(-1==(0|(Cr=0|Ht(dt,jt))))return-1;dt=dt+Cr|0,jt=jt-Cr|0}if(Cr=Cr+jt|0,(D=D+jt|0)>>>0<jt>>>0&&(b=b+1|0),Te[dt|jt]=128,(0|jt)>=56){for(pr=jt+1|0;(0|pr)<64;pr=pr+1|0)Te[dt|pr]=0;ut(dt),jt=0,Te[0|dt]=0}for(pr=jt+1|0;(0|pr)<59;pr=pr+1|0)Te[dt|pr]=0;return Te[56|dt]=b>>>21&255,Te[57|dt]=b>>>13&255,Te[58|dt]=b>>>5&255,Te[59|dt]=b<<3&255|D>>>29,Te[60|dt]=D>>>21&255,Te[61|dt]=D>>>13&255,Te[62|dt]=D>>>5&255,Te[63|dt]=D<<3&255,ut(dt),~vr&&xt(vr),0|Cr}function ur(){s=k,u=q,h=le,y=ie,m=Ae,D=64,b=0}function Ar(){s=Ne,u=Ke,h=ct,y=yt,m=$e,D=64,b=0}function mt(dt,jt,vr){vr|=0;var Cr=0,pr=0,hr=0,_r=0,Jt=0,Oe=0;return 63&(dt|=0)||~vr&&31&vr?-1:(Oe=0|cr(dt,jt|=0,-1),Cr=s,pr=u,hr=h,_r=y,Jt=m,Ar(),vt(Cr,pr,hr,_r,Jt,2147483648,0,0,0,0,0,0,0,0,0,672),~vr&&xt(vr),0|Oe)}return{reset:Ct,init:function At(dt,jt,vr,Cr,pr,hr,_r){s=dt|=0,u=jt|=0,h=vr|=0,y=Cr|=0,m=pr|=0,D=hr|=0,b=_r|=0},process:Ht,finish:cr,hmac_reset:ur,hmac_init:function Zt(dt,jt,vr,Cr,pr,hr,_r,Jt,Oe,ot,lt,Y,Re,wt,St,It){dt|=0,jt|=0,vr|=0,Cr|=0,pr|=0,hr|=0,_r|=0,Jt|=0,Oe|=0,ot|=0,lt|=0,Y|=0,Re|=0,wt|=0,St|=0,It|=0,Ct(),vt(1549556828^dt,1549556828^jt,1549556828^vr,1549556828^Cr,1549556828^pr,1549556828^hr,1549556828^_r,1549556828^Jt,1549556828^Oe,1549556828^ot,1549556828^lt,1549556828^Y,1549556828^Re,1549556828^wt,1549556828^St,1549556828^It),Ne=s,Ke=u,ct=h,yt=y,$e=m,Ct(),vt(909522486^dt,909522486^jt,909522486^vr,909522486^Cr,909522486^pr,909522486^hr,909522486^_r,909522486^Jt,909522486^Oe,909522486^ot,909522486^lt,909522486^Y,909522486^Re,909522486^wt,909522486^St,909522486^It),k=s,q=u,le=h,ie=y,Ae=m,D=64,b=0},hmac_finish:mt,pbkdf2_generate_block:function Gr(dt,jt,vr,Cr,pr){Cr|=0,pr|=0;var hr=0,_r=0,Jt=0,Oe=0,ot=0,lt=0,Y=0,Re=0,wt=0,St=0;if(63&(dt|=0)||~pr&&31&pr)return-1;for(Te[dt+(jt|=0)|0]=(vr|=0)>>>24,Te[dt+jt+1|0]=vr>>>16&255,Te[dt+jt+2|0]=vr>>>8&255,Te[dt+jt+3|0]=255&vr,mt(dt,jt+4|0,-1),hr=lt=s,_r=Y=u,Jt=Re=h,Oe=wt=y,ot=St=m,Cr=Cr-1|0;(0|Cr)>0;)ur(),vt(lt,Y,Re,wt,St,2147483648,0,0,0,0,0,0,0,0,0,672),lt=s,Y=u,Re=h,wt=y,St=m,Ar(),vt(lt,Y,Re,wt,St,2147483648,0,0,0,0,0,0,0,0,0,672),lt=s,Y=u,Re=h,wt=y,St=m,hr^=s,_r^=u,Jt^=h,Oe^=y,ot^=m,Cr=Cr-1|0;return s=hr,u=_r,h=Jt,y=Oe,m=ot,~pr&&xt(pr),0}}};class Pe{constructor(){this.pos=0,this.len=0}reset(){const{asm:n}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,n.reset(),this}process(n){if(null!==this.result)throw new ni("state must be reset before processing new data");const{asm:t,heap:s}=this.acquire_asm();let u=this.pos,h=this.len,y=0,m=n.length,D=0;for(;m>0;)D=Zn(s,u+h,n,y,m),h+=D,y+=D,m-=D,D=t.process(u,h),u+=D,h-=D,h||(u=0);return this.pos=u,this.len=h,this}finish(){if(null!==this.result)throw new ni("state must be reset before processing new data");const{asm:n,heap:t}=this.acquire_asm();return n.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const Ce=[],Tt=[];class _t extends Pe{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Ce.pop()||qn(),this.asm=Tt.pop()||me({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ce.push(this.heap),Tt.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(n){return(new _t).process(n).finish().result}}_t.NAME="sha1",_t.heap_pool=[],_t.asm_pool=[],_t.asm_function=me;const Vt=[],Ut=[];let mr=(()=>{class i extends Pe{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Vt.pop()||qn(),this.asm=Ut.pop()||function(t,s,u){var h=0,y=0,m=0,D=0,b=0,k=0,q=0,le=0,ie=0,Ae=0,Ne=0,Ke=0,ct=0,yt=0,$e=0,Te=0,vt=0,ut=0,xt=0,Ct=0,At=0,Ht=0,cr=0,ur=0,Ar=0,Zt=0,mt=new t.Uint8Array(u);function Gr(Y,Re,wt,St,It,ge,se,ye,be,Ge,Fe,Ye,ir,$t,nr,er){var ze=0,He=0,Ze=0,je=0,We=0,Ee=0,ve=0,_e=0;je=(je=D)+(_e=(Y|=0)+(_e=le)+((We=b)>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+((ve=q)^We&((Ee=k)^ve))+1116352408|0)|0,_e=_e+((ze=h)&(He=y)^(Ze=m)&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Re|=0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+1899447441|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(wt|=0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+3049323471|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(St|=0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+3921009573|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(It|=0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+961987163|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=(ge|=0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+1508970993|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(se|=0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+2453635748|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(ye|=0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+2870763221|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(be|=0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+3624381080|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Ge|=0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+310598401|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(Fe|=0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+607225278|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(Ye|=0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+1426881987|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(ir|=0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+1925078388|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=($t|=0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+2162078206|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(nr|=0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+2614888103|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(er|=0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+3248222580|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+3835390401|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Fe|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+4022224774|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(wt=(St>>>7^St>>>18^St>>>3^St<<25^St<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+264347078|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(St=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+St+ir|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+604807628|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(It=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+It+$t|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+770255983|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=(ge=(se>>>7^se>>>18^se>>>3^se<<25^se<<14)+(St>>>17^St>>>19^St>>>10^St<<15^St<<13)+ge+nr|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+1249150122|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(se=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+se+er|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+1555081692|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+ye+Y|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+1996064986|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(se>>>17^se>>>19^se>>>10^se<<15^se<<13)+be+Re|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+2554220882|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Ge=(Fe>>>7^Fe>>>18^Fe>>>3^Fe<<25^Fe<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2821834349|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(Fe=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Fe+St|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+2952996808|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+It|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+3210313671|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Fe>>>17^Fe>>>19^Fe>>>10^Fe<<15^Fe<<13)+ir+ge|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+3336571891|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+se|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+3584528711|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+113926993|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+338241895|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+666307205|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Fe|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+773529912|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(wt=(St>>>7^St>>>18^St>>>3^St<<25^St<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+1294757372|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(St=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+St+ir|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+1396182291|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(It=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+It+$t|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+1695183700|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=(ge=(se>>>7^se>>>18^se>>>3^se<<25^se<<14)+(St>>>17^St>>>19^St>>>10^St<<15^St<<13)+ge+nr|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+1986661051|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(se=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+se+er|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+2177026350|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+ye+Y|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+2456956037|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(se>>>17^se>>>19^se>>>10^se<<15^se<<13)+be+Re|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+2730485921|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Ge=(Fe>>>7^Fe>>>18^Fe>>>3^Fe<<25^Fe<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2820302411|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(Fe=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Fe+St|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+3259730800|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+It|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+3345764771|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Fe>>>17^Fe>>>19^Fe>>>10^Fe<<15^Fe<<13)+ir+ge|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+3516065817|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+se|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+3600352804|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+4094571909|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+275423344|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(Y=(Re>>>7^Re>>>18^Re>>>3^Re<<25^Re<<14)+(nr>>>17^nr>>>19^nr>>>10^nr<<15^nr<<13)+Y+Ge|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+430227734|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Re=(wt>>>7^wt>>>18^wt>>>3^wt<<25^wt<<14)+(er>>>17^er>>>19^er>>>10^er<<15^er<<13)+Re+Fe|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+506948616|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(wt=(St>>>7^St>>>18^St>>>3^St<<25^St<<14)+(Y>>>17^Y>>>19^Y>>>10^Y<<15^Y<<13)+wt+Ye|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+659060556|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(St=(It>>>7^It>>>18^It>>>3^It<<25^It<<14)+(Re>>>17^Re>>>19^Re>>>10^Re<<15^Re<<13)+St+ir|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+883997877|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(It=(ge>>>7^ge>>>18^ge>>>3^ge<<25^ge<<14)+(wt>>>17^wt>>>19^wt>>>10^wt<<15^wt<<13)+It+$t|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+958139571|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=(ge=(se>>>7^se>>>18^se>>>3^se<<25^se<<14)+(St>>>17^St>>>19^St>>>10^St<<15^St<<13)+ge+nr|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+1322822218|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(se=(ye>>>7^ye>>>18^ye>>>3^ye<<25^ye<<14)+(It>>>17^It>>>19^It>>>10^It<<15^It<<13)+se+er|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+1537002063|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(ye=(be>>>7^be>>>18^be>>>3^be<<25^be<<14)+(ge>>>17^ge>>>19^ge>>>10^ge<<15^ge<<13)+ye+Y|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+1747873779|0)|0,ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0,je=je+(_e=(be=(Ge>>>7^Ge>>>18^Ge>>>3^Ge<<25^Ge<<14)+(se>>>17^se>>>19^se>>>10^se<<15^se<<13)+be+Re|0)+_e+(We>>>6^We>>>11^We>>>25^We<<26^We<<21^We<<7)+(ve^We&(Ee^ve))+1955562222|0)|0,_e=_e+(ze&He^Ze&(ze^He))+(ze>>>2^ze>>>13^ze>>>22^ze<<30^ze<<19^ze<<10)|0,Ze=Ze+(ve=(Ge=(Fe>>>7^Fe>>>18^Fe>>>3^Fe<<25^Fe<<14)+(ye>>>17^ye>>>19^ye>>>10^ye<<15^ye<<13)+Ge+wt|0)+ve+(je>>>6^je>>>11^je>>>25^je<<26^je<<21^je<<7)+(Ee^je&(We^Ee))+2024104815|0)|0,ve=ve+(_e&ze^He&(_e^ze))+(_e>>>2^_e>>>13^_e>>>22^_e<<30^_e<<19^_e<<10)|0,He=He+(Ee=(Fe=(Ye>>>7^Ye>>>18^Ye>>>3^Ye<<25^Ye<<14)+(be>>>17^be>>>19^be>>>10^be<<15^be<<13)+Fe+St|0)+Ee+(Ze>>>6^Ze>>>11^Ze>>>25^Ze<<26^Ze<<21^Ze<<7)+(We^Ze&(je^We))+2227730452|0)|0,Ee=Ee+(ve&_e^ze&(ve^_e))+(ve>>>2^ve>>>13^ve>>>22^ve<<30^ve<<19^ve<<10)|0,ze=ze+(We=(Ye=(ir>>>7^ir>>>18^ir>>>3^ir<<25^ir<<14)+(Ge>>>17^Ge>>>19^Ge>>>10^Ge<<15^Ge<<13)+Ye+It|0)+We+(He>>>6^He>>>11^He>>>25^He<<26^He<<21^He<<7)+(je^He&(Ze^je))+2361852424|0)|0,We=We+(Ee&ve^_e&(Ee^ve))+(Ee>>>2^Ee>>>13^Ee>>>22^Ee<<30^Ee<<19^Ee<<10)|0,_e=_e+(je=(ir=($t>>>7^$t>>>18^$t>>>3^$t<<25^$t<<14)+(Fe>>>17^Fe>>>19^Fe>>>10^Fe<<15^Fe<<13)+ir+ge|0)+je+(ze>>>6^ze>>>11^ze>>>25^ze<<26^ze<<21^ze<<7)+(Ze^ze&(He^Ze))+2428436474|0)|0,je=je+(We&Ee^ve&(We^Ee))+(We>>>2^We>>>13^We>>>22^We<<30^We<<19^We<<10)|0,ve=ve+(Ze=($t=(nr>>>7^nr>>>18^nr>>>3^nr<<25^nr<<14)+(Ye>>>17^Ye>>>19^Ye>>>10^Ye<<15^Ye<<13)+$t+se|0)+Ze+(_e>>>6^_e>>>11^_e>>>25^_e<<26^_e<<21^_e<<7)+(He^_e&(ze^He))+2756734187|0)|0,Ze=Ze+(je&We^Ee&(je^We))+(je>>>2^je>>>13^je>>>22^je<<30^je<<19^je<<10)|0,Ee=Ee+(He=(nr=(er>>>7^er>>>18^er>>>3^er<<25^er<<14)+(ir>>>17^ir>>>19^ir>>>10^ir<<15^ir<<13)+nr+ye|0)+He+(ve>>>6^ve>>>11^ve>>>25^ve<<26^ve<<21^ve<<7)+(ze^ve&(_e^ze))+3204031479|0)|0,He=He+(Ze&je^We&(Ze^je))+(Ze>>>2^Ze>>>13^Ze>>>22^Ze<<30^Ze<<19^Ze<<10)|0,We=We+(ze=(er=(Y>>>7^Y>>>18^Y>>>3^Y<<25^Y<<14)+($t>>>17^$t>>>19^$t>>>10^$t<<15^$t<<13)+er+be|0)+ze+(Ee>>>6^Ee>>>11^Ee>>>25^Ee<<26^Ee<<21^Ee<<7)+(_e^Ee&(ve^_e))+3329325298|0)|0,h=h+(ze=ze+(He&Ze^je&(He^Ze))+(He>>>2^He>>>13^He>>>22^He<<30^He<<19^He<<10)|0)|0,y=y+He|0,m=m+Ze|0,D=D+je|0,b=b+We|0,k=k+Ee|0,q=q+ve|0,le=le+_e|0}function dt(Y){Gr(mt[0|(Y|=0)]<<24|mt[1|Y]<<16|mt[2|Y]<<8|mt[3|Y],mt[4|Y]<<24|mt[5|Y]<<16|mt[6|Y]<<8|mt[7|Y],mt[8|Y]<<24|mt[9|Y]<<16|mt[10|Y]<<8|mt[11|Y],mt[12|Y]<<24|mt[13|Y]<<16|mt[14|Y]<<8|mt[15|Y],mt[16|Y]<<24|mt[17|Y]<<16|mt[18|Y]<<8|mt[19|Y],mt[20|Y]<<24|mt[21|Y]<<16|mt[22|Y]<<8|mt[23|Y],mt[24|Y]<<24|mt[25|Y]<<16|mt[26|Y]<<8|mt[27|Y],mt[28|Y]<<24|mt[29|Y]<<16|mt[30|Y]<<8|mt[31|Y],mt[32|Y]<<24|mt[33|Y]<<16|mt[34|Y]<<8|mt[35|Y],mt[36|Y]<<24|mt[37|Y]<<16|mt[38|Y]<<8|mt[39|Y],mt[40|Y]<<24|mt[41|Y]<<16|mt[42|Y]<<8|mt[43|Y],mt[44|Y]<<24|mt[45|Y]<<16|mt[46|Y]<<8|mt[47|Y],mt[48|Y]<<24|mt[49|Y]<<16|mt[50|Y]<<8|mt[51|Y],mt[52|Y]<<24|mt[53|Y]<<16|mt[54|Y]<<8|mt[55|Y],mt[56|Y]<<24|mt[57|Y]<<16|mt[58|Y]<<8|mt[59|Y],mt[60|Y]<<24|mt[61|Y]<<16|mt[62|Y]<<8|mt[63|Y])}function jt(Y){mt[0|(Y|=0)]=h>>>24,mt[1|Y]=h>>>16&255,mt[2|Y]=h>>>8&255,mt[3|Y]=255&h,mt[4|Y]=y>>>24,mt[5|Y]=y>>>16&255,mt[6|Y]=y>>>8&255,mt[7|Y]=255&y,mt[8|Y]=m>>>24,mt[9|Y]=m>>>16&255,mt[10|Y]=m>>>8&255,mt[11|Y]=255&m,mt[12|Y]=D>>>24,mt[13|Y]=D>>>16&255,mt[14|Y]=D>>>8&255,mt[15|Y]=255&D,mt[16|Y]=b>>>24,mt[17|Y]=b>>>16&255,mt[18|Y]=b>>>8&255,mt[19|Y]=255&b,mt[20|Y]=k>>>24,mt[21|Y]=k>>>16&255,mt[22|Y]=k>>>8&255,mt[23|Y]=255&k,mt[24|Y]=q>>>24,mt[25|Y]=q>>>16&255,mt[26|Y]=q>>>8&255,mt[27|Y]=255&q,mt[28|Y]=le>>>24,mt[29|Y]=le>>>16&255,mt[30|Y]=le>>>8&255,mt[31|Y]=255&le}function vr(){h=1779033703,y=3144134277,m=1013904242,D=2773480762,b=1359893119,k=2600822924,q=528734635,le=1541459225,ie=Ae=0}function pr(Y,Re){Re|=0;var wt=0;if(63&(Y|=0))return-1;for(;(0|Re)>=64;)dt(Y),Y=Y+64|0,Re=Re-64|0,wt=wt+64|0;return(ie=ie+wt|0)>>>0<wt>>>0&&(Ae=Ae+1|0),0|wt}function hr(Y,Re,wt){wt|=0;var St=0,It=0;if(63&(Y|=0)||~wt&&31&wt)return-1;if((0|(Re|=0))>=64){if(-1==(0|(St=0|pr(Y,Re))))return-1;Y=Y+St|0,Re=Re-St|0}if(St=St+Re|0,(ie=ie+Re|0)>>>0<Re>>>0&&(Ae=Ae+1|0),mt[Y|Re]=128,(0|Re)>=56){for(It=Re+1|0;(0|It)<64;It=It+1|0)mt[Y|It]=0;dt(Y),Re=0,mt[0|Y]=0}for(It=Re+1|0;(0|It)<59;It=It+1|0)mt[Y|It]=0;return mt[56|Y]=Ae>>>21&255,mt[57|Y]=Ae>>>13&255,mt[58|Y]=Ae>>>5&255,mt[59|Y]=Ae<<3&255|ie>>>29,mt[60|Y]=ie>>>21&255,mt[61|Y]=ie>>>13&255,mt[62|Y]=ie>>>5&255,mt[63|Y]=ie<<3&255,dt(Y),~wt&&jt(wt),0|St}function _r(){h=Ne,y=Ke,m=ct,D=yt,b=$e,k=Te,q=vt,le=ut,ie=64,Ae=0}function Jt(){h=xt,y=Ct,m=At,D=Ht,b=cr,k=ur,q=Ar,le=Zt,ie=64,Ae=0}function ot(Y,Re,wt){wt|=0;var St=0,It=0,ge=0,se=0,ye=0,be=0,Ge=0,Fe=0,Ye=0;return 63&(Y|=0)||~wt&&31&wt?-1:(Ye=0|hr(Y,Re|=0,-1),St=h,It=y,ge=m,se=D,ye=b,be=k,Ge=q,Fe=le,Jt(),Gr(St,It,ge,se,ye,be,Ge,Fe,2147483648,0,0,0,0,0,0,768),~wt&&jt(wt),0|Ye)}return{reset:vr,init:function Cr(Y,Re,wt,St,It,ge,se,ye,be,Ge){h=Y|=0,y=Re|=0,m=wt|=0,D=St|=0,b=It|=0,k=ge|=0,q=se|=0,le=ye|=0,ie=be|=0,Ae=Ge|=0},process:pr,finish:hr,hmac_reset:_r,hmac_init:function Oe(Y,Re,wt,St,It,ge,se,ye,be,Ge,Fe,Ye,ir,$t,nr,er){Y|=0,Re|=0,wt|=0,St|=0,It|=0,ge|=0,se|=0,ye|=0,be|=0,Ge|=0,Fe|=0,Ye|=0,ir|=0,$t|=0,nr|=0,er|=0,vr(),Gr(1549556828^Y,1549556828^Re,1549556828^wt,1549556828^St,1549556828^It,1549556828^ge,1549556828^se,1549556828^ye,1549556828^be,1549556828^Ge,1549556828^Fe,1549556828^Ye,1549556828^ir,1549556828^$t,1549556828^nr,1549556828^er),xt=h,Ct=y,At=m,Ht=D,cr=b,ur=k,Ar=q,Zt=le,vr(),Gr(909522486^Y,909522486^Re,909522486^wt,909522486^St,909522486^It,909522486^ge,909522486^se,909522486^ye,909522486^be,909522486^Ge,909522486^Fe,909522486^Ye,909522486^ir,909522486^$t,909522486^nr,909522486^er),Ne=h,Ke=y,ct=m,yt=D,$e=b,Te=k,vt=q,ut=le,ie=64,Ae=0},hmac_finish:ot,pbkdf2_generate_block:function lt(Y,Re,wt,St,It){St|=0,It|=0;var ge=0,se=0,ye=0,be=0,Ge=0,Fe=0,Ye=0,ir=0,$t=0,nr=0,er=0,ze=0,He=0,Ze=0,je=0,We=0;if(63&(Y|=0)||~It&&31&It)return-1;for(mt[Y+(Re|=0)|0]=(wt|=0)>>>24,mt[Y+Re+1|0]=wt>>>16&255,mt[Y+Re+2|0]=wt>>>8&255,mt[Y+Re+3|0]=255&wt,ot(Y,Re+4|0,-1),ge=$t=h,se=nr=y,ye=er=m,be=ze=D,Ge=He=b,Fe=Ze=k,Ye=je=q,ir=We=le,St=St-1|0;(0|St)>0;)_r(),Gr($t,nr,er,ze,He,Ze,je,We,2147483648,0,0,0,0,0,0,768),$t=h,nr=y,er=m,ze=D,He=b,Ze=k,je=q,We=le,Jt(),Gr($t,nr,er,ze,He,Ze,je,We,2147483648,0,0,0,0,0,0,768),$t=h,nr=y,er=m,ze=D,He=b,Ze=k,je=q,We=le,ge^=h,se^=y,ye^=m,be^=D,Ge^=b,Fe^=k,Ye^=q,ir^=le,St=St-1|0;return h=ge,y=se,m=ye,D=be,b=Ge,k=Fe,q=Ye,le=ir,~It&&jt(It),0}}}({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Vt.push(this.heap),Ut.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(t){return(new i).process(t).finish().result}}return i.NAME="sha256",i})();var Er=lr;function lr(i,n){if(!i)throw Error(n||"Assertion failed")}lr.equal=function(i,n,t){if(i!=n)throw Error(t||"Assertion failed: "+i+" != "+n)};var Vn=void 0!==c?c:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(i,n){return i(n={exports:{}},n.exports),n.exports}var On=Xr(function(i){i.exports="function"==typeof Object.create?function(n,t){n.super_=t,n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var s=function(){};s.prototype=t.prototype,n.prototype=new s,n.prototype.constructor=n}});function jr(i){return(i>>>24|i>>>8&65280|i<<8&16711680|(255&i)<<24)>>>0}function fe(i){return 1===i.length?"0"+i:i}function we(i){return 7===i.length?"0"+i:6===i.length?"00"+i:5===i.length?"000"+i:4===i.length?"0000"+i:3===i.length?"00000"+i:2===i.length?"000000"+i:1===i.length?"0000000"+i:i}var Se={inherits:On,toArray:function(i,n){if(Array.isArray(i))return i.slice();if(!i)return[];var t=[];if("string"==typeof i)if(n){if("hex"===n)for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),s=0;s<i.length;s+=2)t.push(parseInt(i[s]+i[s+1],16))}else for(var s=0;s<i.length;s++){var u=i.charCodeAt(s),h=u>>8,y=255&u;h?t.push(h,y):t.push(y)}else for(s=0;s<i.length;s++)t[s]=0|i[s];return t},toHex:function(i){for(var n="",t=0;t<i.length;t++)n+=fe(i[t].toString(16));return n},htonl:jr,toHex32:function(i,n){for(var t="",s=0;s<i.length;s++){var u=i[s];"little"===n&&(u=jr(u)),t+=we(u.toString(16))}return t},zero2:fe,zero8:we,join32:function(i,n,t,s){var u=t-n;Er(u%4==0);for(var h=Array(u/4),y=0,m=n;y<h.length;y++,m+=4)h[y]=("big"===s?i[m]<<24|i[m+1]<<16|i[m+2]<<8|i[m+3]:i[m+3]<<24|i[m+2]<<16|i[m+1]<<8|i[m])>>>0;return h},split32:function(i,n){for(var t=Array(4*i.length),s=0,u=0;s<i.length;s++,u+=4){var h=i[s];"big"===n?(t[u]=h>>>24,t[u+1]=h>>>16&255,t[u+2]=h>>>8&255,t[u+3]=255&h):(t[u+3]=h>>>24,t[u+2]=h>>>16&255,t[u+1]=h>>>8&255,t[u]=255&h)}return t},rotr32:function(i,n){return i>>>n|i<<32-n},rotl32:function(i,n){return i<<n|i>>>32-n},sum32:function(i,n){return i+n>>>0},sum32_3:function(i,n,t){return i+n+t>>>0},sum32_4:function(i,n,t,s){return i+n+t+s>>>0},sum32_5:function(i,n,t,s,u){return i+n+t+s+u>>>0},sum64:function(i,n,t,s){var h=s+i[n+1]>>>0;i[n]=(h<s?1:0)+t+i[n]>>>0,i[n+1]=h},sum64_hi:function(i,n,t,s){return(n+s>>>0<n?1:0)+i+t>>>0},sum64_lo:function(i,n,t,s){return n+s>>>0},sum64_4_hi:function(i,n,t,s,u,h,y,m){var D=0,b=n;return D+=(b=b+s>>>0)<n?1:0,D+=(b=b+h>>>0)<h?1:0,i+t+u+y+(D+=(b=b+m>>>0)<m?1:0)>>>0},sum64_4_lo:function(i,n,t,s,u,h,y,m){return n+s+h+m>>>0},sum64_5_hi:function(i,n,t,s,u,h,y,m,D,b){var k=0,q=n;return k+=(q=q+s>>>0)<n?1:0,k+=(q=q+h>>>0)<h?1:0,k+=(q=q+m>>>0)<m?1:0,i+t+u+y+D+(k+=(q=q+b>>>0)<b?1:0)>>>0},sum64_5_lo:function(i,n,t,s,u,h,y,m,D,b){return n+s+h+m+b>>>0},rotr64_hi:function(i,n,t){return(n<<32-t|i>>>t)>>>0},rotr64_lo:function(i,n,t){return(i<<32-t|n>>>t)>>>0},shr64_hi:function(i,n,t){return i>>>t},shr64_lo:function(i,n,t){return(i<<32-t|n>>>t)>>>0}};function at(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Ft=at;at.prototype.update=function(i,n){if(i=Se.toArray(i,n),this.pending=this.pending?this.pending.concat(i):i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var t=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-t,i.length),0===this.pending.length&&(this.pending=null),i=Se.join32(i,0,i.length-t,this.endian);for(var s=0;s<i.length;s+=this._delta32)this._update(i,s,s+this._delta32)}return this},at.prototype.digest=function(i){return this.update(this._pad()),Er(null===this.pending),this._digest(i)},at.prototype._pad=function(){var i=this.pendingTotal,n=this._delta8,t=n-(i+this.padLength)%n,s=Array(t+this.padLength);s[0]=128;for(var u=1;u<t;u++)s[u]=0;if(i<<=3,"big"===this.endian){for(var h=8;h<this.padLength;h++)s[u++]=0;s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=i>>>24&255,s[u++]=i>>>16&255,s[u++]=i>>>8&255,s[u++]=255&i}else for(s[u++]=255&i,s[u++]=i>>>8&255,s[u++]=i>>>16&255,s[u++]=i>>>24&255,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,h=8;h<this.padLength;h++)s[u++]=0;return s};var Lt={BlockHash:Ft},Kt=Se.rotr32;function Gt(i,n,t){return i&n^~i&t}function st(i,n,t){return i&n^i&t^n&t}function ke(i,n,t){return i^n^t}var fr={ft_1:function(i,n,t,s){return 0===i?Gt(n,t,s):1===i||3===i?ke(n,t,s):2===i?st(n,t,s):void 0},ch32:Gt,maj32:st,p32:ke,s0_256:function(i){return Kt(i,2)^Kt(i,13)^Kt(i,22)},s1_256:function(i){return Kt(i,6)^Kt(i,11)^Kt(i,25)},g0_256:function(i){return Kt(i,7)^Kt(i,18)^i>>>3},g1_256:function(i){return Kt(i,17)^Kt(i,19)^i>>>10}},Mr=Se.sum32,zn=Se.sum32_4,sa=Se.sum32_5,ui=fr.ch32,Nn=fr.maj32,Ir=fr.s0_256,Ci=fr.s1_256,oa=fr.g0_256,I0=fr.g1_256,Ma=Lt.BlockHash,Oa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wi(){if(!(this instanceof wi))return new wi;Ma.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Oa,this.W=Array(64)}Se.inherits(wi,Ma);var cs=wi;function Di(){if(!(this instanceof Di))return new Di;cs.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}wi.blockSize=512,wi.outSize=256,wi.hmacStrength=192,wi.padLength=64,wi.prototype._update=function(i,n){for(var t=this.W,s=0;s<16;s++)t[s]=i[n+s];for(;s<t.length;s++)t[s]=zn(I0(t[s-2]),t[s-7],oa(t[s-15]),t[s-16]);var u=this.h[0],h=this.h[1],y=this.h[2],m=this.h[3],D=this.h[4],b=this.h[5],k=this.h[6],q=this.h[7];for(Er(this.k.length===t.length),s=0;s<t.length;s++){var le=sa(q,Ci(D),ui(D,b,k),this.k[s],t[s]),ie=Mr(Ir(u),Nn(u,h,y));q=k,k=b,b=D,D=Mr(m,le),m=y,y=h,h=u,u=Mr(le,ie)}this.h[0]=Mr(this.h[0],u),this.h[1]=Mr(this.h[1],h),this.h[2]=Mr(this.h[2],y),this.h[3]=Mr(this.h[3],m),this.h[4]=Mr(this.h[4],D),this.h[5]=Mr(this.h[5],b),this.h[6]=Mr(this.h[6],k),this.h[7]=Mr(this.h[7],q)},wi.prototype._digest=function(i){return"hex"===i?Se.toHex32(this.h,"big"):Se.split32(this.h,"big")},Se.inherits(Di,cs);var ca=Di;Di.blockSize=512,Di.outSize=224,Di.hmacStrength=192,Di.padLength=64,Di.prototype._digest=function(i){return"hex"===i?Se.toHex32(this.h.slice(0,7),"big"):Se.split32(this.h.slice(0,7),"big")};var ei=Se.rotr64_hi,Tr=Se.rotr64_lo,Ks=Se.shr64_hi,Vr=Se.shr64_lo,Rn=Se.sum64,ls=Se.sum64_hi,ba=Se.sum64_lo,Vs=Se.sum64_4_hi,ea=Se.sum64_4_lo,T0=Se.sum64_5_hi,Ca=Se.sum64_5_lo,us=Lt.BlockHash,Sa=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ei(){if(!(this instanceof Ei))return new Ei;us.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Sa,this.W=Array(160)}Se.inherits(Ei,us);var Ri=Ei;function _0(i,n,t,s,u){var h=i&t^~i&u;return h<0&&(h+=4294967296),h}function pi(i,n,t,s,u,h){var y=n&s^~n&h;return y<0&&(y+=4294967296),y}function zs(i,n,t,s,u){var h=i&t^i&u^t&u;return h<0&&(h+=4294967296),h}function Hs(i,n,t,s,u,h){var y=n&s^n&h^s&h;return y<0&&(y+=4294967296),y}function B0(i,n){var t=ei(i,n,28)^ei(n,i,2)^ei(n,i,7);return t<0&&(t+=4294967296),t}function k0(i,n){var t=Tr(i,n,28)^Tr(n,i,2)^Tr(n,i,7);return t<0&&(t+=4294967296),t}function N0(i,n){var t=ei(i,n,14)^ei(i,n,18)^ei(n,i,9);return t<0&&(t+=4294967296),t}function D0(i,n){var t=Tr(i,n,14)^Tr(i,n,18)^Tr(n,i,9);return t<0&&(t+=4294967296),t}function wn(i,n){var t=ei(i,n,1)^ei(i,n,8)^Ks(i,n,7);return t<0&&(t+=4294967296),t}function Gs(i,n){var t=Tr(i,n,1)^Tr(i,n,8)^Vr(i,n,7);return t<0&&(t+=4294967296),t}function La(i,n){var t=ei(i,n,19)^ei(n,i,29)^Ks(i,n,6);return t<0&&(t+=4294967296),t}function ji(i,n){var t=Tr(i,n,19)^Tr(n,i,29)^Vr(i,n,6);return t<0&&(t+=4294967296),t}function Pi(){if(!(this instanceof Pi))return new Pi;Ri.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ei.blockSize=1024,Ei.outSize=512,Ei.hmacStrength=192,Ei.padLength=128,Ei.prototype._prepareBlock=function(i,n){for(var t=this.W,s=0;s<32;s++)t[s]=i[n+s];for(;s<t.length;s+=2){var u=La(t[s-4],t[s-3]),h=ji(t[s-4],t[s-3]),y=t[s-14],m=t[s-13],D=wn(t[s-30],t[s-29]),b=Gs(t[s-30],t[s-29]),k=t[s-32],q=t[s-31];t[s]=Vs(u,h,y,m,D,b,k,q),t[s+1]=ea(u,h,y,m,D,b,k,q)}},Ei.prototype._update=function(i,n){this._prepareBlock(i,n);var t=this.W,s=this.h[0],u=this.h[1],h=this.h[2],y=this.h[3],m=this.h[4],D=this.h[5],b=this.h[6],k=this.h[7],q=this.h[8],le=this.h[9],ie=this.h[10],Ae=this.h[11],Ne=this.h[12],Ke=this.h[13],ct=this.h[14],yt=this.h[15];Er(this.k.length===t.length);for(var $e=0;$e<t.length;$e+=2){var Te=ct,vt=yt,ut=N0(q,le),xt=D0(q,le),Ct=_0(q,0,ie,0,Ne),At=pi(0,le,0,Ae,0,Ke),Ht=this.k[$e],cr=this.k[$e+1],ur=t[$e],Ar=t[$e+1],Zt=T0(Te,vt,ut,xt,Ct,At,Ht,cr,ur,Ar),mt=Ca(Te,vt,ut,xt,Ct,At,Ht,cr,ur,Ar);Te=B0(s,u),vt=k0(s,u),ut=zs(s,0,h,0,m),xt=Hs(0,u,0,y,0,D);var Gr=ls(Te,vt,ut,xt),dt=ba(Te,vt,ut,xt);ct=Ne,yt=Ke,Ne=ie,Ke=Ae,ie=q,Ae=le,q=ls(b,k,Zt,mt),le=ba(k,k,Zt,mt),b=m,k=D,m=h,D=y,h=s,y=u,s=ls(Zt,mt,Gr,dt),u=ba(Zt,mt,Gr,dt)}Rn(this.h,0,s,u),Rn(this.h,2,h,y),Rn(this.h,4,m,D),Rn(this.h,6,b,k),Rn(this.h,8,q,le),Rn(this.h,10,ie,Ae),Rn(this.h,12,Ne,Ke),Rn(this.h,14,ct,yt)},Ei.prototype._digest=function(i){return"hex"===i?Se.toHex32(this.h,"big"):Se.split32(this.h,"big")},Se.inherits(Pi,Ri);var bt=Pi;Pi.blockSize=1024,Pi.outSize=384,Pi.hmacStrength=192,Pi.padLength=128,Pi.prototype._digest=function(i){return"hex"===i?Se.toHex32(this.h.slice(0,12),"big"):Se.split32(this.h.slice(0,12),"big")};var Lr=Se.rotl32,$n=Se.sum32,ta=Se.sum32_3,fs=Se.sum32_4,Zs=Lt.BlockHash;function Ii(){if(!(this instanceof Ii))return new Ii;Zs.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Se.inherits(Ii,Zs);var js=Ii;function Ia(i,n,t,s){return i<=15?n^t^s:i<=31?n&t|~n&s:i<=47?(n|~t)^s:i<=63?n&s|t&~s:n^(t|~s)}function Yn(i){return i<=15?0:i<=31?1518500249:i<=47?1859775393:i<=63?2400959708:2840853838}function hs(i){return i<=15?1352829926:i<=31?1548603684:i<=47?1836072691:i<=63?2053994217:0}Ii.blockSize=512,Ii.outSize=160,Ii.hmacStrength=192,Ii.padLength=64,Ii.prototype._update=function(i,n){for(var t=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],y=this.h[4],m=t,D=s,b=u,k=h,q=y,le=0;le<80;le++){var ie=$n(Lr(fs(t,Ia(le,s,u,h),i[la[le]+n],Yn(le)),Fa[le]),y);t=y,y=h,h=Lr(u,10),u=s,s=ie,ie=$n(Lr(fs(m,Ia(79-le,D,b,k),i[Ua[le]+n],hs(le)),_n[le]),q),m=q,q=k,k=Lr(b,10),b=D,D=ie}ie=ta(this.h[1],u,k),this.h[1]=ta(this.h[2],h,q),this.h[2]=ta(this.h[3],y,m),this.h[3]=ta(this.h[4],t,D),this.h[4]=ta(this.h[0],s,b),this.h[0]=ie},Ii.prototype._digest=function(i){return"hex"===i?Se.toHex32(this.h,"little"):Se.split32(this.h,"little")};var la=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ua=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Fa=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],kr={ripemd160:js};function ds(i,n){let t=i[0],s=i[1],u=i[2],h=i[3];t=ii(t,s,u,h,n[0],7,-680876936),h=ii(h,t,s,u,n[1],12,-389564586),u=ii(u,h,t,s,n[2],17,606105819),s=ii(s,u,h,t,n[3],22,-1044525330),t=ii(t,s,u,h,n[4],7,-176418897),h=ii(h,t,s,u,n[5],12,1200080426),u=ii(u,h,t,s,n[6],17,-1473231341),s=ii(s,u,h,t,n[7],22,-45705983),t=ii(t,s,u,h,n[8],7,1770035416),h=ii(h,t,s,u,n[9],12,-1958414417),u=ii(u,h,t,s,n[10],17,-42063),s=ii(s,u,h,t,n[11],22,-1990404162),t=ii(t,s,u,h,n[12],7,1804603682),h=ii(h,t,s,u,n[13],12,-40341101),u=ii(u,h,t,s,n[14],17,-1502002290),s=ii(s,u,h,t,n[15],22,1236535329),t=ti(t,s,u,h,n[1],5,-165796510),h=ti(h,t,s,u,n[6],9,-1069501632),u=ti(u,h,t,s,n[11],14,643717713),s=ti(s,u,h,t,n[0],20,-373897302),t=ti(t,s,u,h,n[5],5,-701558691),h=ti(h,t,s,u,n[10],9,38016083),u=ti(u,h,t,s,n[15],14,-660478335),s=ti(s,u,h,t,n[4],20,-405537848),t=ti(t,s,u,h,n[9],5,568446438),h=ti(h,t,s,u,n[14],9,-1019803690),u=ti(u,h,t,s,n[3],14,-187363961),s=ti(s,u,h,t,n[8],20,1163531501),t=ti(t,s,u,h,n[13],5,-1444681467),h=ti(h,t,s,u,n[2],9,-51403784),u=ti(u,h,t,s,n[7],14,1735328473),s=ti(s,u,h,t,n[12],20,-1926607734),t=ai(t,s,u,h,n[5],4,-378558),h=ai(h,t,s,u,n[8],11,-2022574463),u=ai(u,h,t,s,n[11],16,1839030562),s=ai(s,u,h,t,n[14],23,-35309556),t=ai(t,s,u,h,n[1],4,-1530992060),h=ai(h,t,s,u,n[4],11,1272893353),u=ai(u,h,t,s,n[7],16,-155497632),s=ai(s,u,h,t,n[10],23,-1094730640),t=ai(t,s,u,h,n[13],4,681279174),h=ai(h,t,s,u,n[0],11,-358537222),u=ai(u,h,t,s,n[3],16,-722521979),s=ai(s,u,h,t,n[6],23,76029189),t=ai(t,s,u,h,n[9],4,-640364487),h=ai(h,t,s,u,n[12],11,-421815835),u=ai(u,h,t,s,n[15],16,530742520),s=ai(s,u,h,t,n[2],23,-995338651),t=si(t,s,u,h,n[0],6,-198630844),h=si(h,t,s,u,n[7],10,1126891415),u=si(u,h,t,s,n[14],15,-1416354905),s=si(s,u,h,t,n[5],21,-57434055),t=si(t,s,u,h,n[12],6,1700485571),h=si(h,t,s,u,n[3],10,-1894986606),u=si(u,h,t,s,n[10],15,-1051523),s=si(s,u,h,t,n[1],21,-2054922799),t=si(t,s,u,h,n[8],6,1873313359),h=si(h,t,s,u,n[15],10,-30611744),u=si(u,h,t,s,n[6],15,-1560198380),s=si(s,u,h,t,n[13],21,1309151649),t=si(t,s,u,h,n[4],6,-145523070),h=si(h,t,s,u,n[11],10,-1120210379),u=si(u,h,t,s,n[2],15,718787259),s=si(s,u,h,t,n[9],21,-343485551),i[0]=Mi(t,i[0]),i[1]=Mi(s,i[1]),i[2]=Mi(u,i[2]),i[3]=Mi(h,i[3])}function Cn(i,n,t,s,u,h){return n=Mi(Mi(n,i),Mi(s,h)),Mi(n<<u|n>>>32-u,t)}function ii(i,n,t,s,u,h,y){return Cn(n&t|~n&s,i,n,u,h,y)}function ti(i,n,t,s,u,h,y){return Cn(n&s|t&~s,i,n,u,h,y)}function ai(i,n,t,s,u,h,y){return Cn(n^t^s,i,n,u,h,y)}function si(i,n,t,s,u,h,y){return Cn(t^(n|~s),i,n,u,h,y)}function gs(i){const n=[];let t;for(t=0;t<64;t+=4)n[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return n}const ps="0123456789abcdef".split("");function ys(i){let n="",t=0;for(;t<4;t++)n+=ps[i>>8*t+4&15]+ps[i>>8*t&15];return n}function Mi(i,n){return i+n&4294967295}const Ta=ee.getWebCrypto(),Ka=ee.getNodeCrypto(),ua=Ka&&Ka.getHashes();function Oi(i){if(Ka&&ua.includes(i))return function(){var n=(0,f.Z)(function*(t){const s=Ka.createHash(i);return Je(t,u=>{s.update(u)},()=>new Uint8Array(s.digest()))});return function(t){return n.apply(this,arguments)}}()}function Va(i,n){return function(){var t=(0,f.Z)(function*(s,u=Mt){if(A(s)&&(s=yield et(s)),!ee.isStream(s)&&Ta&&n&&s.length>=u.minBytesForWebCrypto)return new Uint8Array(yield Ta.digest(n,s));const h=i();return Je(s,y=>{h.update(y)},()=>new Uint8Array(h.digest()))});return function(s){return t.apply(this,arguments)}}()}function fa(i,n){return function(){var t=(0,f.Z)(function*(s,u=Mt){if(A(s)&&(s=yield et(s)),ee.isStream(s)){const h=new i;return Je(s,y=>{h.process(y)},()=>h.finish().result)}return Ta&&n&&s.length>=u.minBytesForWebCrypto?new Uint8Array(yield Ta.digest(n,s)):i.bytes(s)});return function(s){return t.apply(this,arguments)}}()}const ra={md5:Oi("md5")||function(){var i=(0,f.Z)(function*(n){const t=function(s){const u=s.length,h=[1732584193,-271733879,-1732584194,271733878];let y;for(y=64;y<=s.length;y+=64)ds(h,gs(s.substring(y-64,y)));s=s.substring(y-64);const m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<s.length;y++)m[y>>2]|=s.charCodeAt(y)<<(y%4<<3);if(m[y>>2]|=128<<(y%4<<3),y>55)for(ds(h,m),y=0;y<16;y++)m[y]=0;return m[14]=8*u,ds(h,m),h}(ee.uint8ArrayToString(n));return ee.hexToUint8Array(function(s){for(let u=0;u<s.length;u++)s[u]=ys(s[u]);return s.join("")}(t))});return function(n){return i.apply(this,arguments)}}(),sha1:Oi("sha1")||fa(_t,"SHA-1"),sha224:Oi("sha224")||Va(ca),sha256:Oi("sha256")||fa(mr,"SHA-256"),sha384:Oi("sha384")||Va(bt,"SHA-384"),sha512:Oi("sha512")||Va(Ri,"SHA-512"),ripemd:Oi("ripemd160")||Va(js)};var mi={md5:ra.md5,sha1:ra.sha1,sha224:ra.sha224,sha256:ra.sha256,sha384:ra.sha384,sha512:ra.sha512,ripemd:ra.ripemd,digest:function(i,n){switch(i){case te.hash.md5:return this.md5(n);case te.hash.sha1:return this.sha1(n);case te.hash.ripemd:return this.ripemd(n);case te.hash.sha256:return this.sha256(n);case te.hash.sha384:return this.sha384(n);case te.hash.sha512:return this.sha512(n);case te.hash.sha224:return this.sha224(n);default:throw Error("Invalid hash function.")}},getHashByteLength:function(i){switch(i){case te.hash.md5:return 16;case te.hash.sha1:case te.hash.ripemd:return 20;case te.hash.sha256:return 32;case te.hash.sha384:return 48;case te.hash.sha512:return 64;case te.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class Li{static encrypt(n,t,s){return new Li(t,s).encrypt(n)}static decrypt(n,t,s){return new Li(t,s).decrypt(n)}constructor(n,t,s){this.aes=s||new xn(n,t,!0,"CFB"),delete this.aes.padding}encrypt(n){return dn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return dn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}var jn=Xr(function(i){!function(n){var t=function(Oe){var ot,lt=new Float64Array(16);if(Oe)for(ot=0;ot<Oe.length;ot++)lt[ot]=Oe[ot];return lt},s=function(){throw Error("no PRNG")},u=new Uint8Array(32);u[0]=9;var h=t(),y=t([1]),m=t([56129,1]),D=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),q=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),le=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ie(Oe,ot,lt,Y){return function(Re,wt,St,It,ge){var se,ye=0;for(se=0;se<32;se++)ye|=Re[wt+se]^St[It+se];return(1&ye-1>>>8)-1}(Oe,ot,lt,Y)}function Ae(Oe,ot){var lt;for(lt=0;lt<16;lt++)Oe[lt]=0|ot[lt]}function Ne(Oe){var ot,lt,Y=1;for(ot=0;ot<16;ot++)lt=Oe[ot]+Y+65535,Y=Math.floor(lt/65536),Oe[ot]=lt-65536*Y;Oe[0]+=Y-1+37*(Y-1)}function Ke(Oe,ot,lt){for(var Y,Re=~(lt-1),wt=0;wt<16;wt++)Oe[wt]^=Y=Re&(Oe[wt]^ot[wt]),ot[wt]^=Y}function ct(Oe,ot){var lt,Y,Re,wt=t(),St=t();for(lt=0;lt<16;lt++)St[lt]=ot[lt];for(Ne(St),Ne(St),Ne(St),Y=0;Y<2;Y++){for(wt[0]=St[0]-65517,lt=1;lt<15;lt++)wt[lt]=St[lt]-65535-(wt[lt-1]>>16&1),wt[lt-1]&=65535;wt[15]=St[15]-32767-(wt[14]>>16&1),Re=wt[15]>>16&1,wt[14]&=65535,Ke(St,wt,1-Re)}for(lt=0;lt<16;lt++)Oe[2*lt]=255&St[lt],Oe[2*lt+1]=St[lt]>>8}function yt(Oe,ot){var lt=new Uint8Array(32),Y=new Uint8Array(32);return ct(lt,Oe),ct(Y,ot),ie(lt,0,Y,0)}function $e(Oe){var ot=new Uint8Array(32);return ct(ot,Oe),1&ot[0]}function Te(Oe,ot){var lt;for(lt=0;lt<16;lt++)Oe[lt]=ot[2*lt]+(ot[2*lt+1]<<8);Oe[15]&=32767}function vt(Oe,ot,lt){for(var Y=0;Y<16;Y++)Oe[Y]=ot[Y]+lt[Y]}function ut(Oe,ot,lt){for(var Y=0;Y<16;Y++)Oe[Y]=ot[Y]-lt[Y]}function xt(Oe,ot,lt){var Y,Re,wt=0,St=0,It=0,ge=0,se=0,ye=0,be=0,Ge=0,Fe=0,Ye=0,ir=0,$t=0,nr=0,er=0,ze=0,He=0,Ze=0,je=0,We=0,Ee=0,ve=0,_e=0,Xt=0,Hr=0,sn=0,un=0,en=0,Kn=0,Wn=0,Qn=0,ci=0,Jr=lt[0],An=lt[1],yn=lt[2],zr=lt[3],Pn=lt[4],Bn=lt[5],Dn=lt[6],Dt=lt[7],Pt=lt[8],tr=lt[9],Dr=lt[10],Rr=lt[11],Zr=lt[12],Ur=lt[13],Sn=lt[14],Mn=lt[15];wt+=(Y=ot[0])*Jr,St+=Y*An,It+=Y*yn,ge+=Y*zr,se+=Y*Pn,ye+=Y*Bn,be+=Y*Dn,Ge+=Y*Dt,Fe+=Y*Pt,Ye+=Y*tr,ir+=Y*Dr,$t+=Y*Rr,nr+=Y*Zr,er+=Y*Ur,ze+=Y*Sn,He+=Y*Mn,St+=(Y=ot[1])*Jr,It+=Y*An,ge+=Y*yn,se+=Y*zr,ye+=Y*Pn,be+=Y*Bn,Ge+=Y*Dn,Fe+=Y*Dt,Ye+=Y*Pt,ir+=Y*tr,$t+=Y*Dr,nr+=Y*Rr,er+=Y*Zr,ze+=Y*Ur,He+=Y*Sn,Ze+=Y*Mn,It+=(Y=ot[2])*Jr,ge+=Y*An,se+=Y*yn,ye+=Y*zr,be+=Y*Pn,Ge+=Y*Bn,Fe+=Y*Dn,Ye+=Y*Dt,ir+=Y*Pt,$t+=Y*tr,nr+=Y*Dr,er+=Y*Rr,ze+=Y*Zr,He+=Y*Ur,Ze+=Y*Sn,je+=Y*Mn,ge+=(Y=ot[3])*Jr,se+=Y*An,ye+=Y*yn,be+=Y*zr,Ge+=Y*Pn,Fe+=Y*Bn,Ye+=Y*Dn,ir+=Y*Dt,$t+=Y*Pt,nr+=Y*tr,er+=Y*Dr,ze+=Y*Rr,He+=Y*Zr,Ze+=Y*Ur,je+=Y*Sn,We+=Y*Mn,se+=(Y=ot[4])*Jr,ye+=Y*An,be+=Y*yn,Ge+=Y*zr,Fe+=Y*Pn,Ye+=Y*Bn,ir+=Y*Dn,$t+=Y*Dt,nr+=Y*Pt,er+=Y*tr,ze+=Y*Dr,He+=Y*Rr,Ze+=Y*Zr,je+=Y*Ur,We+=Y*Sn,Ee+=Y*Mn,ye+=(Y=ot[5])*Jr,be+=Y*An,Ge+=Y*yn,Fe+=Y*zr,Ye+=Y*Pn,ir+=Y*Bn,$t+=Y*Dn,nr+=Y*Dt,er+=Y*Pt,ze+=Y*tr,He+=Y*Dr,Ze+=Y*Rr,je+=Y*Zr,We+=Y*Ur,Ee+=Y*Sn,ve+=Y*Mn,be+=(Y=ot[6])*Jr,Ge+=Y*An,Fe+=Y*yn,Ye+=Y*zr,ir+=Y*Pn,$t+=Y*Bn,nr+=Y*Dn,er+=Y*Dt,ze+=Y*Pt,He+=Y*tr,Ze+=Y*Dr,je+=Y*Rr,We+=Y*Zr,Ee+=Y*Ur,ve+=Y*Sn,_e+=Y*Mn,Ge+=(Y=ot[7])*Jr,Fe+=Y*An,Ye+=Y*yn,ir+=Y*zr,$t+=Y*Pn,nr+=Y*Bn,er+=Y*Dn,ze+=Y*Dt,He+=Y*Pt,Ze+=Y*tr,je+=Y*Dr,We+=Y*Rr,Ee+=Y*Zr,ve+=Y*Ur,_e+=Y*Sn,Xt+=Y*Mn,Fe+=(Y=ot[8])*Jr,Ye+=Y*An,ir+=Y*yn,$t+=Y*zr,nr+=Y*Pn,er+=Y*Bn,ze+=Y*Dn,He+=Y*Dt,Ze+=Y*Pt,je+=Y*tr,We+=Y*Dr,Ee+=Y*Rr,ve+=Y*Zr,_e+=Y*Ur,Xt+=Y*Sn,Hr+=Y*Mn,Ye+=(Y=ot[9])*Jr,ir+=Y*An,$t+=Y*yn,nr+=Y*zr,er+=Y*Pn,ze+=Y*Bn,He+=Y*Dn,Ze+=Y*Dt,je+=Y*Pt,We+=Y*tr,Ee+=Y*Dr,ve+=Y*Rr,_e+=Y*Zr,Xt+=Y*Ur,Hr+=Y*Sn,sn+=Y*Mn,ir+=(Y=ot[10])*Jr,$t+=Y*An,nr+=Y*yn,er+=Y*zr,ze+=Y*Pn,He+=Y*Bn,Ze+=Y*Dn,je+=Y*Dt,We+=Y*Pt,Ee+=Y*tr,ve+=Y*Dr,_e+=Y*Rr,Xt+=Y*Zr,Hr+=Y*Ur,sn+=Y*Sn,un+=Y*Mn,$t+=(Y=ot[11])*Jr,nr+=Y*An,er+=Y*yn,ze+=Y*zr,He+=Y*Pn,Ze+=Y*Bn,je+=Y*Dn,We+=Y*Dt,Ee+=Y*Pt,ve+=Y*tr,_e+=Y*Dr,Xt+=Y*Rr,Hr+=Y*Zr,sn+=Y*Ur,un+=Y*Sn,en+=Y*Mn,nr+=(Y=ot[12])*Jr,er+=Y*An,ze+=Y*yn,He+=Y*zr,Ze+=Y*Pn,je+=Y*Bn,We+=Y*Dn,Ee+=Y*Dt,ve+=Y*Pt,_e+=Y*tr,Xt+=Y*Dr,Hr+=Y*Rr,sn+=Y*Zr,un+=Y*Ur,en+=Y*Sn,Kn+=Y*Mn,er+=(Y=ot[13])*Jr,ze+=Y*An,He+=Y*yn,Ze+=Y*zr,je+=Y*Pn,We+=Y*Bn,Ee+=Y*Dn,ve+=Y*Dt,_e+=Y*Pt,Xt+=Y*tr,Hr+=Y*Dr,sn+=Y*Rr,un+=Y*Zr,en+=Y*Ur,Kn+=Y*Sn,Wn+=Y*Mn,ze+=(Y=ot[14])*Jr,He+=Y*An,Ze+=Y*yn,je+=Y*zr,We+=Y*Pn,Ee+=Y*Bn,ve+=Y*Dn,_e+=Y*Dt,Xt+=Y*Pt,Hr+=Y*tr,sn+=Y*Dr,un+=Y*Rr,en+=Y*Zr,Kn+=Y*Ur,Wn+=Y*Sn,Qn+=Y*Mn,He+=(Y=ot[15])*Jr,St+=38*(je+=Y*yn),It+=38*(We+=Y*zr),ge+=38*(Ee+=Y*Pn),se+=38*(ve+=Y*Bn),ye+=38*(_e+=Y*Dn),be+=38*(Xt+=Y*Dt),Ge+=38*(Hr+=Y*Pt),Fe+=38*(sn+=Y*tr),Ye+=38*(un+=Y*Dr),ir+=38*(en+=Y*Rr),$t+=38*(Kn+=Y*Zr),nr+=38*(Wn+=Y*Ur),er+=38*(Qn+=Y*Sn),ze+=38*(ci+=Y*Mn),wt=(Y=(wt+=38*(Ze+=Y*An))+(Re=1)+65535)-65536*(Re=Math.floor(Y/65536)),St=(Y=St+Re+65535)-65536*(Re=Math.floor(Y/65536)),It=(Y=It+Re+65535)-65536*(Re=Math.floor(Y/65536)),ge=(Y=ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),se=(Y=se+Re+65535)-65536*(Re=Math.floor(Y/65536)),ye=(Y=ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),be=(Y=be+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ge=(Y=Ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),Fe=(Y=Fe+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ye=(Y=Ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),ir=(Y=ir+Re+65535)-65536*(Re=Math.floor(Y/65536)),$t=(Y=$t+Re+65535)-65536*(Re=Math.floor(Y/65536)),nr=(Y=nr+Re+65535)-65536*(Re=Math.floor(Y/65536)),er=(Y=er+Re+65535)-65536*(Re=Math.floor(Y/65536)),ze=(Y=ze+Re+65535)-65536*(Re=Math.floor(Y/65536)),He=(Y=He+Re+65535)-65536*(Re=Math.floor(Y/65536)),wt=(Y=(wt+=Re-1+37*(Re-1))+(Re=1)+65535)-65536*(Re=Math.floor(Y/65536)),St=(Y=St+Re+65535)-65536*(Re=Math.floor(Y/65536)),It=(Y=It+Re+65535)-65536*(Re=Math.floor(Y/65536)),ge=(Y=ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),se=(Y=se+Re+65535)-65536*(Re=Math.floor(Y/65536)),ye=(Y=ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),be=(Y=be+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ge=(Y=Ge+Re+65535)-65536*(Re=Math.floor(Y/65536)),Fe=(Y=Fe+Re+65535)-65536*(Re=Math.floor(Y/65536)),Ye=(Y=Ye+Re+65535)-65536*(Re=Math.floor(Y/65536)),ir=(Y=ir+Re+65535)-65536*(Re=Math.floor(Y/65536)),$t=(Y=$t+Re+65535)-65536*(Re=Math.floor(Y/65536)),nr=(Y=nr+Re+65535)-65536*(Re=Math.floor(Y/65536)),er=(Y=er+Re+65535)-65536*(Re=Math.floor(Y/65536)),ze=(Y=ze+Re+65535)-65536*(Re=Math.floor(Y/65536)),He=(Y=He+Re+65535)-65536*(Re=Math.floor(Y/65536)),Oe[0]=wt+=Re-1+37*(Re-1),Oe[1]=St,Oe[2]=It,Oe[3]=ge,Oe[4]=se,Oe[5]=ye,Oe[6]=be,Oe[7]=Ge,Oe[8]=Fe,Oe[9]=Ye,Oe[10]=ir,Oe[11]=$t,Oe[12]=nr,Oe[13]=er,Oe[14]=ze,Oe[15]=He}function Ct(Oe,ot){xt(Oe,ot,ot)}function At(Oe,ot){var lt,Y=t();for(lt=0;lt<16;lt++)Y[lt]=ot[lt];for(lt=253;lt>=0;lt--)Ct(Y,Y),2!==lt&&4!==lt&&xt(Y,Y,ot);for(lt=0;lt<16;lt++)Oe[lt]=Y[lt]}function Ht(Oe,ot,lt){var Y,Re,wt=new Uint8Array(32),St=new Float64Array(80),It=t(),ge=t(),se=t(),ye=t(),be=t(),Ge=t();for(Re=0;Re<31;Re++)wt[Re]=ot[Re];for(wt[31]=127&ot[31]|64,wt[0]&=248,Te(St,lt),Re=0;Re<16;Re++)ge[Re]=St[Re],ye[Re]=It[Re]=se[Re]=0;for(It[0]=ye[0]=1,Re=254;Re>=0;--Re)Ke(It,ge,Y=wt[Re>>>3]>>>(7&Re)&1),Ke(se,ye,Y),vt(be,It,se),ut(It,It,se),vt(se,ge,ye),ut(ge,ge,ye),Ct(ye,be),Ct(Ge,It),xt(It,se,It),xt(se,ge,be),vt(be,It,se),ut(It,It,se),Ct(ge,It),ut(se,ye,Ge),xt(It,se,m),vt(It,It,ye),xt(se,se,It),xt(It,ye,Ge),xt(ye,ge,St),Ct(ge,be),Ke(It,ge,Y),Ke(se,ye,Y);for(Re=0;Re<16;Re++)St[Re+16]=It[Re],St[Re+32]=se[Re],St[Re+48]=ge[Re],St[Re+64]=ye[Re];var Fe=St.subarray(32),Ye=St.subarray(16);return At(Fe,Fe),xt(Ye,Ye,Fe),ct(Oe,Ye),0}function cr(Oe,ot){return Ht(Oe,ot,u)}function ur(Oe,ot){var lt=t(),Y=t(),Re=t(),wt=t(),St=t(),It=t(),ge=t(),se=t(),ye=t();ut(lt,Oe[1],Oe[0]),ut(ye,ot[1],ot[0]),xt(lt,lt,ye),vt(Y,Oe[0],Oe[1]),vt(ye,ot[0],ot[1]),xt(Y,Y,ye),xt(Re,Oe[3],ot[3]),xt(Re,Re,b),xt(wt,Oe[2],ot[2]),vt(wt,wt,wt),ut(St,Y,lt),ut(It,wt,Re),vt(ge,wt,Re),vt(se,Y,lt),xt(Oe[0],St,It),xt(Oe[1],se,ge),xt(Oe[2],ge,It),xt(Oe[3],St,se)}function Ar(Oe,ot,lt){var Y;for(Y=0;Y<4;Y++)Ke(Oe[Y],ot[Y],lt)}function Zt(Oe,ot){var lt=t(),Y=t(),Re=t();At(Re,ot[2]),xt(lt,ot[0],Re),xt(Y,ot[1],Re),ct(Oe,Y),Oe[31]^=$e(lt)<<7}function mt(Oe,ot,lt){var Y,Re;for(Ae(Oe[0],h),Ae(Oe[1],y),Ae(Oe[2],y),Ae(Oe[3],h),Re=255;Re>=0;--Re)Ar(Oe,ot,Y=lt[Re/8|0]>>(7&Re)&1),ur(ot,Oe),ur(Oe,Oe),Ar(Oe,ot,Y)}function Gr(Oe,ot){var lt=[t(),t(),t(),t()];Ae(lt[0],k),Ae(lt[1],q),Ae(lt[2],y),xt(lt[3],k,q),mt(Oe,lt,ot)}function dt(Oe,ot,lt){var Y,Re,wt=[t(),t(),t(),t()];for(lt||s(ot,32),(Y=n.hash(ot.subarray(0,32)))[0]&=248,Y[31]&=127,Y[31]|=64,Gr(wt,Y),Zt(Oe,wt),Re=0;Re<32;Re++)ot[Re+32]=Oe[Re];return 0}var Oe,jt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function vr(Oe,ot){var lt,Y,Re,wt;for(Y=63;Y>=32;--Y){for(lt=0,Re=Y-32,wt=Y-12;Re<wt;++Re)ot[Re]+=lt-16*ot[Y]*jt[Re-(Y-32)],lt=Math.floor((ot[Re]+128)/256),ot[Re]-=256*lt;ot[Re]+=lt,ot[Y]=0}for(lt=0,Re=0;Re<32;Re++)ot[Re]+=lt-(ot[31]>>4)*jt[Re],lt=ot[Re]>>8,ot[Re]&=255;for(Re=0;Re<32;Re++)ot[Re]-=lt*jt[Re];for(Y=0;Y<32;Y++)ot[Y+1]+=ot[Y]>>8,Oe[Y]=255&ot[Y]}function Cr(Oe){var ot,lt=new Float64Array(64);for(ot=0;ot<64;ot++)lt[ot]=Oe[ot];for(ot=0;ot<64;ot++)Oe[ot]=0;vr(Oe,lt)}function _r(){for(var Oe=0;Oe<arguments.length;Oe++)if(!(arguments[Oe]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Jt(Oe){for(var ot=0;ot<Oe.length;ot++)Oe[ot]=0}n.scalarMult=function(Oe,ot){if(_r(Oe,ot),32!==Oe.length)throw Error("bad n size");if(32!==ot.length)throw Error("bad p size");var lt=new Uint8Array(32);return Ht(lt,Oe,ot),lt},n.box={},n.box.keyPair=function(){var Oe,ot,lt=new Uint8Array(32),Y=new Uint8Array(32);return Oe=lt,s(ot=Y,32),cr(Oe,ot),{publicKey:lt,secretKey:Y}},n.box.keyPair.fromSecretKey=function(Oe){if(_r(Oe),32!==Oe.length)throw Error("bad secret key size");var ot=new Uint8Array(32);return cr(ot,Oe),{publicKey:ot,secretKey:new Uint8Array(Oe)}},n.sign=function(Oe,ot){if(_r(Oe,ot),64!==ot.length)throw Error("bad secret key size");var lt=new Uint8Array(64+Oe.length);return function(Y,Re,wt,St){var It,ge,se,ye,be,Ge=new Float64Array(64),Fe=[t(),t(),t(),t()];(It=n.hash(St.subarray(0,32)))[0]&=248,It[31]&=127,It[31]|=64;var Ye=wt+64;for(ye=0;ye<wt;ye++)Y[64+ye]=Re[ye];for(ye=0;ye<32;ye++)Y[32+ye]=It[32+ye];for(Cr(se=n.hash(Y.subarray(32,Ye))),Gr(Fe,se),Zt(Y,Fe),ye=32;ye<64;ye++)Y[ye]=St[ye];for(Cr(ge=n.hash(Y.subarray(0,Ye))),ye=0;ye<64;ye++)Ge[ye]=0;for(ye=0;ye<32;ye++)Ge[ye]=se[ye];for(ye=0;ye<32;ye++)for(be=0;be<32;be++)Ge[ye+be]+=ge[ye]*It[be];vr(Y.subarray(32),Ge)}(lt,Oe,Oe.length,ot),lt},n.sign.detached=function(Oe,ot){for(var lt=n.sign(Oe,ot),Y=new Uint8Array(64),Re=0;Re<Y.length;Re++)Y[Re]=lt[Re];return Y},n.sign.detached.verify=function(Oe,ot,lt){if(_r(Oe,ot,lt),64!==ot.length)throw Error("bad signature size");if(32!==lt.length)throw Error("bad public key size");var Y,Re=new Uint8Array(64+Oe.length),wt=new Uint8Array(64+Oe.length);for(Y=0;Y<64;Y++)Re[Y]=ot[Y];for(Y=0;Y<Oe.length;Y++)Re[Y+64]=Oe[Y];return function(St,It,ge,se){var ye,be,Ge=new Uint8Array(32),Fe=[t(),t(),t(),t()],Ye=[t(),t(),t(),t()];if(ge<64||function pr(Oe,ot){var lt=t(),Y=t(),Re=t(),wt=t(),St=t(),It=t(),ge=t();return Ae(Oe[2],y),Te(Oe[1],ot),Ct(Re,Oe[1]),xt(wt,Re,D),ut(Re,Re,Oe[2]),vt(wt,Oe[2],wt),Ct(St,wt),Ct(It,St),xt(ge,It,St),xt(lt,ge,Re),xt(lt,lt,wt),function(se,ye){var be,Ge=t();for(be=0;be<16;be++)Ge[be]=ye[be];for(be=250;be>=0;be--)Ct(Ge,Ge),1!==be&&xt(Ge,Ge,ye);for(be=0;be<16;be++)se[be]=Ge[be]}(lt,lt),xt(lt,lt,Re),xt(lt,lt,wt),xt(lt,lt,wt),xt(Oe[0],lt,wt),Ct(Y,Oe[0]),xt(Y,Y,wt),yt(Y,Re)&&xt(Oe[0],Oe[0],le),Ct(Y,Oe[0]),xt(Y,Y,wt),yt(Y,Re)?-1:($e(Oe[0])===ot[31]>>7&&ut(Oe[0],h,Oe[0]),xt(Oe[3],Oe[0],Oe[1]),0)}(Ye,se))return-1;for(ye=0;ye<ge;ye++)St[ye]=It[ye];for(ye=0;ye<32;ye++)St[ye+32]=se[ye];if(Cr(be=n.hash(St.subarray(0,ge))),mt(Fe,Ye,be),Gr(Ye,It.subarray(32)),ur(Fe,Ye),Zt(Ge,Fe),ge-=64,ie(It,0,Ge,0)){for(ye=0;ye<ge;ye++)St[ye]=0;return-1}for(ye=0;ye<ge;ye++)St[ye]=It[ye+64];return ge}(wt,Re,Re.length,lt)>=0},n.sign.keyPair=function(){var Oe=new Uint8Array(32),ot=new Uint8Array(64);return dt(Oe,ot),{publicKey:Oe,secretKey:ot}},n.sign.keyPair.fromSecretKey=function(Oe){if(_r(Oe),64!==Oe.length)throw Error("bad secret key size");for(var ot=new Uint8Array(32),lt=0;lt<ot.length;lt++)ot[lt]=Oe[32+lt];return{publicKey:ot,secretKey:new Uint8Array(Oe)}},n.sign.keyPair.fromSeed=function(Oe){if(_r(Oe),32!==Oe.length)throw Error("bad seed size");for(var ot=new Uint8Array(32),lt=new Uint8Array(64),Y=0;Y<32;Y++)lt[Y]=Oe[Y];return dt(ot,lt,!0),{publicKey:ot,secretKey:lt}},n.setPRNG=function(Oe){s=Oe},(Oe=typeof self<"u"?self.crypto||self.msCrypto:null)&&Oe.getRandomValues?n.setPRNG(function(ot,lt){var Y,Re=new Uint8Array(lt);for(Y=0;Y<lt;Y+=65536)Oe.getRandomValues(Re.subarray(Y,Y+Math.min(lt-Y,65536)));for(Y=0;Y<lt;Y++)ot[Y]=Re[Y];Jt(Re)}):(Oe=void 0)&&Oe.randomBytes&&n.setPRNG(function(ot,lt){var Y,Re=Oe.randomBytes(lt);for(Y=0;Y<lt;Y++)ot[Y]=Re[Y];Jt(Re)})}(i.exports?i.exports:self.nacl=self.nacl||{})});const xs=ee.getNodeCrypto();function Xn(i){return ms.apply(this,arguments)}function ms(){return ms=(0,f.Z)(function*(i){const n=new Uint8Array(i);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(n);else if(xs){const t=xs.randomBytes(n.length);n.set(t)}else{if(!za.buffer)throw Error("No secure random number generator available.");yield za.get(n)}return n}),ms.apply(this,arguments)}function Si(i,n){return vs.apply(this,arguments)}function vs(){return vs=(0,f.Z)(function*(i,n){const t=yield ee.getBigInteger();if(n.lt(i))throw Error("Illegal parameter value: max <= min");const s=n.sub(i),u=s.byteLength();return new t(yield Xn(u+8)).mod(s).add(i)}),vs.apply(this,arguments)}const za=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(i,n){this.buffer=new Uint8Array(i),this.size=0,this.callback=n}set(i){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(i instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const n=this.buffer.length-this.size;i.length>n&&(i=i.subarray(0,n)),this.buffer.set(i,this.size),this.size+=i.length}get(i){var n=this;return(0,f.Z)(function*(){if(!n.buffer)throw Error("RandomBuffer is not initialized");if(!(i instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(n.size<i.length){if(!n.callback)throw Error("Random number buffer depleted");return yield n.callback(),n.get(i)}for(let t=0;t<i.length;t++)i[t]=n.buffer[--n.size],n.buffer[n.size]=0})()}};var Ti=Object.freeze({__proto__:null,getRandomBytes:Xn,getRandomBigInteger:Si,randomBuffer:za});function Ws(i,n,t){return _a.apply(this,arguments)}function _a(){return _a=(0,f.Z)(function*(i,n,t){const s=yield ee.getBigInteger(),u=new s(1),h=u.leftShift(new s(i-1)),y=new s(30),m=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],D=yield Si(h,h.leftShift(u));let b=D.mod(y).toNumber();do{D.iadd(new s(m[b])),b=(b+m[b])%m.length,D.bitLength()>i&&(D.imod(h.leftShift(u)).iadd(h),b=D.mod(y).toNumber())}while(!(yield ha(D,n,t)));return D}),_a.apply(this,arguments)}function ha(i,n,t){return $r.apply(this,arguments)}function $r(){return $r=(0,f.Z)(function*(i,n,t){return!(n&&!i.dec().gcd(n).isOne()||!(yield(s=(0,f.Z)(function*(u){const h=yield ee.getBigInteger();return Ha.every(y=>0!==u.mod(new h(y)))}),function(u){return s.apply(this,arguments)})(i))||!(yield function(){var s=(0,f.Z)(function*(u,h){const y=yield ee.getBigInteger();return(h=h||new y(2)).modExp(u.dec(),u).isOne()});return function(u,h){return s.apply(this,arguments)}}()(i))||!(yield function(){var s=(0,f.Z)(function*(u,h,y){const m=yield ee.getBigInteger(),D=u.bitLength();h||(h=Math.max(1,D/48|0));const b=u.dec();let k=0;for(;!b.getBit(k);)k++;const q=u.rightShift(new m(k));for(;h>0;h--){let le,ie=(y?y():yield Si(new m(2),b)).modExp(q,u);if(!ie.isOne()&&!ie.equal(b)){for(le=1;le<k;le++){if(ie=ie.mul(ie).mod(u),ie.isOne())return!1;if(ie.equal(b))break}if(le===k)return!1}}return!0});return function(u,h,y){return s.apply(this,arguments)}}()(i,t)));var s}),$r.apply(this,arguments)}const Ha=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],z=[];function e(i,n){return r.apply(this,arguments)}function r(){return r=(0,f.Z)(function*(i,n){const t=i.length;if(t>n-11)throw Error("Message too long");const s=yield(h=(0,f.Z)(function*(y){const m=new Uint8Array(y);let D=0;for(;D<y;){const b=yield Xn(y-D);for(let k=0;k<b.length;k++)0!==b[k]&&(m[D++]=b[k])}return m}),function(y){return h.apply(this,arguments)})(n-t-3),u=new Uint8Array(n);var h;return u[1]=2,u.set(s,2),u.set(i,n-t),u}),r.apply(this,arguments)}function a(i,n){let t=2,s=1;for(let m=t;m<i.length;m++)s&=0!==i[m],t+=s;const u=t-2,h=i.subarray(t+1),y=0===i[0]&2===i[1]&u>=8&!s;if(n)return ee.selectUint8Array(y,h,n);if(y)return h;throw Error("Decryption error")}function o(i,n,t){return l.apply(this,arguments)}function l(){return l=(0,f.Z)(function*(i,n,t){let s;if(n.length!==mi.getHashByteLength(i))throw Error("Invalid hash length");const u=new Uint8Array(z[i].length);for(s=0;s<z[i].length;s++)u[s]=z[i][s];const h=u.length+n.length;if(t<h+11)throw Error("Intended encoded message length too short");const y=new Uint8Array(t-h-3).fill(255),m=new Uint8Array(t);return m[1]=1,m.set(y,2),m.set(u,t-h),m.set(n,t-n.length),m}),l.apply(this,arguments)}z[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],z[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],z[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],z[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],z[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],z[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],z[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var d=Object.freeze({__proto__:null,emeEncode:e,emeDecode:a,emsaEncode:o});const p=ee.getWebCrypto(),C=ee.getNodeCrypto(),U=void 0,$=C?U.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}):void 0,he=C?U.define("RSAPubliceKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}):void 0;var Ie=Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,m,D,b){if(t&&!ee.isStream(t))if(ee.getWebCrypto())try{return yield(k=(0,f.Z)(function*(q,le,ie,Ae,Ne,Ke,ct,yt){const $e=yield(ut=(0,f.Z)(function*(xt,Ct,At,Ht,cr,ur){const Ar=yield ee.getBigInteger(),Zt=new Ar(Ht),mt=new Ar(cr),Gr=new Ar(At);let dt=Gr.mod(mt.dec()),jt=Gr.mod(Zt.dec());return jt=jt.toUint8Array(),dt=dt.toUint8Array(),{kty:"RSA",n:yr(xt,!0),e:yr(Ct,!0),d:yr(At,!0),p:yr(cr,!0),q:yr(Ht,!0),dp:yr(dt,!0),dq:yr(jt,!0),qi:yr(ur,!0),ext:!0}}),function(xt,Ct,At,Ht,cr,ur){return ut.apply(this,arguments)})(ie,Ae,Ne,Ke,ct,yt),Te={name:"RSASSA-PKCS1-v1_5",hash:{name:q}},vt=yield p.importKey("jwk",$e,Te,!1,["sign"]);var ut;return new Uint8Array(yield p.sign("RSASSA-PKCS1-v1_5",vt,le))}),function(q,le,ie,Ae,Ne,Ke,ct,yt){return k.apply(this,arguments)})(te.read(te.webHash,n),t,s,u,h,y,m,D)}catch(k){ee.printDebugError(k)}else if(ee.getNodeCrypto())return function(){var k=(0,f.Z)(function*(q,le,ie,Ae,Ne,Ke,ct,yt){const{default:$e}=yield H.e(2983).then(H.bind(H,2983)),Te=new $e(Ke),vt=new $e(ct),ut=new $e(Ne),xt=ut.mod(vt.subn(1)),Ct=ut.mod(Te.subn(1)),At=C.createSign(te.read(te.hash,q));At.write(le),At.end();const Ht={version:0,modulus:new $e(ie),publicExponent:new $e(Ae),privateExponent:new $e(Ne),prime1:new $e(ct),prime2:new $e(Ke),exponent1:xt,exponent2:Ct,coefficient:new $e(yt)};if(void 0!==C.createPrivateKey){const ur=$.encode(Ht,"der");return new Uint8Array(At.sign({key:ur,format:"der",type:"pkcs1"}))}const cr=$.encode(Ht,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(At.sign(cr))});return function(q,le,ie,Ae,Ne,Ke,ct,yt){return k.apply(this,arguments)}}()(n,t,s,u,h,y,m,D);var k;return function(){var k=(0,f.Z)(function*(q,le,ie,Ae){const Ne=yield ee.getBigInteger();le=new Ne(le);const Ke=new Ne(yield o(q,Ae,le.byteLength()));if(ie=new Ne(ie),Ke.gte(le))throw Error("Message size cannot exceed modulus size");return Ke.modExp(ie,le).toUint8Array("be",le.byteLength())});return function(q,le,ie,Ae){return k.apply(this,arguments)}}()(n,s,h,b)});return function(t,s,u,h,y,m,D,b,k){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(t&&!ee.isStream(t))if(ee.getWebCrypto())try{return yield(m=(0,f.Z)(function*(D,b,k,q,le){const ie=(Ke=le,{kty:"RSA",n:yr(q,!0),e:yr(Ke,!0),ext:!0}),Ae=yield p.importKey("jwk",ie,{name:"RSASSA-PKCS1-v1_5",hash:{name:D}},!1,["verify"]);var Ke;return p.verify("RSASSA-PKCS1-v1_5",Ae,k,b)}),function(D,b,k,q,le){return m.apply(this,arguments)})(te.read(te.webHash,n),t,s,u,h)}catch(m){ee.printDebugError(m)}else if(ee.getNodeCrypto())return function(){var m=(0,f.Z)(function*(D,b,k,q,le){const{default:ie}=yield H.e(2983).then(H.bind(H,2983)),Ae=C.createVerify(te.read(te.hash,D));Ae.write(b),Ae.end();const Ne={modulus:new ie(q),publicExponent:new ie(le)};let Ke;Ke=void 0!==C.createPrivateKey?{key:he.encode(Ne,"der"),format:"der",type:"pkcs1"}:he.encode(Ne,"pem",{label:"RSA PUBLIC KEY"});try{return yield Ae.verify(Ke,k)}catch{return!1}});return function(D,b,k,q,le){return m.apply(this,arguments)}}()(n,t,s,u,h);var m;return function(){var m=(0,f.Z)(function*(D,b,k,q,le){const ie=yield ee.getBigInteger();if(k=new ie(k),b=new ie(b),q=new ie(q),b.gte(k))throw Error("Signature size cannot exceed modulus size");const Ae=b.modExp(q,k).toUint8Array("be",k.byteLength()),Ne=yield o(D,le,k.byteLength());return ee.equalsUint8Array(Ae,Ne)});return function(D,b,k,q,le){return m.apply(this,arguments)}}()(n,s,u,h,y)});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),encrypt:function(){var i=(0,f.Z)(function*(n,t,s){return ee.getNodeCrypto()?(u=(0,f.Z)(function*(h,y,m){const{default:D}=yield H.e(2983).then(H.bind(H,2983)),b={modulus:new D(y),publicExponent:new D(m)};let k;return k=void 0!==C.createPrivateKey?{key:he.encode(b,"der"),format:"der",type:"pkcs1",padding:C.constants.RSA_PKCS1_PADDING}:{key:he.encode(b,"pem",{label:"RSA PUBLIC KEY"}),padding:C.constants.RSA_PKCS1_PADDING},new Uint8Array(C.publicEncrypt(k,h))}),function(h,y,m){return u.apply(this,arguments)})(n,t,s):function(){var u=(0,f.Z)(function*(h,y,m){const D=yield ee.getBigInteger();if(y=new D(y),h=new D(yield e(h,y.byteLength())),m=new D(m),h.gte(y))throw Error("Message size cannot exceed modulus size");return h.modExp(m,y).toUint8Array("be",y.byteLength())});return function(h,y,m){return u.apply(this,arguments)}}()(n,t,s);var u});return function(t,s,u){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,m,D){return ee.getNodeCrypto()?(b=(0,f.Z)(function*(k,q,le,ie,Ae,Ne,Ke,ct){const{default:yt}=yield H.e(2983).then(H.bind(H,2983)),$e=new yt(Ae),Te=new yt(Ne),vt=new yt(ie),ut=vt.mod(Te.subn(1)),xt=vt.mod($e.subn(1)),Ct={version:0,modulus:new yt(q),publicExponent:new yt(le),privateExponent:new yt(ie),prime1:new yt(Ne),prime2:new yt(Ae),exponent1:ut,exponent2:xt,coefficient:new yt(Ke)};let At;At=void 0!==C.createPrivateKey?{key:$.encode(Ct,"der"),format:"der",type:"pkcs1",padding:C.constants.RSA_PKCS1_PADDING}:{key:$.encode(Ct,"pem",{label:"RSA PRIVATE KEY"}),padding:C.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(C.privateDecrypt(At,k))}catch{if(ct)return ct;throw Error("Decryption error")}}),function(k,q,le,ie,Ae,Ne,Ke,ct){return b.apply(this,arguments)})(n,t,s,u,h,y,m,D):function(){var b=(0,f.Z)(function*(k,q,le,ie,Ae,Ne,Ke,ct){const yt=yield ee.getBigInteger();if(k=new yt(k),q=new yt(q),le=new yt(le),ie=new yt(ie),Ae=new yt(Ae),Ne=new yt(Ne),Ke=new yt(Ke),k.gte(q))throw Error("Data too large.");const $e=ie.mod(Ne.dec()),Te=ie.mod(Ae.dec()),vt=(yield Si(new yt(2),q)).mod(q),ut=vt.modInv(q).modExp(le,q),xt=(k=k.mul(ut).mod(q)).modExp(Te,Ae),Ct=k.modExp($e,Ne);let At=Ke.mul(Ct.sub(xt)).mod(Ne).mul(Ae).add(xt);return At=At.mul(vt).mod(q),a(At.toUint8Array("be",q.byteLength()),ct)});return function(k,q,le,ie,Ae,Ne,Ke,ct){return b.apply(this,arguments)}}()(n,t,s,u,h,y,m,D);var b});return function(t,s,u,h,y,m,D,b){return i.apply(this,arguments)}}(),generate:function(){var i=(0,f.Z)(function*(n,t){if(t=new(yield ee.getBigInteger())(t),ee.getWebCrypto()){const m={name:"RSASSA-PKCS1-v1_5",modulusLength:n,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},D=yield p.generateKey(m,!0,["sign","verify"]),b=yield p.exportKey("jwk",D.privateKey);return{n:Wt(b.n),e:t.toUint8Array(),d:Wt(b.d),p:Wt(b.q),q:Wt(b.p),u:Wt(b.qi)}}if(ee.getNodeCrypto()&&C.generateKeyPair&&$){const m={modulusLength:n,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},D=yield new Promise((b,k)=>C.generateKeyPair("rsa",m,(q,le,ie)=>{q?k(q):b($.decode(ie,"der"))}));return{n:D.modulus.toArrayLike(Uint8Array),e:D.publicExponent.toArrayLike(Uint8Array),d:D.privateExponent.toArrayLike(Uint8Array),p:D.prime2.toArrayLike(Uint8Array),q:D.prime1.toArrayLike(Uint8Array),u:D.coefficient.toArrayLike(Uint8Array)}}let s,u,h;do{u=yield Ws(n-(n>>1),t,40),s=yield Ws(n>>1,t,40),h=s.mul(u)}while(h.bitLength()!==n);const y=s.dec().imul(u.dec());return u.lt(s)&&([s,u]=[u,s]),{n:h.toUint8Array(),e:t.toUint8Array(),d:t.modInv(y).toUint8Array(),p:s.toUint8Array(),q:u.toUint8Array(),u:s.modInv(u).toUint8Array()}});return function(t,s){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){const m=yield ee.getBigInteger();if(n=new m(n),u=new m(u),h=new m(h),!u.mul(h).equal(n))return!1;const D=new m(2);if(y=new m(y),!u.mul(y).mod(h).isOne())return!1;t=new m(t),s=new m(s);const b=new m(Math.floor(n.bitLength()/3)),k=yield Si(D,D.leftShift(b)),q=k.mul(s).mul(t);return!(!q.mod(u.dec()).equal(k)||!q.mod(h.dec()).equal(k))});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}()}),De=Object.freeze({__proto__:null,encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=yield ee.getBigInteger();t=new h(t),s=new h(s),u=new h(u);const y=new h(yield e(n,t.byteLength())),m=yield Si(new h(1),t.dec());return{c1:s.modExp(m,t).toUint8Array(),c2:u.modExp(m,t).imul(y).imod(t).toUint8Array()}});return function(t,s,u,h){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=yield ee.getBigInteger();return n=new y(n),t=new y(t),s=new y(s),u=new y(u),a(n.modExp(u,s).modInv(s).imul(t).imod(s).toUint8Array("be",s.byteLength()),h)});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=yield ee.getBigInteger();n=new h(n),t=new h(t),s=new h(s);const y=new h(1);if(t.lte(y)||t.gte(n))return!1;const m=new h(n.bitLength()),D=new h(1023);if(m.lt(D)||!t.modExp(n.dec(),n).isOne())return!1;let b=t;const k=new h(1),q=new h(2).leftShift(new h(17));for(;k.lt(q);){if(b=b.mul(t).imod(n),b.isOne())return!1;k.iinc()}u=new h(u);const le=new h(2),ie=yield Si(le.leftShift(m.dec()),le.leftShift(m)),Ae=n.dec().imul(ie).iadd(u);return!!s.equal(t.modExp(Ae,n))});return function(t,s,u,h){return i.apply(this,arguments)}}()});class Qe{constructor(n){if(n instanceof Qe)this.oid=n.oid;else if(ee.isArray(n)||ee.isUint8Array(n)){if(6===(n=new Uint8Array(n))[0]){if(n[1]!==n.length-2)throw Error("Length mismatch in DER encoded oid");n=n.subarray(2)}this.oid=n}else this.oid=""}read(n){if(n.length>=1){const t=n[0];if(n.length>=1+t)return this.oid=n.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return ee.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return ee.uint8ArrayToHex(this.oid)}getName(){const n=this.toHex();if(te.curve[n])return te.write(te.curve,n);throw Error("Unknown curve object identifier.")}}function rt(i,n){return i.keyPair({priv:n})}function pt(i,n){const t=i.keyPair({pub:n});if(!0!==t.validate().result)throw Error("Invalid elliptic public key");return t}function Et(i){return zt.apply(this,arguments)}function zt(){return zt=(0,f.Z)(function*(i){if(!Mt.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:n}=yield Promise.all([H.e(2983),H.e(9222)]).then(H.bind(H,9222));return new n.ec(i)}),zt.apply(this,arguments)}function or(i){let n,t=0;const s=i[0];return s<192?([t]=i,n=1):s<255?(t=(i[0]-192<<8)+i[1]+192,n=2):255===s&&(t=ee.readNumber(i.subarray(1,5)),n=5),{len:t,offset:n}}function Nt(i){return i<192?new Uint8Array([i]):i>191&&i<8384?new Uint8Array([192+(i-192>>8),i-192&255]):ee.concatUint8Array([new Uint8Array([255]),ee.writeNumber(i,4)])}function Wr(i){if(i<0||i>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+i])}function Or(i){return new Uint8Array([192|i])}function fi(i,n){return ee.concatUint8Array([Or(i),Nt(n)])}function yi(i){return[te.packet.literalData,te.packet.compressedData,te.packet.symmetricallyEncryptedData,te.packet.symEncryptedIntegrityProtectedData,te.packet.aeadEncryptedData].includes(i)}function xi(i,n){return En.apply(this,arguments)}function En(){return En=(0,f.Z)(function*(i,n){const t=Ve(i);let s,u;try{const h=yield t.peekBytes(2);if(!h||h.length<2||0==(128&h[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const y=yield t.readByte();let m,D,b=-1,k=-1;k=0,0!=(64&y)&&(k=1),k?b=63&y:(b=(63&y)>>2,D=3&y);const q=yi(b);let le,ie=null;if(q){if("array"===ee.isStream(i)){const Ne=new T;s=nt(Ne),ie=Ne}else{const Ne=new G;s=nt(Ne.writable),ie=Ne.readable}u=n({tag:b,packet:ie})}else ie=[];do{if(k){const Ne=yield t.readByte();if(le=!1,Ne<192)m=Ne;else if(Ne>=192&&Ne<224)m=(Ne-192<<8)+(yield t.readByte())+192;else if(Ne>223&&Ne<255){if(m=1<<(31&Ne),le=!0,!q)throw new TypeError("This packet type does not support partial lengths.")}else m=(yield t.readByte())<<24|(yield t.readByte())<<16|(yield t.readByte())<<8|(yield t.readByte())}else switch(D){case 0:m=yield t.readByte();break;case 1:m=(yield t.readByte())<<8|(yield t.readByte());break;case 2:m=(yield t.readByte())<<24|(yield t.readByte())<<16|(yield t.readByte())<<8|(yield t.readByte());break;default:m=1/0}if(m>0){let Ne=0;for(;;){s&&(yield s.ready);const{done:Ke,value:ct}=yield t.read();if(Ke){if(m===1/0)break;throw Error("Unexpected end of packet")}const yt=m===1/0?ct:ct.subarray(0,m-Ne);if(s?yield s.write(yt):ie.push(yt),Ne+=ct.length,Ne>=m){t.unshift(ct.subarray(m-Ne+ct.length));break}}}}while(le);const Ae=yield t.peekBytes(q?1/0:2);return s?(yield s.ready,yield s.close()):(ie=ee.concatUint8Array(ie),yield n({tag:b,packet:ie})),!Ae||!Ae.length}catch(h){if(s)return yield s.abort(h),!0;throw h}finally{s&&(yield u),t.releaseLock()}}),En.apply(this,arguments)}class Qr extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,Qr),this.name="UnsupportedError"}}class hi{constructor(n,t){this.tag=n,this.rawContent=t}write(){return this.rawContent}}const Wi=ee.getWebCrypto(),Ui=ee.getNodeCrypto(),_i={p256:"P-256",p384:"P-384",p521:"P-521"},Fi=Ui?Ui.getCurves():[],da=Ui?{secp256k1:Fi.includes("secp256k1")?"secp256k1":void 0,p256:Fi.includes("prime256v1")?"prime256v1":void 0,p384:Fi.includes("secp384r1")?"secp384r1":void 0,p521:Fi.includes("secp521r1")?"secp521r1":void 0,ed25519:Fi.includes("ED25519")?"ED25519":void 0,curve25519:Fi.includes("X25519")?"X25519":void 0,brainpoolP256r1:Fi.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:Fi.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:Fi.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Ys={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:te.publicKey.ecdsa,hash:te.hash.sha256,cipher:te.symmetric.aes128,node:da.p256,web:_i.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:te.publicKey.ecdsa,hash:te.hash.sha384,cipher:te.symmetric.aes192,node:da.p384,web:_i.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:te.publicKey.ecdsa,hash:te.hash.sha512,cipher:te.symmetric.aes256,node:da.p521,web:_i.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:te.publicKey.ecdsa,hash:te.hash.sha256,cipher:te.symmetric.aes128,node:da.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:te.publicKey.eddsa,hash:te.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:te.publicKey.ecdh,hash:te.hash.sha256,cipher:te.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:te.publicKey.ecdsa,hash:te.hash.sha256,cipher:te.symmetric.aes128,node:da.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:te.publicKey.ecdsa,hash:te.hash.sha384,cipher:te.symmetric.aes192,node:da.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:te.publicKey.ecdsa,hash:te.hash.sha512,cipher:te.symmetric.aes256,node:da.brainpoolP512r1,payloadSize:64}};class na{constructor(n,t){try{(ee.isArray(n)||ee.isUint8Array(n))&&(n=new Qe(n)),n instanceof Qe&&(n=n.getName()),this.name=te.write(te.curve,n)}catch{throw new Qr("Unknown curve")}this.keyType=(t=t||Ys[this.name]).keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&Ys[this.name],this.web=t.web&&Ys[this.name],this.payloadSize=t.payloadSize,this.web&&ee.getWebCrypto()?this.type="web":this.node&&ee.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}genKeyPair(){var n=this;return(0,f.Z)(function*(){let t;switch(n.type){case"web":try{return yield(u=(0,f.Z)(function*(h){const y=yield Wi.generateKey({name:"ECDSA",namedCurve:_i[h]},!0,["sign","verify"]),m=yield Wi.exportKey("jwk",y.privateKey);return{publicKey:o1(yield Wi.exportKey("jwk",y.publicKey)),privateKey:Wt(m.d)}}),function(h){return u.apply(this,arguments)})(n.name)}catch(u){ee.printDebugError("Browser did not support generating ec key "+u.message);break}case"node":return function(){var u=(0,f.Z)(function*(h){const y=Ui.createECDH(da[h]);return yield y.generateKeys(),{publicKey:new Uint8Array(y.getPublicKey()),privateKey:new Uint8Array(y.getPrivateKey())}});return function(h){return u.apply(this,arguments)}}()(n.name);case"curve25519":{const u=yield Xn(32);u[0]=127&u[0]|64,u[31]&=248;const h=u.slice().reverse();return t=jn.box.keyPair.fromSecretKey(h),{publicKey:ee.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:u}}case"ed25519":{const u=yield Xn(32),h=jn.sign.keyPair.fromSeed(u);return{publicKey:ee.concatUint8Array([new Uint8Array([64]),h.publicKey]),privateKey:u}}}var u;return t=yield(yield Et(n.name)).genKeyPair({entropy:ee.uint8ArrayToString(yield Xn(32))}),{publicKey:new Uint8Array(t.getPublic("array",!1)),privateKey:t.getPrivate().toArrayLike(Uint8Array)}})()}}function s1(i,n,t,s){return R0.apply(this,arguments)}function R0(){return R0=(0,f.Z)(function*(i,n,t,s){const u={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:i===te.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},h=n.getName();if(!u[h])return!1;if("curve25519"===h){s=s.slice().reverse();const{publicKey:m}=jn.box.keyPair.fromSecretKey(s);t=new Uint8Array(t);const D=new Uint8Array([64,...m]);return!!ee.equalsUint8Array(D,t)}const y=yield Et(h);try{t=pt(y,t).getPublic()}catch{return!1}return!!rt(y,s).getPublic().eq(t)}),R0.apply(this,arguments)}function o1(i){const n=Wt(i.x),t=Wt(i.y),s=new Uint8Array(n.length+t.length+1);return s[0]=4,s.set(n,1),s.set(t,n.length+1),s}function Xs(i,n,t){const s=i,u=t.slice(1,s+1),h=t.slice(s+1,2*s+1);return{kty:"EC",crv:n,x:yr(u,!0),y:yr(h,!0),ext:!0}}function c1(i,n,t,s){const u=Xs(i,n,t);return u.d=yr(s,!0),u}const Qs=ee.getWebCrypto(),Ga=ee.getNodeCrypto();function l1(i,n,t,s,u,h){return P0.apply(this,arguments)}function P0(){return P0=(0,f.Z)(function*(i,n,t,s,u,h){const y=new na(i);if(t&&!ee.isStream(t)){const m={publicKey:s,privateKey:u};switch(y.type){case"web":try{return yield(D=(0,f.Z)(function*(b,k,q,le){const ie=b.payloadSize,Ae=c1(b.payloadSize,_i[b.name],le.publicKey,le.privateKey),Ne=yield Qs.importKey("jwk",Ae,{name:"ECDSA",namedCurve:_i[b.name],hash:{name:te.read(te.webHash,b.hash)}},!1,["sign"]),Ke=new Uint8Array(yield Qs.sign({name:"ECDSA",namedCurve:_i[b.name],hash:{name:te.read(te.webHash,k)}},Ne,q));return{r:Ke.slice(0,ie),s:Ke.slice(ie,ie<<1)}}),function(b,k,q,le){return D.apply(this,arguments)})(y,n,t,m)}catch(D){if("p521"!==y.name&&("DataError"===D.name||"OperationError"===D.name))throw D;ee.printDebugError("Browser did not support signing: "+D.message)}break;case"node":{const D=yield(b=(0,f.Z)(function*(k,q,le,ie){const Ae=Ga.createSign(te.read(te.hash,q));Ae.write(le),Ae.end();const Ne=Tc.encode({version:1,parameters:k.oid,privateKey:Array.from(ie.privateKey),publicKey:{unused:0,data:Array.from(ie.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return f1.decode(Ae.sign(Ne),"der")}),function(k,q,le,ie){return b.apply(this,arguments)})(y,n,t,m);return{r:D.r.toArrayLike(Uint8Array),s:D.s.toArrayLike(Uint8Array)}}}}var b,D,m;return(m=(0,f.Z)(function*(D,b,k){const le=rt(yield Et(D.name),k).sign(b);return{r:le.r.toArrayLike(Uint8Array),s:le.s.toArrayLike(Uint8Array)}}),function(D,b,k){return m.apply(this,arguments)})(y,h,u)}),P0.apply(this,arguments)}function u1(i,n,t,s,u,h){return M0.apply(this,arguments)}function M0(){return M0=(0,f.Z)(function*(i,n,t,s,u,h){const y=new na(i);if(s&&!ee.isStream(s))switch(y.type){case"web":try{return yield(m=(0,f.Z)(function*(D,b,{r:k,s:q},le,ie){const Ae=Xs(D.payloadSize,_i[D.name],ie),Ne=yield Qs.importKey("jwk",Ae,{name:"ECDSA",namedCurve:_i[D.name],hash:{name:te.read(te.webHash,D.hash)}},!1,["verify"]),Ke=ee.concatUint8Array([k,q]).buffer;return Qs.verify({name:"ECDSA",namedCurve:_i[D.name],hash:{name:te.read(te.webHash,b)}},Ne,Ke,le)}),function(D,b,k,q,le){return m.apply(this,arguments)})(y,n,t,s,u)}catch(m){if("p521"!==y.name&&("DataError"===m.name||"OperationError"===m.name))throw m;ee.printDebugError("Browser did not support verifying: "+m.message)}break;case"node":return function(){var m=(0,f.Z)(function*(D,b,{r:k,s:q},le,ie){const{default:Ae}=yield H.e(2983).then(H.bind(H,2983)),Ne=Ga.createVerify(te.read(te.hash,b));Ne.write(le),Ne.end();const Ke=Bc.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:D.oid},subjectPublicKey:{unused:0,data:Array.from(ie)}},"pem",{label:"PUBLIC KEY"}),ct=f1.encode({r:new Ae(k),s:new Ae(q)},"der");try{return Ne.verify(Ke,ct)}catch{return!1}});return function(D,b,k,q,le){return m.apply(this,arguments)}}()(y,n,t,s,u)}var m;return function(){var m=(0,f.Z)(function*(D,b,k,q){return pt(yield Et(D.name),q).verify(k,b)});return function(D,b,k,q){return m.apply(this,arguments)}}()(y,t,void 0===n?s:h,u)}),M0.apply(this,arguments)}const qs=void 0,f1=Ga?qs.define("ECDSASignature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}):void 0,Tc=Ga?qs.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}):void 0,_c=Ga?qs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}):void 0,Bc=Ga?qs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_c),this.key("subjectPublicKey").bitstr())}):void 0;var kc=Object.freeze({__proto__:null,sign:l1,verify:u1,validateParams:function(){var i=(0,f.Z)(function*(n,t,s){const u=new na(n);if(u.keyType!==te.publicKey.ecdsa)return!1;switch(u.type){case"web":case"node":{const h=yield Xn(8),y=te.hash.sha256,m=yield mi.digest(y,h);try{const D=yield l1(n,y,h,t,s,m);return yield u1(n,y,D,h,t,m)}catch{return!1}}default:return s1(te.publicKey.ecdsa,n,t,s)}});return function(t,s,u){return i.apply(this,arguments)}}()});jn.hash=i=>new Uint8Array(Ri().update(i).digest());var Nc=Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(mi.getHashByteLength(t)<mi.getHashByteLength(te.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const m=ee.concatUint8Array([h,u.subarray(1)]),D=jn.sign.detached(y,m);return{r:D.subarray(0,32),s:D.subarray(32)}});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,{r:s,s:u},h,y,m){const D=ee.concatUint8Array([s,u]);return jn.sign.detached.verify(m,D,y.subarray(1))});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s){if("ed25519"!==n.getName())return!1;const{publicKey:u}=jn.sign.keyPair.fromSeed(s),h=new Uint8Array([64,...u]);return ee.equalsUint8Array(t,h)});return function(t,s,u){return i.apply(this,arguments)}}()});function h1(i,n){const t=new oe["aes"+8*i.length](i),s=new Uint32Array([2795939494,2795939494]),u=Js(n);let h=s;const y=u,m=u.length/2,D=new Uint32Array([0,0]);let b=new Uint32Array(4);for(let k=0;k<=5;++k)for(let q=0;q<m;++q)D[1]=m*k+(1+q),b[0]=h[0],b[1]=h[1],b[2]=y[2*q],b[3]=y[2*q+1],b=Js(t.encrypt($s(b))),h=b.subarray(0,2),h[0]^=D[0],h[1]^=D[1],y[2*q]=b[2],y[2*q+1]=b[3];return $s(h,y)}function d1(i,n){const t=new oe["aes"+8*i.length](i),s=new Uint32Array([2795939494,2795939494]),u=Js(n);let h=u.subarray(0,2);const y=u.subarray(2),m=u.length/2-1,D=new Uint32Array([0,0]);let b=new Uint32Array(4);for(let k=5;k>=0;--k)for(let q=m-1;q>=0;--q)D[1]=m*k+(q+1),b[0]=h[0]^D[0],b[1]=h[1]^D[1],b[2]=y[2*q],b[3]=y[2*q+1],b=Js(t.decrypt($s(b))),h=b.subarray(0,2),y[2*q]=b[2],y[2*q+1]=b[3];if(h[0]===s[0]&&h[1]===s[1])return $s(y);throw Error("Key Data Integrity failed")}function Js(i){const{length:n}=i,t=function(h){if(ee.isString(h)){const{length:y}=h,m=new ArrayBuffer(y),D=new Uint8Array(m);for(let b=0;b<y;++b)D[b]=h.charCodeAt(b);return m}return new Uint8Array(h).buffer}(i),s=new DataView(t),u=new Uint32Array(n/4);for(let h=0;h<n/4;++h)u[h]=s.getUint32(4*h);return u}function $s(){let i=0;for(let u=0;u<arguments.length;++u)i+=4*arguments[u].length;const n=new ArrayBuffer(i),t=new DataView(n);let s=0;for(let u=0;u<arguments.length;++u){for(let h=0;h<arguments[u].length;++h)t.setUint32(s+4*h,arguments[u][h]);s+=4*arguments[u].length}return new Uint8Array(n)}var Dc=Object.freeze({__proto__:null,wrap:h1,unwrap:d1});function g1(i){const n=8-i.length%8,t=new Uint8Array(i.length+n).fill(n);return t.set(i),t}function p1(i){const n=i.length;if(n>0){const t=i[n-1];if(t>=1){const s=i.subarray(n-t),u=new Uint8Array(t).fill(t);if(ee.equalsUint8Array(s,u))return i.subarray(0,n-t)}}throw Error("Invalid padding")}var Rc=Object.freeze({__proto__:null,encode:g1,decode:p1});const ga=ee.getWebCrypto(),y1=ee.getNodeCrypto();function x1(i,n,t,s){return ee.concatUint8Array([n.write(),new Uint8Array([i]),t.write(),ee.stringToUint8Array("Anonymous Sender    "),s.subarray(0,20)])}function m1(i,n,t,s){return O0.apply(this,arguments)}function O0(){return O0=(0,f.Z)(function*(i,n,t,s,u=!1,h=!1){let y;if(u){for(y=0;y<n.length&&0===n[y];y++);n=n.subarray(y)}if(h){for(y=n.length-1;y>=0&&0===n[y];y--);n=n.subarray(0,y+1)}return(yield mi.digest(i,ee.concatUint8Array([new Uint8Array([0,0,0,1]),n,s]))).subarray(0,t)}),O0.apply(this,arguments)}function L0(){return L0=(0,f.Z)(function*(i,n){switch(i.type){case"curve25519":{const t=yield Xn(32),{secretKey:s,sharedKey:u}=yield v1(i,n,null,t);let{publicKey:h}=jn.box.keyPair.fromSecretKey(s);return h=ee.concatUint8Array([new Uint8Array([64]),h]),{publicKey:h,sharedKey:u}}case"web":if(i.web&&ee.getWebCrypto())try{return yield(t=(0,f.Z)(function*(s,u){const h=Xs(s.payloadSize,s.web.web,u);let y=ga.generateKey({name:"ECDH",namedCurve:s.web.web},!0,["deriveKey","deriveBits"]),m=ga.importKey("jwk",h,{name:"ECDH",namedCurve:s.web.web},!1,[]);[y,m]=yield Promise.all([y,m]);let D=ga.deriveBits({name:"ECDH",namedCurve:s.web.web,public:m},y.privateKey,s.web.sharedSize),b=ga.exportKey("jwk",y.publicKey);[D,b]=yield Promise.all([D,b]);const k=new Uint8Array(D);return{publicKey:new Uint8Array(o1(b)),sharedKey:k}}),function(s,u){return t.apply(this,arguments)})(i,n)}catch(t){ee.printDebugError(t)}break;case"node":return function(){var t=(0,f.Z)(function*(s,u){const h=y1.createECDH(s.node.node);h.generateKeys();const y=new Uint8Array(h.computeSecret(u));return{publicKey:new Uint8Array(h.getPublicKey()),sharedKey:y}});return function(s,u){return t.apply(this,arguments)}}()(i,n)}var t;return function(){var t=(0,f.Z)(function*(s,u){const h=yield Et(s.name),y=yield s.genKeyPair();u=pt(h,u);const m=rt(h,y.privateKey),D=y.publicKey,b=m.derive(u.getPublic()),k=h.curve.p.byteLength();return{publicKey:D,sharedKey:b.toArrayLike(Uint8Array,"be",k)}});return function(s,u){return t.apply(this,arguments)}}()(i,n)}),L0.apply(this,arguments)}function v1(i,n,t,s){return U0.apply(this,arguments)}function U0(){return U0=(0,f.Z)(function*(i,n,t,s){if(s.length!==i.payloadSize){const u=new Uint8Array(i.payloadSize);u.set(s,i.payloadSize-s.length),s=u}switch(i.type){case"curve25519":{const u=s.slice().reverse();return{secretKey:u,sharedKey:jn.scalarMult(u,n.subarray(1))}}case"web":if(i.web&&ee.getWebCrypto())try{return yield(u=(0,f.Z)(function*(h,y,m,D){const b=c1(h.payloadSize,h.web.web,m,D);let k=ga.importKey("jwk",b,{name:"ECDH",namedCurve:h.web.web},!0,["deriveKey","deriveBits"]);const q=Xs(h.payloadSize,h.web.web,y);let le=ga.importKey("jwk",q,{name:"ECDH",namedCurve:h.web.web},!0,[]);[k,le]=yield Promise.all([k,le]);let ie=ga.deriveBits({name:"ECDH",namedCurve:h.web.web,public:le},k,h.web.sharedSize),Ae=ga.exportKey("jwk",k);[ie,Ae]=yield Promise.all([ie,Ae]);const Ne=new Uint8Array(ie);return{secretKey:Wt(Ae.d),sharedKey:Ne}}),function(h,y,m,D){return u.apply(this,arguments)})(i,n,t,s)}catch(u){ee.printDebugError(u)}break;case"node":return function(){var u=(0,f.Z)(function*(h,y,m){const D=y1.createECDH(h.node.node);D.setPrivateKey(m);const b=new Uint8Array(D.computeSecret(y));return{secretKey:new Uint8Array(D.getPrivateKey()),sharedKey:b}});return function(h,y,m){return u.apply(this,arguments)}}()(i,n,s)}var u;return function(){var u=(0,f.Z)(function*(h,y,m){const D=yield Et(h.name);y=pt(D,y),m=rt(D,m);const b=new Uint8Array(m.getPrivate()),k=m.derive(y.getPublic()),q=D.curve.p.byteLength();return{secretKey:b,sharedKey:k.toArrayLike(Uint8Array,"be",q)}});return function(h,y,m){return u.apply(this,arguments)}}()(i,n,s)}),U0.apply(this,arguments)}var Mc=Object.freeze({__proto__:null,validateParams:function(){var i=(0,f.Z)(function*(n,t,s){return s1(te.publicKey.ecdh,n,t,s)});return function(t,s,u){return i.apply(this,arguments)}}(),encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=g1(s),m=new na(n),{publicKey:D,sharedKey:b}=yield function Pc(i,n){return L0.apply(this,arguments)}(m,u),k=x1(te.publicKey.ecdh,n,t,h),{keySize:q}=Za(t.cipher);return{publicKey:D,wrappedKey:h1(yield m1(t.hash,b,q,k),y)}});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,m){const D=new na(n),{sharedKey:b}=yield v1(D,s,h,y),k=x1(te.publicKey.ecdh,n,t,m),{keySize:q}=Za(t.cipher);let le;for(let ie=0;ie<3;ie++)try{return p1(d1(yield m1(t.hash,b,q,k,1===ie,2===ie),u))}catch(Ae){le=Ae}throw le});return function(t,s,u,h,y,m,D){return i.apply(this,arguments)}}()}),Ln={rsa:Ie,elgamal:De,elliptic:Object.freeze({__proto__:null,Curve:na,ecdh:Mc,ecdsa:kc,eddsa:Nc,generate:function(){var i=(0,f.Z)(function*(n){const t=yield ee.getBigInteger();n=new na(n);const s=yield n.genKeyPair(),u=new t(s.publicKey).toUint8Array(),h=new t(s.privateKey).toUint8Array("be",n.payloadSize);return{oid:n.oid,Q:u,secret:h,hash:n.hash,cipher:n.cipher}});return function(t){return i.apply(this,arguments)}}(),getPreferredHashAlgo:function(i){return Ys[te.write(te.curve,i.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){const m=yield ee.getBigInteger(),D=new m(1);let b,k,q,le;u=new m(u),h=new m(h),s=new m(s),y=new m(y),s=s.mod(u),y=y.mod(h);const ie=new m(t.subarray(0,h.byteLength())).mod(h);for(;;){if(b=yield Si(D,h),k=s.modExp(b,u).imod(h),k.isZero())continue;const Ae=y.mul(k).imod(h);if(le=ie.add(Ae).imod(h),q=b.modInv(h).imul(le).imod(h),!q.isZero())break}return{r:k.toUint8Array("be",h.byteLength()),s:q.toUint8Array("be",h.byteLength())}});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y,m,D){const b=yield ee.getBigInteger(),k=new b(0);if(t=new b(t),s=new b(s),y=new b(y),m=new b(m),h=new b(h),D=new b(D),t.lte(k)||t.gte(m)||s.lte(k)||s.gte(m))return ee.printDebug("invalid DSA Signature"),!1;const q=new b(u.subarray(0,m.byteLength())).imod(m),le=s.modInv(m);if(le.isZero())return ee.printDebug("invalid DSA Signature"),!1;h=h.mod(y),D=D.mod(y);const ie=q.mul(le).imod(m),Ae=t.mul(le).imod(m),Ne=h.modExp(ie,y),Ke=D.modExp(Ae,y);return Ne.mul(Ke).imod(y).imod(m).equal(t)});return function(t,s,u,h,y,m,D,b){return i.apply(this,arguments)}}(),validateParams:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=yield ee.getBigInteger();n=new y(n),t=new y(t),s=new y(s),u=new y(u);const m=new y(1);if(s.lte(m)||s.gte(n)||!n.dec().mod(t).isZero()||!s.modExp(t,n).isOne())return!1;const D=new y(t.bitLength()),b=new y(150);if(D.lt(b)||!(yield ha(t,null,32)))return!1;h=new y(h);const k=new y(2),q=yield Si(k.leftShift(D.dec()),k.leftShift(D)),le=t.mul(q).add(h);return!!u.equal(s.modExp(le,n))});return function(t,s,u,h,y){return i.apply(this,arguments)}}()}),nacl:jn};class w1{constructor(n){n=void 0===n?new Uint8Array([]):ee.isString(n)?ee.stringToUint8Array(n):new Uint8Array(n),this.data=n}read(n){if(n.length>=1){const t=n[0];if(n.length>=1+t)return this.data=n.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return ee.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class E1{constructor(n){if(n){const{hash:t,cipher:s}=n;this.hash=t,this.cipher=s}else this.hash=null,this.cipher=null}read(n){if(n.length<4||3!==n[0]||1!==n[1])throw Error("Cannot read KDFParams");return this.hash=n[2],this.cipher=n[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function Za(i){const n=te.read(te.symmetric,i);return oe[n]}function F0(i){try{i.getName()}catch{throw new Qr("Unknown curve OID")}}var Oc=Object.freeze({__proto__:null,publicKeyEncrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){switch(n){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:{const{n:h,e:y}=t;return{c:yield Ln.rsa.encrypt(s,h,y)}}case te.publicKey.elgamal:{const{p:h,g:y,y:m}=t;return Ln.elgamal.encrypt(s,h,y,m)}case te.publicKey.ecdh:{const{oid:h,Q:y,kdfParams:m}=t,{publicKey:D,wrappedKey:b}=yield Ln.elliptic.ecdh.encrypt(h,m,s,y,u);return{V:D,C:new w1(b)}}default:return[]}});return function(t,s,u,h){return i.apply(this,arguments)}}(),publicKeyDecrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){switch(n){case te.publicKey.rsaEncryptSign:case te.publicKey.rsaEncrypt:{const{c:m}=u,{n:D,e:b}=t,{d:k,p:q,q:le,u:ie}=s;return Ln.rsa.decrypt(m,D,b,k,q,le,ie,y)}case te.publicKey.elgamal:{const{c1:m,c2:D}=u;return Ln.elgamal.decrypt(m,D,t.p,s.x,y)}case te.publicKey.ecdh:{const{oid:m,Q:D,kdfParams:b}=t,{d:k}=s,{V:q,C:le}=u;return Ln.elliptic.ecdh.decrypt(m,b,q,le.data,D,k,h)}default:throw Error("Unknown public key encryption algorithm.")}});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),parsePublicKeyParams:function(i,n){let t=0;switch(i){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:case te.publicKey.rsaSign:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));return t+=u.length+2,{read:t,publicParams:{n:s,e:u}}}case te.publicKey.dsa:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=ee.readMPI(n.subarray(t));t+=h.length+2;const y=ee.readMPI(n.subarray(t));return t+=y.length+2,{read:t,publicParams:{p:s,q:u,g:h,y}}}case te.publicKey.elgamal:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=ee.readMPI(n.subarray(t));return t+=h.length+2,{read:t,publicParams:{p:s,g:u,y:h}}}case te.publicKey.ecdsa:{const s=new Qe;t+=s.read(n),F0(s);const u=ee.readMPI(n.subarray(t));return t+=u.length+2,{read:t,publicParams:{oid:s,Q:u}}}case te.publicKey.eddsa:{const s=new Qe;t+=s.read(n),F0(s);let u=ee.readMPI(n.subarray(t));return t+=u.length+2,u=ee.leftPad(u,33),{read:t,publicParams:{oid:s,Q:u}}}case te.publicKey.ecdh:{const s=new Qe;t+=s.read(n),F0(s);const u=ee.readMPI(n.subarray(t));t+=u.length+2;const h=new E1;return t+=h.read(n.subarray(t)),{read:t,publicParams:{oid:s,Q:u,kdfParams:h}}}default:throw new Qr("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(i,n,t){let s=0;switch(i){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:case te.publicKey.rsaSign:{const u=ee.readMPI(n.subarray(s));s+=u.length+2;const h=ee.readMPI(n.subarray(s));s+=h.length+2;const y=ee.readMPI(n.subarray(s));s+=y.length+2;const m=ee.readMPI(n.subarray(s));return s+=m.length+2,{read:s,privateParams:{d:u,p:h,q:y,u:m}}}case te.publicKey.dsa:case te.publicKey.elgamal:{const u=ee.readMPI(n.subarray(s));return s+=u.length+2,{read:s,privateParams:{x:u}}}case te.publicKey.ecdsa:case te.publicKey.ecdh:{const u=new na(t.oid);let h=ee.readMPI(n.subarray(s));return s+=h.length+2,h=ee.leftPad(h,u.payloadSize),{read:s,privateParams:{d:h}}}case te.publicKey.eddsa:{const u=new na(t.oid);let h=ee.readMPI(n.subarray(s));return s+=h.length+2,h=ee.leftPad(h,u.payloadSize),{read:s,privateParams:{seed:h}}}default:throw new Qr("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(i,n){let t=0;switch(i){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:return{c:ee.readMPI(n.subarray(t))};case te.publicKey.elgamal:{const s=ee.readMPI(n.subarray(t));return t+=s.length+2,{c1:s,c2:ee.readMPI(n.subarray(t))}}case te.publicKey.ecdh:{const s=ee.readMPI(n.subarray(t));t+=s.length+2;const u=new w1;return u.read(n.subarray(t)),{V:s,C:u}}default:throw new Qr("Unknown public key encryption algorithm.")}},serializeParams:function(i,n){const t=Object.keys(n).map(s=>{const u=n[s];return ee.isUint8Array(u)?ee.uint8ArrayToMPI(u):u.write()});return ee.concatUint8Array(t)},generateParams:function(i,n,t){switch(i){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:case te.publicKey.rsaSign:return Ln.rsa.generate(n,65537).then(({n:s,e:u,d:h,p:y,q:m,u:D})=>({privateParams:{d:h,p:y,q:m,u:D},publicParams:{n:s,e:u}}));case te.publicKey.ecdsa:return Ln.elliptic.generate(t).then(({oid:s,Q:u,secret:h})=>({privateParams:{d:h},publicParams:{oid:new Qe(s),Q:u}}));case te.publicKey.eddsa:return Ln.elliptic.generate(t).then(({oid:s,Q:u,secret:h})=>({privateParams:{seed:h},publicParams:{oid:new Qe(s),Q:u}}));case te.publicKey.ecdh:return Ln.elliptic.generate(t).then(({oid:s,Q:u,secret:h,hash:y,cipher:m})=>({privateParams:{d:h},publicParams:{oid:new Qe(s),Q:u,kdfParams:new E1({hash:y,cipher:m})}}));case te.publicKey.dsa:case te.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:function(){var i=(0,f.Z)(function*(n,t,s){if(!t||!s)throw Error("Missing key parameters");switch(n){case te.publicKey.rsaEncrypt:case te.publicKey.rsaEncryptSign:case te.publicKey.rsaSign:{const{n:u,e:h}=t,{d:y,p:m,q:D,u:b}=s;return Ln.rsa.validateParams(u,h,y,m,D,b)}case te.publicKey.dsa:{const{p:u,q:h,g:y,y:m}=t,{x:D}=s;return Ln.dsa.validateParams(u,h,y,m,D)}case te.publicKey.elgamal:{const{p:u,g:h,y}=t,{x:m}=s;return Ln.elgamal.validateParams(u,h,y,m)}case te.publicKey.ecdsa:case te.publicKey.ecdh:{const u=Ln.elliptic[te.read(te.publicKey,n)],{oid:h,Q:y}=t,{d:m}=s;return u.validateParams(h,y,m)}case te.publicKey.eddsa:{const{oid:u,Q:h}=t,{seed:y}=s;return Ln.elliptic.eddsa.validateParams(u,h,y)}default:throw Error("Unknown public key algorithm.")}});return function(t,s,u){return i.apply(this,arguments)}}(),getPrefixRandom:function(){var i=(0,f.Z)(function*(n){const{blockSize:t}=Za(n),s=yield Xn(t),u=new Uint8Array([s[s.length-2],s[s.length-1]]);return ee.concat([s,u])});return function(t){return i.apply(this,arguments)}}(),generateSessionKey:function(i){const{keySize:n}=Za(i);return Xn(n)},getAEADMode:function(i){const n=te.read(te.aead,i);return k1[n]},getCipher:Za});const A1=ee.getWebCrypto(),e0=ee.getNodeCrypto(),Ba=e0?e0.getCiphers():[],t0={idea:Ba.includes("idea-cfb")?"idea-cfb":void 0,tripledes:Ba.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:Ba.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:Ba.includes("bf-cfb")?"bf-cfb":void 0,aes128:Ba.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:Ba.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:Ba.includes("aes-256-cfb")?"aes-256-cfb":void 0};var Lc=Object.freeze({__proto__:null,encrypt:function(){var i=(0,f.Z)(function*(n,t,s,u,h){const y=te.read(te.symmetric,n);if(ee.getNodeCrypto()&&t0[y])return function(le,ie,Ae,Ne){const Ke=te.read(te.symmetric,le),ct=new e0.createCipheriv(t0[Ke],ie,Ne);return Je(Ae,yt=>new Uint8Array(ct.update(yt)))}(n,t,s,u);if("aes"===y.substr(0,3))return function(le,ie,Ae,Ne,Ke){if(ee.getWebCrypto()&&24!==ie.length&&!ee.isStream(Ae)&&Ae.length>=3e3*Ke.minBytesForWebCrypto)return(yt=(0,f.Z)(function*($e,Te,vt,ut){const xt="AES-CBC",Ct=yield A1.importKey("raw",Te,{name:xt},!1,["encrypt"]),{blockSize:At}=Za($e),Ht=ee.concatUint8Array([new Uint8Array(At),vt]),cr=new Uint8Array(yield A1.encrypt({name:xt,iv:ut},Ct,Ht)).subarray(0,vt.length);return function(ur,Ar){for(let Zt=0;Zt<ur.length;Zt++)ur[Zt]=ur[Zt]^Ar[Zt]}(cr,vt),cr}),function($e,Te,vt,ut){return yt.apply(this,arguments)})(le,ie,Ae,Ne);var yt;const ct=new Li(ie,Ne);return Je(Ae,yt=>ct.aes.AES_Encrypt_process(yt),()=>ct.aes.AES_Encrypt_finish())}(n,t,s,u,h);const m=new oe[y](t),D=m.blockSize,b=u.slice();let k=new Uint8Array;const q=le=>{le&&(k=ee.concatUint8Array([k,le]));const ie=new Uint8Array(k.length);let Ae,Ne=0;for(;le?k.length>=D:k.length;){const Ke=m.encrypt(b);for(Ae=0;Ae<D;Ae++)b[Ae]=k[Ae]^Ke[Ae],ie[Ne++]=b[Ae];k=k.subarray(D)}return ie.subarray(0,Ne)};return Je(s,q,q)});return function(t,s,u,h,y){return i.apply(this,arguments)}}(),decrypt:function(){var i=(0,f.Z)(function*(n,t,s,u){const h=te.read(te.symmetric,n);if(ee.getNodeCrypto()&&t0[h])return function(q,le,ie,Ae){const Ne=te.read(te.symmetric,q),Ke=new e0.createDecipheriv(t0[Ne],le,Ae);return Je(ie,ct=>new Uint8Array(Ke.update(ct)))}(n,t,s,u);if("aes"===h.substr(0,3))return function(q,le,ie,Ae){if(ee.isStream(ie)){const Ne=new Li(le,Ae);return Je(ie,Ke=>Ne.aes.AES_Decrypt_process(Ke),()=>Ne.aes.AES_Decrypt_finish())}return Li.decrypt(ie,le,Ae)}(0,t,s,u);const y=new oe[h](t),m=y.blockSize;let D=u,b=new Uint8Array;const k=q=>{q&&(b=ee.concatUint8Array([b,q]));const le=new Uint8Array(b.length);let ie,Ae=0;for(;q?b.length>=m:b.length;){const Ne=y.encrypt(D);for(D=b,ie=0;ie<m;ie++)le[Ae++]=D[ie]^Ne[ie];b=b.subarray(m)}return le.subarray(0,Ae)};return Je(s,k,k)});return function(t,s,u,h){return i.apply(this,arguments)}}()});class r0{static encrypt(n,t,s){return new r0(t,s).encrypt(n)}static decrypt(n,t,s){return new r0(t,s).encrypt(n)}constructor(n,t,s){this.aes=s||new xn(n,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(n){return dn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return dn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(n,t,s){let{asm:u}=this.aes.acquire_asm();if(void 0!==s){if(s<8||s>48)throw new kn("illegal counter size");let h=Math.pow(2,s)-1;u.set_mask(0,0,h/4294967296|0,0|h)}else s=48,u.set_mask(0,0,65535,4294967295);if(void 0===n)throw Error("nonce is required");{let h=n.length;if(!h||h>16)throw new kn("illegal nonce size");let y=new DataView(new ArrayBuffer(16));new Uint8Array(y.buffer).set(n),u.set_nonce(y.getUint32(0),y.getUint32(4),y.getUint32(8),y.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,s))throw new kn("illegal counter value");u.set_counter(0,0,t/4294967296|0,0|t)}}}class n0{static encrypt(n,t,s=!0,u){return new n0(t,u,s).encrypt(n)}static decrypt(n,t,s=!0,u){return new n0(t,u,s).decrypt(n)}constructor(n,t,s=!0,u){this.aes=u||new xn(n,t,s,"CBC")}encrypt(n){return dn(this.aes.AES_Encrypt_process(n),this.aes.AES_Encrypt_finish())}decrypt(n){return dn(this.aes.AES_Decrypt_process(n),this.aes.AES_Decrypt_finish())}}const b1=ee.getWebCrypto(),Uc=ee.getNodeCrypto();function C1(i,n){const t=i.length-16;for(let s=0;s<16;s++)i[s+t]^=n[s];return i}const i0=new Uint8Array(16);function Fc(i){return K0.apply(this,arguments)}function K0(){return K0=(0,f.Z)(function*(i){const n=yield(u=(0,f.Z)(function*(h){return ee.getWebCrypto()&&24!==h.length?(h=yield b1.importKey("raw",h,{name:"AES-CBC",length:8*h.length},!1,["encrypt"]),function(){var y=(0,f.Z)(function*(m){const D=yield b1.encrypt({name:"AES-CBC",iv:i0,length:128},h,m);return new Uint8Array(D).subarray(0,D.byteLength-16)});return function(m){return y.apply(this,arguments)}}()):ee.getNodeCrypto()?function(){var y=(0,f.Z)(function*(m){const D=new Uc.createCipheriv("aes-"+8*h.length+"-cbc",h,i0).update(m);return new Uint8Array(D)});return function(m){return y.apply(this,arguments)}}():function(){var y=(0,f.Z)(function*(m){return n0.encrypt(m,h,!1,i0)});return function(m){return y.apply(this,arguments)}}()}),function(h){return u.apply(this,arguments)})(i),t=ee.double(yield n(i0)),s=ee.double(t);var u;return function(){var u=(0,f.Z)(function*(h){return(yield n(function(y,m,D){if(y.length&&y.length%16==0)return C1(y,m);const b=new Uint8Array(y.length+(16-y.length%16));return b.set(y),b[y.length]=128,C1(b,D)}(h,t,s))).subarray(-16)});return function(h){return u.apply(this,arguments)}}()}),K0.apply(this,arguments)}const S1=ee.getWebCrypto(),Kc=ee.getNodeCrypto(),Vc=ee.getNodeBuffer(),I1=new Uint8Array(16),V0=new Uint8Array(16);V0[15]=1;const z0=new Uint8Array(16);function zc(i){return H0.apply(this,arguments)}function H0(){return H0=(0,f.Z)(function*(i){const n=yield Fc(i);return function(t,s){return n(ee.concatUint8Array([t,s]))}}),H0.apply(this,arguments)}function Hc(i){return G0.apply(this,arguments)}function G0(){return G0=(0,f.Z)(function*(i){return ee.getWebCrypto()&&24!==i.length?(i=yield S1.importKey("raw",i,{name:"AES-CTR",length:8*i.length},!1,["encrypt"]),function(){var n=(0,f.Z)(function*(t,s){const u=yield S1.encrypt({name:"AES-CTR",counter:s,length:128},i,t);return new Uint8Array(u)});return function(t,s){return n.apply(this,arguments)}}()):ee.getNodeCrypto()?function(){var n=(0,f.Z)(function*(t,s){const u=new Kc.createCipheriv("aes-"+8*i.length+"-ctr",i,s),h=Vc.concat([u.update(t),u.final()]);return new Uint8Array(h)});return function(t,s){return n.apply(this,arguments)}}():function(){var n=(0,f.Z)(function*(t,s){return r0.encrypt(t,i,s)});return function(t,s){return n.apply(this,arguments)}}()}),G0.apply(this,arguments)}function ws(i,n){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,f.Z)(function*(i,n){if(i!==te.symmetric.aes128&&i!==te.symmetric.aes192&&i!==te.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[t,s]=yield Promise.all([zc(n),Hc(n)]);return{encrypt:(u=(0,f.Z)(function*(h,y,m){const[D,b]=yield Promise.all([t(I1,y),t(V0,m)]),k=yield s(h,D),q=yield t(z0,k);for(let le=0;le<16;le++)q[le]^=b[le]^D[le];return ee.concatUint8Array([k,q])}),function(y,m,D){return u.apply(this,arguments)}),decrypt:function(){var u=(0,f.Z)(function*(h,y,m){if(h.length<16)throw Error("Invalid EAX ciphertext");const D=h.subarray(0,-16),b=h.subarray(-16),[k,q,le]=yield Promise.all([t(I1,y),t(V0,m),t(z0,D)]),ie=le;for(let Ae=0;Ae<16;Ae++)ie[Ae]^=q[Ae]^k[Ae];if(!ee.equalsUint8Array(b,ie))throw Error("Authentication tag mismatch");return yield s(D,k)});return function(y,m,D){return u.apply(this,arguments)}}()};var u}),Z0.apply(this,arguments)}function T1(i){let n=0;for(let t=1;0==(i&t);t<<=1)n++;return n}function Ai(i,n){for(let t=0;t<i.length;t++)i[t]^=n[t];return i}function a0(i,n){return Ai(i.slice(),n)}z0[15]=2,ws.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[8+s]^=n[s];return t},ws.blockLength=16,ws.ivLength=16,ws.tagLength=16;const j0=new Uint8Array(16),Gc=new Uint8Array([1]);function Es(i,n){return W0.apply(this,arguments)}function W0(){return W0=(0,f.Z)(function*(i,n){let t,s,u,h=0;function y(m,D,b,k){const q=D.length/16|0;!function(ut,xt){const Ct=ee.nbits(Math.max(ut.length,xt.length)/16|0)-1;for(let At=h+1;At<=Ct;At++)u[At]=ee.double(u[At-1]);h=Ct}(D,k);const le=ee.concatUint8Array([j0.subarray(0,15-b.length),Gc,b]),ie=63&le[15];le[15]&=192;const Ae=t(le),Ne=ee.concatUint8Array([Ae,a0(Ae.subarray(0,8),Ae.subarray(1,9))]),Ke=ee.shiftRight(Ne.subarray(0+(ie>>3),17+(ie>>3)),8-(7&ie)).subarray(1),ct=new Uint8Array(16),yt=new Uint8Array(D.length+16);let $e,Te=0;for($e=0;$e<q;$e++)Ai(Ke,u[T1($e+1)]),yt.set(Ai(m(a0(Ke,D)),Ke),Te),Ai(ct,m===t?D:yt.subarray(Te)),D=D.subarray(16),Te+=16;if(D.length){Ai(Ke,u.x);const ut=t(Ke);yt.set(a0(D,ut),Te);const xt=new Uint8Array(16);xt.set(m===t?D:yt.subarray(Te,-16),0),xt[D.length]=128,Ai(ct,xt),Te+=D.length}const vt=Ai(t(Ai(Ai(ct,Ke),u.$)),function(ut){if(!ut.length)return j0;const xt=ut.length/16|0,Ct=new Uint8Array(16),At=new Uint8Array(16);for(let Ht=0;Ht<xt;Ht++)Ai(Ct,u[T1(Ht+1)]),Ai(At,t(a0(Ct,ut))),ut=ut.subarray(16);if(ut.length){Ai(Ct,u.x);const Ht=new Uint8Array(16);Ht.set(ut,0),Ht[ut.length]=128,Ai(Ht,Ct),Ai(At,t(Ht))}return At}(k));return yt.set(vt,Te),yt}return function(m,D){const b=te.read(te.symmetric,m),k=new oe[b](D);t=k.encrypt.bind(k),s=k.decrypt.bind(k);const q=t(j0),le=ee.double(q);u=[],u[0]=ee.double(le),u.x=q,u.$=le}(i,n),{encrypt:(m=(0,f.Z)(function*(D,b,k){return y(t,D,b,k)}),function(b,k,q){return m.apply(this,arguments)}),decrypt:function(){var m=(0,f.Z)(function*(D,b,k){if(D.length<16)throw Error("Invalid OCB ciphertext");const q=D.subarray(-16);D=D.subarray(0,-16);const le=y(s,D,b,k);if(ee.equalsUint8Array(q,le.subarray(-16)))return le.subarray(0,-16);throw Error("Authentication tag mismatch")});return function(b,k,q){return m.apply(this,arguments)}}()};var m}),W0.apply(this,arguments)}Es.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[7+s]^=n[s];return t},Es.blockLength=16,Es.ivLength=15,Es.tagLength=16;class ka{constructor(n,t,s,u=16,h){this.tagSize=u,this.gamma0=0,this.counter=1,this.aes=h||new xn(n,void 0,!1,"CTR");let{asm:y,heap:m}=this.aes.acquire_asm();if(y.gcm_init(),this.tagSize<4||this.tagSize>16)throw new kn("illegal tagSize value");const D=t.length||0,b=new Uint8Array(16);12!==D?(this._gcm_mac_process(t),m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=0,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=0,m[11]=D>>>29,m[12]=D>>>21&255,m[13]=D>>>13&255,m[14]=D>>>5&255,m[15]=D<<3&255,y.mac(qt.MAC.GCM,qt.HEAP_DATA,16),y.get_iv(qt.HEAP_DATA),y.set_iv(0,0,0,0),b.set(m.subarray(0,16))):(b.set(t),b[15]=1);const k=new DataView(b.buffer);if(this.gamma0=k.getUint32(12),y.set_nonce(k.getUint32(0),k.getUint32(4),k.getUint32(8),0),y.set_mask(0,0,0,4294967295),void 0!==s){if(s.length>68719476704)throw new kn("illegal adata length");s.length?(this.adata=s,this._gcm_mac_process(s)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");y.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(n,t,s,u,h){return new ka(t,s,u,h).encrypt(n)}static decrypt(n,t,s,u,h){return new ka(t,s,u,h).decrypt(n)}encrypt(n){return this.AES_GCM_encrypt(n)}decrypt(n){return this.AES_GCM_decrypt(n)}AES_GCM_Encrypt_process(n){let t=0,s=n.length||0,{asm:u,heap:h}=this.aes.acquire_asm(),y=this.counter,m=this.aes.pos,D=this.aes.len,b=0,k=D+s&-16,q=0;if((y-1<<4)+D+s>68719476704)throw new RangeError("counter overflow");const le=new Uint8Array(k);for(;s>0;)q=Zn(h,m+D,n,t,s),D+=q,t+=q,s-=q,q=u.cipher(qt.ENC.CTR,qt.HEAP_DATA+m,D),q=u.mac(qt.MAC.GCM,qt.HEAP_DATA+m,q),q&&le.set(h.subarray(m,m+q),b),y+=q>>>4,b+=q,q<D?(m+=q,D-=q):(m=0,D=0);return this.counter=y,this.aes.pos=m,this.aes.len=D,le}AES_GCM_Encrypt_finish(){let{asm:n,heap:t}=this.aes.acquire_asm(),s=this.counter,u=this.tagSize,h=this.adata,y=this.aes.pos,m=this.aes.len;const D=new Uint8Array(m+u);n.cipher(qt.ENC.CTR,qt.HEAP_DATA+y,m+15&-16),m&&D.set(t.subarray(y,y+m));let b=m;for(;15&b;b++)t[y+b]=0;n.mac(qt.MAC.GCM,qt.HEAP_DATA+y,b);const k=void 0!==h?h.length:0,q=(s-1<<4)+m;return t[0]=0,t[1]=0,t[2]=0,t[3]=k>>>29,t[4]=k>>>21,t[5]=k>>>13&255,t[6]=k>>>5&255,t[7]=k<<3&255,t[8]=t[9]=t[10]=0,t[11]=q>>>29,t[12]=q>>>21&255,t[13]=q>>>13&255,t[14]=q>>>5&255,t[15]=q<<3&255,n.mac(qt.MAC.GCM,qt.HEAP_DATA,16),n.get_iv(qt.HEAP_DATA),n.set_counter(0,0,0,this.gamma0),n.cipher(qt.ENC.CTR,qt.HEAP_DATA,16),D.set(t.subarray(0,u),m),this.counter=1,this.aes.pos=0,this.aes.len=0,D}AES_GCM_Decrypt_process(n){let t=0,s=n.length||0,{asm:u,heap:h}=this.aes.acquire_asm(),y=this.counter,m=this.tagSize,D=this.aes.pos,b=this.aes.len,k=0,q=b+s>m?b+s-m&-16:0,le=b+s-q,ie=0;if((y-1<<4)+b+s>68719476704)throw new RangeError("counter overflow");const Ae=new Uint8Array(q);for(;s>le;)ie=Zn(h,D+b,n,t,s-le),b+=ie,t+=ie,s-=ie,ie=u.mac(qt.MAC.GCM,qt.HEAP_DATA+D,ie),ie=u.cipher(qt.DEC.CTR,qt.HEAP_DATA+D,ie),ie&&Ae.set(h.subarray(D,D+ie),k),y+=ie>>>4,k+=ie,D=0,b=0;return s>0&&(b+=Zn(h,0,n,t,s)),this.counter=y,this.aes.pos=D,this.aes.len=b,Ae}AES_GCM_Decrypt_finish(){let{asm:n,heap:t}=this.aes.acquire_asm(),s=this.tagSize,u=this.adata,h=this.counter,y=this.aes.pos,m=this.aes.len,D=m-s;if(m<s)throw new ni("authentication tag not found");const b=new Uint8Array(D),k=new Uint8Array(t.subarray(y+D,y+m));let q=D;for(;15&q;q++)t[y+q]=0;n.mac(qt.MAC.GCM,qt.HEAP_DATA+y,q),n.cipher(qt.DEC.CTR,qt.HEAP_DATA+y,q),D&&b.set(t.subarray(y,y+D));const le=void 0!==u?u.length:0,ie=(h-1<<4)+m-s;t[0]=0,t[1]=0,t[2]=0,t[3]=le>>>29,t[4]=le>>>21,t[5]=le>>>13&255,t[6]=le>>>5&255,t[7]=le<<3&255,t[8]=t[9]=t[10]=0,t[11]=ie>>>29,t[12]=ie>>>21&255,t[13]=ie>>>13&255,t[14]=ie>>>5&255,t[15]=ie<<3&255,n.mac(qt.MAC.GCM,qt.HEAP_DATA,16),n.get_iv(qt.HEAP_DATA),n.set_counter(0,0,0,this.gamma0),n.cipher(qt.ENC.CTR,qt.HEAP_DATA,16);let Ae=0;for(let Ne=0;Ne<s;++Ne)Ae|=k[Ne]^t[Ne];if(Ae)throw new Jn("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,b}AES_GCM_decrypt(n){const t=this.AES_GCM_Decrypt_process(n),s=this.AES_GCM_Decrypt_finish(),u=new Uint8Array(t.length+s.length);return t.length&&u.set(t),s.length&&u.set(s,t.length),u}AES_GCM_encrypt(n){const t=this.AES_GCM_Encrypt_process(n),s=this.AES_GCM_Encrypt_finish(),u=new Uint8Array(t.length+s.length);return t.length&&u.set(t),s.length&&u.set(s,t.length),u}_gcm_mac_process(n){let{asm:t,heap:s}=this.aes.acquire_asm(),u=0,h=n.length||0,y=0;for(;h>0;){for(y=Zn(s,0,n,u,h),u+=y,h-=y;15&y;)s[y++]=0;t.mac(qt.MAC.GCM,qt.HEAP_DATA,y)}}}const Y0=ee.getWebCrypto(),_1=ee.getNodeCrypto(),B1=ee.getNodeBuffer();function ja(i,n){return X0.apply(this,arguments)}function X0(){return X0=(0,f.Z)(function*(i,n){if(i!==te.symmetric.aes128&&i!==te.symmetric.aes192&&i!==te.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(ee.getWebCrypto()&&24!==n.length){const t=yield Y0.importKey("raw",n,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:(s=(0,f.Z)(function*(u,h,y=new Uint8Array){if(!u.length)return ka.encrypt(u,n,h,y);const m=yield Y0.encrypt({name:"AES-GCM",iv:h,additionalData:y,tagLength:128},t,u);return new Uint8Array(m)}),function(h,y){return s.apply(this,arguments)}),decrypt:function(){var s=(0,f.Z)(function*(u,h,y=new Uint8Array){if(16===u.length)return ka.decrypt(u,n,h,y);const m=yield Y0.decrypt({name:"AES-GCM",iv:h,additionalData:y,tagLength:128},t,u);return new Uint8Array(m)});return function(h,y){return s.apply(this,arguments)}}()}}var s,t;return ee.getNodeCrypto()?{encrypt:(t=(0,f.Z)(function*(s,u,h=new Uint8Array){const y=new _1.createCipheriv("aes-"+8*n.length+"-gcm",n,u);y.setAAD(h);const m=B1.concat([y.update(s),y.final(),y.getAuthTag()]);return new Uint8Array(m)}),function(u,h){return t.apply(this,arguments)}),decrypt:function(){var t=(0,f.Z)(function*(s,u,h=new Uint8Array){const y=new _1.createDecipheriv("aes-"+8*n.length+"-gcm",n,u);y.setAAD(h),y.setAuthTag(s.slice(s.length-16,s.length));const m=B1.concat([y.update(s.slice(0,s.length-16)),y.final()]);return new Uint8Array(m)});return function(u,h){return t.apply(this,arguments)}}()}:{encrypt:function(){var t=(0,f.Z)(function*(s,u,h){return ka.encrypt(s,n,u,h)});return function(u,h,y){return t.apply(this,arguments)}}(),decrypt:function(){var t=(0,f.Z)(function*(s,u,h){return ka.decrypt(s,n,u,h)});return function(u,h,y){return t.apply(this,arguments)}}()}}),X0.apply(this,arguments)}ja.getNonce=function(i,n){const t=i.slice();for(let s=0;s<n.length;s++)t[4+s]^=n[s];return t},ja.blockLength=16,ja.ivLength=12,ja.tagLength=16;var k1={cfb:Lc,gcm:ja,experimentalGCM:ja,eax:ws,ocb:Es},Zc=Object.freeze({__proto__:null,parseSignatureParams:function(i,n){let t=0;switch(i){case te.publicKey.rsaEncryptSign:case te.publicKey.rsaEncrypt:case te.publicKey.rsaSign:return{s:ee.readMPI(n.subarray(t))};case te.publicKey.dsa:case te.publicKey.ecdsa:{const s=ee.readMPI(n.subarray(t));return t+=s.length+2,{r:s,s:ee.readMPI(n.subarray(t))}}case te.publicKey.eddsa:{let s=ee.readMPI(n.subarray(t));t+=s.length+2,s=ee.leftPad(s,32);let u=ee.readMPI(n.subarray(t));return u=ee.leftPad(u,32),{r:s,s:u}}default:throw new Qr("Unknown signature algorithm.")}},verify:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){switch(n){case te.publicKey.rsaEncryptSign:case te.publicKey.rsaEncrypt:case te.publicKey.rsaSign:{const{n:m,e:D}=u,b=ee.leftPad(s.s,m.length);return Ln.rsa.verify(t,h,b,m,D,y)}case te.publicKey.dsa:{const{g:m,p:D,q:b,y:k}=u,{r:q,s:le}=s;return Ln.dsa.verify(t,q,le,y,m,D,b,k)}case te.publicKey.ecdsa:{const{oid:m,Q:D}=u,b=new Ln.elliptic.Curve(m).payloadSize,k=ee.leftPad(s.r,b),q=ee.leftPad(s.s,b);return Ln.elliptic.ecdsa.verify(m,t,{r:k,s:q},h,D,y)}case te.publicKey.eddsa:{const{oid:m,Q:D}=u;return Ln.elliptic.eddsa.verify(m,t,s,h,D,y)}default:throw Error("Unknown signature algorithm.")}});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}(),sign:function(){var i=(0,f.Z)(function*(n,t,s,u,h,y){if(!s||!u)throw Error("Missing key parameters");switch(n){case te.publicKey.rsaEncryptSign:case te.publicKey.rsaEncrypt:case te.publicKey.rsaSign:{const{n:m,e:D}=s,{d:b,p:k,q,u:le}=u;return{s:yield Ln.rsa.sign(t,h,m,D,b,k,q,le,y)}}case te.publicKey.dsa:{const{g:m,p:D,q:b}=s,{x:k}=u;return Ln.dsa.sign(t,y,m,D,b,k)}case te.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case te.publicKey.ecdsa:{const{oid:m,Q:D}=s,{d:b}=u;return Ln.elliptic.ecdsa.sign(m,t,h,D,b,y)}case te.publicKey.eddsa:{const{oid:m,Q:D}=s,{seed:b}=u;return Ln.elliptic.eddsa.sign(m,t,h,D,b,y)}default:throw Error("Unknown signature algorithm.")}});return function(t,s,u,h,y,m){return i.apply(this,arguments)}}()});const wr={cipher:oe,hash:mi,mode:k1,publicKey:Ln,signature:Zc,random:Ti,pkcs1:d,pkcs5:Rc,aesKW:Dc};Object.assign(wr,Oc);var As=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function N1(i,n){return i.length===n?i:i.subarray?i.subarray(0,n):(i.length=n,i)}const D1={arraySet:function(i,n,t,s,u){if(n.subarray&&i.subarray)i.set(n.subarray(t,t+s),u);else for(let h=0;h<s;h++)i[u+h]=n[t+h]},flattenChunks:function(i){let n,t,s,u,h;for(s=0,n=0,t=i.length;n<t;n++)s+=i[n].length;const y=new Uint8Array(s);for(u=0,n=0,t=i.length;n<t;n++)h=i[n],y.set(h,u),u+=h.length;return y}},R1={arraySet:function(i,n,t,s,u){for(let h=0;h<s;h++)i[u+h]=n[t+h]},flattenChunks:function(i){return[].concat.apply([],i)}};let Yi=As?Uint8Array:Array,Bi=As?Uint16Array:Array,s0=As?Int32Array:Array,P1=As?D1.flattenChunks:R1.flattenChunks,Xi=As?D1.arraySet:R1.arraySet;function Wa(i){let n=i.length;for(;--n>=0;)i[n]=0}const Q0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o0=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],jc=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ia=Array(576);Wa(ia);const bs=Array(60);Wa(bs);const Cs=Array(512);Wa(Cs);const Ss=Array(256);Wa(Ss);const q0=Array(29);Wa(q0);const c0=Array(30);function J0(i,n,t,s,u){this.static_tree=i,this.extra_bits=n,this.extra_base=t,this.elems=s,this.max_length=u,this.has_stree=i&&i.length}let O1,L1,U1;function $0(i,n){this.dyn_tree=i,this.max_code=0,this.stat_desc=n}function F1(i){return i<256?Cs[i]:Cs[256+(i>>>7)]}function Is(i,n){i.pending_buf[i.pending++]=255&n,i.pending_buf[i.pending++]=n>>>8&255}function bi(i,n,t){i.bi_valid>16-t?(i.bi_buf|=n<<i.bi_valid&65535,Is(i,i.bi_buf),i.bi_buf=n>>16-i.bi_valid,i.bi_valid+=t-16):(i.bi_buf|=n<<i.bi_valid&65535,i.bi_valid+=t)}function Qi(i,n,t){bi(i,t[2*n],t[2*n+1])}function K1(i,n){let t=0;do{t|=1&i,i>>>=1,t<<=1}while(--n>0);return t>>>1}function V1(i,n,t){const s=Array(16);let u,h,y=0;for(u=1;u<=15;u++)s[u]=y=y+t[u-1]<<1;for(h=0;h<=n;h++){const m=i[2*h+1];0!==m&&(i[2*h]=K1(s[m]++,m))}}function z1(i){let n;for(n=0;n<286;n++)i.dyn_ltree[2*n]=0;for(n=0;n<30;n++)i.dyn_dtree[2*n]=0;for(n=0;n<19;n++)i.bl_tree[2*n]=0;i.dyn_ltree[512]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function H1(i){i.bi_valid>8?Is(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function G1(i,n,t,s){const u=2*n,h=2*t;return i[u]<i[h]||i[u]===i[h]&&s[n]<=s[t]}function eo(i,n,t){const s=i.heap[t];let u=t<<1;for(;u<=i.heap_len&&(u<i.heap_len&&G1(n,i.heap[u+1],i.heap[u],i.depth)&&u++,!G1(n,s,i.heap[u],i.depth));)i.heap[t]=i.heap[u],t=u,u<<=1;i.heap[t]=s}function Z1(i,n,t){let s,u,h,y,m=0;if(0!==i.last_lit)do{s=i.pending_buf[i.d_buf+2*m]<<8|i.pending_buf[i.d_buf+2*m+1],u=i.pending_buf[i.l_buf+m],m++,0===s?Qi(i,u,n):(h=Ss[u],Qi(i,h+256+1,n),y=Q0[h],0!==y&&(u-=q0[h],bi(i,u,y)),s--,h=F1(s),Qi(i,h,t),y=o0[h],0!==y&&(s-=c0[h],bi(i,s,y)))}while(m<i.last_lit);Qi(i,256,n)}function to(i,n){const t=n.dyn_tree,s=n.stat_desc.static_tree,u=n.stat_desc.has_stree,h=n.stat_desc.elems;let y,m,D,b=-1;for(i.heap_len=0,i.heap_max=573,y=0;y<h;y++)0!==t[2*y]?(i.heap[++i.heap_len]=b=y,i.depth[y]=0):t[2*y+1]=0;for(;i.heap_len<2;)D=i.heap[++i.heap_len]=b<2?++b:0,t[2*D]=1,i.depth[D]=0,i.opt_len--,u&&(i.static_len-=s[2*D+1]);for(n.max_code=b,y=i.heap_len>>1;y>=1;y--)eo(i,t,y);D=h;do{y=i.heap[1],i.heap[1]=i.heap[i.heap_len--],eo(i,t,1),m=i.heap[1],i.heap[--i.heap_max]=y,i.heap[--i.heap_max]=m,t[2*D]=t[2*y]+t[2*m],i.depth[D]=(i.depth[y]>=i.depth[m]?i.depth[y]:i.depth[m])+1,t[2*y+1]=t[2*m+1]=D,i.heap[1]=D++,eo(i,t,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],function(k,q){const le=q.dyn_tree,ie=q.max_code,Ae=q.stat_desc.static_tree,Ne=q.stat_desc.has_stree,Ke=q.stat_desc.extra_bits,ct=q.stat_desc.extra_base,yt=q.stat_desc.max_length;let $e,Te,vt,ut,xt,Ct,At=0;for(ut=0;ut<=15;ut++)k.bl_count[ut]=0;for(le[2*k.heap[k.heap_max]+1]=0,$e=k.heap_max+1;$e<573;$e++)Te=k.heap[$e],ut=le[2*le[2*Te+1]+1]+1,ut>yt&&(ut=yt,At++),le[2*Te+1]=ut,Te>ie||(k.bl_count[ut]++,xt=0,Te>=ct&&(xt=Ke[Te-ct]),Ct=le[2*Te],k.opt_len+=Ct*(ut+xt),Ne&&(k.static_len+=Ct*(Ae[2*Te+1]+xt)));if(0!==At){do{for(ut=yt-1;0===k.bl_count[ut];)ut--;k.bl_count[ut]--,k.bl_count[ut+1]+=2,k.bl_count[yt]--,At-=2}while(At>0);for(ut=yt;0!==ut;ut--)for(Te=k.bl_count[ut];0!==Te;)vt=k.heap[--$e],vt>ie||(le[2*vt+1]!==ut&&(k.opt_len+=(ut-le[2*vt+1])*le[2*vt],le[2*vt+1]=ut),Te--)}}(i,n),V1(t,b,i.bl_count)}function j1(i,n,t){let s,u,h=-1,y=n[1],m=0,D=7,b=4;for(0===y&&(D=138,b=3),n[2*(t+1)+1]=65535,s=0;s<=t;s++)u=y,y=n[2*(s+1)+1],++m<D&&u===y||(m<b?i.bl_tree[2*u]+=m:0!==u?(u!==h&&i.bl_tree[2*u]++,i.bl_tree[32]++):m<=10?i.bl_tree[34]++:i.bl_tree[36]++,m=0,h=u,0===y?(D=138,b=3):u===y?(D=6,b=3):(D=7,b=4))}function W1(i,n,t){let s,u,h=-1,y=n[1],m=0,D=7,b=4;for(0===y&&(D=138,b=3),s=0;s<=t;s++)if(u=y,y=n[2*(s+1)+1],!(++m<D&&u===y)){if(m<b)do{Qi(i,u,i.bl_tree)}while(0!=--m);else 0!==u?(u!==h&&(Qi(i,u,i.bl_tree),m--),Qi(i,16,i.bl_tree),bi(i,m-3,2)):m<=10?(Qi(i,17,i.bl_tree),bi(i,m-3,3)):(Qi(i,18,i.bl_tree),bi(i,m-11,7));m=0,h=u,0===y?(D=138,b=3):u===y?(D=6,b=3):(D=7,b=4)}}Wa(c0);let Y1=!1;function X1(i,n,t,s){var u,h,y;bi(i,0+(s?1:0),3),h=n,y=t,H1(u=i),Is(u,y),Is(u,~y),Xi(u.pending_buf,u.window,h,y,u.pending),u.pending+=y}function pa(i,n,t){return i.pending_buf[i.d_buf+2*i.last_lit]=n>>>8&255,i.pending_buf[i.d_buf+2*i.last_lit+1]=255&n,i.pending_buf[i.l_buf+i.last_lit]=255&t,i.last_lit++,0===n?i.dyn_ltree[2*t]++:(i.matches++,n--,i.dyn_ltree[2*(Ss[t]+256+1)]++,i.dyn_dtree[2*F1(n)]++),i.last_lit===i.lit_bufsize-1}function Ts(i,n,t,s){let u=65535&i|0,h=i>>>16&65535|0,y=0;for(;0!==t;){y=t>2e3?2e3:t,t-=y;do{u=u+n[s++]|0,h=h+u|0}while(--y);u%=65521,h%=65521}return u|h<<16|0}const Qc=function(){let i;const n=[];for(let t=0;t<256;t++){i=t;for(let s=0;s<8;s++)i=1&i?3988292384^i>>>1:i>>>1;n[t]=i}return n}();function oi(i,n,t,s){const u=Qc,h=s+t;i^=-1;for(let y=s;y<h;y++)i=i>>>8^u[255&(i^n[y])];return-1^i}var _s={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ya(i,n){return i.msg=_s[n],n}function Q1(i){return(i<<1)-(i>4?9:0)}function xa(i){let n=i.length;for(;--n>=0;)i[n]=0}function ma(i){const n=i.state;let t=n.pending;t>i.avail_out&&(t=i.avail_out),0!==t&&(Xi(i.output,n.pending_buf,n.pending_out,t,i.next_out),i.next_out+=t,n.pending_out+=t,i.total_out+=t,i.avail_out-=t,n.pending-=t,0===n.pending&&(n.pending_out=0))}function di(i,n){(function Xc(i,n,t,s){let u,h,y=0;i.level>0?(2===i.strm.data_type&&(i.strm.data_type=function(m){let D,b=4093624447;for(D=0;D<=31;D++,b>>>=1)if(1&b&&0!==m.dyn_ltree[2*D])return 0;if(0!==m.dyn_ltree[18]||0!==m.dyn_ltree[20]||0!==m.dyn_ltree[26])return 1;for(D=32;D<256;D++)if(0!==m.dyn_ltree[2*D])return 1;return 0}(i)),to(i,i.l_desc),to(i,i.d_desc),y=function(m){let D;for(j1(m,m.dyn_ltree,m.l_desc.max_code),j1(m,m.dyn_dtree,m.d_desc.max_code),to(m,m.bl_desc),D=18;D>=3&&0===m.bl_tree[2*M1[D]+1];D--);return m.opt_len+=3*(D+1)+5+5+4,D}(i),u=i.opt_len+3+7>>>3,h=i.static_len+3+7>>>3,h<=u&&(u=h)):u=h=t+5,t+4<=u&&-1!==n?X1(i,n,t,s):4===i.strategy||h===u?(bi(i,2+(s?1:0),3),Z1(i,ia,bs)):(bi(i,4+(s?1:0),3),function(m,D,b,k){let q;for(bi(m,D-257,5),bi(m,b-1,5),bi(m,k-4,4),q=0;q<k;q++)bi(m,m.bl_tree[2*M1[q]+1],3);W1(m,m.dyn_ltree,D-1),W1(m,m.dyn_dtree,b-1)}(i,i.l_desc.max_code+1,i.d_desc.max_code+1,y+1),Z1(i,i.dyn_ltree,i.dyn_dtree)),z1(i),s&&H1(i)})(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,n),i.block_start=i.strstart,ma(i.strm)}function pn(i,n){i.pending_buf[i.pending++]=n}function Bs(i,n){i.pending_buf[i.pending++]=n>>>8&255,i.pending_buf[i.pending++]=255&n}function qc(i,n,t,s){let u=i.avail_in;return u>s&&(u=s),0===u?0:(i.avail_in-=u,Xi(n,i.input,i.next_in,u,t),1===i.state.wrap?i.adler=Ts(i.adler,n,u,t):2===i.state.wrap&&(i.adler=oi(i.adler,n,u,t)),i.next_in+=u,i.total_in+=u,u)}function q1(i,n){let t,s,u=i.max_chain_length,h=i.strstart,y=i.prev_length,m=i.nice_match;const D=i.strstart>i.w_size-262?i.strstart-(i.w_size-262):0,b=i.window,k=i.w_mask,q=i.prev,le=i.strstart+258;let ie=b[h+y-1],Ae=b[h+y];i.prev_length>=i.good_match&&(u>>=2),m>i.lookahead&&(m=i.lookahead);do{if(t=n,b[t+y]===Ae&&b[t+y-1]===ie&&b[t]===b[h]&&b[++t]===b[h+1]){h+=2,t++;do{}while(b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&b[++h]===b[++t]&&h<le);if(s=258-(le-h),h=le-258,s>y){if(i.match_start=n,y=s,s>=m)break;ie=b[h+y-1],Ae=b[h+y]}}}while((n=q[n&k])>D&&0!=--u);return y<=i.lookahead?y:i.lookahead}function Na(i){const n=i.w_size;let t,s,u,h,y;do{if(h=i.window_size-i.lookahead-i.strstart,i.strstart>=n+(n-262)){Xi(i.window,i.window,n,n,0),i.match_start-=n,i.strstart-=n,i.block_start-=n,s=i.hash_size,t=s;do{u=i.head[--t],i.head[t]=u>=n?u-n:0}while(--s);s=n,t=s;do{u=i.prev[--t],i.prev[t]=u>=n?u-n:0}while(--s);h+=n}if(0===i.strm.avail_in)break;if(s=qc(i.strm,i.window,i.strstart+i.lookahead,h),i.lookahead+=s,i.lookahead+i.insert>=3)for(y=i.strstart-i.insert,i.ins_h=i.window[y],i.ins_h=(i.ins_h<<i.hash_shift^i.window[y+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[y+3-1])&i.hash_mask,i.prev[y&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=y,y++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<262&&0!==i.strm.avail_in)}function ro(i,n){let t,s;for(;;){if(i.lookahead<262){if(Na(i),i.lookahead<262&&0===n)return 1;if(0===i.lookahead)break}if(t=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),0!==t&&i.strstart-t<=i.w_size-262&&(i.match_length=q1(i,t)),i.match_length>=3)if(s=pa(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){i.match_length--;do{i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart}while(0!=--i.match_length);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else s=pa(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(s&&(di(i,!1),0===i.strm.avail_out))return 1}return i.insert=i.strstart<2?i.strstart:2,4===n?(di(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(di(i,!1),0===i.strm.avail_out)?1:2}function Ya(i,n){let t,s,u;for(;;){if(i.lookahead<262){if(Na(i),i.lookahead<262&&0===n)return 1;if(0===i.lookahead)break}if(t=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,0!==t&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-262&&(i.match_length=q1(i,t),i.match_length<=5&&(1===i.strategy||3===i.match_length&&i.strstart-i.match_start>4096)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){u=i.strstart+i.lookahead-3,s=pa(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;do{++i.strstart<=u&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart)}while(0!=--i.prev_length);if(i.match_available=0,i.match_length=2,i.strstart++,s&&(di(i,!1),0===i.strm.avail_out))return 1}else if(i.match_available){if(s=pa(i,0,i.window[i.strstart-1]),s&&di(i,!1),i.strstart++,i.lookahead--,0===i.strm.avail_out)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(s=pa(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,4===n?(di(i,!0),0===i.strm.avail_out?3:4):i.last_lit&&(di(i,!1),0===i.strm.avail_out)?1:2}class qi{constructor(n,t,s,u,h){this.good_length=n,this.max_lazy=t,this.nice_length=s,this.max_chain=u,this.func=h}}const ks=[new qi(0,0,0,0,function(i,n){let t=65535;for(t>i.pending_buf_size-5&&(t=i.pending_buf_size-5);;){if(i.lookahead<=1){if(Na(i),0===i.lookahead&&0===n)return 1;if(0===i.lookahead)break}i.strstart+=i.lookahead,i.lookahead=0;const s=i.block_start+t;if((0===i.strstart||i.strstart>=s)&&(i.lookahead=i.strstart-s,i.strstart=s,di(i,!1),0===i.strm.avail_out)||i.strstart-i.block_start>=i.w_size-262&&(di(i,!1),0===i.strm.avail_out))return 1}return i.insert=0,4===n?(di(i,!0),0===i.strm.avail_out?3:4):(i.strstart>i.block_start&&di(i,!1),1)}),new qi(4,4,8,4,ro),new qi(4,5,16,8,ro),new qi(4,6,32,32,ro),new qi(4,4,16,16,Ya),new qi(8,16,32,32,Ya),new qi(8,16,128,128,Ya),new qi(8,32,128,256,Ya),new qi(32,128,258,1024,Ya),new qi(32,258,258,4096,Ya)];class Jc{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Bi(1146),this.dyn_dtree=new Bi(122),this.bl_tree=new Bi(78),xa(this.dyn_ltree),xa(this.dyn_dtree),xa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Bi(16),this.heap=new Bi(573),xa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Bi(573),xa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function el(i,n){let t,s,u,h;if(!i||!i.state||n>5||n<0)return i?ya(i,-2):-2;if(s=i.state,!i.output||!i.input&&0!==i.avail_in||666===s.status&&4!==n)return ya(i,0===i.avail_out?-5:-2);if(s.strm=i,t=s.last_flush,s.last_flush=n,42===s.status)if(2===s.wrap)i.adler=0,pn(s,31),pn(s,139),pn(s,8),s.gzhead?(pn(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),pn(s,255&s.gzhead.time),pn(s,s.gzhead.time>>8&255),pn(s,s.gzhead.time>>16&255),pn(s,s.gzhead.time>>24&255),pn(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),pn(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(pn(s,255&s.gzhead.extra.length),pn(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(i.adler=oi(i.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(pn(s,0),pn(s,0),pn(s,0),pn(s,0),pn(s,0),pn(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),pn(s,3),s.status=113);else{let m=8+(s.w_bits-8<<4)<<8,D=-1;D=s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3,m|=D<<6,0!==s.strstart&&(m|=32),m+=31-m%31,s.status=113,Bs(s,m),0!==s.strstart&&(Bs(s,i.adler>>>16),Bs(s,65535&i.adler)),i.adler=1}if(69===s.status)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),ma(i),u=s.pending,s.pending!==s.pending_buf_size));)pn(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),ma(i),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,pn(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),ma(i),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,pn(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(i.adler=oi(i.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ma(i),s.pending+2<=s.pending_buf_size&&(pn(s,255&i.adler),pn(s,i.adler>>8&255),i.adler=0,s.status=113)):s.status=113),0!==s.pending){if(ma(i),0===i.avail_out)return s.last_flush=-1,0}else if(0===i.avail_in&&Q1(n)<=Q1(t)&&4!==n)return ya(i,-5);if(666===s.status&&0!==i.avail_in)return ya(i,-5);if(0!==i.avail_in||0!==s.lookahead||0!==n&&666!==s.status){var y=2===s.strategy?function(m,D){let b;for(;;){if(0===m.lookahead&&(Na(m),0===m.lookahead)){if(0===D)return 1;break}if(m.match_length=0,b=pa(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,b&&(di(m,!1),0===m.strm.avail_out))return 1}return m.insert=0,4===D?(di(m,!0),0===m.strm.avail_out?3:4):m.last_lit&&(di(m,!1),0===m.strm.avail_out)?1:2}(s,n):3===s.strategy?function(m,D){let b,k,q,le;const ie=m.window;for(;;){if(m.lookahead<=258){if(Na(m),m.lookahead<=258&&0===D)return 1;if(0===m.lookahead)break}if(m.match_length=0,m.lookahead>=3&&m.strstart>0&&(q=m.strstart-1,k=ie[q],k===ie[++q]&&k===ie[++q]&&k===ie[++q])){le=m.strstart+258;do{}while(k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&k===ie[++q]&&q<le);m.match_length=258-(le-q),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=3?(b=pa(m,1,m.match_length-3),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(b=pa(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),b&&(di(m,!1),0===m.strm.avail_out))return 1}return m.insert=0,4===D?(di(m,!0),0===m.strm.avail_out?3:4):m.last_lit&&(di(m,!1),0===m.strm.avail_out)?1:2}(s,n):ks[s.level].func(s,n);if(3!==y&&4!==y||(s.status=666),1===y||3===y)return 0===i.avail_out&&(s.last_flush=-1),0;if(2===y&&(1===n?function Yc(i){var n;bi(i,2,3),Qi(i,256,ia),16===(n=i).bi_valid?(Is(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)}(s):5!==n&&(X1(s,0,0,!1),3===n&&(xa(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),ma(i),0===i.avail_out))return s.last_flush=-1,0}return 4!==n?0:s.wrap<=0?1:(2===s.wrap?(pn(s,255&i.adler),pn(s,i.adler>>8&255),pn(s,i.adler>>16&255),pn(s,i.adler>>24&255),pn(s,255&i.total_in),pn(s,i.total_in>>8&255),pn(s,i.total_in>>16&255),pn(s,i.total_in>>24&255)):(Bs(s,i.adler>>>16),Bs(s,65535&i.adler)),ma(i),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)}try{String.fromCharCode.call(null,0)}catch{}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const no=new Yi(256);for(let i=0;i<256;i++)no[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;function io(i){let n,t,s,u,h=0;const y=i.length;for(s=0;s<y;s++)n=i.charCodeAt(s),55296==(64512&n)&&s+1<y&&(t=i.charCodeAt(s+1),56320==(64512&t)&&(n=65536+(n-55296<<10)+(t-56320),s++)),h+=n<128?1:n<2048?2:n<65536?3:4;const m=new Yi(h);for(u=0,s=0;u<h;s++)n=i.charCodeAt(s),55296==(64512&n)&&s+1<y&&(t=i.charCodeAt(s+1),56320==(64512&t)&&(n=65536+(n-55296<<10)+(t-56320),s++)),n<128?m[u++]=n:n<2048?(m[u++]=192|n>>>6,m[u++]=128|63&n):n<65536?(m[u++]=224|n>>>12,m[u++]=128|n>>>6&63,m[u++]=128|63&n):(m[u++]=240|n>>>18,m[u++]=128|n>>>12&63,m[u++]=128|n>>>6&63,m[u++]=128|63&n);return m}no[254]=no[254]=1;class J1{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class ao{constructor(n){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...n||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J1,this.strm.avail_out=0;var s,h=function(y,m,D,b,k,q){if(!y)return-2;let le=1;if(-1===m&&(m=6),b<0?(le=0,b=-b):b>15&&(le=2,b-=16),k<1||k>9||8!==D||b<8||b>15||m<0||m>9||q<0||q>4)return ya(y,-2);8===b&&(b=9);const ie=new Jc;return y.state=ie,ie.strm=y,ie.wrap=le,ie.gzhead=null,ie.w_bits=b,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=k+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new Yi(2*ie.w_size),ie.head=new Bi(ie.hash_size),ie.prev=new Bi(ie.w_size),ie.lit_bufsize=1<<k+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new Yi(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=m,ie.strategy=q,ie.method=D,function $c(i){const n=function(t){let s;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,s=t.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?42:113,t.adler=2===s.wrap?0:1,s.last_flush=0,function Wc(i){Y1||(function(){let n,t,s,u,h;const y=Array(16);for(s=0,u=0;u<28;u++)for(q0[u]=s,n=0;n<1<<Q0[u];n++)Ss[s++]=u;for(Ss[s-1]=u,h=0,u=0;u<16;u++)for(c0[u]=h,n=0;n<1<<o0[u];n++)Cs[h++]=u;for(h>>=7;u<30;u++)for(c0[u]=h<<7,n=0;n<1<<o0[u]-7;n++)Cs[256+h++]=u;for(t=0;t<=15;t++)y[t]=0;for(n=0;n<=143;)ia[2*n+1]=8,n++,y[8]++;for(;n<=255;)ia[2*n+1]=9,n++,y[9]++;for(;n<=279;)ia[2*n+1]=7,n++,y[7]++;for(;n<=287;)ia[2*n+1]=8,n++,y[8]++;for(V1(ia,287,y),n=0;n<30;n++)bs[2*n+1]=5,bs[2*n]=K1(n,5);O1=new J0(ia,Q0,257,286,15),L1=new J0(bs,o0,0,30,15),U1=new J0([],jc,0,19,7)}(),Y1=!0),i.l_desc=new $0(i.dyn_ltree,O1),i.d_desc=new $0(i.dyn_dtree,L1),i.bl_desc=new $0(i.bl_tree,U1),i.bi_buf=0,i.bi_valid=0,z1(i)}(s),0):ya(t,-2)}(i);return 0===n&&((t=i.state).window_size=2*t.w_size,xa(t.head),t.max_lazy_match=ks[t.level].max_lazy,t.good_match=ks[t.level].good_length,t.nice_match=ks[t.level].nice_length,t.max_chain_length=ks[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n;var t}(y)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==h)throw Error(_s[h]);if(t.header&&(s=this.strm)&&s.state&&(2!==s.state.wrap||(s.state.gzhead=t.header)),t.dictionary){let y;if(y="string"==typeof t.dictionary?io(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,0!==(h=function(m,D){let b,k,q,le,ie,Ae,Ne,Ke,ct=D.length;if(!m||!m.state||(b=m.state,le=b.wrap,2===le||1===le&&42!==b.status||b.lookahead))return-2;for(1===le&&(m.adler=Ts(m.adler,D,ct,0)),b.wrap=0,ct>=b.w_size&&(0===le&&(xa(b.head),b.strstart=0,b.block_start=0,b.insert=0),Ke=new Yi(b.w_size),Xi(Ke,D,ct-b.w_size,b.w_size,0),D=Ke,ct=b.w_size),ie=m.avail_in,Ae=m.next_in,Ne=m.input,m.avail_in=ct,m.next_in=0,m.input=D,Na(b);b.lookahead>=3;){k=b.strstart,q=b.lookahead-2;do{b.ins_h=(b.ins_h<<b.hash_shift^b.window[k+3-1])&b.hash_mask,b.prev[k&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=k,k++}while(--q);b.strstart=k,b.lookahead=2,Na(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=2,b.match_available=0,m.next_in=Ae,m.input=Ne,m.avail_in=ie,b.wrap=le,0}(this.strm,y)))throw Error(_s[h]);this._dict_set=!0}}push(n,t){const{strm:s,options:{chunkSize:u}}=this;var h,y;if(this.ended)return!1;y=t===~~t?t:!0===t?4:0,s.input="string"==typeof n?io(n):n instanceof ArrayBuffer?new Uint8Array(n):n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new Yi(u),s.next_out=0,s.avail_out=u),1!==(h=el(s,y))&&0!==h)return this.onEnd(h),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==y&&2!==y)||this.onData(N1(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==h);return 4===y?(h=function(m){let D;return m&&m.state?(D=m.state.status,42!==D&&69!==D&&73!==D&&91!==D&&103!==D&&113!==D&&666!==D?ya(m,-2):(m.state=null,113===D?ya(m,-3):0)):-2}(this.strm),this.onEnd(h),this.ended=!0,0===h):2!==y||(this.onEnd(0),s.avail_out=0,!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result=P1(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}function tl(i,n){let t,s,u,h,y,m,D,b,k,q;const le=i.state;t=i.next_in;const ie=i.input,Ae=t+(i.avail_in-5);s=i.next_out;const Ne=i.output,Ke=s-(n-i.avail_out),ct=s+(i.avail_out-257),yt=le.dmax,$e=le.wsize,Te=le.whave,vt=le.wnext,ut=le.window;u=le.hold,h=le.bits;const xt=le.lencode,Ct=le.distcode,At=(1<<le.lenbits)-1,Ht=(1<<le.distbits)-1;e:do{h<15&&(u+=ie[t++]<<h,h+=8,u+=ie[t++]<<h,h+=8),y=xt[u&At];t:for(;;){if(m=y>>>24,u>>>=m,h-=m,m=y>>>16&255,0===m)Ne[s++]=65535&y;else{if(!(16&m)){if(0==(64&m)){y=xt[(65535&y)+(u&(1<<m)-1)];continue t}if(32&m){le.mode=12;break e}i.msg="invalid literal/length code",le.mode=30;break e}D=65535&y,m&=15,m&&(h<m&&(u+=ie[t++]<<h,h+=8),D+=u&(1<<m)-1,u>>>=m,h-=m),h<15&&(u+=ie[t++]<<h,h+=8,u+=ie[t++]<<h,h+=8),y=Ct[u&Ht];r:for(;;){if(m=y>>>24,u>>>=m,h-=m,m=y>>>16&255,!(16&m)){if(0==(64&m)){y=Ct[(65535&y)+(u&(1<<m)-1)];continue r}i.msg="invalid distance code",le.mode=30;break e}if(b=65535&y,m&=15,h<m&&(u+=ie[t++]<<h,h+=8,h<m&&(u+=ie[t++]<<h,h+=8)),b+=u&(1<<m)-1,b>yt){i.msg="invalid distance too far back",le.mode=30;break e}if(u>>>=m,h-=m,m=s-Ke,b>m){if(m=b-m,m>Te&&le.sane){i.msg="invalid distance too far back",le.mode=30;break e}if(k=0,q=ut,0===vt){if(k+=$e-m,m<D){D-=m;do{Ne[s++]=ut[k++]}while(--m);k=s-b,q=Ne}}else if(vt<m){if(k+=$e+vt-m,m-=vt,m<D){D-=m;do{Ne[s++]=ut[k++]}while(--m);if(k=0,vt<D){m=vt,D-=m;do{Ne[s++]=ut[k++]}while(--m);k=s-b,q=Ne}}}else if(k+=vt-m,m<D){D-=m;do{Ne[s++]=ut[k++]}while(--m);k=s-b,q=Ne}for(;D>2;)Ne[s++]=q[k++],Ne[s++]=q[k++],Ne[s++]=q[k++],D-=3;D&&(Ne[s++]=q[k++],D>1&&(Ne[s++]=q[k++]))}else{k=s-b;do{Ne[s++]=Ne[k++],Ne[s++]=Ne[k++],Ne[s++]=Ne[k++],D-=3}while(D>2);D&&(Ne[s++]=Ne[k++],D>1&&(Ne[s++]=Ne[k++]))}break}}break}}while(t<Ae&&s<ct);D=h>>3,t-=D,h-=D<<3,u&=(1<<h)-1,i.next_in=t,i.next_out=s,i.avail_in=t<Ae?Ae-t+5:5-(t-Ae),i.avail_out=s<ct?ct-s+257:257-(s-ct),le.hold=u,le.bits=h}const rl=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nl=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],il=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],al=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ns(i,n,t,s,u,h,y,m){const D=m.bits;let b,k,q,le,ie,Ae=0,Ne=0,Ke=0,ct=0,yt=0,$e=0,Te=0,vt=0,ut=0,xt=0,Ct=null,At=0;const Ht=new Bi(16),cr=new Bi(16);let ur,Ar,Zt,mt=null,Gr=0;for(Ae=0;Ae<=15;Ae++)Ht[Ae]=0;for(Ne=0;Ne<s;Ne++)Ht[n[t+Ne]]++;for(yt=D,ct=15;ct>=1&&0===Ht[ct];ct--);if(yt>ct&&(yt=ct),0===ct)return u[h++]=20971520,u[h++]=20971520,m.bits=1,0;for(Ke=1;Ke<ct&&0===Ht[Ke];Ke++);for(yt<Ke&&(yt=Ke),vt=1,Ae=1;Ae<=15;Ae++)if(vt<<=1,vt-=Ht[Ae],vt<0)return-1;if(vt>0&&(0===i||1!==ct))return-1;for(cr[1]=0,Ae=1;Ae<15;Ae++)cr[Ae+1]=cr[Ae]+Ht[Ae];for(Ne=0;Ne<s;Ne++)0!==n[t+Ne]&&(y[cr[n[t+Ne]]++]=Ne);0===i?(Ct=mt=y,ie=19):1===i?(Ct=rl,At-=257,mt=nl,Gr-=257,ie=256):(Ct=il,mt=al,ie=-1),xt=0,Ne=0,Ae=Ke,le=h,$e=yt,Te=0,q=-1,ut=1<<yt;const dt=ut-1;if(1===i&&ut>852||2===i&&ut>592)return 1;for(;;){ur=Ae-Te,y[Ne]<ie?(Ar=0,Zt=y[Ne]):y[Ne]>ie?(Ar=mt[Gr+y[Ne]],Zt=Ct[At+y[Ne]]):(Ar=96,Zt=0),b=1<<Ae-Te,k=1<<$e,Ke=k;do{k-=b,u[le+(xt>>Te)+k]=ur<<24|Ar<<16|Zt|0}while(0!==k);for(b=1<<Ae-1;xt&b;)b>>=1;if(0!==b?(xt&=b-1,xt+=b):xt=0,Ne++,0==--Ht[Ae]){if(Ae===ct)break;Ae=n[t+y[Ne]]}if(Ae>yt&&(xt&dt)!==q){for(0===Te&&(Te=yt),le+=Ke,$e=Ae-Te,vt=1<<$e;$e+Te<ct&&(vt-=Ht[$e+Te],!(vt<=0));)$e++,vt<<=1;if(ut+=1<<$e,1===i&&ut>852||2===i&&ut>592)return 1;q=xt&dt,u[q]=yt<<24|$e<<16|le-h|0}}return 0!==xt&&(u[le+xt]=Ae-Te<<24|64<<16|0),m.bits=yt,0}function $1(i){return(i>>>24&255)+(i>>>8&65280)+((65280&i)<<8)+((255&i)<<24)}class sl{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Bi(320),this.work=new Bi(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let so,oo,ec=!0;function ll(i){if(ec){let n;for(so=new s0(512),oo=new s0(32),n=0;n<144;)i.lens[n++]=8;for(;n<256;)i.lens[n++]=9;for(;n<280;)i.lens[n++]=7;for(;n<288;)i.lens[n++]=8;for(Ns(1,i.lens,0,288,so,0,i.work,{bits:9}),n=0;n<32;)i.lens[n++]=5;Ns(2,i.lens,0,32,oo,0,i.work,{bits:5}),ec=!1}i.lencode=so,i.lenbits=9,i.distcode=oo,i.distbits=5}function tc(i,n,t,s){let u;const h=i.state;return null===h.window&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new Yi(h.wsize)),s>=h.wsize?(Xi(h.window,n,t-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):(u=h.wsize-h.wnext,u>s&&(u=s),Xi(h.window,n,t-s,u,h.wnext),(s-=u)?(Xi(h.window,n,t-s,s,0),h.wnext=s,h.whave=h.wsize):(h.wnext+=u,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=u))),0}function ul(i,n){let t,s,u,h,y,m,D,b,k,q,le,ie,Ae,Ne,Ke,ct,yt,$e,Te,vt,ut,xt,Ct,At,Ht=0,cr=new Yi(4);const ur=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&0!==i.avail_in)return-2;t=i.state,12===t.mode&&(t.mode=13),y=i.next_out,u=i.output,D=i.avail_out,h=i.next_in,s=i.input,m=i.avail_in,b=t.hold,k=t.bits,q=m,le=D,xt=0;e:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;k<16;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(2&t.wrap&&35615===b){t.check=0,cr[0]=255&b,cr[1]=b>>>8&255,t.check=oi(t.check,cr,2,0),b=0,k=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&b)<<8)+(b>>8))%31){i.msg="incorrect header check",t.mode=30;break}if(8!=(15&b)){i.msg="unknown compression method",t.mode=30;break}if(b>>>=4,k-=4,ut=8+(15&b),0===t.wbits)t.wbits=ut;else if(ut>t.wbits){i.msg="invalid window size",t.mode=30;break}t.dmax=1<<ut,i.adler=t.check=1,t.mode=512&b?10:12,b=0,k=0;break;case 2:for(;k<16;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(t.flags=b,8!=(255&t.flags)){i.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){i.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=b>>8&1),512&t.flags&&(cr[0]=255&b,cr[1]=b>>>8&255,t.check=oi(t.check,cr,2,0)),b=0,k=0,t.mode=3;case 3:for(;k<32;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.head&&(t.head.time=b),512&t.flags&&(cr[0]=255&b,cr[1]=b>>>8&255,cr[2]=b>>>16&255,cr[3]=b>>>24&255,t.check=oi(t.check,cr,4,0)),b=0,k=0,t.mode=4;case 4:for(;k<16;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.head&&(t.head.xflags=255&b,t.head.os=b>>8),512&t.flags&&(cr[0]=255&b,cr[1]=b>>>8&255,t.check=oi(t.check,cr,2,0)),b=0,k=0,t.mode=5;case 5:if(1024&t.flags){for(;k<16;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.length=b,t.head&&(t.head.extra_len=b),512&t.flags&&(cr[0]=255&b,cr[1]=b>>>8&255,t.check=oi(t.check,cr,2,0)),b=0,k=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&(ie=t.length,ie>m&&(ie=m),ie&&(t.head&&(ut=t.head.extra_len-t.length,t.head.extra||(t.head.extra=Array(t.head.extra_len)),Xi(t.head.extra,s,h,ie,ut)),512&t.flags&&(t.check=oi(t.check,s,ie,h)),m-=ie,h+=ie,t.length-=ie),t.length))break e;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===m)break e;ie=0;do{ut=s[h+ie++],t.head&&ut&&t.length<65536&&(t.head.name+=String.fromCharCode(ut))}while(ut&&ie<m);if(512&t.flags&&(t.check=oi(t.check,s,ie,h)),m-=ie,h+=ie,ut)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===m)break e;ie=0;do{ut=s[h+ie++],t.head&&ut&&t.length<65536&&(t.head.comment+=String.fromCharCode(ut))}while(ut&&ie<m);if(512&t.flags&&(t.check=oi(t.check,s,ie,h)),m-=ie,h+=ie,ut)break e}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;k<16;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(b!==(65535&t.check)){i.msg="header crc mismatch",t.mode=30;break}b=0,k=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=12;break;case 10:for(;k<32;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}i.adler=t.check=$1(b),b=0,k=0,t.mode=11;case 11:if(0===t.havedict)return i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=m,t.hold=b,t.bits=k,2;i.adler=t.check=1,t.mode=12;case 12:if(5===n||6===n)break e;case 13:if(t.last){b>>>=7&k,k-=7&k,t.mode=27;break}for(;k<3;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}switch(t.last=1&b,b>>>=1,k-=1,3&b){case 0:t.mode=14;break;case 1:if(ll(t),t.mode=20,6===n){b>>>=2,k-=2;break e}break;case 2:t.mode=17;break;case 3:i.msg="invalid block type",t.mode=30}b>>>=2,k-=2;break;case 14:for(b>>>=7&k,k-=7&k;k<32;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if((65535&b)!=(b>>>16^65535)){i.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&b,b=0,k=0,t.mode=15,6===n)break e;case 15:t.mode=16;case 16:if(ie=t.length,ie){if(ie>m&&(ie=m),ie>D&&(ie=D),0===ie)break e;Xi(u,s,h,ie,y),m-=ie,h+=ie,D-=ie,y+=ie,t.length-=ie;break}t.mode=12;break;case 17:for(;k<14;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(t.nlen=257+(31&b),b>>>=5,k-=5,t.ndist=1+(31&b),b>>>=5,k-=5,t.ncode=4+(15&b),b>>>=4,k-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;k<3;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.lens[ur[t.have++]]=7&b,b>>>=3,k-=3}for(;t.have<19;)t.lens[ur[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Ct={bits:t.lenbits},xt=Ns(0,t.lens,0,19,t.lencode,0,t.work,Ct),t.lenbits=Ct.bits,xt){i.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;Ht=t.lencode[b&(1<<t.lenbits)-1],Ke=Ht>>>24,ct=Ht>>>16&255,yt=65535&Ht,!(Ke<=k);){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(yt<16)b>>>=Ke,k-=Ke,t.lens[t.have++]=yt;else{if(16===yt){for(At=Ke+2;k<At;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(b>>>=Ke,k-=Ke,0===t.have){i.msg="invalid bit length repeat",t.mode=30;break}ut=t.lens[t.have-1],ie=3+(3&b),b>>>=2,k-=2}else if(17===yt){for(At=Ke+3;k<At;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}b>>>=Ke,k-=Ke,ut=0,ie=3+(7&b),b>>>=3,k-=3}else{for(At=Ke+7;k<At;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}b>>>=Ke,k-=Ke,ut=0,ie=11+(127&b),b>>>=7,k-=7}if(t.have+ie>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=30;break}for(;ie--;)t.lens[t.have++]=ut}}if(30===t.mode)break;if(0===t.lens[256]){i.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,Ct={bits:t.lenbits},xt=Ns(1,t.lens,0,t.nlen,t.lencode,0,t.work,Ct),t.lenbits=Ct.bits,xt){i.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,Ct={bits:t.distbits},xt=Ns(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Ct),t.distbits=Ct.bits,xt){i.msg="invalid distances set",t.mode=30;break}if(t.mode=20,6===n)break e;case 20:t.mode=21;case 21:if(m>=6&&D>=258){i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=m,t.hold=b,t.bits=k,tl(i,le),y=i.next_out,u=i.output,D=i.avail_out,h=i.next_in,s=i.input,m=i.avail_in,b=t.hold,k=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;Ht=t.lencode[b&(1<<t.lenbits)-1],Ke=Ht>>>24,ct=Ht>>>16&255,yt=65535&Ht,!(Ke<=k);){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(ct&&0==(240&ct)){for($e=Ke,Te=ct,vt=yt;Ht=t.lencode[vt+((b&(1<<$e+Te)-1)>>$e)],Ke=Ht>>>24,ct=Ht>>>16&255,yt=65535&Ht,!($e+Ke<=k);){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}b>>>=$e,k-=$e,t.back+=$e}if(b>>>=Ke,k-=Ke,t.back+=Ke,t.length=yt,0===ct){t.mode=26;break}if(32&ct){t.back=-1,t.mode=12;break}if(64&ct){i.msg="invalid literal/length code",t.mode=30;break}t.extra=15&ct,t.mode=22;case 22:if(t.extra){for(At=t.extra;k<At;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.length+=b&(1<<t.extra)-1,b>>>=t.extra,k-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;Ht=t.distcode[b&(1<<t.distbits)-1],Ke=Ht>>>24,ct=Ht>>>16&255,yt=65535&Ht,!(Ke<=k);){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(0==(240&ct)){for($e=Ke,Te=ct,vt=yt;Ht=t.distcode[vt+((b&(1<<$e+Te)-1)>>$e)],Ke=Ht>>>24,ct=Ht>>>16&255,yt=65535&Ht,!($e+Ke<=k);){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}b>>>=$e,k-=$e,t.back+=$e}if(b>>>=Ke,k-=Ke,t.back+=Ke,64&ct){i.msg="invalid distance code",t.mode=30;break}t.offset=yt,t.extra=15&ct,t.mode=24;case 24:if(t.extra){for(At=t.extra;k<At;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}t.offset+=b&(1<<t.extra)-1,b>>>=t.extra,k-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===D)break e;if(ie=le-D,t.offset>ie){if(ie=t.offset-ie,ie>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=30;break}ie>t.wnext?(ie-=t.wnext,Ae=t.wsize-ie):Ae=t.wnext-ie,ie>t.length&&(ie=t.length),Ne=t.window}else Ne=u,Ae=y-t.offset,ie=t.length;ie>D&&(ie=D),D-=ie,t.length-=ie;do{u[y++]=Ne[Ae++]}while(--ie);0===t.length&&(t.mode=21);break;case 26:if(0===D)break e;u[y++]=t.length,D--,t.mode=21;break;case 27:if(t.wrap){for(;k<32;){if(0===m)break e;m--,b|=s[h++]<<k,k+=8}if(le-=D,i.total_out+=le,t.total+=le,le&&(i.adler=t.check=t.flags?oi(t.check,u,le,y-le):Ts(t.check,u,le,y-le)),le=D,(t.flags?b:$1(b))!==t.check){i.msg="incorrect data check",t.mode=30;break}b=0,k=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;k<32;){if(0===m)break e;m--,b+=s[h++]<<k,k+=8}if(b!==(4294967295&t.total)){i.msg="incorrect length check",t.mode=30;break}b=0,k=0}t.mode=29;case 29:xt=1;break e;case 30:xt=-3;break e;default:return-2}return i.next_out=y,i.avail_out=D,i.next_in=h,i.avail_in=m,t.hold=b,t.bits=k,(t.wsize||le!==i.avail_out&&t.mode<30&&(t.mode<27||4!==n))&&tc(i,i.output,i.next_out,le-i.avail_out),q-=i.avail_in,le-=i.avail_out,i.total_in+=q,i.total_out+=le,t.total+=le,t.wrap&&le&&(i.adler=t.check=t.flags?oi(t.check,u,le,i.next_out-le):Ts(t.check,u,le,i.next_out-le)),i.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===q&&0===le||4===n)&&0===xt&&(xt=-5),xt}function rc(i,n){const t=n.length;let s,u;return i&&i.state?(s=i.state,0!==s.wrap&&11!==s.mode?-2:11===s.mode&&(u=1,u=Ts(u,n,t,0),u!==s.check)?-3:(tc(i,n,t,t),s.havedict=1,0)):-2}class fl{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class nc{constructor(n){this.options={chunkSize:16384,windowBits:0,...n||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new J1,this.strm.avail_out=0;let s=function cl(i,n){let t,s;return i?(s=new sl,i.state=s,s.window=null,t=function(u,h){let y,m;return u&&u.state?(m=u.state,h<0?(y=0,h=-h):(y=1+(h>>4),h<48&&(h&=15)),h&&(h<8||h>15)?-2:(null!==m.window&&m.wbits!==h&&(m.window=null),m.wrap=y,m.wbits=h,function ol(i){let n;return i&&i.state?(n=i.state,n.wsize=0,n.whave=0,n.wnext=0,function(t){let s;return t&&t.state?(s=t.state,t.total_in=t.total_out=s.total=0,t.msg="",s.wrap&&(t.adler=1&s.wrap),s.mode=1,s.last=0,s.havedict=0,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new s0(852),s.distcode=s.distdyn=new s0(592),s.sane=1,s.back=-1,0):-2}(i)):-2}(u))):-2}(i,n),0!==t&&(i.state=null),t):-2}(this.strm,t.windowBits);if(0!==s||(this.header=new fl,function(u,h){let y;u&&u.state&&(y=u.state,0==(2&y.wrap)||(y.head=h,h.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=io(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=rc(this.strm,t.dictionary),0!==s))))throw Error(_s[s])}push(n,t){const{strm:s,options:{chunkSize:u,dictionary:h}}=this;let y,m,D=!1;if(this.ended)return!1;m=t===~~t?t:!0===t?4:0,s.input="string"==typeof n?function(b){const k=new Yi(b.length);for(let q=0,le=k.length;q<le;q++)k[q]=b.charCodeAt(q);return k}(n):n instanceof ArrayBuffer?new Uint8Array(n):n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new Yi(u),s.next_out=0,s.avail_out=u),y=ul(s,0),2===y&&h&&(y=rc(this.strm,h)),-5===y&&!0===D&&(y=0,D=!1),1!==y&&0!==y)return this.onEnd(y),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&1!==y&&(0!==s.avail_in||4!==m&&2!==m)||this.onData(N1(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(D=!0)}while((s.avail_in>0||0===s.avail_out)&&1!==y);return 1===y&&(m=4),4===m?(y=function(b){if(!b||!b.state)return-2;const k=b.state;return k.window&&(k.window=null),b.state=null,0}(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==m||(this.onEnd(0),s.avail_out=0,!0)}onData(n){this.chunks.push(n)}onEnd(n){0===n&&(this.result=P1(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg}}var ic=[0,1,3,7,15,31,63,127,255],Ds=function(i){this.stream=i,this.bitOffset=0,this.curByte=0,this.hasByte=!1};Ds.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},Ds.prototype.read=function(i){for(var n=0;i>0;){this._ensureByte();var t=8-this.bitOffset;if(i>=t)n<<=t,n|=ic[t]&this.curByte,this.hasByte=!1,this.bitOffset=0,i-=t;else{n<<=i;var s=t-i;n|=(this.curByte&ic[i]<<s)>>s,this.bitOffset+=i,i=0}}return n},Ds.prototype.seek=function(i){var n=i%8,t=(i-n)/8;this.bitOffset=n,this.stream.seek(t),this.hasByte=!1},Ds.prototype.pi=function(){var i,n=new Uint8Array(6);for(i=0;i<n.length;i++)n[i]=this.read(8);return Array.prototype.map.call(n,s=>("00"+s.toString(16)).slice(-2)).join("")};var hl=Ds,Da=function(){};Da.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},Da.prototype.read=function(i,n,t){for(var s=0;s<t;){var u=this.readByte();if(u<0)return 0===s?-1:s;i[n++]=u,s++}return s},Da.prototype.seek=function(i){throw Error("abstract method seek() not implemented")},Da.prototype.writeByte=function(i){throw Error("abstract method readByte() not implemented")},Da.prototype.write=function(i,n,t){var s;for(s=0;s<t;s++)this.writeByte(i[n++]);return t},Da.prototype.flush=function(){};var co,ac=Da,dl=(co=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var i=4294967295;this.getCRC=function(){return~i>>>0},this.updateCRC=function(n){i=i<<8^co[255&(i>>>24^n)]},this.updateCRCRun=function(n,t){for(;t-- >0;)i=i<<8^co[255&(i>>>24^n)]}}),sc=function(i,n){var t,s=i[n];for(t=n;t>0;t--)i[t]=i[t-1];return i[0]=s,s},va={"-1":"Bad file checksum","-2":"Not bzip data","-3":"Unexpected input EOF","-4":"Unexpected output EOF","-5":"Data error","-6":"Out of memory","-7":"Obsolete (pre 0.9.5) bzip format not supported."},gi=function(i,n){var t=va[i]||"unknown error";n&&(t+=": "+n);var s=new TypeError(t);throw s.errorCode=i,s},Rs=function(i,n){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(i,n)};Rs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new dl,!0):(this.writeCount=-1,!1)},Rs.prototype._start_bunzip=function(i,n){var t=new Uint8Array(4);4===i.read(t,0,4)&&"BZh"===String.fromCharCode(t[0],t[1],t[2])||gi(-2,"bad magic");var s=t[3]-48;(s<1||s>9)&&gi(-2,"level out of range"),this.reader=new hl(i),this.dbufSize=1e5*s,this.nextoutput=0,this.outputStream=n,this.streamCRC=0},Rs.prototype._get_next_block=function(){var i,n,t,s=this.reader,u=s.pi();if("177245385090"===u)return!1;"314159265359"!==u&&gi(-2),this.targetBlockCRC=s.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,s.read(1)&&gi(-7);var h=s.read(24);h>this.dbufSize&&gi(-5,"initial position out of bounds");var y=s.read(16),m=new Uint8Array(256),D=0;for(i=0;i<16;i++)if(y&1<<15-i){var b=16*i;for(t=s.read(16),n=0;n<16;n++)t&1<<15-n&&(m[D++]=b+n)}var k=s.read(3);(k<2||k>6)&&gi(-5);var q=s.read(15);0===q&&gi(-5);var le=new Uint8Array(256);for(i=0;i<k;i++)le[i]=i;var ie=new Uint8Array(q);for(i=0;i<q;i++){for(n=0;s.read(1);n++)n>=k&&gi(-5);ie[i]=sc(le,n)}var Ae,Ne=D+2,Ke=[];for(n=0;n<k;n++){var ct,yt,$e=new Uint8Array(Ne),Te=new Uint16Array(21);for(y=s.read(5),i=0;i<Ne;i++){for(;(y<1||y>20)&&gi(-5),s.read(1);)s.read(1)?y--:y++;$e[i]=y}for(ct=yt=$e[0],i=1;i<Ne;i++)$e[i]>yt?yt=$e[i]:$e[i]<ct&&(ct=$e[i]);Ke.push(Ae={}),Ae.permute=new Uint16Array(258),Ae.limit=new Uint32Array(22),Ae.base=new Uint32Array(21),Ae.minLen=ct,Ae.maxLen=yt;var vt=0;for(i=ct;i<=yt;i++)for(Te[i]=Ae.limit[i]=0,y=0;y<Ne;y++)$e[y]===i&&(Ae.permute[vt++]=y);for(i=0;i<Ne;i++)Te[$e[i]]++;for(vt=y=0,i=ct;i<yt;i++)Ae.limit[i]=(vt+=Te[i])-1,Ae.base[i+1]=(vt<<=1)-(y+=Te[i]);Ae.limit[yt+1]=Number.MAX_VALUE,Ae.limit[yt]=vt+Te[yt]-1,Ae.base[ct]=0}var ut=new Uint32Array(256);for(i=0;i<256;i++)le[i]=i;var xt,Ct=0,At=0,Ht=0,cr=this.dbuf=new Uint32Array(this.dbufSize);for(Ne=0;;){for(Ne--||(Ne=49,Ht>=q&&gi(-5),Ae=Ke[ie[Ht++]]),n=s.read(i=Ae.minLen);i>Ae.maxLen&&gi(-5),!(n<=Ae.limit[i]);i++)n=n<<1|s.read(1);((n-=Ae.base[i])<0||n>=258)&&gi(-5);var ur=Ae.permute[n];if(0!==ur&&1!==ur){if(Ct)for(Ct=0,At+y>this.dbufSize&&gi(-5),ut[xt=m[le[0]]]+=y;y--;)cr[At++]=xt;if(ur>D)break;At>=this.dbufSize&&gi(-5),ut[xt=m[xt=sc(le,i=ur-1)]]++,cr[At++]=xt}else Ct||(Ct=1,y=0),y+=0===ur?Ct:2*Ct,Ct<<=1}for((h<0||h>=At)&&gi(-5),n=0,i=0;i<256;i++)t=n+ut[i],ut[i]=n,n=t;for(i=0;i<At;i++)cr[ut[xt=255&cr[i]]]|=i<<8,ut[xt]++;var Ar=0,Zt=0,mt=0;return At&&(Zt=255&(Ar=cr[h]),Ar>>=8,mt=-1),this.writePos=Ar,this.writeCurrent=Zt,this.writeCount=At,this.writeRun=mt,!0},Rs.prototype._read_bunzip=function(i,n){var t,s,u;if(this.writeCount<0)return 0;for(var h=this.dbuf,y=this.writePos,m=this.writeCurrent,D=this.writeCount,b=this.writeRun;D;){for(D--,s=m,m=255&(y=h[y]),y>>=8,3==b++?(t=m,u=s,m=-1):(t=1,u=m),this.blockCRC.updateCRCRun(u,t);t--;)this.outputStream.writeByte(u),this.nextoutput++;m!=s&&(b=0)}return this.writeCount=D,this.blockCRC.getCRC()!==this.targetBlockCRC&&gi(-5,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var oc=function(i,n,t){for(var s=function(i){if("readByte"in i)return i;var n=new ac;return n.pos=0,n.readByte=function(){return i[this.pos++]},n.seek=function(t){this.pos=t},n.eof=function(){return this.pos>=i.length},n}(i),u=function(i){var n=new ac,t=!0;if(i)if("number"==typeof i)n.buffer=new Uint8Array(i),t=!1;else{if("writeByte"in i)return i;n.buffer=i,t=!1}else n.buffer=new Uint8Array(16384);return n.pos=0,n.writeByte=function(s){if(t&&this.pos>=this.buffer.length){var u=new Uint8Array(2*this.buffer.length);u.set(this.buffer),this.buffer=u}this.buffer[this.pos++]=s},n.getBuffer=function(){if(this.pos!==this.buffer.length){if(!t)throw new TypeError("outputsize does not match decoded input");var s=new Uint8Array(this.pos);s.set(this.buffer.subarray(0,this.pos)),this.buffer=s}return this.buffer},n._coerced=!0,n}(n),h=new Rs(s,u);!("eof"in s)||!s.eof();)if(h._init_block())h._read_bunzip();else{var y=h.reader.read(32)>>>0;if(y!==h.streamCRC&&gi(-5,"Bad stream CRC (got "+h.streamCRC.toString(16)+" expected "+y.toString(16)+")"),!t||!("eof"in s)||s.eof())break;h._start_bunzip(s,u)}if("getBuffer"in u)return u.getBuffer()};class wa{static get tag(){return te.packet.literalData}constructor(n=new Date){this.format=te.literal.utf8,this.date=ee.normalizeDate(n),this.text=null,this.data=null,this.filename=""}setText(n,t=te.literal.utf8){this.format=t,this.text=n,this.data=null}getText(n=!1){return(null===this.text||ee.isStream(this.text))&&(this.text=ee.decodeUTF8(ee.nativeEOL(this.getBytes(n)))),this.text}setBytes(n,t){this.format=t,this.data=n,this.text=null}getBytes(n=!1){return null===this.data&&(this.data=ee.canonicalizeEOL(ee.encodeUTF8(this.text))),n?Rt(this.data):this.data}setFilename(n){this.filename=n}getFilename(){return this.filename}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte(),y=yield u.readByte();t.filename=ee.decodeUTF8(yield u.readBytes(y)),t.date=ee.readDate(yield u.readBytes(4));let m=u.remainder();A(m)&&(m=yield et(m)),t.setBytes(m,h)});return function(u){return s.apply(this,arguments)}}())})()}writeHeader(){const n=ee.encodeUTF8(this.filename),t=new Uint8Array([n.length]),s=new Uint8Array([this.format]),u=ee.writeDate(this.date);return ee.concatUint8Array([s,t,n,u])}write(){const n=this.writeHeader(),t=this.getBytes();return ee.concat([n,t])}}const Ps=Symbol("verified"),yl=new Set([te.signatureSubpacket.issuer,te.signatureSubpacket.issuerFingerprint,te.signatureSubpacket.embeddedSignature]);class ri{static get tag(){return te.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new hn,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Ps]=null}read(n){let t=0;if(this.version=n[t++],4!==this.version&&5!==this.version)throw new Qr(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=n[t++],this.publicKeyAlgorithm=n[t++],this.hashAlgorithm=n[t++],t+=this.readSubPackets(n.subarray(t,n.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=n.subarray(0,t),t+=this.readSubPackets(n.subarray(t,n.length),!1),this.signedHashValue=n.subarray(t,t+2),t+=2,this.params=wr.signature.parseSignatureParams(this.publicKeyAlgorithm,n.subarray(t,n.length))}writeParams(){var n=this;return this.params instanceof Promise?ue((0,f.Z)(function*(){return wr.serializeParams(n.publicKeyAlgorithm,yield n.params)})):wr.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const n=[];return n.push(this.signatureData),n.push(this.writeUnhashedSubPackets()),n.push(this.signedHashValue),n.push(this.writeParams()),ee.concat(n)}sign(n,t,s=new Date,u=!1){var h=this;return(0,f.Z)(function*(){h.version=5===n.version?5:4;const y=[new Uint8Array([h.version,h.signatureType,h.publicKeyAlgorithm,h.hashAlgorithm])];h.created=ee.normalizeDate(s),h.issuerKeyVersion=n.version,h.issuerFingerprint=n.getFingerprintBytes(),h.issuerKeyID=n.getKeyID(),y.push(h.writeHashedSubPackets()),h.signatureData=ee.concat(y);const m=h.toHash(h.signatureType,t,u),D=yield h.hash(h.signatureType,t,m,u);h.signedHashValue=sr(gr(D),0,2);const b=function(){var k=(0,f.Z)(function*(){return wr.signature.sign(h.publicKeyAlgorithm,h.hashAlgorithm,n.publicParams,n.privateParams,m,yield et(D))});return function(){return k.apply(this,arguments)}}();ee.isStream(D)?h.params=b():(h.params=yield b(),h[Ps]=!0)})()}writeHashedSubPackets(){const n=te.signatureSubpacket,t=[];let s;if(null===this.created)throw Error("Missing signature creation time");t.push(Un(n.signatureCreationTime,ee.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(Un(n.signatureExpirationTime,ee.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(Un(n.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(s=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(Un(n.trustSignature,s))),null!==this.regularExpression&&t.push(Un(n.regularExpression,this.regularExpression)),null!==this.revocable&&t.push(Un(n.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(Un(n.keyExpirationTime,ee.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(Un(n.preferredSymmetricAlgorithms,s))),null!==this.revocationKeyClass&&(s=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),s=ee.concat([s,this.revocationKeyFingerprint]),t.push(Un(n.revocationKey,s))),this.rawNotations.forEach(([{name:y,value:m,humanReadable:D}])=>{s=[new Uint8Array([D?128:0,0,0,0])],s.push(ee.writeNumber(y.length,2)),s.push(ee.writeNumber(m.length,2)),s.push(ee.stringToUint8Array(y)),s.push(m),s=ee.concat(s),t.push(Un(n.notationData,s))}),null!==this.preferredHashAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(Un(n.preferredHashAlgorithms,s))),null!==this.preferredCompressionAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(Un(n.preferredCompressionAlgorithms,s))),null!==this.keyServerPreferences&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyServerPreferences)),t.push(Un(n.keyServerPreferences,s))),null!==this.preferredKeyServer&&t.push(Un(n.preferredKeyServer,ee.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(Un(n.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(Un(n.policyURI,ee.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.keyFlags)),t.push(Un(n.keyFlags,s))),null!==this.signersUserID&&t.push(Un(n.signersUserID,ee.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(s=ee.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(Un(n.reasonForRevocation,s))),null!==this.features&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.features)),t.push(Un(n.features,s))),null!==this.signatureTargetPublicKeyAlgorithm&&(s=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],s.push(ee.stringToUint8Array(this.signatureTargetHash)),s=ee.concat(s),t.push(Un(n.signatureTarget,s))),null!==this.preferredAEADAlgorithms&&(s=ee.stringToUint8Array(ee.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(Un(n.preferredAEADAlgorithms,s)));const u=ee.concat(t),h=ee.writeNumber(u.length,2);return ee.concat([h,u])}writeUnhashedSubPackets(){const n=te.signatureSubpacket,t=[];let s;this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(Un(n.issuer,this.issuerKeyID.write())),null!==this.embeddedSignature&&t.push(Un(n.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(s=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],s=ee.concat(s),t.push(Un(n.issuerFingerprint,s))),this.unhashedSubpackets.forEach(y=>{t.push(Nt(y.length)),t.push(y)});const u=ee.concat(t),h=ee.writeNumber(u.length,2);return ee.concat([h,u])}readSubPacket(n,t=!0){let s=0;const u=128&n[s],h=127&n[s];if(t||yl.has(h))switch(s++,h){case te.signatureSubpacket.signatureCreationTime:this.created=ee.readDate(n.subarray(s,n.length));break;case te.signatureSubpacket.signatureExpirationTime:{const y=ee.readNumber(n.subarray(s,n.length));this.signatureNeverExpires=0===y,this.signatureExpirationTime=y;break}case te.signatureSubpacket.exportableCertification:this.exportable=1===n[s++];break;case te.signatureSubpacket.trustSignature:this.trustLevel=n[s++],this.trustAmount=n[s++];break;case te.signatureSubpacket.regularExpression:this.regularExpression=n[s];break;case te.signatureSubpacket.revocable:this.revocable=1===n[s++];break;case te.signatureSubpacket.keyExpirationTime:{const y=ee.readNumber(n.subarray(s,n.length));this.keyExpirationTime=y,this.keyNeverExpires=0===y;break}case te.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.revocationKey:this.revocationKeyClass=n[s++],this.revocationKeyAlgorithm=n[s++],this.revocationKeyFingerprint=n.subarray(s,s+20);break;case te.signatureSubpacket.issuer:this.issuerKeyID.read(n.subarray(s,n.length));break;case te.signatureSubpacket.notationData:{const y=!!(128&n[s]);s+=4;const m=ee.readNumber(n.subarray(s,s+2));s+=2;const D=ee.readNumber(n.subarray(s,s+2));s+=2;const b=ee.uint8ArrayToString(n.subarray(s,s+m)),k=n.subarray(s+m,s+m+D);this.rawNotations.push({name:b,humanReadable:y,value:k,critical:u}),y&&(this.notations[b]=ee.uint8ArrayToString(k));break}case te.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=ee.uint8ArrayToString(n.subarray(s,n.length));break;case te.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==n[s++];break;case te.signatureSubpacket.policyURI:this.policyURI=ee.uint8ArrayToString(n.subarray(s,n.length));break;case te.signatureSubpacket.keyFlags:this.keyFlags=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.signersUserID:this.signersUserID=ee.uint8ArrayToString(n.subarray(s,n.length));break;case te.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=n[s++],this.reasonForRevocationString=ee.uint8ArrayToString(n.subarray(s,n.length));break;case te.signatureSubpacket.features:this.features=[...n.subarray(s,n.length)];break;case te.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=n[s++],this.signatureTargetHashAlgorithm=n[s++];const y=wr.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=ee.uint8ArrayToString(n.subarray(s,s+y));break}case te.signatureSubpacket.embeddedSignature:this.embeddedSignature=new ri,this.embeddedSignature.read(n.subarray(s,n.length));break;case te.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=n[s++],this.issuerFingerprint=n.subarray(s,n.length),this.issuerKeyID.read(5===this.issuerKeyVersion?this.issuerFingerprint:this.issuerFingerprint.subarray(-8));break;case te.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...n.subarray(s,n.length)];break;default:{const y=Error("Unknown signature subpacket type "+h);if(u)throw y;ee.printDebug(y)}}else this.unhashedSubpackets.push(n.subarray(s,n.length))}readSubPackets(n,t=!0,s){const u=ee.readNumber(n.subarray(0,2));let h=2;for(;h<2+u;){const y=or(n.subarray(h,n.length));h+=y.offset,this.readSubPacket(n.subarray(h,h+y.len),t,s),h+=y.len}return h}toSign(n,t){const s=te.signature;switch(n){case s.binary:return null!==t.text?ee.encodeUTF8(t.getText(!0)):t.getBytes(!0);case s.text:{const u=t.getBytes(!0);return ee.canonicalizeEOL(u)}case s.standalone:return new Uint8Array(0);case s.certGeneric:case s.certPersona:case s.certCasual:case s.certPositive:case s.certRevocation:{let u,h;if(t.userID)h=180,u=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");h=209,u=t.userAttribute}const y=u.write();return ee.concat([this.toSign(s.key,t),new Uint8Array([h]),ee.writeNumber(y.length,4),y])}case s.subkeyBinding:case s.subkeyRevocation:case s.keyBinding:return ee.concat([this.toSign(s.key,t),this.toSign(s.key,{key:t.bind})]);case s.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case s.keyRevocation:return this.toSign(s.key,t);case s.timestamp:return new Uint8Array(0);case s.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(n,t){let s=0;return Je(gr(this.signatureData),u=>{s+=u.length},()=>{const u=[];return 5!==this.version||this.signatureType!==te.signature.binary&&this.signatureType!==te.signature.text||u.push(t?new Uint8Array(6):n.writeHeader()),u.push(new Uint8Array([this.version,255])),5===this.version&&u.push(new Uint8Array(4)),u.push(ee.writeNumber(s,4)),ee.concat(u)})}toHash(n,t,s=!1){const u=this.toSign(n,t);return ee.concat([u,this.signatureData,this.calculateTrailer(t,s)])}hash(n,t,s,u=!1){var h=this;return(0,f.Z)(function*(){return s||(s=h.toHash(n,t,u)),wr.hash.digest(h.hashAlgorithm,s)})()}verify(n,t,s,u=new Date,h=!1,y=Mt){var m=this;return(0,f.Z)(function*(){if(!m.issuerKeyID.equals(n.getKeyID()))throw Error("Signature was not issued by the given public key");if(m.publicKeyAlgorithm!==n.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");if(!m[Ps]||t===te.signature.binary||t===te.signature.text){let k,q;if(m.hashed?q=yield m.hashed:(k=m.toHash(t,s,h),q=yield m.hash(t,s,k)),q=yield et(q),m.signedHashValue[0]!==q[0]||m.signedHashValue[1]!==q[1])throw Error("Signed digest did not match");if(m.params=yield m.params,m[Ps]=yield wr.signature.verify(m.publicKeyAlgorithm,m.hashAlgorithm,m.params,n.publicParams,k,q),!m[Ps])throw Error("Signature verification failed")}const b=ee.normalizeDate(u);if(b&&m.created>b)throw Error("Signature creation time is in the future");if(b&&b>=m.getExpirationTime())throw Error("Signature is expired");if(y.rejectHashAlgorithms.has(m.hashAlgorithm))throw Error("Insecure hash algorithm: "+te.read(te.hash,m.hashAlgorithm).toUpperCase());if(y.rejectMessageHashAlgorithms.has(m.hashAlgorithm)&&[te.signature.binary,te.signature.text].includes(m.signatureType))throw Error("Insecure message hash algorithm: "+te.read(te.hash,m.hashAlgorithm).toUpperCase());if(m.rawNotations.forEach(({name:k,critical:q})=>{if(q&&y.knownNotations.indexOf(k)<0)throw Error("Unknown critical notation: "+k)}),null!==m.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")})()}isExpired(n=new Date){const t=ee.normalizeDate(n);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function Un(i,n){const t=[];return t.push(Nt(n.length+1)),t.push(new Uint8Array([i])),t.push(n),ee.concat(t)}class Ki{static get tag(){return te.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(n){let t=0;if(this.version=n[t++],3!==this.version)throw new Qr(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=n[t++],this.hashAlgorithm=n[t++],this.publicKeyAlgorithm=n[t++],this.issuerKeyID=new hn,this.issuerKeyID.read(n.subarray(t,t+8)),t+=8,this.flags=n[t++],this}write(){const n=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return ee.concatUint8Array([n,this.issuerKeyID.write(),t])}calculateTrailer(...n){var t=this;return ue((0,f.Z)(function*(){return ri.prototype.calculateTrailer.apply(yield t.correspondingSig,n)}))}verify(){var n=arguments,t=this;return(0,f.Z)(function*(){const s=yield t.correspondingSig;if(!s||s.constructor.tag!==te.packet.signature)throw Error("Corresponding signature packet missing");if(s.signatureType!==t.signatureType||s.hashAlgorithm!==t.hashAlgorithm||s.publicKeyAlgorithm!==t.publicKeyAlgorithm||!s.issuerKeyID.equals(t.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return s.hashed=t.hashed,s.verify.apply(s,n)})()}}function xl(i,n){if(!n[i]){let t;try{t=te.read(te.packet,i)}catch{throw new Qr("Unknown packet type with tag: "+i)}throw Error("Packet not allowed in this context: "+t)}return new n[i]}Ki.prototype.hash=ri.prototype.hash,Ki.prototype.toHash=ri.prototype.toHash,Ki.prototype.toSign=ri.prototype.toSign;class ln extends Array{static fromBinary(n,t,s=Mt){return(0,f.Z)(function*(){const u=new ln;return yield u.read(n,t,s),u})()}read(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){u.stream=Yt(n,function(){var y=(0,f.Z)(function*(m,D){const b=nt(D);try{for(;;)if(yield b.ready,yield xi(m,function(){var k=(0,f.Z)(function*(q){try{if(q.tag===te.packet.marker||q.tag===te.packet.trust)return;const le=xl(q.tag,t);le.packets=new ln,le.fromStream=ee.isStream(q.packet),yield le.read(q.packet,s),yield b.write(le)}catch(le){const Ae=!(s.ignoreMalformedPackets||le instanceof Qr);if(!s.ignoreUnsupportedPackets&&le instanceof Qr||Ae||yi(q.tag))yield b.abort(le);else{const Ne=new hi(q.tag,q.packet);yield b.write(Ne)}ee.printDebugError(le)}});return function(q){return k.apply(this,arguments)}}()))return yield b.ready,void(yield b.close())}catch(k){yield b.abort(k)}});return function(m,D){return y.apply(this,arguments)}}());const h=Ve(u.stream);for(;;){const{done:y,value:m}=yield h.read();if(y?u.stream=null:u.push(m),y||yi(m.constructor.tag))break}h.releaseLock()})()}write(){const n=[];for(let t=0;t<this.length;t++){const s=this[t]instanceof hi?this[t].tag:this[t].constructor.tag,u=this[t].write();if(ee.isStream(u)&&yi(this[t].constructor.tag)){let h=[],y=0;const m=512;n.push(Or(s)),n.push(Je(u,D=>{if(h.push(D),y+=D.length,y>=m){const b=Math.min(Math.log(y)/Math.LN2|0,30),k=2**b,q=ee.concat([Wr(b)].concat(h));return h=[q.subarray(1+k)],y=h[0].length,q.subarray(0,1+k)}},()=>ee.concat([Nt(y)].concat(h))))}else{if(ee.isStream(u)){let h=0;n.push(Je(gr(u),y=>{h+=y.length},()=>fi(s,h)))}else n.push(fi(s,u.length));n.push(u)}}return ee.concat(n)}filterByTag(...n){const t=new ln,s=u=>h=>u===h;for(let u=0;u<this.length;u++)n.some(s(this[u].constructor.tag))&&t.push(this[u]);return t}findPacket(n){return this.find(t=>t.constructor.tag===n)}indexOfTag(...n){const t=[],s=this,u=h=>y=>h===y;for(let h=0;h<this.length;h++)n.some(u(s[h].constructor.tag))&&t.push(h);return t}}const ml=ee.constructAllowedPackets([wa,Ki,ri]);class Ms{static get tag(){return te.packet.compressedData}constructor(n=Mt){this.packets=null,this.algorithm=n.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=n.deflateLevel}read(n,t=Mt){var s=this;return(0,f.Z)(function*(){yield ht(n,function(){var u=(0,f.Z)(function*(h){s.algorithm=yield h.readByte(),s.compressed=h.remainder(),yield s.decompress(t)});return function(h){return u.apply(this,arguments)}}())})()}write(){return null===this.compressed&&this.compress(),ee.concat([new Uint8Array([this.algorithm]),this.compressed])}decompress(n=Mt){var t=this;return(0,f.Z)(function*(){const s=te.read(te.compression,t.algorithm),u=wl[s];if(!u)throw Error(s+" decompression not supported");t.packets=yield ln.fromBinary(u(t.compressed),ml,n)})()}compress(){const n=te.read(te.compression,this.algorithm),t=vl[n];if(!t)throw Error(n+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}}const Ji=ee.getNodeZlib();function cc(i){return i}function l0(i,n,t={}){return function(s){return!ee.isStream(s)||A(s)?ue(()=>et(s).then(u=>new Promise((h,y)=>{i(u,t,(m,D)=>{if(m)return y(m);h(D)})}))):K(E(s).pipe(n(t)))}}function u0(i,n={}){return function(t){const s=new i(n);return Je(t,u=>{if(u.length)return s.push(u,2),s.result},()=>{if(i===ao)return s.push([],4),s.result})}}function lc(i){return function(n){return ue((0,f.Z)(function*(){return i(yield et(n))}))}}const vl=Ji?{zip:(i,n)=>l0(Ji.deflateRaw,Ji.createDeflateRaw,{level:n})(i),zlib:(i,n)=>l0(Ji.deflate,Ji.createDeflate,{level:n})(i)}:{zip:(i,n)=>u0(ao,{raw:!0,level:n})(i),zlib:(i,n)=>u0(ao,{level:n})(i)},wl=Ji?{uncompressed:cc,zip:l0(Ji.inflateRaw,Ji.createInflateRaw),zlib:l0(Ji.inflate,Ji.createInflate),bzip2:lc(oc)}:{uncompressed:cc,zip:u0(nc,{raw:!0}),zlib:u0(nc),bzip2:lc(oc)},El=ee.constructAllowedPackets([wa,Ms,Ki,ri]);class uc{static get tag(){return te.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte();if(1!==h)throw new Qr(`Version ${h} of the SEIP packet is unsupported.`);t.encrypted=u.remainder()});return function(u){return s.apply(this,arguments)}}())})()}write(){return ee.concat([new Uint8Array([1]),this.encrypted])}encrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){const{blockSize:h}=wr.getCipher(n);let y=u.packets.write();A(y)&&(y=yield et(y));const m=yield wr.getPrefixRandom(n),D=new Uint8Array([211,20]),b=ee.concat([m,y,D]),k=yield wr.hash.sha1(Rt(b)),q=ee.concat([b,k]);return u.encrypted=yield wr.mode.cfb.encrypt(n,t,q,new Uint8Array(h),s),!0})()}decrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){const{blockSize:h}=wr.getCipher(n);let y=gr(u.encrypted);A(y)&&(y=yield et(y));const m=yield wr.mode.cfb.decrypt(n,t,y,new Uint8Array(h)),D=sr(Rt(m),-20),b=sr(m,0,-20),k=Promise.all([et(yield wr.hash.sha1(Rt(b))),et(D)]).then(([ie,Ae])=>{if(!ee.equalsUint8Array(ie,Ae))throw Error("Modification detected.");return new Uint8Array}),q=sr(b,h+2);let le=sr(q,0,-2);return le=Be([le,ue(()=>k)]),ee.isStream(y)&&s.allowUnauthenticatedStream||(le=yield et(le)),u.packets=yield ln.fromBinary(le,El,s),!0})()}}const Al=ee.constructAllowedPackets([wa,Ms,Ki,ri]);class f0{static get tag(){return te.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=te.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}read(n){var t=this;return(0,f.Z)(function*(){yield ht(n,function(){var s=(0,f.Z)(function*(u){const h=yield u.readByte();if(1!==h)throw new Qr(`Version ${h} of the AEAD-encrypted data packet is not supported.`);t.cipherAlgorithm=yield u.readByte(),t.aeadAlgorithm=yield u.readByte(),t.chunkSizeByte=yield u.readByte();const y=wr.getAEADMode(t.aeadAlgorithm);t.iv=yield u.readBytes(y.ivLength),t.encrypted=u.remainder()});return function(u){return s.apply(this,arguments)}}())})()}write(){return ee.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}decrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){u.packets=yield ln.fromBinary(yield u.crypt("decrypt",t,gr(u.encrypted)),Al,s)})()}encrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){u.cipherAlgorithm=n;const{ivLength:h}=wr.getAEADMode(u.aeadAlgorithm);u.iv=yield wr.random.getRandomBytes(h),u.chunkSizeByte=s.aeadChunkSizeByte;const y=u.packets.write();u.encrypted=yield u.crypt("encrypt",t,y)})()}crypt(n,t,s){var u=this;return(0,f.Z)(function*(){const h=wr.getAEADMode(u.aeadAlgorithm),y=yield h(u.cipherAlgorithm,t),m="decrypt"===n?h.tagLength:0,D="encrypt"===n?h.tagLength:0,b=2**(u.chunkSizeByte+6)+m,k=new ArrayBuffer(21),q=new Uint8Array(k,0,13),le=new Uint8Array(k),ie=new DataView(k),Ae=new Uint8Array(k,5,8);q.set([192|f0.tag,u.version,u.cipherAlgorithm,u.aeadAlgorithm,u.chunkSizeByte],0);let Ne=0,Ke=Promise.resolve(),ct=0,yt=0;const $e=u.iv;return Yt(s,function(){var Te=(0,f.Z)(function*(vt,ut){if("array"!==ee.isStream(vt)){const At=new G({},{highWaterMark:ee.getHardwareConcurrency()*2**(u.chunkSizeByte+6),size:Ht=>Ht.length});it(At.readable,ut),ut=At.writable}const xt=Ve(vt),Ct=nt(ut);try{for(;;){let At=(yield xt.readBytes(b+m))||new Uint8Array;const Ht=At.subarray(At.length-m);let cr,ur;if(At=At.subarray(0,At.length-m),!Ne||At.length?(xt.unshift(Ht),cr=y[n](At,h.getNonce($e,Ae),q),yt+=At.length-m+D):(ie.setInt32(17,ct),cr=y[n](Ht,h.getNonce($e,Ae),le),yt+=D,ur=!0),ct+=At.length-m,Ke=Ke.then(()=>cr).then(function(){var Ar=(0,f.Z)(function*(Zt){yield Ct.ready,yield Ct.write(Zt),yt-=Zt.length});return function(Zt){return Ar.apply(this,arguments)}}()).catch(Ar=>Ct.abort(Ar)),(ur||yt>Ct.desiredSize)&&(yield Ke),ur){yield Ct.close();break}ie.setInt32(9,++Ne)}}catch(At){yield Ct.abort(At)}});return function(vt,ut){return Te.apply(this,arguments)}}())})()}}class lo{static get tag(){return te.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new hn,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(n){if(this.version=n[0],3!==this.version)throw new Qr(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(n.subarray(1,n.length)),this.publicKeyAlgorithm=n[9],this.encrypted=wr.parseEncSessionKeyParams(this.publicKeyAlgorithm,n.subarray(10))}write(){const n=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),wr.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return ee.concatUint8Array(n)}encrypt(n){var t=this;return(0,f.Z)(function*(){const s=ee.concatUint8Array([new Uint8Array([te.write(te.symmetric,t.sessionKeyAlgorithm)]),t.sessionKey,ee.writeChecksum(t.sessionKey)]),u=te.write(te.publicKey,t.publicKeyAlgorithm);t.encrypted=yield wr.publicKeyEncrypt(u,n.publicParams,s,n.getFingerprintBytes())})()}decrypt(n,t){var s=this;return(0,f.Z)(function*(){if(s.publicKeyAlgorithm!==n.algorithm)throw Error("Decryption error");const u=t?ee.concatUint8Array([new Uint8Array([t.sessionKeyAlgorithm]),t.sessionKey,ee.writeChecksum(t.sessionKey)]):null,h=yield wr.publicKeyDecrypt(s.publicKeyAlgorithm,n.publicParams,n.privateParams,s.encrypted,n.getFingerprintBytes(),u),y=h[0],m=h.subarray(1,h.length-2),D=h.subarray(h.length-2),b=ee.writeChecksum(m),k=b[0]===D[0]&b[1]===D[1];if(t){const q=k&y===t.sessionKeyAlgorithm&m.length===t.sessionKey.length;s.sessionKeyAlgorithm=ee.selectUint8(q,y,t.sessionKeyAlgorithm),s.sessionKey=ee.selectUint8Array(q,m,t.sessionKey)}else{if(!k||!te.read(te.symmetric,y))throw Error("Decryption error");s.sessionKey=m,s.sessionKeyAlgorithm=y}})()}}class Os{constructor(n=Mt){this.algorithm=te.hash.sha256,this.type="iterated",this.c=n.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(n){let t=0;switch(this.type=te.read(te.s2k,n[t++]),this.algorithm=n[t++],this.type){case"simple":break;case"salted":this.salt=n.subarray(t,t+8),t+=8;break;case"iterated":this.salt=n.subarray(t,t+8),t+=8,this.c=n[t++];break;case"gnu":if("GNU"!==ee.uint8ArrayToString(n.subarray(t,t+3)))throw Error("Unknown s2k type.");if(t+=3,1e3+n[t++]!==1001)throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...ee.stringToUint8Array("GNU"),1]);const n=[new Uint8Array([te.write(te.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":n.push(this.salt);break;case"iterated":n.push(this.salt),n.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return ee.concatUint8Array(n)}produceKey(n,t){var s=this;return(0,f.Z)(function*(){n=ee.encodeUTF8(n);const u=[];let h=0,y=0;for(;h<t;){let m;switch(s.type){case"simple":m=ee.concatUint8Array([new Uint8Array(y),n]);break;case"salted":m=ee.concatUint8Array([new Uint8Array(y),s.salt,n]);break;case"iterated":{const b=ee.concatUint8Array([s.salt,n]);let k=b.length;const q=Math.max(s.getCount(),k);m=new Uint8Array(y+q),m.set(b,y);for(let le=y+k;le<q;le+=k,k*=2)m.copyWithin(le,y,le);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const D=yield wr.hash.digest(s.algorithm,m);u.push(D),h+=D.length,y++}return ee.concatUint8Array(u).subarray(0,t)})()}}class Xa{static get tag(){return te.packet.symEncryptedSessionKey}constructor(n=Mt){this.version=n.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=te.symmetric.aes256,this.aeadAlgorithm=te.write(te.aead,n.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(n){let t=0;if(this.version=n[t++],4!==this.version&&5!==this.version)throw new Qr(`Version ${this.version} of the SKESK packet is unsupported.`);const s=n[t++];if(5===this.version&&(this.aeadAlgorithm=n[t++]),this.s2k=new Os,t+=this.s2k.read(n.subarray(t,n.length)),5===this.version){const u=wr.getAEADMode(this.aeadAlgorithm);this.iv=n.subarray(t,t+=u.ivLength)}5===this.version||t<n.length?(this.encrypted=n.subarray(t,n.length),this.sessionKeyEncryptionAlgorithm=s):this.sessionKeyAlgorithm=s}write(){const n=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=ee.concatUint8Array([new Uint8Array([this.version,n,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(t=ee.concatUint8Array([new Uint8Array([this.version,n]),this.s2k.write()]),null!==this.encrypted&&(t=ee.concatUint8Array([t,this.encrypted]))),t}decrypt(n){var t=this;return(0,f.Z)(function*(){const s=null!==t.sessionKeyEncryptionAlgorithm?t.sessionKeyEncryptionAlgorithm:t.sessionKeyAlgorithm,{blockSize:u,keySize:h}=wr.getCipher(s),y=yield t.s2k.produceKey(n,h);if(5===t.version){const m=wr.getAEADMode(t.aeadAlgorithm),D=new Uint8Array([192|Xa.tag,t.version,t.sessionKeyEncryptionAlgorithm,t.aeadAlgorithm]),b=yield m(s,y);t.sessionKey=yield b.decrypt(t.encrypted,t.iv,D)}else if(null!==t.encrypted){const m=yield wr.mode.cfb.decrypt(s,y,t.encrypted,new Uint8Array(u));t.sessionKeyAlgorithm=te.write(te.symmetric,m[0]),t.sessionKey=m.subarray(1,m.length)}else t.sessionKey=y})()}encrypt(n,t=Mt){var s=this;return(0,f.Z)(function*(){const u=null!==s.sessionKeyEncryptionAlgorithm?s.sessionKeyEncryptionAlgorithm:s.sessionKeyAlgorithm;s.sessionKeyEncryptionAlgorithm=u,s.s2k=new Os(t),s.s2k.salt=yield wr.random.getRandomBytes(8);const{blockSize:h,keySize:y}=wr.getCipher(u),m=yield s.s2k.produceKey(n,y);if(null===s.sessionKey&&(s.sessionKey=yield wr.generateSessionKey(s.sessionKeyAlgorithm)),5===s.version){const D=wr.getAEADMode(s.aeadAlgorithm);s.iv=yield wr.random.getRandomBytes(D.ivLength);const b=new Uint8Array([192|Xa.tag,s.version,s.sessionKeyEncryptionAlgorithm,s.aeadAlgorithm]),k=yield D(u,m);s.encrypted=yield k.encrypt(s.sessionKey,s.iv,b)}else{const D=ee.concatUint8Array([new Uint8Array([s.sessionKeyAlgorithm]),s.sessionKey]);s.encrypted=yield wr.mode.cfb.encrypt(u,m,D,new Uint8Array(h),t)}})()}}class Vi{static get tag(){return te.packet.publicKey}constructor(n=new Date,t=Mt){this.version=t.v5Keys?5:4,this.created=ee.normalizeDate(n),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(n){const t=new Vi,{version:s,created:u,algorithm:h,publicParams:y,keyID:m,fingerprint:D}=n;return t.version=s,t.created=u,t.algorithm=h,t.publicParams=y,t.keyID=m,t.fingerprint=D,t}read(n){var t=this;return(0,f.Z)(function*(){let s=0;if(t.version=n[s++],4===t.version||5===t.version){t.created=ee.readDate(n.subarray(s,s+4)),s+=4,t.algorithm=n[s++],5===t.version&&(s+=4);const{read:u,publicParams:h}=wr.parsePublicKeyParams(t.algorithm,n.subarray(s));return t.publicParams=h,s+=u,yield t.computeFingerprintAndKeyID(),s}throw new Qr(`Version ${t.version} of the key packet is unsupported.`)})()}write(){const n=[];n.push(new Uint8Array([this.version])),n.push(ee.writeDate(this.created)),n.push(new Uint8Array([this.algorithm]));const t=wr.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&n.push(ee.writeNumber(t.length,4)),n.push(t),ee.concatUint8Array(n)}writeForHash(n){const t=this.writePublicKey();return ee.concatUint8Array(5===n?[new Uint8Array([154]),ee.writeNumber(t.length,4),t]:[new Uint8Array([153]),ee.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}computeFingerprintAndKeyID(){var n=this;return(0,f.Z)(function*(){if(yield n.computeFingerprint(),n.keyID=new hn,5===n.version)n.keyID.read(n.fingerprint.subarray(0,8));else{if(4!==n.version)throw Error("Unsupported key version");n.keyID.read(n.fingerprint.subarray(12,20))}})()}computeFingerprint(){var n=this;return(0,f.Z)(function*(){const t=n.writeForHash(n.version);if(5===n.version)n.fingerprint=yield wr.hash.sha256(t);else{if(4!==n.version)throw Error("Unsupported key version");n.fingerprint=yield wr.hash.sha1(t)}})()}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return ee.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(n){return this.version===n.version&&ee.equalsUint8Array(this.writePublicKey(),n.writePublicKey())}getAlgorithmInfo(){const n={};n.algorithm=te.read(te.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?n.bits=ee.uint8ArrayBitLength(t):n.curve=this.publicParams.oid.getName(),n}}Vi.prototype.readPublicKey=Vi.prototype.read,Vi.prototype.writePublicKey=Vi.prototype.write;const bl=ee.constructAllowedPackets([wa,Ms,Ki,ri]);class Ls extends Vi{static get tag(){return te.packet.publicSubkey}constructor(n,t){super(n,t)}static fromSecretSubkeyPacket(n){const t=new Ls,{version:s,created:u,algorithm:h,publicParams:y,keyID:m,fingerprint:D}=n;return t.version=s,t.created=u,t.algorithm=h,t.publicParams=y,t.keyID=m,t.fingerprint=D,t}}class uo{static get tag(){return te.packet.userAttribute}constructor(){this.attributes=[]}read(n){let t=0;for(;t<n.length;){const s=or(n.subarray(t,n.length));t+=s.offset,this.attributes.push(ee.uint8ArrayToString(n.subarray(t,t+s.len))),t+=s.len}}write(){const n=[];for(let t=0;t<this.attributes.length;t++)n.push(Nt(this.attributes[t].length)),n.push(ee.stringToUint8Array(this.attributes[t]));return ee.concatUint8Array(n)}equals(n){return!!(n&&n instanceof uo)&&this.attributes.every(function(t,s){return t===n.attributes[s]})}}class h0 extends Vi{static get tag(){return te.packet.secretKey}constructor(n=new Date,t=Mt){super(n,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}read(n){var t=this;return(0,f.Z)(function*(){let s=yield t.readPublicKey(n);if(t.s2kUsage=n[s++],5===t.version&&s++,255===t.s2kUsage||254===t.s2kUsage||253===t.s2kUsage){if(t.symmetric=n[s++],253===t.s2kUsage&&(t.aead=n[s++]),t.s2k=new Os,s+=t.s2k.read(n.subarray(s,n.length)),"gnu-dummy"===t.s2k.type)return}else t.s2kUsage&&(t.symmetric=t.s2kUsage);if(t.s2kUsage&&(t.iv=n.subarray(s,s+wr.getCipher(t.symmetric).blockSize),s+=t.iv.length),5===t.version&&(s+=4),t.keyMaterial=n.subarray(s),t.isEncrypted=!!t.s2kUsage,!t.isEncrypted){const u=t.keyMaterial.subarray(0,-2);if(!ee.equalsUint8Array(ee.writeChecksum(u),t.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:h}=wr.parsePrivateKeyParams(t.algorithm,u,t.publicParams);t.privateParams=h}catch(h){throw h instanceof Qr?h:Error("Error reading MPIs")}}})()}write(){const n=[this.writePublicKey()];n.push(new Uint8Array([this.s2kUsage]));const t=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(this.symmetric),253===this.s2kUsage&&t.push(this.aead),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&n.push(new Uint8Array([t.length])),n.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=wr.serializeParams(this.algorithm,this.privateParams)),5===this.version&&n.push(ee.writeNumber(this.keyMaterial.length,4)),n.push(this.keyMaterial),this.s2kUsage||n.push(ee.writeChecksum(this.keyMaterial))),ee.concatUint8Array(n)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(n=Mt){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new Os(n),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=te.symmetric.aes256)}encrypt(n,t=Mt){var s=this;return(0,f.Z)(function*(){if(s.isDummy())return;if(!s.isDecrypted())throw Error("Key packet is already encrypted");if(!n)throw Error("A non-empty passphrase is required for key encryption.");s.s2k=new Os(t),s.s2k.salt=yield wr.random.getRandomBytes(8);const u=wr.serializeParams(s.algorithm,s.privateParams);s.symmetric=te.symmetric.aes256;const h=yield fc(s.s2k,n,s.symmetric),{blockSize:y}=wr.getCipher(s.symmetric);if(s.iv=yield wr.random.getRandomBytes(y),t.aeadProtect){s.s2kUsage=253,s.aead=te.aead.eax;const m=wr.getAEADMode(s.aead),D=yield m(s.symmetric,h);s.keyMaterial=yield D.encrypt(u,s.iv.subarray(0,m.ivLength),new Uint8Array)}else s.s2kUsage=254,s.keyMaterial=yield wr.mode.cfb.encrypt(s.symmetric,h,ee.concatUint8Array([u,yield wr.hash.sha1(u,t)]),s.iv,t)})()}decrypt(n){var t=this;return(0,f.Z)(function*(){if(t.isDummy())return!1;if(t.isDecrypted())throw Error("Key packet is already decrypted.");let s,u;if(254!==t.s2kUsage&&253!==t.s2kUsage)throw 255===t.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(s=yield fc(t.s2k,n,t.symmetric),253===t.s2kUsage){const h=wr.getAEADMode(t.aead),y=yield h(t.symmetric,s);try{u=yield y.decrypt(t.keyMaterial,t.iv.subarray(0,h.ivLength),new Uint8Array)}catch(m){throw"Authentication tag mismatch"===m.message?Error("Incorrect key passphrase: "+m.message):m}}else{const h=yield wr.mode.cfb.decrypt(t.symmetric,s,t.keyMaterial,t.iv);u=h.subarray(0,-20);const y=yield wr.hash.sha1(u);if(!ee.equalsUint8Array(y,h.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:h}=wr.parsePrivateKeyParams(t.algorithm,u,t.publicParams);t.privateParams=h}catch{throw Error("Error reading MPIs")}t.isEncrypted=!1,t.keyMaterial=null,t.s2kUsage=0})()}validate(){var n=this;return(0,f.Z)(function*(){if(n.isDummy())return;if(!n.isDecrypted())throw Error("Key is not decrypted");let t;try{t=yield wr.validateParams(n.algorithm,n.publicParams,n.privateParams)}catch{t=!1}if(!t)throw Error("Key is invalid")})()}generate(n,t){var s=this;return(0,f.Z)(function*(){const{privateParams:u,publicParams:h}=yield wr.generateParams(s.algorithm,n,t);s.privateParams=u,s.publicParams=h,s.isEncrypted=!1})()}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach(n=>{this.privateParams[n].fill(0),delete this.privateParams[n]}),this.privateParams=null,this.isEncrypted=!0)}}function fc(i,n,t){return fo.apply(this,arguments)}function fo(){return fo=(0,f.Z)(function*(i,n,t){const{keySize:s}=wr.getCipher(t);return i.produceKey(n,s)}),fo.apply(this,arguments)}var Sl=Xr(function(i){!function(n){function t(u){function h(){return zr<Pn}function y(){return zr}function m(Dt){zr=Dt}function D(){zr=0,Pn=yn.length}function b(Dt,Pt){return{name:Dt,tokens:Pt||"",semantic:Pt||"",children:[]}}function k(Dt,Pt){var tr;return null===Pt?null:((tr=b(Dt)).tokens=Pt.tokens,tr.semantic=Pt.semantic,tr.children.push(Pt),tr)}function q(Dt,Pt){return null!==Pt&&(Dt.tokens+=Pt.tokens,Dt.semantic+=Pt.semantic),Dt.children.push(Pt),Dt}function le(Dt){var Pt;return h()&&Dt(Pt=yn[zr])?(zr+=1,b("token",Pt)):null}function ie(Dt){return function(){return k("literal",le(function(Pt){return Pt===Dt}))}}function Ae(){var Dt=arguments;return function(){var Pt,tr,Dr,Rr;for(Rr=y(),tr=b("and"),Pt=0;Pt<Dt.length;Pt+=1){if(null===(Dr=Dt[Pt]()))return m(Rr),null;q(tr,Dr)}return tr}}function Ne(){var Dt=arguments;return function(){var Pt,tr,Dr;for(Dr=y(),Pt=0;Pt<Dt.length;Pt+=1){if(null!==(tr=Dt[Pt]()))return tr;m(Dr)}return null}}function Ke(Dt){return function(){var Pt,tr;return tr=y(),null!==(Pt=Dt())?Pt:(m(tr),b("opt"))}}function ct(Dt){return function(){var Pt=Dt();return null!==Pt&&(Pt.semantic=""),Pt}}function yt(Dt){return function(){var Pt=Dt();return null!==Pt&&Pt.semantic.length>0&&(Pt.semantic=" "),Pt}}function $e(Dt,Pt){return function(){var tr,Dr,Rr,Zr,Ur;for(Zr=y(),tr=b("star"),Rr=0,Ur=void 0===Pt?0:Pt;null!==(Dr=Dt());)Rr+=1,q(tr,Dr);return Rr>=Ur?tr:(m(Zr),null)}}function Te(Dt){return Dt.charCodeAt(0)>=128}function vt(){return k("cr",ie("\r")())}function ut(){return k("crlf",Ae(vt,At)())}function xt(){return k("dquote",ie('"')())}function Ct(){return k("htab",ie("\t")())}function At(){return k("lf",ie("\n")())}function Ht(){return k("sp",ie(" ")())}function cr(){return k("vchar",le(function(Dt){var Pt=Dt.charCodeAt(0),tr=33<=Pt&&Pt<=126;return u.rfc6532&&(tr=tr||Te(Dt)),tr}))}function ur(){return k("wsp",Ne(Ht,Ct)())}function Ar(){var Dt=k("quoted-pair",Ne(Ae(ie("\\"),Ne(cr,ur)),ze)());return null===Dt?null:(Dt.semantic=Dt.semantic[1],Dt)}function Zt(){return k("fws",Ne(Ze,Ae(Ke(Ae($e(ur),ct(ut))),$e(ur,1)))())}function mt(){return k("ctext",Ne(function(){return le(function(Dt){var Pt=Dt.charCodeAt(0),tr=33<=Pt&&Pt<=39||42<=Pt&&Pt<=91||93<=Pt&&Pt<=126;return u.rfc6532&&(tr=tr||Te(Dt)),tr})},nr)())}function Gr(){return k("ccontent",Ne(mt,Ar,dt)())}function dt(){return k("comment",Ae(ie("("),$e(Ae(Ke(Zt),Gr)),Ke(Zt),ie(")"))())}function jt(){return k("cfws",Ne(Ae($e(Ae(Ke(Zt),dt),1),Ke(Zt)),Zt)())}function vr(){return k("atext",le(function(Dt){var Pt="a"<=Dt&&Dt<="z"||"A"<=Dt&&Dt<="Z"||"0"<=Dt&&Dt<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(Dt)>=0;return u.rfc6532&&(Pt=Pt||Te(Dt)),Pt}))}function Cr(){return k("atom",Ae(yt(Ke(jt)),$e(vr,1),yt(Ke(jt)))())}function pr(){var Dt,Pt;return null===(Dt=k("dot-atom-text",$e(vr,1)()))||null!==(Pt=$e(Ae(ie("."),$e(vr,1)))())&&q(Dt,Pt),Dt}function hr(){return k("dot-atom",Ae(ct(Ke(jt)),pr,ct(Ke(jt)))())}function _r(){return k("qtext",Ne(function(){return le(function(Dt){var Pt=Dt.charCodeAt(0),tr=33===Pt||35<=Pt&&Pt<=91||93<=Pt&&Pt<=126;return u.rfc6532&&(tr=tr||Te(Dt)),tr})},er)())}function Jt(){return k("qcontent",Ne(_r,Ar)())}function Oe(){return k("quoted-string",Ae(ct(Ke(jt)),ct(xt),$e(Ae(Ke(yt(Zt)),Jt)),Ke(ct(Zt)),ct(xt),ct(Ke(jt)))())}function ot(){return k("word",Ne(Cr,Oe)())}function lt(){return k("address",Ne(Y,St)())}function Y(){return k("mailbox",Ne(Re,ir)())}function Re(){return k("name-addr",Ae(Ke(It),wt)())}function wt(){return k("angle-addr",Ne(Ae(ct(Ke(jt)),ie("<"),ir,ie(">"),ct(Ke(jt))),je)())}function St(){return k("group",Ae(It,ie(":"),Ke(ye),ie(";"),ct(Ke(jt)))())}function It(){return k("display-name",(null!==(Dt=k("phrase",Ne(He,$e(ot,1))()))&&(Dt.semantic=Dt.semantic.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")),Dt));var Dt}function ge(){return k("mailbox-list",Ne(Ae(Y,$e(Ae(ie(","),Y))),ve)())}function se(){return k("address-list",Ne(Ae(lt,$e(Ae(ie(","),lt))),_e)())}function ye(){return k("group-list",Ne(ge,ct(jt),Xt)())}function be(){return k("local-part",Ne(Hr,hr,Oe)())}function Ge(){return k("dtext",Ne(function(){return le(function(Dt){var Pt=Dt.charCodeAt(0),tr=33<=Pt&&Pt<=90||94<=Pt&&Pt<=126;return u.rfc6532&&(tr=tr||Te(Dt)),tr})},un)())}function Fe(){return k("domain-literal",Ae(ct(Ke(jt)),ie("["),$e(Ae(Ke(Zt),Ge)),Ke(Zt),ie("]"),ct(Ke(jt)))())}function Ye(){return k("domain",(Dt=Ne(sn,hr,Fe)(),u.rejectTLD&&Dt&&Dt.semantic&&Dt.semantic.indexOf(".")<0?null:(Dt&&(Dt.semantic=Dt.semantic.replace(/\s+/g,"")),Dt)));var Dt}function ir(){return k("addr-spec",Ae(be,ie("@"),Ye)())}function $t(){return u.strict?null:k("obs-NO-WS-CTL",le(function(Dt){var Pt=Dt.charCodeAt(0);return 1<=Pt&&Pt<=8||11===Pt||12===Pt||14<=Pt&&Pt<=31||127===Pt}))}function nr(){return u.strict?null:k("obs-ctext",$t())}function er(){return u.strict?null:k("obs-qtext",$t())}function ze(){return u.strict?null:k("obs-qp",Ae(ie("\\"),Ne(ie("\0"),$t,At,vt))())}function He(){return u.strict?null:k("obs-phrase",u.atInDisplayName?Ae(ot,$e(Ne(ot,ie("."),ie("@"),yt(jt))))():Ae(ot,$e(Ne(ot,ie("."),yt(jt))))())}function Ze(){return u.strict?null:k("obs-FWS",$e(Ae(ct(Ke(ut)),ur),1)())}function je(){return u.strict?null:k("obs-angle-addr",Ae(ct(Ke(jt)),ie("<"),We,ir,ie(">"),ct(Ke(jt)))())}function We(){return u.strict?null:k("obs-route",Ae(Ee,ie(":"))())}function Ee(){return u.strict?null:k("obs-domain-list",Ae($e(Ne(ct(jt),ie(","))),ie("@"),Ye,$e(Ae(ie(","),ct(Ke(jt)),Ke(Ae(ie("@"),Ye)))))())}function ve(){return u.strict?null:k("obs-mbox-list",Ae($e(Ae(ct(Ke(jt)),ie(","))),Y,$e(Ae(ie(","),Ke(Ae(Y,ct(jt))))))())}function _e(){return u.strict?null:k("obs-addr-list",Ae($e(Ae(ct(Ke(jt)),ie(","))),lt,$e(Ae(ie(","),Ke(Ae(lt,ct(jt))))))())}function Xt(){return u.strict?null:k("obs-group-list",Ae($e(Ae(ct(Ke(jt)),ie(",")),1),ct(Ke(jt)))())}function Hr(){return u.strict?null:k("obs-local-part",Ae(ot,$e(Ae(ie("."),ot)))())}function sn(){return u.strict?null:k("obs-domain",Ae(Cr,$e(Ae(ie("."),Cr)))())}function un(){return u.strict?null:k("obs-dtext",Ne($t,Ar)())}function en(Dt,Pt){var tr,Dr,Rr;if(null==Pt)return null;for(Dr=[Pt];Dr.length>0;){if((Rr=Dr.pop()).name===Dt)return Rr;for(tr=Rr.children.length-1;tr>=0;tr-=1)Dr.push(Rr.children[tr])}return null}function Kn(Dt,Pt){var tr,Dr,Rr,Zr,Ur;if(null==Pt)return null;for(Dr=[Pt],Zr=[],Ur={},tr=0;tr<Dt.length;tr+=1)Ur[Dt[tr]]=!0;for(;Dr.length>0;)if((Rr=Dr.pop()).name in Ur)Zr.push(Rr);else for(tr=Rr.children.length-1;tr>=0;tr-=1)Dr.push(Rr.children[tr]);return Zr}function Wn(Dt){var Pt,tr,Dr,Rr,Zr,Ur;if(null===Dt)return null;for(Pt=[],tr=Kn(["group","mailbox"],Dt),Dr=0;Dr<tr.length;Dr+=1)"group"===(Rr=tr[Dr]).name?Pt.push(Qn(Rr)):"mailbox"===Rr.name&&Pt.push(ci(Rr));return Zr={ast:Dt,addresses:Pt},u.simple&&(Zr=function(Ur){var Sn;if(Ur&&Ur.addresses)for(Sn=0;Sn<Ur.addresses.length;Sn+=1)delete Ur.addresses[Sn].node;return Ur}(Zr)),u.oneResult?!(Ur=Zr)||!u.partial&&Ur.addresses.length>1?null:Ur.addresses&&Ur.addresses[0]:u.simple?Zr&&Zr.addresses:Zr}function Qn(Dt){var Pt,tr=en("display-name",Dt),Dr=[],Rr=Kn(["mailbox"],Dt);for(Pt=0;Pt<Rr.length;Pt+=1)Dr.push(ci(Rr[Pt]));return{node:Dt,parts:{name:tr},type:Dt.name,name:Jr(tr),addresses:Dr}}function ci(Dt){var Pt=en("display-name",Dt),tr=en("addr-spec",Dt),Dr=function(Sn,Mn){var Hi,Gi,Zi,$i;if(null==Mn)return null;for(Gi=[Mn],$i=[];Gi.length>0;)for("cfws"===(Zi=Gi.pop()).name&&$i.push(Zi),Hi=Zi.children.length-1;Hi>=0;Hi-=1)Gi.push(Zi.children[Hi]);return $i}(0,Dt),Rr=Kn(["comment"],Dt),Zr=en("local-part",tr),Ur=en("domain",tr);return{node:Dt,parts:{name:Pt,address:tr,local:Zr,domain:Ur,comments:Dr},type:Dt.name,name:Jr(Pt),address:Jr(tr),local:Jr(Zr),domain:Jr(Ur),comments:An(Rr),groupName:Jr(Dt.groupName)}}function Jr(Dt){return null!=Dt?Dt.semantic:null}function An(Dt){var Pt="";if(Dt)for(var tr=0;tr<Dt.length;tr+=1)Pt+=Jr(Dt[tr]);return Pt}var yn,zr,Pn,Bn,Dn;if(null===(u=s(u,{})))return null;if(yn=u.input,Dn={address:lt,"address-list":se,"angle-addr":wt,from:function(){return k("from",Ne(ge,se)())},group:St,mailbox:Y,"mailbox-list":ge,"reply-to":function(){return k("reply-to",se())},sender:function(){return k("sender",Ne(Y,lt)())}}[u.startAt]||se,!u.strict){if(D(),u.strict=!0,Bn=Dn(yn),u.partial||!h())return Wn(Bn);u.strict=!1}return D(),Bn=Dn(yn),!u.partial&&h()?null:Wn(Bn)}function s(u,h){function y(k){return"[object String]"===Object.prototype.toString.call(k)}function m(k){return null==k}var D,b,k;if(y(u))u={input:u};else if((k=u)!==Object(k))return null;if(!y(u.input)||!h)return null;for(b in D={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})m(u[b])&&(u[b]=m(h[b])?D[b]:h[b]);return u}t.parseOneAddress=function(u){return t(s(u,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseAddressList=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"address-list"}))},t.parseFrom=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"from"}))},t.parseSender=function(u){return t(s(u,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},t.parseReplyTo=function(u){return t(s(u,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},i.exports=t}()});class d0{static get tag(){return te.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(n){if(ee.isString(n)||n.name&&!ee.isString(n.name)||n.email&&!ee.isEmailAddress(n.email)||n.comment&&!ee.isString(n.comment))throw Error("Invalid user ID format");const t=new d0;Object.assign(t,n);const s=[];return t.name&&s.push(t.name),t.comment&&s.push(`(${t.comment})`),t.email&&s.push(`<${t.email}>`),t.userID=s.join(" "),t}read(n,t=Mt){const s=ee.decodeUTF8(n);if(s.length>t.maxUserIDLength)throw Error("User ID string is too long");try{const{name:u,address:h,comments:y}=Sl.parseOneAddress({input:s,atInDisplayName:!0});this.comment=y.replace(/^\(|\)$/g,""),this.name=u,this.email=h}catch{}this.userID=s}write(){return ee.encodeUTF8(this.userID)}equals(n){return n&&n.userID===this.userID}}class ho extends h0{static get tag(){return te.packet.secretSubkey}constructor(n=new Date,t=Mt){super(n,t)}}class Ra{constructor(n){this.packets=n||new ln}write(){return this.packets.write()}armor(n=Mt){return Tn(te.armor.signature,this.write(),void 0,void 0,void 0,n)}getSigningKeyIDs(){return this.packets.map(n=>n.issuerKeyID)}}function hc(i,n){return po.apply(this,arguments)}function po(){return po=(0,f.Z)(function*(i,n){const t=new ho(i.date,n);return t.packets=null,t.algorithm=te.write(te.publicKey,i.algorithm),yield t.generate(i.rsaBits,i.curve),yield t.computeFingerprintAndKeyID(),t}),po.apply(this,arguments)}function Tl(i,n){return yo.apply(this,arguments)}function yo(){return yo=(0,f.Z)(function*(i,n){const t=new h0(i.date,n);return t.packets=null,t.algorithm=te.write(te.publicKey,i.algorithm),yield t.generate(i.rsaBits,i.curve,i.config),yield t.computeFingerprintAndKeyID(),t}),yo.apply(this,arguments)}function zi(i,n,t,s){return xo.apply(this,arguments)}function xo(){return xo=(0,f.Z)(function*(i,n,t,s,u=new Date,h){let y,m;for(let D=i.length-1;D>=0;D--)try{(!y||i[D].created>=y.created)&&(yield i[D].verify(n,t,s,u,void 0,h),y=i[D])}catch(b){m=b}if(!y)throw ee.wrapError(`Could not find valid ${te.read(te.signature,t)} signature in key ${n.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(D,b,k)=>b+" "+k.toLowerCase()),m);return y}),xo.apply(this,arguments)}function mo(i,n,t=new Date){const s=ee.normalizeDate(t);if(null!==s){const u=p0(i,n);return!(i.created<=s&&s<u)}return!1}function dc(i,n,t,s){return vo.apply(this,arguments)}function vo(){return vo=(0,f.Z)(function*(i,n,t,s){const u={};u.key=n,u.bind=i;const h=new ri;return h.signatureType=te.signature.subkeyBinding,h.publicKeyAlgorithm=n.algorithm,h.hashAlgorithm=yield g0(null,i,void 0,void 0,s),t.sign?(h.keyFlags=[te.keyFlags.signData],h.embeddedSignature=yield Qa(u,null,i,{signatureType:te.signature.keyBinding},t.date,void 0,void 0,s)):h.keyFlags=[te.keyFlags.encryptCommunication|te.keyFlags.encryptStorage],t.keyExpirationTime>0&&(h.keyExpirationTime=t.keyExpirationTime,h.keyNeverExpires=!1),yield h.sign(n,u,t.date),h}),vo.apply(this,arguments)}function g0(i,n){return wo.apply(this,arguments)}function wo(){return wo=(0,f.Z)(function*(i,n,t=new Date,s={},u){let h=u.preferredHashAlgorithm,y=h;if(i){const m=yield i.getPrimaryUser(t,s,u);m.selfCertification.preferredHashAlgorithms&&([y]=m.selfCertification.preferredHashAlgorithms,h=wr.hash.getHashByteLength(h)<=wr.hash.getHashByteLength(y)?y:h)}switch(Object.getPrototypeOf(n)){case h0.prototype:case Vi.prototype:case ho.prototype:case Ls.prototype:switch(n.algorithm){case te.publicKey.ecdh:case te.publicKey.ecdsa:case te.publicKey.eddsa:y=wr.publicKey.elliptic.getPreferredHashAlgo(n.publicParams.oid)}}return wr.hash.getHashByteLength(h)<=wr.hash.getHashByteLength(y)?y:h}),wo.apply(this,arguments)}function Eo(i){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,f.Z)(function*(i,n=[],t=new Date,s=[],u=Mt){const h={symmetric:te.symmetric.aes128,aead:te.aead.eax,compression:te.compression.uncompressed}[i],y={symmetric:u.preferredSymmetricAlgorithm,aead:u.preferredAEADAlgorithm,compression:u.preferredCompressionAlgorithm}[i],m={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[i];return(yield Promise.all(n.map(function(){var D=(0,f.Z)(function*(b,k){const q=(yield b.getPrimaryUser(t,s[k],u)).selfCertification[m];return!!q&&q.indexOf(y)>=0});return function(b,k){return D.apply(this,arguments)}}()))).every(Boolean)?y:h}),Ao.apply(this,arguments)}function Qa(i,n,t,s,u,h){return bo.apply(this,arguments)}function bo(){return bo=(0,f.Z)(function*(i,n,t,s,u,h,y=!1,m){if(t.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!t.isDecrypted())throw Error("Signing key is not decrypted.");const D=new ri;return Object.assign(D,s),D.publicKeyAlgorithm=t.algorithm,D.hashAlgorithm=yield g0(n,t,u,h,m),yield D.sign(t,i,u,y),D}),bo.apply(this,arguments)}function Pa(i,n,t){return Co.apply(this,arguments)}function Co(){return Co=(0,f.Z)(function*(i,n,t,s=new Date,u){(i=i[t])&&(n[t].length?yield Promise.all(i.map(function(){var h=(0,f.Z)(function*(y){y.isExpired(s)||u&&!(yield u(y))||n[t].some(function(m){return ee.equalsUint8Array(m.writeParams(),y.writeParams())})||n[t].push(y)});return function(y){return h.apply(this,arguments)}}())):n[t]=i)}),Co.apply(this,arguments)}function qa(i,n,t,s,u,h){return So.apply(this,arguments)}function So(){return So=(0,f.Z)(function*(i,n,t,s,u,h,y=new Date,m){h=h||i;const D=[];return yield Promise.all(s.map(function(){var b=(0,f.Z)(function*(k){try{u&&!k.issuerKeyID.equals(u.issuerKeyID)||(yield k.verify(h,n,t,m.revocationsExpire?y:null,!1,m),D.push(k.issuerKeyID))}catch{}});return function(k){return b.apply(this,arguments)}}())),u?(u.revoked=!!D.some(b=>b.equals(u.issuerKeyID))||u.revoked||!1,u.revoked):D.length>0}),So.apply(this,arguments)}function p0(i,n){let t;return!1===n.keyNeverExpires&&(t=i.created.getTime()+1e3*n.keyExpirationTime),t?new Date(t):1/0}function Io(i,n={}){switch(i.type=i.type||n.type,i.curve=i.curve||n.curve,i.rsaBits=i.rsaBits||n.rsaBits,i.keyExpirationTime=void 0!==i.keyExpirationTime?i.keyExpirationTime:n.keyExpirationTime,i.passphrase=ee.isString(i.passphrase)?i.passphrase:n.passphrase,i.date=i.date||n.date,i.sign=i.sign||!1,i.type){case"ecc":try{i.curve=te.write(te.curve,i.curve)}catch{throw Error("Unknown curve")}i.curve!==te.curve.ed25519&&i.curve!==te.curve.curve25519||(i.curve=i.sign?te.curve.ed25519:te.curve.curve25519),i.algorithm=i.sign?i.curve===te.curve.ed25519?te.publicKey.eddsa:te.publicKey.ecdsa:te.publicKey.ecdh;break;case"rsa":i.algorithm=te.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+i.type)}return i}function gc(i,n){const t=i.algorithm;return t!==te.publicKey.rsaEncrypt&&t!==te.publicKey.elgamal&&t!==te.publicKey.ecdh&&(!n.keyFlags||0!=(n.keyFlags[0]&te.keyFlags.signData))}function pc(i,n){const t=i.algorithm;return t!==te.publicKey.dsa&&t!==te.publicKey.rsaSign&&t!==te.publicKey.ecdsa&&t!==te.publicKey.eddsa&&(!n.keyFlags||0!=(n.keyFlags[0]&te.keyFlags.encryptCommunication)||0!=(n.keyFlags[0]&te.keyFlags.encryptStorage))}function yc(i,n){return!!n.allowInsecureDecryptionWithSigningKeys||!i.keyFlags||0!=(i.keyFlags[0]&te.keyFlags.encryptCommunication)||0!=(i.keyFlags[0]&te.keyFlags.encryptStorage)}function Ja(i,n){const t=te.write(te.publicKey,i.algorithm),s=i.getAlgorithmInfo();if(n.rejectPublicKeyAlgorithms.has(t))throw Error(s.algorithm+" keys are considered too weak.");switch(t){case te.publicKey.rsaEncryptSign:case te.publicKey.rsaSign:case te.publicKey.rsaEncrypt:if(s.bits<n.minRSABits)throw Error(`RSA keys shorter than ${n.minRSABits} bits are considered too weak.`);break;case te.publicKey.ecdsa:case te.publicKey.eddsa:case te.publicKey.ecdh:if(n.rejectCurves.has(s.curve))throw Error(`Support for ${s.algorithm} keys using curve ${s.curve} is disabled.`)}}class y0{constructor(n,t){this.userID=n.constructor.tag===te.packet.userID?n:null,this.userAttribute=n.constructor.tag===te.packet.userAttribute?n:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const n=new ln;return n.push(this.userID||this.userAttribute),n.push(...this.revocationSignatures),n.push(...this.selfCertifications),n.push(...this.otherCertifications),n}clone(){const n=new y0(this.userID||this.userAttribute,this.mainKey);return n.selfCertifications=[...this.selfCertifications],n.otherCertifications=[...this.otherCertifications],n.revocationSignatures=[...this.revocationSignatures],n}certify(n,t,s){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket,y={userID:u.userID,userAttribute:u.userAttribute,key:h},m=new y0(y.userID||y.userAttribute,u.mainKey);return m.otherCertifications=yield Promise.all(n.map(function(){var D=(0,f.Z)(function*(b){if(!b.isPrivate())throw Error("Need private key for signing");if(b.hasSameFingerprintAs(h))throw Error("The user's own key can only be used for self-certifications");const k=yield b.getSigningKey(void 0,t,void 0,s);return Qa(y,b,k.keyPacket,{signatureType:te.signature.certGeneric,keyFlags:[te.keyFlags.certifyKeys|te.keyFlags.signData]},t,void 0,void 0,s)});return function(b){return D.apply(this,arguments)}}())),yield m.update(u,t,s),m})()}isRevoked(n,t,s=new Date,u){var h=this;return(0,f.Z)(function*(){const y=h.mainKey.keyPacket;return qa(y,te.signature.certRevocation,{key:y,userID:h.userID,userAttribute:h.userAttribute},h.revocationSignatures,n,t,s,u)})()}verifyCertificate(n,t,s=new Date,u){var h=this;return(0,f.Z)(function*(){const y=h,D={userID:h.userID,userAttribute:h.userAttribute,key:h.mainKey.keyPacket},{issuerKeyID:b}=n,k=t.filter(q=>q.getKeys(b).length>0);return 0===k.length?null:(yield Promise.all(k.map(function(){var q=(0,f.Z)(function*(le){const ie=yield le.getSigningKey(b,n.created,void 0,u);if(n.revoked||(yield y.isRevoked(n,ie.keyPacket,s,u)))throw Error("User certificate is revoked");try{yield n.verify(ie.keyPacket,te.signature.certGeneric,D,s,void 0,u)}catch(Ae){throw ee.wrapError("User certificate is invalid",Ae)}});return function(le){return q.apply(this,arguments)}}())),!0)})()}verifyAllCertifications(n,t=new Date,s){var u=this;return(0,f.Z)(function*(){const h=u,y=u.selfCertifications.concat(u.otherCertifications);return Promise.all(y.map(function(){var m=(0,f.Z)(function*(D){return{keyID:D.issuerKeyID,valid:yield h.verifyCertificate(D,n,t,s).catch(()=>!1)}});return function(D){return m.apply(this,arguments)}}()))})()}verify(n=new Date,t){var s=this;return(0,f.Z)(function*(){if(!s.selfCertifications.length)throw Error("No self-certifications found");const u=s,h=s.mainKey.keyPacket,y={userID:s.userID,userAttribute:s.userAttribute,key:h};let m;for(let D=s.selfCertifications.length-1;D>=0;D--)try{const b=s.selfCertifications[D];if(b.revoked||(yield u.isRevoked(b,void 0,n,t)))throw Error("Self-certification is revoked");try{yield b.verify(h,te.signature.certGeneric,y,n,void 0,t)}catch(k){throw ee.wrapError("Self-certification is invalid",k)}return!0}catch(b){m=b}throw m})()}update(n,t,s){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket,y={userID:u.userID,userAttribute:u.userAttribute,key:h};yield Pa(n,u,"selfCertifications",t,function(){var m=(0,f.Z)(function*(D){try{return yield D.verify(h,te.signature.certGeneric,y,t,!1,s),!0}catch{return!1}});return function(D){return m.apply(this,arguments)}}()),yield Pa(n,u,"otherCertifications",t),yield Pa(n,u,"revocationSignatures",t,function(m){return qa(h,te.signature.certRevocation,y,[m],void 0,void 0,t,s)})})()}}class $a{constructor(n,t){this.keyPacket=n,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const n=new ln;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.bindingSignatures),n}clone(){const n=new $a(this.keyPacket,this.mainKey);return n.bindingSignatures=[...this.bindingSignatures],n.revocationSignatures=[...this.revocationSignatures],n}isRevoked(n,t,s=new Date,u=Mt){var h=this;return(0,f.Z)(function*(){const y=h.mainKey.keyPacket;return qa(y,te.signature.subkeyRevocation,{key:y,bind:h.keyPacket},h.revocationSignatures,n,t,s,u)})()}verify(n=new Date,t=Mt){var s=this;return(0,f.Z)(function*(){const u=s.mainKey.keyPacket,h={key:u,bind:s.keyPacket},y=yield zi(s.bindingSignatures,u,te.signature.subkeyBinding,h,n,t);if(y.revoked||(yield s.isRevoked(y,null,n,t)))throw Error("Subkey is revoked");if(mo(s.keyPacket,y,n))throw Error("Subkey is expired");return y})()}getExpirationTime(n=new Date,t=Mt){var s=this;return(0,f.Z)(function*(){const u=s.mainKey.keyPacket,h={key:u,bind:s.keyPacket};let y;try{y=yield zi(s.bindingSignatures,u,te.signature.subkeyBinding,h,n,t)}catch{return null}const m=p0(s.keyPacket,y),D=y.getExpirationTime();return m<D?m:D})()}update(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.mainKey.keyPacket;if(!u.hasSameFingerprintAs(n))throw Error("Subkey update method: fingerprints of subkeys not equal");u.keyPacket.constructor.tag===te.packet.publicSubkey&&n.keyPacket.constructor.tag===te.packet.secretSubkey&&(u.keyPacket=n.keyPacket);const y=u,m={key:h,bind:y.keyPacket};yield Pa(n,u,"bindingSignatures",t,function(){var D=(0,f.Z)(function*(b){for(let k=0;k<y.bindingSignatures.length;k++)if(y.bindingSignatures[k].issuerKeyID.equals(b.issuerKeyID))return b.created>y.bindingSignatures[k].created&&(y.bindingSignatures[k]=b),!1;try{return yield b.verify(h,te.signature.subkeyBinding,m,t,void 0,s),!0}catch{return!1}});return function(b){return D.apply(this,arguments)}}()),yield Pa(n,u,"revocationSignatures",t,function(D){return qa(h,te.signature.subkeyRevocation,m,[D],void 0,void 0,t,s)})})()}revoke(n,{flag:t=te.reasonForRevocation.noReason,string:s=""}={},u=new Date,h=Mt){var y=this;return(0,f.Z)(function*(){const m={key:n,bind:y.keyPacket},D=new $a(y.keyPacket,y.mainKey);return D.revocationSignatures.push(yield Qa(m,null,n,{signatureType:te.signature.subkeyRevocation,reasonForRevocationFlag:te.write(te.reasonForRevocation,t),reasonForRevocationString:s},u,void 0,!1,h)),yield D.update(y),D})()}hasSameFingerprintAs(n){return this.keyPacket.hasSameFingerprintAs(n.keyPacket||n)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(i=>{$a.prototype[i]=function(){return this.keyPacket[i]()}});const _l=ee.constructAllowedPackets([ri]),xc=new Set([te.packet.publicKey,te.packet.privateKey]),mc=new Set([te.packet.publicKey,te.packet.privateKey,te.packet.publicSubkey,te.packet.privateSubkey]);class vc{packetListToStructure(n,t=new Set){let s,u,h,y;for(const m of n){if(m instanceof hi){mc.has(m.tag)&&!y&&(y=xc.has(m.tag)?xc:mc);continue}const D=m.constructor.tag;if(y){if(!y.has(D))continue;y=null}if(t.has(D))throw Error("Unexpected packet type: "+D);switch(D){case te.packet.publicKey:case te.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=m,u=this.getKeyID(),!u)throw Error("Missing Key ID");break;case te.packet.userID:case te.packet.userAttribute:s=new y0(m,this),this.users.push(s);break;case te.packet.publicSubkey:case te.packet.secretSubkey:s=null,h=new $a(m,this),this.subkeys.push(h);break;case te.packet.signature:switch(m.signatureType){case te.signature.certGeneric:case te.signature.certPersona:case te.signature.certCasual:case te.signature.certPositive:if(!s){ee.printDebug("Dropping certification signatures without preceding user packet");continue}m.issuerKeyID.equals(u)?s.selfCertifications.push(m):s.otherCertifications.push(m);break;case te.signature.certRevocation:s?s.revocationSignatures.push(m):this.directSignatures.push(m);break;case te.signature.key:this.directSignatures.push(m);break;case te.signature.subkeyBinding:if(!h){ee.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}h.bindingSignatures.push(m);break;case te.signature.keyRevocation:this.revocationSignatures.push(m);break;case te.signature.subkeyRevocation:if(!h){ee.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}h.revocationSignatures.push(m)}}}}toPacketList(){const n=new ln;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.directSignatures),this.users.map(t=>n.push(...t.toPacketList())),this.subkeys.map(t=>n.push(...t.toPacketList())),n}clone(n=!1){const t=new this.constructor(this.toPacketList());return n&&t.getKeys().forEach(s=>{if(s.keyPacket=Object.create(Object.getPrototypeOf(s.keyPacket),Object.getOwnPropertyDescriptors(s.keyPacket)),!s.keyPacket.isDecrypted())return;const u={};Object.keys(s.keyPacket.privateParams).forEach(h=>{u[h]=new Uint8Array(s.keyPacket.privateParams[h])}),s.keyPacket.privateParams=u}),t}getSubkeys(n=null){return this.subkeys.filter(t=>!n||t.getKeyID().equals(n,!0))}getKeys(n=null){const t=[];return n&&!this.getKeyID().equals(n,!0)||t.push(this),t.concat(this.getSubkeys(n))}getKeyIDs(){return this.getKeys().map(n=>n.getKeyID())}getUserIDs(){return this.users.map(n=>n.userID?n.userID.userID:null).filter(n=>null!==n)}write(){return this.toPacketList().write()}getSigningKey(n=null,t=new Date,s={},u=Mt){var h=this;return(0,f.Z)(function*(){yield h.verifyPrimaryKey(t,s,u);const y=h.keyPacket,m=h.subkeys.slice().sort((b,k)=>k.keyPacket.created-b.keyPacket.created);let D;for(const b of m)if(!n||b.getKeyID().equals(n))try{yield b.verify(t,u);const k={key:y,bind:b.keyPacket},q=yield zi(b.bindingSignatures,y,te.signature.subkeyBinding,k,t,u);if(!gc(b.keyPacket,q))continue;if(!q.embeddedSignature)throw Error("Missing embedded signature");return yield zi([q.embeddedSignature],b.keyPacket,te.signature.keyBinding,k,t,u),Ja(b.keyPacket,u),b}catch(k){D=k}try{const b=yield h.getPrimaryUser(t,s,u);if((!n||y.getKeyID().equals(n))&&gc(y,b.selfCertification))return Ja(y,u),h}catch(b){D=b}throw ee.wrapError("Could not find valid signing key packet in key "+h.getKeyID().toHex(),D)})()}getEncryptionKey(n,t=new Date,s={},u=Mt){var h=this;return(0,f.Z)(function*(){yield h.verifyPrimaryKey(t,s,u);const y=h.keyPacket,m=h.subkeys.slice().sort((b,k)=>k.keyPacket.created-b.keyPacket.created);let D;for(const b of m)if(!n||b.getKeyID().equals(n))try{yield b.verify(t,u);const k={key:y,bind:b.keyPacket},q=yield zi(b.bindingSignatures,y,te.signature.subkeyBinding,k,t,u);if(pc(b.keyPacket,q))return Ja(b.keyPacket,u),b}catch(k){D=k}try{const b=yield h.getPrimaryUser(t,s,u);if((!n||y.getKeyID().equals(n))&&pc(y,b.selfCertification))return Ja(y,u),h}catch(b){D=b}throw ee.wrapError("Could not find valid encryption key packet in key "+h.getKeyID().toHex(),D)})()}isRevoked(n,t,s=new Date,u=Mt){var h=this;return(0,f.Z)(function*(){return qa(h.keyPacket,te.signature.keyRevocation,{key:h.keyPacket},h.revocationSignatures,n,t,s,u)})()}verifyPrimaryKey(n=new Date,t={},s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket;if(yield u.isRevoked(null,null,n,s))throw Error("Primary key is revoked");const{selfCertification:y}=yield u.getPrimaryUser(n,t,s);if(mo(h,y,n))throw Error("Primary key is expired");const m=yield zi(u.directSignatures,h,te.signature.key,{key:h},n,s).catch(()=>{});if(m&&mo(h,m,n))throw Error("Primary key is expired")})()}getExpirationTime(n,t=Mt){var s=this;return(0,f.Z)(function*(){let u;try{const{selfCertification:h}=yield s.getPrimaryUser(null,n,t),y=p0(s.keyPacket,h),m=h.getExpirationTime(),D=yield zi(s.directSignatures,s.keyPacket,te.signature.key,{key:s.keyPacket},null,t).catch(()=>{});if(D){const b=p0(s.keyPacket,D);u=Math.min(y,m,b)}else u=y<m?y:m}catch{u=null}return ee.normalizeDate(u)})()}getPrimaryUser(n=new Date,t={},s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket,y=[];let m;for(let q=0;q<u.users.length;q++)try{const le=u.users[q];if(!le.userID)continue;if(void 0!==t.name&&le.userID.name!==t.name||void 0!==t.email&&le.userID.email!==t.email||void 0!==t.comment&&le.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const ie={userID:le.userID,key:h},Ae=yield zi(le.selfCertifications,h,te.signature.certGeneric,ie,n,s);y.push({index:q,user:le,selfCertification:Ae})}catch(le){m=le}if(!y.length)throw m||Error("Could not find primary user");yield Promise.all(y.map(function(){var q=(0,f.Z)(function*(le){return le.user.revoked||le.user.isRevoked(le.selfCertification,null,n,s)});return function(le){return q.apply(this,arguments)}}()));const D=y.sort(function(q,le){const ie=q.selfCertification,Ae=le.selfCertification;return Ae.revoked-ie.revoked||ie.isPrimaryUserID-Ae.isPrimaryUserID||ie.created-Ae.created}).pop(),{user:b,selfCertification:k}=D;if(k.revoked||(yield b.isRevoked(k,null,n,s)))throw Error("Primary user is revoked");return D})()}update(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){if(!u.hasSameFingerprintAs(n))throw Error("Primary key fingerprints must be equal to update the key");if(!u.isPrivate()&&n.isPrivate()){if(u.subkeys.length!==n.subkeys.length||!u.subkeys.every(y=>n.subkeys.some(m=>y.hasSameFingerprintAs(m))))throw Error("Cannot update public key with private key if subkeys mismatch");return n.update(u,s)}const h=u.clone();return yield Pa(n,h,"revocationSignatures",t,y=>qa(h.keyPacket,te.signature.keyRevocation,h,[y],null,n.keyPacket,t,s)),yield Pa(n,h,"directSignatures",t),yield Promise.all(n.users.map(function(){var y=(0,f.Z)(function*(m){const D=h.users.filter(b=>m.userID&&m.userID.equals(b.userID)||m.userAttribute&&m.userAttribute.equals(b.userAttribute));if(D.length>0)yield Promise.all(D.map(b=>b.update(m,t,s)));else{const b=m.clone();b.mainKey=h,h.users.push(b)}});return function(m){return y.apply(this,arguments)}}())),yield Promise.all(n.subkeys.map(function(){var y=(0,f.Z)(function*(m){const D=h.subkeys.filter(b=>b.hasSameFingerprintAs(m));if(D.length>0)yield Promise.all(D.map(b=>b.update(m,t,s)));else{const b=m.clone();b.mainKey=h,h.subkeys.push(b)}});return function(m){return y.apply(this,arguments)}}())),h})()}getRevocationCertificate(n=new Date,t=Mt){var s=this;return(0,f.Z)(function*(){const u={key:s.keyPacket},h=yield zi(s.revocationSignatures,s.keyPacket,te.signature.keyRevocation,u,n,t),y=new ln;return y.push(h),Tn(te.armor.publicKey,y.write(),null,null,"This is a revocation certificate")})()}applyRevocationCertificate(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){const h=yield cn(n,s),y=(yield ln.fromBinary(h.data,_l,s)).findPacket(te.packet.signature);if(!y||y.signatureType!==te.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!y.issuerKeyID.equals(u.getKeyID()))throw Error("Revocation signature does not match key");try{yield y.verify(u.keyPacket,te.signature.keyRevocation,{key:u.keyPacket},t,void 0,s)}catch(D){throw ee.wrapError("Could not verify revocation signature",D)}const m=u.clone();return m.revocationSignatures.push(y),m})()}signPrimaryUser(n,t,s,u=Mt){var h=this;return(0,f.Z)(function*(){const{index:y,user:m}=yield h.getPrimaryUser(t,s,u),D=yield m.certify(n,t,u),b=h.clone();return b.users[y]=D,b})()}signAllUsers(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.clone();return h.users=yield Promise.all(u.users.map(function(y){return y.certify(n,t,s)})),h})()}verifyPrimaryUser(n,t=new Date,s,u=Mt){var h=this;return(0,f.Z)(function*(){const y=h.keyPacket,{user:m}=yield h.getPrimaryUser(t,s,u);return n?yield m.verifyAllCertifications(n,t,u):[{keyID:y.getKeyID(),valid:yield m.verify(t,u).catch(()=>!1)}]})()}verifyAllUsers(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.keyPacket,y=[];return yield Promise.all(u.users.map(function(){var m=(0,f.Z)(function*(D){const b=n?yield D.verifyAllCertifications(n,t,s):[{keyID:h.getKeyID(),valid:yield D.verify(t,s).catch(()=>!1)}];y.push(...b.map(k=>({userID:D.userID.userID,keyID:k.keyID,valid:k.valid})))});return function(D){return m.apply(this,arguments)}}())),y})()}}function wc(i){for(const n of i)switch(n.constructor.tag){case te.packet.secretKey:return new es(i);case te.packet.publicKey:return new To(i)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(i=>{vc.prototype[i]=$a.prototype[i]});class To extends vc{constructor(n){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],n&&(this.packetListToStructure(n,new Set([te.packet.secretKey,te.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(n=Mt){return Tn(te.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,n)}}class es extends To{constructor(n){if(super(),this.packetListToStructure(n,new Set([te.packet.publicKey,te.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const n=new ln,t=this.toPacketList();for(const s of t)switch(s.constructor.tag){case te.packet.secretKey:{const u=Vi.fromSecretKeyPacket(s);n.push(u);break}case te.packet.secretSubkey:{const u=Ls.fromSecretSubkeyPacket(s);n.push(u);break}default:n.push(s)}return new To(n)}armor(n=Mt){return Tn(te.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,n)}getDecryptionKeys(n,t=new Date,s={},u=Mt){var h=this;return(0,f.Z)(function*(){const y=h.keyPacket,m=[];for(let b=0;b<h.subkeys.length;b++)if(!n||h.subkeys[b].getKeyID().equals(n,!0))try{const k={key:y,bind:h.subkeys[b].keyPacket};yc(yield zi(h.subkeys[b].bindingSignatures,y,te.signature.subkeyBinding,k,t,u),u)&&m.push(h.subkeys[b])}catch{}const D=yield h.getPrimaryUser(t,s,u);return n&&!y.getKeyID().equals(n,!0)||!yc(D.selfCertification,u)||m.push(h),m})()}isDecrypted(){return this.getKeys().some(({keyPacket:n})=>n.isDecrypted())}validate(n=Mt){var t=this;return(0,f.Z)(function*(){if(!t.isPrivate())throw Error("Cannot validate a public key");let s;if(t.keyPacket.isDummy()){const u=yield t.getSigningKey(null,null,void 0,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0});u&&!u.keyPacket.isDummy()&&(s=u.keyPacket)}else s=t.keyPacket;if(s)return s.validate();{const u=t.getKeys();if(u.map(h=>h.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(u.map(function(){var h=(0,f.Z)(function*(y){return y.keyPacket.validate()});return function(y){return h.apply(this,arguments)}}()))}})()}clearPrivateParams(){this.getKeys().forEach(({keyPacket:n})=>{n.isDecrypted()&&n.clearPrivateParams()})}revoke({flag:n=te.reasonForRevocation.noReason,string:t=""}={},s=new Date,u=Mt){var h=this;return(0,f.Z)(function*(){if(!h.isPrivate())throw Error("Need private key for revoking");const y={key:h.keyPacket},m=h.clone();return m.revocationSignatures.push(yield Qa(y,null,h.keyPacket,{signatureType:te.signature.keyRevocation,reasonForRevocationFlag:te.write(te.reasonForRevocation,n),reasonForRevocationString:t},s,void 0,void 0,u)),m})()}addSubkey(n={}){var t=this;return(0,f.Z)(function*(){const s={...Mt,...n.config};if(n.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(n.rsaBits<s.minRSABits)throw Error(`rsaBits should be at least ${s.minRSABits}, got: ${n.rsaBits}`);const u=t.keyPacket;if(u.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!u.isDecrypted())throw Error("Key is not decrypted");const h=u.getAlgorithmInfo();h.type=h.curve?"ecc":"rsa",h.rsaBits=h.bits||4096,h.curve=h.curve||"curve25519",n=Io(n,h);const y=yield hc(n);Ja(y,s);const m=yield dc(y,u,n,s),D=t.toPacketList();return D.push(y,m),new es(D)})()}}const x0=ee.constructAllowedPackets([Vi,Ls,h0,ho,d0,uo,ri]);function Ec(i,n,t,s){return _o.apply(this,arguments)}function _o(){return _o=(0,f.Z)(function*(i,n,t,s){t.passphrase&&(yield i.encrypt(t.passphrase,s)),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(m,D){const b=t.subkeys[D].passphrase;b&&(yield m.encrypt(b,s))});return function(m,D){return y.apply(this,arguments)}}()));const u=new ln;u.push(i),yield Promise.all(t.userIDs.map(function(){var y=(0,f.Z)(function*(m,D){function b(ie,Ae){return[Ae,...ie.filter(Ne=>Ne!==Ae)]}const k=d0.fromObject(m),q={};q.userID=k,q.key=i;const le=new ri;return le.signatureType=te.signature.certGeneric,le.publicKeyAlgorithm=i.algorithm,le.hashAlgorithm=yield g0(null,i,void 0,void 0,s),le.keyFlags=[te.keyFlags.certifyKeys|te.keyFlags.signData],le.preferredSymmetricAlgorithms=b([te.symmetric.aes256,te.symmetric.aes128,te.symmetric.aes192],s.preferredSymmetricAlgorithm),s.aeadProtect&&(le.preferredAEADAlgorithms=b([te.aead.eax,te.aead.ocb],s.preferredAEADAlgorithm)),le.preferredHashAlgorithms=b([te.hash.sha256,te.hash.sha512],s.preferredHashAlgorithm),le.preferredCompressionAlgorithms=b([te.compression.zlib,te.compression.zip,te.compression.uncompressed],s.preferredCompressionAlgorithm),0===D&&(le.isPrimaryUserID=!0),le.features=[0],le.features[0]|=te.features.modificationDetection,s.aeadProtect&&(le.features[0]|=te.features.aead),s.v5Keys&&(le.features[0]|=te.features.v5Keys),t.keyExpirationTime>0&&(le.keyExpirationTime=t.keyExpirationTime,le.keyNeverExpires=!1),yield le.sign(i,q,t.date),{userIDPacket:k,signaturePacket:le}});return function(m,D){return y.apply(this,arguments)}}())).then(y=>{y.forEach(({userIDPacket:m,signaturePacket:D})=>{u.push(m),u.push(D)})}),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(m,D){const b=t.subkeys[D];return{secretSubkeyPacket:m,subkeySignaturePacket:yield dc(m,i,b,s)}});return function(m,D){return y.apply(this,arguments)}}())).then(y=>{y.forEach(({secretSubkeyPacket:m,subkeySignaturePacket:D})=>{u.push(m),u.push(D)})});const h={key:i};return u.push(yield Qa(h,null,i,{signatureType:te.signature.keyRevocation,reasonForRevocationFlag:te.reasonForRevocation.noReason,reasonForRevocationString:""},t.date,void 0,void 0,s)),t.passphrase&&i.clearPrivateParams(),yield Promise.all(n.map(function(){var y=(0,f.Z)(function*(m,D){t.subkeys[D].passphrase&&m.clearPrivateParams()});return function(m,D){return y.apply(this,arguments)}}())),new es(u)}),_o.apply(this,arguments)}function Bl(i){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,f.Z)(function*({armoredKey:i,binaryKey:n,config:t,...s}){if(t={...Mt,...t},!i&&!n)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!ee.isString(i))throw Error("readKey: options.armoredKey must be a string");if(n&&!ee.isUint8Array(n))throw Error("readKey: options.binaryKey must be a Uint8Array");const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));let h;if(i){const{type:y,data:m}=yield cn(i,t);if(y!==te.armor.publicKey&&y!==te.armor.privateKey)throw Error("Armored text not of type key");h=m}else h=n;return wc(yield ln.fromBinary(h,x0,t))}),Bo.apply(this,arguments)}function kl(i){return ko.apply(this,arguments)}function ko(){return ko=(0,f.Z)(function*({armoredKey:i,binaryKey:n,config:t,...s}){if(t={...Mt,...t},!i&&!n)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!ee.isString(i))throw Error("readPrivateKey: options.armoredKey must be a string");if(n&&!ee.isUint8Array(n))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));let h;if(i){const{type:m,data:D}=yield cn(i,t);if(m!==te.armor.privateKey)throw Error("Armored text not of type private key");h=D}else h=n;const y=yield ln.fromBinary(h,x0,t);return new es(y)}),ko.apply(this,arguments)}const Nl=ee.constructAllowedPackets([wa,Ms,f0,uc,class Cl{static get tag(){return te.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(n){this.encrypted=n}write(){return this.encrypted}decrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){if(!s.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:h}=wr.getCipher(n),y=yield et(gr(u.encrypted)),m=yield wr.mode.cfb.decrypt(n,t,y.subarray(h+2),y.subarray(2,h+2));u.packets=yield ln.fromBinary(m,bl,s)})()}encrypt(n,t,s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.packets.write(),{blockSize:y}=wr.getCipher(n),m=yield wr.getPrefixRandom(n),D=yield wr.mode.cfb.encrypt(n,t,m,new Uint8Array(y),s),b=yield wr.mode.cfb.encrypt(n,t,h,D.subarray(2),s);u.encrypted=ee.concat([D,b])})()}},lo,Xa,Ki,ri]),Dl=ee.constructAllowedPackets([Xa]),Rl=ee.constructAllowedPackets([ri]);class vi{constructor(n){this.packets=n||new ln}getEncryptionKeyIDs(){const n=[];return this.packets.filterByTag(te.packet.publicKeyEncryptedSessionKey).forEach(function(t){n.push(t.publicKeyID)}),n}getSigningKeyIDs(){const n=this.unwrapCompressed(),t=n.packets.filterByTag(te.packet.onePassSignature);return t.length>0?t.map(s=>s.issuerKeyID):n.packets.filterByTag(te.packet.signature).map(s=>s.issuerKeyID)}decrypt(n,t,s,u=new Date,h=Mt){var y=this;return(0,f.Z)(function*(){const m=s||(yield y.decryptSessionKeys(n,t,u,h)),D=y.packets.filterByTag(te.packet.symmetricallyEncryptedData,te.packet.symEncryptedIntegrityProtectedData,te.packet.aeadEncryptedData);if(0===D.length)throw Error("No encrypted data found");const b=D[0];let k=null;const q=Promise.all(m.map(function(){var ie=(0,f.Z)(function*({algorithm:Ae,data:Ne}){if(!ee.isUint8Array(Ne)||!ee.isString(Ae))throw Error("Invalid session key for decryption.");try{const Ke=te.write(te.symmetric,Ae);yield b.decrypt(Ke,Ne,h)}catch(Ke){ee.printDebugError(Ke),k=Ke}});return function(Ae){return ie.apply(this,arguments)}}()));if(X(b.encrypted),b.encrypted=null,yield q,!b.packets||!b.packets.length)throw k||Error("Decryption failed.");const le=new vi(b.packets);return b.packets=new ln,le})()}decryptSessionKeys(n,t,s=new Date,u=Mt){var h=this;return(0,f.Z)(function*(){let y,m=[];if(t){const D=h.packets.filterByTag(te.packet.symEncryptedSessionKey);if(0===D.length)throw Error("No symmetrically encrypted session key packet found.");yield Promise.all(t.map(function(){var b=(0,f.Z)(function*(k,q){let le;le=q?yield ln.fromBinary(D.write(),Dl,u):D,yield Promise.all(le.map(function(){var ie=(0,f.Z)(function*(Ae){try{yield Ae.decrypt(k),m.push(Ae)}catch(Ne){ee.printDebugError(Ne)}});return function(Ae){return ie.apply(this,arguments)}}()))});return function(k,q){return b.apply(this,arguments)}}()))}else{if(!n)throw Error("No key or password specified.");{const D=h.packets.filterByTag(te.packet.publicKeyEncryptedSessionKey);if(0===D.length)throw Error("No public key encrypted session key packet found.");yield Promise.all(D.map(function(){var b=(0,f.Z)(function*(k){yield Promise.all(n.map(function(){var q=(0,f.Z)(function*(le){let ie=[te.symmetric.aes256,te.symmetric.aes128,te.symmetric.tripledes,te.symmetric.cast5];try{const Ne=yield le.getPrimaryUser(s,void 0,u);Ne.selfCertification.preferredSymmetricAlgorithms&&(ie=ie.concat(Ne.selfCertification.preferredSymmetricAlgorithms))}catch{}const Ae=(yield le.getDecryptionKeys(k.publicKeyID,null,void 0,u)).map(Ne=>Ne.keyPacket);yield Promise.all(Ae.map(function(){var Ne=(0,f.Z)(function*(Ke){if(Ke&&!Ke.isDummy()){if(!Ke.isDecrypted())throw Error("Decryption key is not decrypted.");if(!u.constantTimePKCS1Decryption||k.publicKeyAlgorithm!==te.publicKey.rsaEncrypt&&k.publicKeyAlgorithm!==te.publicKey.rsaEncryptSign&&k.publicKeyAlgorithm!==te.publicKey.rsaSign&&k.publicKeyAlgorithm!==te.publicKey.elgamal)try{if(yield k.decrypt(Ke),!ie.includes(te.write(te.symmetric,k.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");m.push(k)}catch(ct){ee.printDebugError(ct),y=ct}else{const ct=k.write();yield Promise.all(Array.from(u.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map(function(){var yt=(0,f.Z)(function*($e){const Te=new lo;Te.read(ct);const vt={sessionKeyAlgorithm:$e,sessionKey:yield wr.generateSessionKey($e)};try{yield Te.decrypt(Ke,vt),m.push(Te)}catch(ut){ee.printDebugError(ut),y=ut}});return function($e){return yt.apply(this,arguments)}}()))}}});return function(Ke){return Ne.apply(this,arguments)}}()))});return function(le){return q.apply(this,arguments)}}())),X(k.encrypted),k.encrypted=null});return function(k){return b.apply(this,arguments)}}()))}}if(m.length>0){if(m.length>1){const D=new Set;m=m.filter(b=>{const k=b.sessionKeyAlgorithm+ee.uint8ArrayToString(b.sessionKey);return!D.has(k)&&(D.add(k),!0)})}return m.map(D=>({data:D.sessionKey,algorithm:te.read(te.symmetric,D.sessionKeyAlgorithm)}))}throw y||Error("Session key decryption failed.")})()}getLiteralData(){const n=this.unwrapCompressed().packets.findPacket(te.packet.literalData);return n&&n.getBytes()||null}getFilename(){const n=this.unwrapCompressed().packets.findPacket(te.packet.literalData);return n&&n.getFilename()||null}getText(){const n=this.unwrapCompressed().packets.findPacket(te.packet.literalData);return n?n.getText():null}static generateSessionKey(n=[],t=new Date,s=[],u=Mt){return(0,f.Z)(function*(){const h=yield Eo("symmetric",n,t,s,u),y=te.read(te.symmetric,h),m=u.aeadProtect&&(yield(D=(0,f.Z)(function*(b,k=new Date,q=[],le=Mt){let ie=!0;return yield Promise.all(b.map(function(){var Ae=(0,f.Z)(function*(Ne,Ke){const ct=yield Ne.getPrimaryUser(k,q[Ke],le);ct.selfCertification.features&&ct.selfCertification.features[0]&te.features.aead||(ie=!1)});return function(Ne,Ke){return Ae.apply(this,arguments)}}())),ie}),function(b){return D.apply(this,arguments)})(n,t,s,u))?te.read(te.aead,yield Eo("aead",n,t,s,u)):void 0;var D;return{data:yield wr.generateSessionKey(h),algorithm:y,aeadAlgorithm:m}})()}encrypt(n,t,s,u=!1,h=[],y=new Date,m=[],D=Mt){var b=this;return(0,f.Z)(function*(){if(s){if(!ee.isUint8Array(s.data)||!ee.isString(s.algorithm))throw Error("Invalid session key for encryption.")}else if(n&&n.length)s=yield vi.generateSessionKey(n,y,m,D);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");s=yield vi.generateSessionKey(void 0,void 0,void 0,D)}const{data:k,algorithm:q,aeadAlgorithm:le}=s,ie=yield vi.encryptSessionKey(k,q,le,n,t,u,h,y,m,D);let Ae;le?(Ae=new f0,Ae.aeadAlgorithm=te.write(te.aead,le)):Ae=new uc,Ae.packets=b.packets;const Ne=te.write(te.symmetric,q);return yield Ae.encrypt(Ne,k,D),ie.packets.push(Ae),Ae.packets=new ln,ie})()}static encryptSessionKey(n,t,s,u,h,y=!1,m=[],D=new Date,b=[],k=Mt){return(0,f.Z)(function*(){const q=new ln,le=te.write(te.symmetric,t),ie=s&&te.write(te.aead,s);if(u){const Ae=yield Promise.all(u.map(function(){var Ne=(0,f.Z)(function*(Ke,ct){const yt=yield Ke.getEncryptionKey(m[ct],D,b,k),$e=new lo;return $e.publicKeyID=y?hn.wildcard():yt.getKeyID(),$e.publicKeyAlgorithm=yt.keyPacket.algorithm,$e.sessionKey=n,$e.sessionKeyAlgorithm=le,yield $e.encrypt(yt.keyPacket),delete $e.sessionKey,$e});return function(Ke,ct){return Ne.apply(this,arguments)}}()));q.push(...Ae)}if(h){const Ae=function(){var yt=(0,f.Z)(function*($e,Te){try{return yield $e.decrypt(Te),1}catch{return 0}});return function(Te,vt){return yt.apply(this,arguments)}}(),Ne=(yt,$e)=>yt+$e,Ke=function(){var yt=(0,f.Z)(function*($e,Te,vt,ut){const xt=new Xa(k);return xt.sessionKey=$e,xt.sessionKeyAlgorithm=Te,vt&&(xt.aeadAlgorithm=vt),yield xt.encrypt(ut,k),k.passwordCollisionCheck&&1!==(yield Promise.all(h.map(Ct=>Ae(xt,Ct)))).reduce(Ne)?Ke($e,Te,ut):(delete xt.sessionKey,xt)});return function(Te,vt,ut,xt){return yt.apply(this,arguments)}}(),ct=yield Promise.all(h.map(yt=>Ke(n,le,ie,yt)));q.push(...ct)}return new vi(q)})()}sign(n=[],t=null,s=[],u=new Date,h=[],y=Mt){var m=this;return(0,f.Z)(function*(){const D=new ln,b=m.packets.findPacket(te.packet.literalData);if(!b)throw Error("No literal data packet to sign.");let k,q;const le=null===b.text?te.signature.binary:te.signature.text;if(t)for(q=t.packets.filterByTag(te.packet.signature),k=q.length-1;k>=0;k--){const ie=q[k],Ae=new Ki;Ae.signatureType=ie.signatureType,Ae.hashAlgorithm=ie.hashAlgorithm,Ae.publicKeyAlgorithm=ie.publicKeyAlgorithm,Ae.issuerKeyID=ie.issuerKeyID,n.length||0!==k||(Ae.flags=1),D.push(Ae)}return yield Promise.all(Array.from(n).reverse().map(function(){var ie=(0,f.Z)(function*(Ae,Ne){if(!Ae.isPrivate())throw Error("Need private key for signing");const Ke=s[n.length-1-Ne],ct=yield Ae.getSigningKey(Ke,u,h,y),yt=new Ki;return yt.signatureType=le,yt.hashAlgorithm=yield g0(Ae,ct.keyPacket,u,h,y),yt.publicKeyAlgorithm=ct.keyPacket.algorithm,yt.issuerKeyID=ct.getKeyID(),Ne===n.length-1&&(yt.flags=1),yt});return function(Ae,Ne){return ie.apply(this,arguments)}}())).then(ie=>{ie.forEach(Ae=>D.push(Ae))}),D.push(b),D.push(...yield Ro(b,n,t,s,u,h,!1,y)),new vi(D)})()}compress(n,t=Mt){if(n===te.compression.uncompressed)return this;const s=new Ms(t);s.algorithm=n,s.packets=this.packets;const u=new ln;return u.push(s),new vi(u)}signDetached(n=[],t=null,s=[],u=new Date,h=[],y=Mt){var m=this;return(0,f.Z)(function*(){const D=m.packets.findPacket(te.packet.literalData);if(!D)throw Error("No literal data packet to sign.");return new Ra(yield Ro(D,n,t,s,u,h,!0,y))})()}verify(n,t=new Date,s=Mt){var u=this;return(0,f.Z)(function*(){const h=u.unwrapCompressed(),y=h.packets.filterByTag(te.packet.literalData);if(1!==y.length)throw Error("Can only verify message with one literal data packet.");A(h.packets.stream)&&h.packets.push(...yield et(h.packets.stream,b=>b||[]));const m=h.packets.filterByTag(te.packet.onePassSignature).reverse(),D=h.packets.filterByTag(te.packet.signature);return m.length&&!D.length&&ee.isStream(h.packets.stream)&&!A(h.packets.stream)?(yield Promise.all(m.map(function(){var b=(0,f.Z)(function*(k){k.correspondingSig=new Promise((q,le)=>{k.correspondingSigResolve=q,k.correspondingSigReject=le}),k.signatureData=ue((0,f.Z)(function*(){return(yield k.correspondingSig).signatureData})),k.hashed=et(yield k.hash(k.signatureType,y[0],void 0,!1)),k.hashed.catch(()=>{})});return function(k){return b.apply(this,arguments)}}())),h.packets.stream=Yt(h.packets.stream,function(){var b=(0,f.Z)(function*(k,q){const le=Ve(k),ie=nt(q);try{for(let Ae=0;Ae<m.length;Ae++){const{value:Ne}=yield le.read();m[Ae].correspondingSigResolve(Ne)}yield le.readToEnd(),yield ie.ready,yield ie.close()}catch(Ae){m.forEach(Ne=>{Ne.correspondingSigReject(Ae)}),yield ie.abort(Ae)}});return function(k,q){return b.apply(this,arguments)}}()),m0(m,y,n,t,!1,s)):m0(D,y,n,t,!1,s)})()}verifyDetached(n,t,s=new Date,u=Mt){const h=this.unwrapCompressed().packets.filterByTag(te.packet.literalData);if(1!==h.length)throw Error("Can only verify message with one literal data packet.");return m0(n.packets,h,t,s,!0,u)}unwrapCompressed(){const n=this.packets.filterByTag(te.packet.compressedData);return n.length?new vi(n[0].packets):this}appendSignature(n,t=Mt){var s=this;return(0,f.Z)(function*(){yield s.packets.read(ee.isUint8Array(n)?n:(yield cn(n)).data,Rl,t)})()}write(){return this.packets.write()}armor(n=Mt){return Tn(te.armor.message,this.write(),null,null,null,n)}}function Ro(i,n){return Po.apply(this,arguments)}function Po(){return Po=(0,f.Z)(function*(i,n,t=null,s=[],u=new Date,h=[],y=!1,m=Mt){const D=new ln,b=null===i.text?te.signature.binary:te.signature.text;if(yield Promise.all(n.map(function(){var k=(0,f.Z)(function*(q,le){const ie=h[le];if(!q.isPrivate())throw Error("Need private key for signing");const Ae=yield q.getSigningKey(s[le],u,ie,m);return Qa(i,q,Ae.keyPacket,{signatureType:b},u,ie,y,m)});return function(q,le){return k.apply(this,arguments)}}())).then(k=>{D.push(...k)}),t){const k=t.packets.filterByTag(te.packet.signature);D.push(...k)}return D}),Po.apply(this,arguments)}function m0(i,n,t){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,f.Z)(function*(i,n,t,s=new Date,u=!1,h=Mt){return Promise.all(i.filter(function(y){return["text","binary"].includes(te.read(te.signature,y.signatureType))}).map(function(){var y=(0,f.Z)(function*(m){return(D=(0,f.Z)(function*(b,k,q,le=new Date,ie=!1,Ae=Mt){let Ne,Ke;for(const $e of q){const Te=$e.getKeys(b.issuerKeyID);if(Te.length>0){Ne=$e,Ke=Te[0];break}}const ct=b instanceof Ki?b.correspondingSig:b,yt={keyID:b.issuerKeyID,verified:(0,f.Z)(function*(){if(!Ke)throw Error("Could not find signing key with key ID "+b.issuerKeyID.toHex());yield b.verify(Ke.keyPacket,b.signatureType,k[0],le,ie,Ae);const $e=yield ct;if(Ke.getCreationTime()>$e.created)throw Error("Key is newer than the signature");try{yield Ne.getSigningKey(Ke.getKeyID(),$e.created,void 0,Ae)}catch(Te){if(!Ae.allowInsecureVerificationWithReformattedKeys||!Te.message.match(/Signature creation time is in the future/))throw Te;yield Ne.getSigningKey(Ke.getKeyID(),le,void 0,Ae)}return!0})(),signature:(0,f.Z)(function*(){const $e=yield ct,Te=new ln;return $e&&Te.push($e),new Ra(Te)})()};return yt.signature.catch(()=>{}),yt.verified.catch(()=>{}),yt}),function(b,k,q){return D.apply(this,arguments)})(m,n,t,s,u,h);var D});return function(m){return y.apply(this,arguments)}}()))}),Mo.apply(this,arguments)}function Pl(i){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,f.Z)(function*({armoredMessage:i,binaryMessage:n,config:t,...s}){t={...Mt,...t};let u=i||n;if(!u)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(i&&!ee.isString(i)&&!ee.isStream(i))throw Error("readMessage: options.armoredMessage must be a string or stream");if(n&&!ee.isUint8Array(n)&&!ee.isStream(n))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const h=Object.keys(s);if(h.length>0)throw Error("Unknown option: "+h.join(", "));const y=ee.isStream(u);if(y&&(yield g(),u=re(u)),i){const{type:b,data:k}=yield cn(u,t);if(b!==te.armor.message)throw Error("Armored text not of type message");u=k}const m=yield ln.fromBinary(u,Nl,t),D=new vi(m);return D.fromStream=y,D}),Oo.apply(this,arguments)}function Ml(i){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,f.Z)(function*({text:i,binary:n,filename:t,date:s=new Date,format:u=(void 0!==i?"utf8":"binary"),...h}){let y=void 0!==i?i:n;if(void 0===y)throw Error("createMessage: must pass options object containing `text` or `binary`");if(i&&!ee.isString(i)&&!ee.isStream(i))throw Error("createMessage: options.text must be a string or stream");if(n&&!ee.isUint8Array(n)&&!ee.isStream(n))throw Error("createMessage: options.binary must be a Uint8Array or stream");const m=Object.keys(h);if(m.length>0)throw Error("Unknown option: "+m.join(", "));const D=ee.isStream(y);D&&(yield g(),y=re(y));const b=new wa(s);void 0!==i?b.setText(y,te.write(te.literal,u)):b.setBytes(y,te.write(te.literal,u)),void 0!==t&&b.setFilename(t);const k=new ln;k.push(b);const q=new vi(k);return q.fromStream=D,q}),Lo.apply(this,arguments)}function Ll(i){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,f.Z)(function*({userIDs:i=[],passphrase:n,type:t="ecc",rsaBits:s=4096,curve:u="curve25519",keyExpirationTime:h=0,date:y=new Date,subkeys:m=[{}],format:D="armored",config:b,...k}){ki(b={...Mt,...b}),i=Fn(i);const q=Object.keys(k);if(q.length>0)throw Error("Unknown option: "+q.join(", "));if(0===i.length)throw Error("UserIDs are required for key generation");if("rsa"===t&&s<b.minRSABits)throw Error(`rsaBits should be at least ${b.minRSABits}, got: ${s}`);const le={userIDs:i,passphrase:n,type:t,rsaBits:s,curve:u,keyExpirationTime:h,date:y,subkeys:m};try{const{key:ie,revocationCertificate:Ae}=yield(Ne=(0,f.Z)(function*(Ke,ct){Ke.sign=!0,(Ke=Io(Ke)).subkeys=Ke.subkeys.map((ut,xt)=>Io(Ke.subkeys[xt],Ke));let yt=[Tl(Ke,ct)];yt=yt.concat(Ke.subkeys.map(ut=>hc(ut,ct)));const $e=yield Promise.all(yt),Te=yield Ec($e[0],$e.slice(1),Ke,ct),vt=yield Te.getRevocationCertificate(Ke.date,ct);return Te.revocationSignatures=[],{key:Te,revocationCertificate:vt}}),function(Ke,ct){return Ne.apply(this,arguments)})(le,b);return ie.getKeys().forEach(({keyPacket:Ne})=>Ja(Ne,b)),{privateKey:Ea(ie,D,b),publicKey:Ea(ie.toPublic(),D,b),revocationCertificate:Ae}}catch(ie){throw ee.wrapError("Error generating keypair",ie)}var Ne}),Ko.apply(this,arguments)}function Ul(i){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,f.Z)(function*({privateKey:i,passphrase:n,config:t,...s}){ki(t={...Mt,...t});const u=Object.keys(s);if(u.length>0)throw Error("Unknown option: "+u.join(", "));if(!i.isPrivate())throw Error("Cannot decrypt a public key");const h=i.clone(!0),y=ee.isArray(n)?n:[n];try{return yield Promise.all(h.getKeys().map(m=>ee.anyPromise(y.map(D=>m.keyPacket.decrypt(D))))),yield h.validate(t),h}catch(m){throw h.clearPrivateParams(),ee.wrapError("Error decrypting private key",m)}}),Ho.apply(this,arguments)}function Fl(i){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,f.Z)(function*({message:i,encryptionKeys:n,signingKeys:t,passwords:s,sessionKey:u,format:h="armored",signature:y=null,wildcard:m=!1,signingKeyIDs:D=[],encryptionKeyIDs:b=[],date:k=new Date,signingUserIDs:q=[],encryptionUserIDs:le=[],config:ie,...Ae}){if(ki(ie={...Mt,...ie}),Jo(i),$o(h),n=Fn(n),t=Fn(t),s=Fn(s),D=Fn(D),b=Fn(b),q=Fn(q),le=Fn(le),Ae.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(Ae.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(Ae.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==Ae.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const Ne=Object.keys(Ae);if(Ne.length>0)throw Error("Unknown option: "+Ne.join(", "));t||(t=[]);const Ke=i.fromStream;try{if((t.length||y)&&(i=yield i.sign(t,y,D,k,q,ie)),i=i.compress(yield Eo("compression",n,k,le,ie),ie),i=yield i.encrypt(n,s,u,m,b,k,le,ie),"object"===h)return i;const ct="armored"===h;return v0(ct?i.armor(ie):i.write(),Ke,ct?"utf8":"binary")}catch(ct){throw ee.wrapError("Error encrypting message",ct)}}),Zo.apply(this,arguments)}function Kl(i){return jo.apply(this,arguments)}function jo(){return jo=(0,f.Z)(function*({message:i,decryptionKeys:n,passwords:t,sessionKeys:s,verificationKeys:u,expectSigned:h=!1,format:y="utf8",signature:m=null,date:D=new Date,config:b,...k}){if(ki(b={...Mt,...b}),Jo(i),u=Fn(u),n=Fn(n),t=Fn(t),s=Fn(s),k.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(k.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const q=Object.keys(k);if(q.length>0)throw Error("Unknown option: "+q.join(", "));try{const le=yield i.decrypt(n,t,s,D,b);u||(u=[]);const ie={};if(ie.signatures=m?yield le.verifyDetached(m,u,D,b):yield le.verify(u,D,b),ie.data="binary"===y?le.getLiteralData():le.getText(),ie.filename=le.getFilename(),bc(ie,i),h){if(0===u.length)throw Error("Verification keys are required to verify message signatures");if(0===ie.signatures.length)throw Error("Message is not signed");ie.data=Be([ie.data,ue((0,f.Z)(function*(){yield ee.anyPromise(ie.signatures.map(Ae=>Ae.verified))}))])}return ie.data=yield v0(ie.data,i.fromStream,y),ie}catch(le){throw ee.wrapError("Error decrypting message",le)}}),jo.apply(this,arguments)}function Jo(i){if(!(i instanceof vi))throw Error("Parameter [message] needs to be of type Message")}function $o(i){if("armored"!==i&&"binary"!==i&&"object"!==i)throw Error("Unsupported format "+i)}const Vl=Object.keys(Mt).length;function ki(i){const n=Object.keys(i);if(n.length!==Vl)for(const t of n)if(void 0===Mt[t])throw Error("Unknown config property: "+t)}function Fn(i){return i&&!ee.isArray(i)&&(i=[i]),i}function v0(i,n){return e1.apply(this,arguments)}function e1(){return e1=(0,f.Z)(function*(i,n,t="utf8"){const s=ee.isStream(i);return"array"===s?et(i):"node"===n?(i=E(i),"binary"!==t&&i.setEncoding(t),i):"web"===n&&"ponyfill"===s?ne(i):i}),e1.apply(this,arguments)}function bc(i,n){i.data=Yt(n.packets.stream,function(){var t=(0,f.Z)(function*(s,u){yield it(i.data,u,{preventClose:!0});const h=nt(u);try{yield et(s,y=>y),yield h.close()}catch(y){yield h.abort(y)}});return function(s,u){return t.apply(this,arguments)}}())}function Ea(i,n,t){switch(n){case"object":return i;case"armored":return i.armor(t);case"binary":return i.write();default:throw Error("Unsupported format "+n)}}}}]);